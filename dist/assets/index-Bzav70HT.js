(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();var Dd={exports:{}},pl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var x_;function NS(){if(x_)return pl;x_=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:r,type:s,key:f,ref:o!==void 0?o:null,props:u}}return pl.Fragment=e,pl.jsx=n,pl.jsxs=n,pl}var M_;function OS(){return M_||(M_=1,Dd.exports=NS()),Dd.exports}var k=OS(),Nd={exports:{}},Re={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var V_;function xS(){if(V_)return Re;V_=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),S=Symbol.iterator;function C(D){return D===null||typeof D!="object"?null:(D=S&&D[S]||D["@@iterator"],typeof D=="function"?D:null)}var L={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},z=Object.assign,W={};function F(D,ee,oe){this.props=D,this.context=ee,this.refs=W,this.updater=oe||L}F.prototype.isReactComponent={},F.prototype.setState=function(D,ee){if(typeof D!="object"&&typeof D!="function"&&D!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,D,ee,"setState")},F.prototype.forceUpdate=function(D){this.updater.enqueueForceUpdate(this,D,"forceUpdate")};function $(){}$.prototype=F.prototype;function se(D,ee,oe){this.props=D,this.context=ee,this.refs=W,this.updater=oe||L}var te=se.prototype=new $;te.constructor=se,z(te,F.prototype),te.isPureReactComponent=!0;var fe=Array.isArray,ce={H:null,A:null,T:null,S:null,V:null},we=Object.prototype.hasOwnProperty;function x(D,ee,oe,ie,me,De){return oe=De.ref,{$$typeof:r,type:D,key:ee,ref:oe!==void 0?oe:null,props:De}}function b(D,ee){return x(D.type,ee,void 0,void 0,void 0,D.props)}function w(D){return typeof D=="object"&&D!==null&&D.$$typeof===r}function N(D){var ee={"=":"=0",":":"=2"};return"$"+D.replace(/[=:]/g,function(oe){return ee[oe]})}var M=/\/+/g;function P(D,ee){return typeof D=="object"&&D!==null&&D.key!=null?N(""+D.key):ee.toString(36)}function I(){}function Vt(D){switch(D.status){case"fulfilled":return D.value;case"rejected":throw D.reason;default:switch(typeof D.status=="string"?D.then(I,I):(D.status="pending",D.then(function(ee){D.status==="pending"&&(D.status="fulfilled",D.value=ee)},function(ee){D.status==="pending"&&(D.status="rejected",D.reason=ee)})),D.status){case"fulfilled":return D.value;case"rejected":throw D.reason}}throw D}function st(D,ee,oe,ie,me){var De=typeof D;(De==="undefined"||De==="boolean")&&(D=null);var Ae=!1;if(D===null)Ae=!0;else switch(De){case"bigint":case"string":case"number":Ae=!0;break;case"object":switch(D.$$typeof){case r:case e:Ae=!0;break;case E:return Ae=D._init,st(Ae(D._payload),ee,oe,ie,me)}}if(Ae)return me=me(D),Ae=ie===""?"."+P(D,0):ie,fe(me)?(oe="",Ae!=null&&(oe=Ae.replace(M,"$&/")+"/"),st(me,ee,oe,"",function(Bn){return Bn})):me!=null&&(w(me)&&(me=b(me,oe+(me.key==null||D&&D.key===me.key?"":(""+me.key).replace(M,"$&/")+"/")+Ae)),ee.push(me)),1;Ae=0;var Ct=ie===""?".":ie+":";if(fe(D))for(var Ze=0;Ze<D.length;Ze++)ie=D[Ze],De=Ct+P(ie,Ze),Ae+=st(ie,ee,oe,De,me);else if(Ze=C(D),typeof Ze=="function")for(D=Ze.call(D),Ze=0;!(ie=D.next()).done;)ie=ie.value,De=Ct+P(ie,Ze++),Ae+=st(ie,ee,oe,De,me);else if(De==="object"){if(typeof D.then=="function")return st(Vt(D),ee,oe,ie,me);throw ee=String(D),Error("Objects are not valid as a React child (found: "+(ee==="[object Object]"?"object with keys {"+Object.keys(D).join(", ")+"}":ee)+"). If you meant to render a collection of children, use an array instead.")}return Ae}function K(D,ee,oe){if(D==null)return D;var ie=[],me=0;return st(D,ie,"","",function(De){return ee.call(oe,De,me++)}),ie}function ae(D){if(D._status===-1){var ee=D._result;ee=ee(),ee.then(function(oe){(D._status===0||D._status===-1)&&(D._status=1,D._result=oe)},function(oe){(D._status===0||D._status===-1)&&(D._status=2,D._result=oe)}),D._status===-1&&(D._status=0,D._result=ee)}if(D._status===1)return D._result.default;throw D._result}var de=typeof reportError=="function"?reportError:function(D){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ee=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof D=="object"&&D!==null&&typeof D.message=="string"?String(D.message):String(D),error:D});if(!window.dispatchEvent(ee))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",D);return}console.error(D)};function je(){}return Re.Children={map:K,forEach:function(D,ee,oe){K(D,function(){ee.apply(this,arguments)},oe)},count:function(D){var ee=0;return K(D,function(){ee++}),ee},toArray:function(D){return K(D,function(ee){return ee})||[]},only:function(D){if(!w(D))throw Error("React.Children.only expected to receive a single React element child.");return D}},Re.Component=F,Re.Fragment=n,Re.Profiler=o,Re.PureComponent=se,Re.StrictMode=s,Re.Suspense=p,Re.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ce,Re.__COMPILER_RUNTIME={__proto__:null,c:function(D){return ce.H.useMemoCache(D)}},Re.cache=function(D){return function(){return D.apply(null,arguments)}},Re.cloneElement=function(D,ee,oe){if(D==null)throw Error("The argument must be a React element, but you passed "+D+".");var ie=z({},D.props),me=D.key,De=void 0;if(ee!=null)for(Ae in ee.ref!==void 0&&(De=void 0),ee.key!==void 0&&(me=""+ee.key),ee)!we.call(ee,Ae)||Ae==="key"||Ae==="__self"||Ae==="__source"||Ae==="ref"&&ee.ref===void 0||(ie[Ae]=ee[Ae]);var Ae=arguments.length-2;if(Ae===1)ie.children=oe;else if(1<Ae){for(var Ct=Array(Ae),Ze=0;Ze<Ae;Ze++)Ct[Ze]=arguments[Ze+2];ie.children=Ct}return x(D.type,me,void 0,void 0,De,ie)},Re.createContext=function(D){return D={$$typeof:f,_currentValue:D,_currentValue2:D,_threadCount:0,Provider:null,Consumer:null},D.Provider=D,D.Consumer={$$typeof:u,_context:D},D},Re.createElement=function(D,ee,oe){var ie,me={},De=null;if(ee!=null)for(ie in ee.key!==void 0&&(De=""+ee.key),ee)we.call(ee,ie)&&ie!=="key"&&ie!=="__self"&&ie!=="__source"&&(me[ie]=ee[ie]);var Ae=arguments.length-2;if(Ae===1)me.children=oe;else if(1<Ae){for(var Ct=Array(Ae),Ze=0;Ze<Ae;Ze++)Ct[Ze]=arguments[Ze+2];me.children=Ct}if(D&&D.defaultProps)for(ie in Ae=D.defaultProps,Ae)me[ie]===void 0&&(me[ie]=Ae[ie]);return x(D,De,void 0,void 0,null,me)},Re.createRef=function(){return{current:null}},Re.forwardRef=function(D){return{$$typeof:m,render:D}},Re.isValidElement=w,Re.lazy=function(D){return{$$typeof:E,_payload:{_status:-1,_result:D},_init:ae}},Re.memo=function(D,ee){return{$$typeof:y,type:D,compare:ee===void 0?null:ee}},Re.startTransition=function(D){var ee=ce.T,oe={};ce.T=oe;try{var ie=D(),me=ce.S;me!==null&&me(oe,ie),typeof ie=="object"&&ie!==null&&typeof ie.then=="function"&&ie.then(je,de)}catch(De){de(De)}finally{ce.T=ee}},Re.unstable_useCacheRefresh=function(){return ce.H.useCacheRefresh()},Re.use=function(D){return ce.H.use(D)},Re.useActionState=function(D,ee,oe){return ce.H.useActionState(D,ee,oe)},Re.useCallback=function(D,ee){return ce.H.useCallback(D,ee)},Re.useContext=function(D){return ce.H.useContext(D)},Re.useDebugValue=function(){},Re.useDeferredValue=function(D,ee){return ce.H.useDeferredValue(D,ee)},Re.useEffect=function(D,ee,oe){var ie=ce.H;if(typeof oe=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return ie.useEffect(D,ee)},Re.useId=function(){return ce.H.useId()},Re.useImperativeHandle=function(D,ee,oe){return ce.H.useImperativeHandle(D,ee,oe)},Re.useInsertionEffect=function(D,ee){return ce.H.useInsertionEffect(D,ee)},Re.useLayoutEffect=function(D,ee){return ce.H.useLayoutEffect(D,ee)},Re.useMemo=function(D,ee){return ce.H.useMemo(D,ee)},Re.useOptimistic=function(D,ee){return ce.H.useOptimistic(D,ee)},Re.useReducer=function(D,ee,oe){return ce.H.useReducer(D,ee,oe)},Re.useRef=function(D){return ce.H.useRef(D)},Re.useState=function(D){return ce.H.useState(D)},Re.useSyncExternalStore=function(D,ee,oe){return ce.H.useSyncExternalStore(D,ee,oe)},Re.useTransition=function(){return ce.H.useTransition()},Re.version="19.1.0",Re}var k_;function Tm(){return k_||(k_=1,Nd.exports=xS()),Nd.exports}var Q=Tm(),Od={exports:{}},gl={},xd={exports:{}},Md={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var P_;function MS(){return P_||(P_=1,function(r){function e(K,ae){var de=K.length;K.push(ae);e:for(;0<de;){var je=de-1>>>1,D=K[je];if(0<o(D,ae))K[je]=ae,K[de]=D,de=je;else break e}}function n(K){return K.length===0?null:K[0]}function s(K){if(K.length===0)return null;var ae=K[0],de=K.pop();if(de!==ae){K[0]=de;e:for(var je=0,D=K.length,ee=D>>>1;je<ee;){var oe=2*(je+1)-1,ie=K[oe],me=oe+1,De=K[me];if(0>o(ie,de))me<D&&0>o(De,ie)?(K[je]=De,K[me]=de,je=me):(K[je]=ie,K[oe]=de,je=oe);else if(me<D&&0>o(De,de))K[je]=De,K[me]=de,je=me;else break e}}return ae}function o(K,ae){var de=K.sortIndex-ae.sortIndex;return de!==0?de:K.id-ae.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var f=Date,m=f.now();r.unstable_now=function(){return f.now()-m}}var p=[],y=[],E=1,S=null,C=3,L=!1,z=!1,W=!1,F=!1,$=typeof setTimeout=="function"?setTimeout:null,se=typeof clearTimeout=="function"?clearTimeout:null,te=typeof setImmediate<"u"?setImmediate:null;function fe(K){for(var ae=n(y);ae!==null;){if(ae.callback===null)s(y);else if(ae.startTime<=K)s(y),ae.sortIndex=ae.expirationTime,e(p,ae);else break;ae=n(y)}}function ce(K){if(W=!1,fe(K),!z)if(n(p)!==null)z=!0,we||(we=!0,P());else{var ae=n(y);ae!==null&&st(ce,ae.startTime-K)}}var we=!1,x=-1,b=5,w=-1;function N(){return F?!0:!(r.unstable_now()-w<b)}function M(){if(F=!1,we){var K=r.unstable_now();w=K;var ae=!0;try{e:{z=!1,W&&(W=!1,se(x),x=-1),L=!0;var de=C;try{t:{for(fe(K),S=n(p);S!==null&&!(S.expirationTime>K&&N());){var je=S.callback;if(typeof je=="function"){S.callback=null,C=S.priorityLevel;var D=je(S.expirationTime<=K);if(K=r.unstable_now(),typeof D=="function"){S.callback=D,fe(K),ae=!0;break t}S===n(p)&&s(p),fe(K)}else s(p);S=n(p)}if(S!==null)ae=!0;else{var ee=n(y);ee!==null&&st(ce,ee.startTime-K),ae=!1}}break e}finally{S=null,C=de,L=!1}ae=void 0}}finally{ae?P():we=!1}}}var P;if(typeof te=="function")P=function(){te(M)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,Vt=I.port2;I.port1.onmessage=M,P=function(){Vt.postMessage(null)}}else P=function(){$(M,0)};function st(K,ae){x=$(function(){K(r.unstable_now())},ae)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(K){K.callback=null},r.unstable_forceFrameRate=function(K){0>K||125<K?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<K?Math.floor(1e3/K):5},r.unstable_getCurrentPriorityLevel=function(){return C},r.unstable_next=function(K){switch(C){case 1:case 2:case 3:var ae=3;break;default:ae=C}var de=C;C=ae;try{return K()}finally{C=de}},r.unstable_requestPaint=function(){F=!0},r.unstable_runWithPriority=function(K,ae){switch(K){case 1:case 2:case 3:case 4:case 5:break;default:K=3}var de=C;C=K;try{return ae()}finally{C=de}},r.unstable_scheduleCallback=function(K,ae,de){var je=r.unstable_now();switch(typeof de=="object"&&de!==null?(de=de.delay,de=typeof de=="number"&&0<de?je+de:je):de=je,K){case 1:var D=-1;break;case 2:D=250;break;case 5:D=1073741823;break;case 4:D=1e4;break;default:D=5e3}return D=de+D,K={id:E++,callback:ae,priorityLevel:K,startTime:de,expirationTime:D,sortIndex:-1},de>je?(K.sortIndex=de,e(y,K),n(p)===null&&K===n(y)&&(W?(se(x),x=-1):W=!0,st(ce,de-je))):(K.sortIndex=D,e(p,K),z||L||(z=!0,we||(we=!0,P()))),K},r.unstable_shouldYield=N,r.unstable_wrapCallback=function(K){var ae=C;return function(){var de=C;C=ae;try{return K.apply(this,arguments)}finally{C=de}}}}(Md)),Md}var L_;function VS(){return L_||(L_=1,xd.exports=MS()),xd.exports}var Vd={exports:{}},Gt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var U_;function kS(){if(U_)return Gt;U_=1;var r=Tm();function e(p){var y="https://react.dev/errors/"+p;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)y+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+p+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,y,E){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:S==null?null:""+S,children:p,containerInfo:y,implementation:E}}var f=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,y){if(p==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return Gt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Gt.createPortal=function(p,y){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(e(299));return u(p,y,null,E)},Gt.flushSync=function(p){var y=f.T,E=s.p;try{if(f.T=null,s.p=2,p)return p()}finally{f.T=y,s.p=E,s.d.f()}},Gt.preconnect=function(p,y){typeof p=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,s.d.C(p,y))},Gt.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},Gt.preinit=function(p,y){if(typeof p=="string"&&y&&typeof y.as=="string"){var E=y.as,S=m(E,y.crossOrigin),C=typeof y.integrity=="string"?y.integrity:void 0,L=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;E==="style"?s.d.S(p,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:S,integrity:C,fetchPriority:L}):E==="script"&&s.d.X(p,{crossOrigin:S,integrity:C,fetchPriority:L,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},Gt.preinitModule=function(p,y){if(typeof p=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var E=m(y.as,y.crossOrigin);s.d.M(p,{crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&s.d.M(p)},Gt.preload=function(p,y){if(typeof p=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var E=y.as,S=m(E,y.crossOrigin);s.d.L(p,E,{crossOrigin:S,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},Gt.preloadModule=function(p,y){if(typeof p=="string")if(y){var E=m(y.as,y.crossOrigin);s.d.m(p,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else s.d.m(p)},Gt.requestFormReset=function(p){s.d.r(p)},Gt.unstable_batchedUpdates=function(p,y){return p(y)},Gt.useFormState=function(p,y,E){return f.H.useFormState(p,y,E)},Gt.useFormStatus=function(){return f.H.useHostTransitionStatus()},Gt.version="19.1.0",Gt}var z_;function PS(){if(z_)return Vd.exports;z_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Vd.exports=kS(),Vd.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var j_;function LS(){if(j_)return gl;j_=1;var r=VS(),e=Tm(),n=PS();function s(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var i=t,a=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(a=i.return),t=i.return;while(t)}return i.tag===3?a:null}function f(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function m(t){if(u(t)!==t)throw Error(s(188))}function p(t){var i=t.alternate;if(!i){if(i=u(t),i===null)throw Error(s(188));return i!==t?null:t}for(var a=t,l=i;;){var h=a.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===a)return m(h),t;if(d===l)return m(h),i;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=h,l=d;else{for(var v=!1,T=h.child;T;){if(T===a){v=!0,a=h,l=d;break}if(T===l){v=!0,l=h,a=d;break}T=T.sibling}if(!v){for(T=d.child;T;){if(T===a){v=!0,a=d,l=h;break}if(T===l){v=!0,l=d,a=h;break}T=T.sibling}if(!v)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:i}function y(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=y(t),i!==null)return i;t=t.sibling}return null}var E=Object.assign,S=Symbol.for("react.element"),C=Symbol.for("react.transitional.element"),L=Symbol.for("react.portal"),z=Symbol.for("react.fragment"),W=Symbol.for("react.strict_mode"),F=Symbol.for("react.profiler"),$=Symbol.for("react.provider"),se=Symbol.for("react.consumer"),te=Symbol.for("react.context"),fe=Symbol.for("react.forward_ref"),ce=Symbol.for("react.suspense"),we=Symbol.for("react.suspense_list"),x=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),w=Symbol.for("react.activity"),N=Symbol.for("react.memo_cache_sentinel"),M=Symbol.iterator;function P(t){return t===null||typeof t!="object"?null:(t=M&&t[M]||t["@@iterator"],typeof t=="function"?t:null)}var I=Symbol.for("react.client.reference");function Vt(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===I?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case z:return"Fragment";case F:return"Profiler";case W:return"StrictMode";case ce:return"Suspense";case we:return"SuspenseList";case w:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case L:return"Portal";case te:return(t.displayName||"Context")+".Provider";case se:return(t._context.displayName||"Context")+".Consumer";case fe:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case x:return i=t.displayName||null,i!==null?i:Vt(t.type)||"Memo";case b:i=t._payload,t=t._init;try{return Vt(t(i))}catch{}}return null}var st=Array.isArray,K=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ae=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,de={pending:!1,data:null,method:null,action:null},je=[],D=-1;function ee(t){return{current:t}}function oe(t){0>D||(t.current=je[D],je[D]=null,D--)}function ie(t,i){D++,je[D]=t.current,t.current=i}var me=ee(null),De=ee(null),Ae=ee(null),Ct=ee(null);function Ze(t,i){switch(ie(Ae,i),ie(De,t),ie(me,null),i.nodeType){case 9:case 11:t=(t=i.documentElement)&&(t=t.namespaceURI)?a_(t):0;break;default:if(t=i.tagName,i=i.namespaceURI)i=a_(i),t=o_(i,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}oe(me),ie(me,t)}function Bn(){oe(me),oe(De),oe(Ae)}function Zi(t){t.memoizedState!==null&&ie(Ct,t);var i=me.current,a=o_(i,t.type);i!==a&&(ie(De,t),ie(me,a))}function mi(t){De.current===t&&(oe(me),oe(De)),Ct.current===t&&(oe(Ct),cl._currentValue=de)}var Kr=Object.prototype.hasOwnProperty,Yr=r.unstable_scheduleCallback,Xr=r.unstable_cancelCallback,ao=r.unstable_shouldYield,tu=r.unstable_requestPaint,pn=r.unstable_now,Ih=r.unstable_getCurrentPriorityLevel,oo=r.unstable_ImmediatePriority,qs=r.unstable_UserBlockingPriority,$r=r.unstable_NormalPriority,Dh=r.unstable_LowPriority,Fs=r.unstable_IdlePriority,lo=r.log,nu=r.unstable_setDisableYieldValue,at=null,Fe=null;function sn(t){if(typeof lo=="function"&&nu(t),Fe&&typeof Fe.setStrictMode=="function")try{Fe.setStrictMode(at,t)}catch{}}var qt=Math.clz32?Math.clz32:Wr,iu=Math.log,Nh=Math.LN2;function Wr(t){return t>>>=0,t===0?32:31-(iu(t)/Nh|0)|0}var Zr=256,Jr=4194304;function xn(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Gs(t,i,a){var l=t.pendingLanes;if(l===0)return 0;var h=0,d=t.suspendedLanes,v=t.pingedLanes;t=t.warmLanes;var T=l&134217727;return T!==0?(l=T&~d,l!==0?h=xn(l):(v&=T,v!==0?h=xn(v):a||(a=T&~t,a!==0&&(h=xn(a))))):(T=l&~d,T!==0?h=xn(T):v!==0?h=xn(v):a||(a=l&~t,a!==0&&(h=xn(a)))),h===0?0:i!==0&&i!==h&&(i&d)===0&&(d=h&-h,a=i&-i,d>=a||d===32&&(a&4194048)!==0)?i:h}function es(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function uo(t,i){switch(t){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function co(){var t=Zr;return Zr<<=1,(Zr&4194048)===0&&(Zr=256),t}function ho(){var t=Jr;return Jr<<=1,(Jr&62914560)===0&&(Jr=4194304),t}function pi(t){for(var i=[],a=0;31>a;a++)i.push(t);return i}function gi(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function fo(t,i,a,l,h,d){var v=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var T=t.entanglements,R=t.expirationTimes,B=t.hiddenUpdates;for(a=v&~a;0<a;){var Y=31-qt(a),Z=1<<Y;T[Y]=0,R[Y]=-1;var H=B[Y];if(H!==null)for(B[Y]=null,Y=0;Y<H.length;Y++){var q=H[Y];q!==null&&(q.lane&=-536870913)}a&=~Z}l!==0&&Hn(t,l,0),d!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=d&~(v&~i))}function Hn(t,i,a){t.pendingLanes|=i,t.suspendedLanes&=~i;var l=31-qt(i);t.entangledLanes|=i,t.entanglements[l]=t.entanglements[l]|1073741824|a&4194090}function mo(t,i){var a=t.entangledLanes|=i;for(t=t.entanglements;a;){var l=31-qt(a),h=1<<l;h&i|t[l]&i&&(t[l]|=i),a&=~h}}function Ji(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Qs(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function er(){var t=ae.p;return t!==0?t:(t=window.event,t===void 0?32:R_(t.type))}function ru(t,i){var a=ae.p;try{return ae.p=t,i()}finally{ae.p=a}}var et=Math.random().toString(36).slice(2),vt="__reactFiber$"+et,mt="__reactProps$"+et,gn="__reactContainer$"+et,po="__reactEvents$"+et,Oh="__reactListeners$"+et,tr="__reactHandles$"+et,su="__reactResources$"+et,ts="__reactMarker$"+et;function nr(t){delete t[vt],delete t[mt],delete t[po],delete t[Oh],delete t[tr]}function yi(t){var i=t[vt];if(i)return i;for(var a=t.parentNode;a;){if(i=a[gn]||a[vt]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(t=h_(t);t!==null;){if(a=t[vt])return a;t=h_(t)}return i}t=a,a=t.parentNode}return null}function qn(t){if(t=t[vt]||t[gn]){var i=t.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return t}return null}function Fn(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(s(33))}function $t(t){var i=t[su];return i||(i=t[su]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function ct(t){t[ts]=!0}var go=new Set,Ks={};function Mn(t,i){_i(t,i),_i(t+"Capture",i)}function _i(t,i){for(Ks[t]=i,t=0;t<i.length;t++)go.add(i[t])}var au=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ou={},ns={};function lu(t){return Kr.call(ns,t)?!0:Kr.call(ou,t)?!1:au.test(t)?ns[t]=!0:(ou[t]=!0,!1)}function ir(t,i,a){if(lu(i))if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+a)}}function Gn(t,i,a){if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+a)}}function kt(t,i,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(i,a,""+l)}}var is,uu;function vi(t){if(is===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);is=i&&i[1]||"",uu=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+is+t+uu}var Ys=!1;function Xs(t,i){if(!t||Ys)return"";Ys=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var Z=function(){throw Error()};if(Object.defineProperty(Z.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Z,[])}catch(q){var H=q}Reflect.construct(t,[],Z)}else{try{Z.call()}catch(q){H=q}t.call(Z.prototype)}}else{try{throw Error()}catch(q){H=q}(Z=t())&&typeof Z.catch=="function"&&Z.catch(function(){})}}catch(q){if(q&&H&&typeof q.stack=="string")return[q.stack,H.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),v=d[0],T=d[1];if(v&&T){var R=v.split(`
`),B=T.split(`
`);for(h=l=0;l<R.length&&!R[l].includes("DetermineComponentFrameRoot");)l++;for(;h<B.length&&!B[h].includes("DetermineComponentFrameRoot");)h++;if(l===R.length||h===B.length)for(l=R.length-1,h=B.length-1;1<=l&&0<=h&&R[l]!==B[h];)h--;for(;1<=l&&0<=h;l--,h--)if(R[l]!==B[h]){if(l!==1||h!==1)do if(l--,h--,0>h||R[l]!==B[h]){var Y=`
`+R[l].replace(" at new "," at ");return t.displayName&&Y.includes("<anonymous>")&&(Y=Y.replace("<anonymous>",t.displayName)),Y}while(1<=l&&0<=h);break}}}finally{Ys=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?vi(a):""}function yo(t){switch(t.tag){case 26:case 27:case 5:return vi(t.type);case 16:return vi("Lazy");case 13:return vi("Suspense");case 19:return vi("SuspenseList");case 0:case 15:return Xs(t.type,!1);case 11:return Xs(t.type.render,!1);case 1:return Xs(t.type,!0);case 31:return vi("Activity");default:return""}}function $s(t){try{var i="";do i+=yo(t),t=t.return;while(t);return i}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function Wt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function _o(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function xh(t){var i=_o(t)?"checked":"value",a=Object.getOwnPropertyDescriptor(t.constructor.prototype,i),l=""+t[i];if(!t.hasOwnProperty(i)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var h=a.get,d=a.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return h.call(this)},set:function(v){l=""+v,d.call(this,v)}}),Object.defineProperty(t,i,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(v){l=""+v},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function Ws(t){t._valueTracker||(t._valueTracker=xh(t))}function vo(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var a=i.getValue(),l="";return t&&(l=_o(t)?t.checked?"true":"false":t.value),t=l,t!==a?(i.setValue(t),!0):!1}function rs(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Mh=/[\n"\\]/g;function pt(t){return t.replace(Mh,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function an(t,i,a,l,h,d,v,T){t.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?t.type=v:t.removeAttribute("type"),i!=null?v==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+Wt(i)):t.value!==""+Wt(i)&&(t.value=""+Wt(i)):v!=="submit"&&v!=="reset"||t.removeAttribute("value"),i!=null?rr(t,v,Wt(i)):a!=null?rr(t,v,Wt(a)):l!=null&&t.removeAttribute("value"),h==null&&d!=null&&(t.defaultChecked=!!d),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?t.name=""+Wt(T):t.removeAttribute("name")}function ss(t,i,a,l,h,d,v,T){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),i!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||i!=null))return;a=a!=null?""+Wt(a):"",i=i!=null?""+Wt(i):a,T||i===t.value||(t.value=i),t.defaultValue=i}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=T?t.checked:!!l,t.defaultChecked=!!l,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(t.name=v)}function rr(t,i,a){i==="number"&&rs(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function Ei(t,i,a,l){if(t=t.options,i){i={};for(var h=0;h<a.length;h++)i["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=i.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&l&&(t[a].defaultSelected=!0)}else{for(a=""+Wt(a),i=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}i!==null||t[h].disabled||(i=t[h])}i!==null&&(i.selected=!0)}}function Ke(t,i,a){if(i!=null&&(i=""+Wt(i),i!==t.value&&(t.value=i),a==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=a!=null?""+Wt(a):""}function as(t,i,a,l){if(i==null){if(l!=null){if(a!=null)throw Error(s(92));if(st(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),i=a}a=Wt(i),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l)}function yn(t,i){if(i){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=i;return}}t.textContent=i}var os=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function cu(t,i,a){var l=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":l?t.setProperty(i,a):typeof a!="number"||a===0||os.has(i)?i==="float"?t.cssFloat=a:t[i]=(""+a).trim():t[i]=a+"px"}function Eo(t,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in i)l=i[h],i.hasOwnProperty(h)&&a[h]!==l&&cu(t,h,l)}else for(var d in i)i.hasOwnProperty(d)&&cu(t,d,i[d])}function To(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Vh=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),kh=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Zs(t){return kh.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var Ti=null;function _n(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ai=null,Si=null;function Ao(t){var i=qn(t);if(i&&(t=i.stateNode)){var a=t[mt]||null;e:switch(t=i.stateNode,i.type){case"input":if(an(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+pt(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var l=a[i];if(l!==t&&l.form===t.form){var h=l[mt]||null;if(!h)throw Error(s(90));an(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<a.length;i++)l=a[i],l.form===t.form&&vo(l)}break e;case"textarea":Ke(t,a.value,a.defaultValue);break e;case"select":i=a.value,i!=null&&Ei(t,!!a.multiple,i,!1)}}}var Qn=!1;function hu(t,i,a){if(Qn)return t(i,a);Qn=!0;try{var l=t(i);return l}finally{if(Qn=!1,(Ai!==null||Si!==null)&&(rc(),Ai&&(i=Ai,t=Si,Si=Ai=null,Ao(i),t)))for(i=0;i<t.length;i++)Ao(t[i])}}function ls(t,i){var a=t.stateNode;if(a===null)return null;var l=a[mt]||null;if(l===null)return null;a=l[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var Vn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),vn=!1;if(Vn)try{var us={};Object.defineProperty(us,"passive",{get:function(){vn=!0}}),window.addEventListener("test",us,us),window.removeEventListener("test",us,us)}catch{vn=!1}var Kn=null,sr=null,bi=null;function So(){if(bi)return bi;var t,i=sr,a=i.length,l,h="value"in Kn?Kn.value:Kn.textContent,d=h.length;for(t=0;t<a&&i[t]===h[t];t++);var v=a-t;for(l=1;l<=v&&i[a-l]===h[d-l];l++);return bi=h.slice(t,1<l?1-l:void 0)}function Yn(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function Xn(){return!0}function bo(){return!1}function It(t){function i(a,l,h,d,v){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=v,this.currentTarget=null;for(var T in t)t.hasOwnProperty(T)&&(a=t[T],this[T]=a?a(d):d[T]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Xn:bo,this.isPropagationStopped=bo,this}return E(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Xn)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Xn)},persist:function(){},isPersistent:Xn}),i}var He={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Js=It(He),cs=E({},He,{view:0,detail:0}),fu=It(cs),ea,ta,$n,hs=E({},cs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ms,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==$n&&($n&&t.type==="mousemove"?(ea=t.screenX-$n.screenX,ta=t.screenY-$n.screenY):ta=ea=0,$n=t),ea)},movementY:function(t){return"movementY"in t?t.movementY:ta}}),En=It(hs),du=E({},hs,{dataTransfer:0}),Ph=It(du),fs=E({},cs,{relatedTarget:0}),na=It(fs),wo=E({},He,{animationName:0,elapsedTime:0,pseudoElement:0}),ia=It(wo),mu=E({},He,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),ra=It(mu),Lh=E({},He,{data:0}),Ro=It(Lh),ds={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},pu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},gu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Co(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=gu[t])?!!i[t]:!1}function ms(){return Co}var yu=E({},cs,{key:function(t){if(t.key){var i=ds[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=Yn(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?pu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ms,charCode:function(t){return t.type==="keypress"?Yn(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Yn(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),sa=It(yu),_u=E({},hs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Io=It(_u),wi=E({},cs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ms}),vu=It(wi),Eu=E({},He,{propertyName:0,elapsedTime:0,pseudoElement:0}),Tu=It(Eu),Au=E({},hs,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),aa=It(Au),Zt=E({},He,{newState:0,oldState:0}),Su=It(Zt),bu=[9,13,27,32],Wn=Vn&&"CompositionEvent"in window,c=null;Vn&&"documentMode"in document&&(c=document.documentMode);var g=Vn&&"TextEvent"in window&&!c,_=Vn&&(!Wn||c&&8<c&&11>=c),A=" ",U=!1;function G(t,i){switch(t){case"keyup":return bu.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function re(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ke=!1;function Et(t,i){switch(t){case"compositionend":return re(i);case"keypress":return i.which!==32?null:(U=!0,A);case"textInput":return t=i.data,t===A&&U?null:t;default:return null}}function Pe(t,i){if(ke)return t==="compositionend"||!Wn&&G(t,i)?(t=So(),bi=sr=Kn=null,ke=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return _&&i.locale!=="ko"?null:i.data;default:return null}}var Dt={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Tt(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!Dt[t.type]:i==="textarea"}function Ri(t,i,a,l){Ai?Si?Si.push(l):Si=[l]:Ai=l,i=cc(i,"onChange"),0<i.length&&(a=new Js("onChange","change",null,a,l),t.push({event:a,listeners:i}))}var Pt=null,Zn=null;function Do(t){t_(t,0)}function wu(t){var i=Fn(t);if(vo(i))return t}function Ap(t,i){if(t==="change")return i}var Sp=!1;if(Vn){var Uh;if(Vn){var zh="oninput"in document;if(!zh){var bp=document.createElement("div");bp.setAttribute("oninput","return;"),zh=typeof bp.oninput=="function"}Uh=zh}else Uh=!1;Sp=Uh&&(!document.documentMode||9<document.documentMode)}function wp(){Pt&&(Pt.detachEvent("onpropertychange",Rp),Zn=Pt=null)}function Rp(t){if(t.propertyName==="value"&&wu(Zn)){var i=[];Ri(i,Zn,t,_n(t)),hu(Do,i)}}function aA(t,i,a){t==="focusin"?(wp(),Pt=i,Zn=a,Pt.attachEvent("onpropertychange",Rp)):t==="focusout"&&wp()}function oA(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return wu(Zn)}function lA(t,i){if(t==="click")return wu(i)}function uA(t,i){if(t==="input"||t==="change")return wu(i)}function cA(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var on=typeof Object.is=="function"?Object.is:cA;function No(t,i){if(on(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var a=Object.keys(t),l=Object.keys(i);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!Kr.call(i,h)||!on(t[h],i[h]))return!1}return!0}function Cp(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Ip(t,i){var a=Cp(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=i&&l>=i)return{node:a,offset:i-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Cp(a)}}function Dp(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?Dp(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function Np(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=rs(t.document);i instanceof t.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)t=i.contentWindow;else break;i=rs(t.document)}return i}function jh(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}var hA=Vn&&"documentMode"in document&&11>=document.documentMode,oa=null,Bh=null,Oo=null,Hh=!1;function Op(t,i,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Hh||oa==null||oa!==rs(l)||(l=oa,"selectionStart"in l&&jh(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Oo&&No(Oo,l)||(Oo=l,l=cc(Bh,"onSelect"),0<l.length&&(i=new Js("onSelect","select",null,i,a),t.push({event:i,listeners:l}),i.target=oa)))}function ps(t,i){var a={};return a[t.toLowerCase()]=i.toLowerCase(),a["Webkit"+t]="webkit"+i,a["Moz"+t]="moz"+i,a}var la={animationend:ps("Animation","AnimationEnd"),animationiteration:ps("Animation","AnimationIteration"),animationstart:ps("Animation","AnimationStart"),transitionrun:ps("Transition","TransitionRun"),transitionstart:ps("Transition","TransitionStart"),transitioncancel:ps("Transition","TransitionCancel"),transitionend:ps("Transition","TransitionEnd")},qh={},xp={};Vn&&(xp=document.createElement("div").style,"AnimationEvent"in window||(delete la.animationend.animation,delete la.animationiteration.animation,delete la.animationstart.animation),"TransitionEvent"in window||delete la.transitionend.transition);function gs(t){if(qh[t])return qh[t];if(!la[t])return t;var i=la[t],a;for(a in i)if(i.hasOwnProperty(a)&&a in xp)return qh[t]=i[a];return t}var Mp=gs("animationend"),Vp=gs("animationiteration"),kp=gs("animationstart"),fA=gs("transitionrun"),dA=gs("transitionstart"),mA=gs("transitioncancel"),Pp=gs("transitionend"),Lp=new Map,Fh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Fh.push("scrollEnd");function kn(t,i){Lp.set(t,i),Mn(i,[t])}var Up=new WeakMap;function Tn(t,i){if(typeof t=="object"&&t!==null){var a=Up.get(t);return a!==void 0?a:(i={value:t,source:i,stack:$s(i)},Up.set(t,i),i)}return{value:t,source:i,stack:$s(i)}}var An=[],ua=0,Gh=0;function Ru(){for(var t=ua,i=Gh=ua=0;i<t;){var a=An[i];An[i++]=null;var l=An[i];An[i++]=null;var h=An[i];An[i++]=null;var d=An[i];if(An[i++]=null,l!==null&&h!==null){var v=l.pending;v===null?h.next=h:(h.next=v.next,v.next=h),l.pending=h}d!==0&&zp(a,h,d)}}function Cu(t,i,a,l){An[ua++]=t,An[ua++]=i,An[ua++]=a,An[ua++]=l,Gh|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Qh(t,i,a,l){return Cu(t,i,a,l),Iu(t)}function ca(t,i){return Cu(t,null,null,i),Iu(t)}function zp(t,i,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var h=!1,d=t.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(h=!0)),t=d,d=d.return;return t.tag===3?(d=t.stateNode,h&&i!==null&&(h=31-qt(a),t=d.hiddenUpdates,l=t[h],l===null?t[h]=[i]:l.push(i),i.lane=a|536870912),d):null}function Iu(t){if(50<nl)throw nl=0,Jf=null,Error(s(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var ha={};function pA(t,i,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ln(t,i,a,l){return new pA(t,i,a,l)}function Kh(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Ci(t,i){var a=t.alternate;return a===null?(a=ln(t.tag,i,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=i,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,i=t.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function jp(t,i){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,i=a.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function Du(t,i,a,l,h,d){var v=0;if(l=t,typeof t=="function")Kh(t)&&(v=1);else if(typeof t=="string")v=yS(t,a,me.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case w:return t=ln(31,a,i,h),t.elementType=w,t.lanes=d,t;case z:return ys(a.children,h,d,i);case W:v=8,h|=24;break;case F:return t=ln(12,a,i,h|2),t.elementType=F,t.lanes=d,t;case ce:return t=ln(13,a,i,h),t.elementType=ce,t.lanes=d,t;case we:return t=ln(19,a,i,h),t.elementType=we,t.lanes=d,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case $:case te:v=10;break e;case se:v=9;break e;case fe:v=11;break e;case x:v=14;break e;case b:v=16,l=null;break e}v=29,a=Error(s(130,t===null?"null":typeof t,"")),l=null}return i=ln(v,a,i,h),i.elementType=t,i.type=l,i.lanes=d,i}function ys(t,i,a,l){return t=ln(7,t,l,i),t.lanes=a,t}function Yh(t,i,a){return t=ln(6,t,null,i),t.lanes=a,t}function Xh(t,i,a){return i=ln(4,t.children!==null?t.children:[],t.key,i),i.lanes=a,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}var fa=[],da=0,Nu=null,Ou=0,Sn=[],bn=0,_s=null,Ii=1,Di="";function vs(t,i){fa[da++]=Ou,fa[da++]=Nu,Nu=t,Ou=i}function Bp(t,i,a){Sn[bn++]=Ii,Sn[bn++]=Di,Sn[bn++]=_s,_s=t;var l=Ii;t=Di;var h=32-qt(l)-1;l&=~(1<<h),a+=1;var d=32-qt(i)+h;if(30<d){var v=h-h%5;d=(l&(1<<v)-1).toString(32),l>>=v,h-=v,Ii=1<<32-qt(i)+h|a<<h|l,Di=d+t}else Ii=1<<d|a<<h|l,Di=t}function $h(t){t.return!==null&&(vs(t,1),Bp(t,1,0))}function Wh(t){for(;t===Nu;)Nu=fa[--da],fa[da]=null,Ou=fa[--da],fa[da]=null;for(;t===_s;)_s=Sn[--bn],Sn[bn]=null,Di=Sn[--bn],Sn[bn]=null,Ii=Sn[--bn],Sn[bn]=null}var Jt=null,ot=null,Be=!1,Es=null,Jn=!1,Zh=Error(s(519));function Ts(t){var i=Error(s(418,""));throw Vo(Tn(i,t)),Zh}function Hp(t){var i=t.stateNode,a=t.type,l=t.memoizedProps;switch(i[vt]=t,i[mt]=l,a){case"dialog":xe("cancel",i),xe("close",i);break;case"iframe":case"object":case"embed":xe("load",i);break;case"video":case"audio":for(a=0;a<rl.length;a++)xe(rl[a],i);break;case"source":xe("error",i);break;case"img":case"image":case"link":xe("error",i),xe("load",i);break;case"details":xe("toggle",i);break;case"input":xe("invalid",i),ss(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),Ws(i);break;case"select":xe("invalid",i);break;case"textarea":xe("invalid",i),as(i,l.value,l.defaultValue,l.children),Ws(i)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||l.suppressHydrationWarning===!0||s_(i.textContent,a)?(l.popover!=null&&(xe("beforetoggle",i),xe("toggle",i)),l.onScroll!=null&&xe("scroll",i),l.onScrollEnd!=null&&xe("scrollend",i),l.onClick!=null&&(i.onclick=hc),i=!0):i=!1,i||Ts(t)}function qp(t){for(Jt=t.return;Jt;)switch(Jt.tag){case 5:case 13:Jn=!1;return;case 27:case 3:Jn=!0;return;default:Jt=Jt.return}}function xo(t){if(t!==Jt)return!1;if(!Be)return qp(t),Be=!0,!1;var i=t.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||pd(t.type,t.memoizedProps)),a=!a),a&&ot&&Ts(t),qp(t),i===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));e:{for(t=t.nextSibling,i=0;t;){if(t.nodeType===8)if(a=t.data,a==="/$"){if(i===0){ot=Ln(t.nextSibling);break e}i--}else a!=="$"&&a!=="$!"&&a!=="$?"||i++;t=t.nextSibling}ot=null}}else i===27?(i=ot,Tr(t.type)?(t=vd,vd=null,ot=t):ot=i):ot=Jt?Ln(t.stateNode.nextSibling):null;return!0}function Mo(){ot=Jt=null,Be=!1}function Fp(){var t=Es;return t!==null&&(nn===null?nn=t:nn.push.apply(nn,t),Es=null),t}function Vo(t){Es===null?Es=[t]:Es.push(t)}var Jh=ee(null),As=null,Ni=null;function ar(t,i,a){ie(Jh,i._currentValue),i._currentValue=a}function Oi(t){t._currentValue=Jh.current,oe(Jh)}function ef(t,i,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),t===a)break;t=t.return}}function tf(t,i,a,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var d=h.dependencies;if(d!==null){var v=h.child;d=d.firstContext;e:for(;d!==null;){var T=d;d=h;for(var R=0;R<i.length;R++)if(T.context===i[R]){d.lanes|=a,T=d.alternate,T!==null&&(T.lanes|=a),ef(d.return,a,t),l||(v=null);break e}d=T.next}}else if(h.tag===18){if(v=h.return,v===null)throw Error(s(341));v.lanes|=a,d=v.alternate,d!==null&&(d.lanes|=a),ef(v,a,t),v=null}else v=h.child;if(v!==null)v.return=h;else for(v=h;v!==null;){if(v===t){v=null;break}if(h=v.sibling,h!==null){h.return=v.return,v=h;break}v=v.return}h=v}}function ko(t,i,a,l){t=null;for(var h=i,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var v=h.alternate;if(v===null)throw Error(s(387));if(v=v.memoizedProps,v!==null){var T=h.type;on(h.pendingProps.value,v.value)||(t!==null?t.push(T):t=[T])}}else if(h===Ct.current){if(v=h.alternate,v===null)throw Error(s(387));v.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(cl):t=[cl])}h=h.return}t!==null&&tf(i,t,a,l),i.flags|=262144}function xu(t){for(t=t.firstContext;t!==null;){if(!on(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Ss(t){As=t,Ni=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Ft(t){return Gp(As,t)}function Mu(t,i){return As===null&&Ss(t),Gp(t,i)}function Gp(t,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},Ni===null){if(t===null)throw Error(s(308));Ni=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else Ni=Ni.next=i;return a}var gA=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){i.aborted=!0,t.forEach(function(a){return a()})}},yA=r.unstable_scheduleCallback,_A=r.unstable_NormalPriority,At={$$typeof:te,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function nf(){return{controller:new gA,data:new Map,refCount:0}}function Po(t){t.refCount--,t.refCount===0&&yA(_A,function(){t.controller.abort()})}var Lo=null,rf=0,ma=0,pa=null;function vA(t,i){if(Lo===null){var a=Lo=[];rf=0,ma=ad(),pa={status:"pending",value:void 0,then:function(l){a.push(l)}}}return rf++,i.then(Qp,Qp),i}function Qp(){if(--rf===0&&Lo!==null){pa!==null&&(pa.status="fulfilled");var t=Lo;Lo=null,ma=0,pa=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function EA(t,i){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return t.then(function(){l.status="fulfilled",l.value=i;for(var h=0;h<a.length;h++)(0,a[h])(i)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var Kp=K.S;K.S=function(t,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&vA(t,i),Kp!==null&&Kp(t,i)};var bs=ee(null);function sf(){var t=bs.current;return t!==null?t:Je.pooledCache}function Vu(t,i){i===null?ie(bs,bs.current):ie(bs,i.pool)}function Yp(){var t=sf();return t===null?null:{parent:At._currentValue,pool:t}}var Uo=Error(s(460)),Xp=Error(s(474)),ku=Error(s(542)),af={then:function(){}};function $p(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Pu(){}function Wp(t,i,a){switch(a=t[a],a===void 0?t.push(i):a!==i&&(i.then(Pu,Pu),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,Jp(t),t;default:if(typeof i.status=="string")i.then(Pu,Pu);else{if(t=Je,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=i,t.status="pending",t.then(function(l){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=l}},function(l){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,Jp(t),t}throw zo=i,Uo}}var zo=null;function Zp(){if(zo===null)throw Error(s(459));var t=zo;return zo=null,t}function Jp(t){if(t===Uo||t===ku)throw Error(s(483))}var or=!1;function of(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function lf(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function lr(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function ur(t,i,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Ge&2)!==0){var h=l.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),l.pending=i,i=Iu(t),zp(t,null,a),i}return Cu(t,l,i,a),Iu(t)}function jo(t,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,mo(t,a)}}function uf(t,i){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var v={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?h=d=v:d=d.next=v,a=a.next}while(a!==null);d===null?h=d=i:d=d.next=i}else h=d=i;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=i:t.next=i,a.lastBaseUpdate=i}var cf=!1;function Bo(){if(cf){var t=pa;if(t!==null)throw t}}function Ho(t,i,a,l){cf=!1;var h=t.updateQueue;or=!1;var d=h.firstBaseUpdate,v=h.lastBaseUpdate,T=h.shared.pending;if(T!==null){h.shared.pending=null;var R=T,B=R.next;R.next=null,v===null?d=B:v.next=B,v=R;var Y=t.alternate;Y!==null&&(Y=Y.updateQueue,T=Y.lastBaseUpdate,T!==v&&(T===null?Y.firstBaseUpdate=B:T.next=B,Y.lastBaseUpdate=R))}if(d!==null){var Z=h.baseState;v=0,Y=B=R=null,T=d;do{var H=T.lane&-536870913,q=H!==T.lane;if(q?(Le&H)===H:(l&H)===H){H!==0&&H===ma&&(cf=!0),Y!==null&&(Y=Y.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});e:{var Ee=t,pe=T;H=i;var $e=a;switch(pe.tag){case 1:if(Ee=pe.payload,typeof Ee=="function"){Z=Ee.call($e,Z,H);break e}Z=Ee;break e;case 3:Ee.flags=Ee.flags&-65537|128;case 0:if(Ee=pe.payload,H=typeof Ee=="function"?Ee.call($e,Z,H):Ee,H==null)break e;Z=E({},Z,H);break e;case 2:or=!0}}H=T.callback,H!==null&&(t.flags|=64,q&&(t.flags|=8192),q=h.callbacks,q===null?h.callbacks=[H]:q.push(H))}else q={lane:H,tag:T.tag,payload:T.payload,callback:T.callback,next:null},Y===null?(B=Y=q,R=Z):Y=Y.next=q,v|=H;if(T=T.next,T===null){if(T=h.shared.pending,T===null)break;q=T,T=q.next,q.next=null,h.lastBaseUpdate=q,h.shared.pending=null}}while(!0);Y===null&&(R=Z),h.baseState=R,h.firstBaseUpdate=B,h.lastBaseUpdate=Y,d===null&&(h.shared.lanes=0),yr|=v,t.lanes=v,t.memoizedState=Z}}function eg(t,i){if(typeof t!="function")throw Error(s(191,t));t.call(i)}function tg(t,i){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)eg(a[t],i)}var ga=ee(null),Lu=ee(0);function ng(t,i){t=Ui,ie(Lu,t),ie(ga,i),Ui=t|i.baseLanes}function hf(){ie(Lu,Ui),ie(ga,ga.current)}function ff(){Ui=Lu.current,oe(ga),oe(Lu)}var cr=0,Ce=null,Ye=null,gt=null,Uu=!1,ya=!1,ws=!1,zu=0,qo=0,_a=null,TA=0;function ht(){throw Error(s(321))}function df(t,i){if(i===null)return!1;for(var a=0;a<i.length&&a<t.length;a++)if(!on(t[a],i[a]))return!1;return!0}function mf(t,i,a,l,h,d){return cr=d,Ce=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,K.H=t===null||t.memoizedState===null?zg:jg,ws=!1,d=a(l,h),ws=!1,ya&&(d=rg(i,a,l,h)),ig(t),d}function ig(t){K.H=Gu;var i=Ye!==null&&Ye.next!==null;if(cr=0,gt=Ye=Ce=null,Uu=!1,qo=0,_a=null,i)throw Error(s(300));t===null||Nt||(t=t.dependencies,t!==null&&xu(t)&&(Nt=!0))}function rg(t,i,a,l){Ce=t;var h=0;do{if(ya&&(_a=null),qo=0,ya=!1,25<=h)throw Error(s(301));if(h+=1,gt=Ye=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}K.H=IA,d=i(a,l)}while(ya);return d}function AA(){var t=K.H,i=t.useState()[0];return i=typeof i.then=="function"?Fo(i):i,t=t.useState()[0],(Ye!==null?Ye.memoizedState:null)!==t&&(Ce.flags|=1024),i}function pf(){var t=zu!==0;return zu=0,t}function gf(t,i,a){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~a}function yf(t){if(Uu){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}Uu=!1}cr=0,gt=Ye=Ce=null,ya=!1,qo=zu=0,_a=null}function en(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return gt===null?Ce.memoizedState=gt=t:gt=gt.next=t,gt}function yt(){if(Ye===null){var t=Ce.alternate;t=t!==null?t.memoizedState:null}else t=Ye.next;var i=gt===null?Ce.memoizedState:gt.next;if(i!==null)gt=i,Ye=t;else{if(t===null)throw Ce.alternate===null?Error(s(467)):Error(s(310));Ye=t,t={memoizedState:Ye.memoizedState,baseState:Ye.baseState,baseQueue:Ye.baseQueue,queue:Ye.queue,next:null},gt===null?Ce.memoizedState=gt=t:gt=gt.next=t}return gt}function _f(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Fo(t){var i=qo;return qo+=1,_a===null&&(_a=[]),t=Wp(_a,t,i),i=Ce,(gt===null?i.memoizedState:gt.next)===null&&(i=i.alternate,K.H=i===null||i.memoizedState===null?zg:jg),t}function ju(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Fo(t);if(t.$$typeof===te)return Ft(t)}throw Error(s(438,String(t)))}function vf(t){var i=null,a=Ce.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var l=Ce.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=_f(),Ce.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(t),l=0;l<t;l++)a[l]=N;return i.index++,a}function xi(t,i){return typeof i=="function"?i(t):i}function Bu(t){var i=yt();return Ef(i,Ye,t)}function Ef(t,i,a){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var h=t.baseQueue,d=l.pending;if(d!==null){if(h!==null){var v=h.next;h.next=d.next,d.next=v}i.baseQueue=h=d,l.pending=null}if(d=t.baseState,h===null)t.memoizedState=d;else{i=h.next;var T=v=null,R=null,B=i,Y=!1;do{var Z=B.lane&-536870913;if(Z!==B.lane?(Le&Z)===Z:(cr&Z)===Z){var H=B.revertLane;if(H===0)R!==null&&(R=R.next={lane:0,revertLane:0,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null}),Z===ma&&(Y=!0);else if((cr&H)===H){B=B.next,H===ma&&(Y=!0);continue}else Z={lane:0,revertLane:B.revertLane,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},R===null?(T=R=Z,v=d):R=R.next=Z,Ce.lanes|=H,yr|=H;Z=B.action,ws&&a(d,Z),d=B.hasEagerState?B.eagerState:a(d,Z)}else H={lane:Z,revertLane:B.revertLane,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},R===null?(T=R=H,v=d):R=R.next=H,Ce.lanes|=Z,yr|=Z;B=B.next}while(B!==null&&B!==i);if(R===null?v=d:R.next=T,!on(d,t.memoizedState)&&(Nt=!0,Y&&(a=pa,a!==null)))throw a;t.memoizedState=d,t.baseState=v,t.baseQueue=R,l.lastRenderedState=d}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Tf(t){var i=yt(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var l=a.dispatch,h=a.pending,d=i.memoizedState;if(h!==null){a.pending=null;var v=h=h.next;do d=t(d,v.action),v=v.next;while(v!==h);on(d,i.memoizedState)||(Nt=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),a.lastRenderedState=d}return[d,l]}function sg(t,i,a){var l=Ce,h=yt(),d=Be;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=i();var v=!on((Ye||h).memoizedState,a);v&&(h.memoizedState=a,Nt=!0),h=h.queue;var T=lg.bind(null,l,h,t);if(Go(2048,8,T,[t]),h.getSnapshot!==i||v||gt!==null&&gt.memoizedState.tag&1){if(l.flags|=2048,va(9,Hu(),og.bind(null,l,h,a,i),null),Je===null)throw Error(s(349));d||(cr&124)!==0||ag(l,i,a)}return a}function ag(t,i,a){t.flags|=16384,t={getSnapshot:i,value:a},i=Ce.updateQueue,i===null?(i=_f(),Ce.updateQueue=i,i.stores=[t]):(a=i.stores,a===null?i.stores=[t]:a.push(t))}function og(t,i,a,l){i.value=a,i.getSnapshot=l,ug(i)&&cg(t)}function lg(t,i,a){return a(function(){ug(i)&&cg(t)})}function ug(t){var i=t.getSnapshot;t=t.value;try{var a=i();return!on(t,a)}catch{return!0}}function cg(t){var i=ca(t,2);i!==null&&dn(i,t,2)}function Af(t){var i=en();if(typeof t=="function"){var a=t;if(t=a(),ws){sn(!0);try{a()}finally{sn(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:xi,lastRenderedState:t},i}function hg(t,i,a,l){return t.baseState=a,Ef(t,Ye,typeof l=="function"?l:xi)}function SA(t,i,a,l,h){if(Fu(t))throw Error(s(485));if(t=i.action,t!==null){var d={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){d.listeners.push(v)}};K.T!==null?a(!0):d.isTransition=!1,l(d),a=i.pending,a===null?(d.next=i.pending=d,fg(i,d)):(d.next=a.next,i.pending=a.next=d)}}function fg(t,i){var a=i.action,l=i.payload,h=t.state;if(i.isTransition){var d=K.T,v={};K.T=v;try{var T=a(h,l),R=K.S;R!==null&&R(v,T),dg(t,i,T)}catch(B){Sf(t,i,B)}finally{K.T=d}}else try{d=a(h,l),dg(t,i,d)}catch(B){Sf(t,i,B)}}function dg(t,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){mg(t,i,l)},function(l){return Sf(t,i,l)}):mg(t,i,a)}function mg(t,i,a){i.status="fulfilled",i.value=a,pg(i),t.state=a,i=t.pending,i!==null&&(a=i.next,a===i?t.pending=null:(a=a.next,i.next=a,fg(t,a)))}function Sf(t,i,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=a,pg(i),i=i.next;while(i!==l)}t.action=null}function pg(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function gg(t,i){return i}function yg(t,i){if(Be){var a=Je.formState;if(a!==null){e:{var l=Ce;if(Be){if(ot){t:{for(var h=ot,d=Jn;h.nodeType!==8;){if(!d){h=null;break t}if(h=Ln(h.nextSibling),h===null){h=null;break t}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){ot=Ln(h.nextSibling),l=h.data==="F!";break e}}Ts(l)}l=!1}l&&(i=a[0])}}return a=en(),a.memoizedState=a.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:gg,lastRenderedState:i},a.queue=l,a=Pg.bind(null,Ce,l),l.dispatch=a,l=Af(!1),d=If.bind(null,Ce,!1,l.queue),l=en(),h={state:i,dispatch:null,action:t,pending:null},l.queue=h,a=SA.bind(null,Ce,h,d,a),h.dispatch=a,l.memoizedState=t,[i,a,!1]}function _g(t){var i=yt();return vg(i,Ye,t)}function vg(t,i,a){if(i=Ef(t,i,gg)[0],t=Bu(xi)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=Fo(i)}catch(v){throw v===Uo?ku:v}else l=i;i=yt();var h=i.queue,d=h.dispatch;return a!==i.memoizedState&&(Ce.flags|=2048,va(9,Hu(),bA.bind(null,h,a),null)),[l,d,t]}function bA(t,i){t.action=i}function Eg(t){var i=yt(),a=Ye;if(a!==null)return vg(i,a,t);yt(),i=i.memoizedState,a=yt();var l=a.queue.dispatch;return a.memoizedState=t,[i,l,!1]}function va(t,i,a,l){return t={tag:t,create:a,deps:l,inst:i,next:null},i=Ce.updateQueue,i===null&&(i=_f(),Ce.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,i.lastEffect=t),t}function Hu(){return{destroy:void 0,resource:void 0}}function Tg(){return yt().memoizedState}function qu(t,i,a,l){var h=en();l=l===void 0?null:l,Ce.flags|=t,h.memoizedState=va(1|i,Hu(),a,l)}function Go(t,i,a,l){var h=yt();l=l===void 0?null:l;var d=h.memoizedState.inst;Ye!==null&&l!==null&&df(l,Ye.memoizedState.deps)?h.memoizedState=va(i,d,a,l):(Ce.flags|=t,h.memoizedState=va(1|i,d,a,l))}function Ag(t,i){qu(8390656,8,t,i)}function Sg(t,i){Go(2048,8,t,i)}function bg(t,i){return Go(4,2,t,i)}function wg(t,i){return Go(4,4,t,i)}function Rg(t,i){if(typeof i=="function"){t=t();var a=i(t);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function Cg(t,i,a){a=a!=null?a.concat([t]):null,Go(4,4,Rg.bind(null,i,t),a)}function bf(){}function Ig(t,i){var a=yt();i=i===void 0?null:i;var l=a.memoizedState;return i!==null&&df(i,l[1])?l[0]:(a.memoizedState=[t,i],t)}function Dg(t,i){var a=yt();i=i===void 0?null:i;var l=a.memoizedState;if(i!==null&&df(i,l[1]))return l[0];if(l=t(),ws){sn(!0);try{t()}finally{sn(!1)}}return a.memoizedState=[l,i],l}function wf(t,i,a){return a===void 0||(cr&1073741824)!==0?t.memoizedState=i:(t.memoizedState=a,t=xy(),Ce.lanes|=t,yr|=t,a)}function Ng(t,i,a,l){return on(a,i)?a:ga.current!==null?(t=wf(t,a,l),on(t,i)||(Nt=!0),t):(cr&42)===0?(Nt=!0,t.memoizedState=a):(t=xy(),Ce.lanes|=t,yr|=t,i)}function Og(t,i,a,l,h){var d=ae.p;ae.p=d!==0&&8>d?d:8;var v=K.T,T={};K.T=T,If(t,!1,i,a);try{var R=h(),B=K.S;if(B!==null&&B(T,R),R!==null&&typeof R=="object"&&typeof R.then=="function"){var Y=EA(R,l);Qo(t,i,Y,fn(t))}else Qo(t,i,l,fn(t))}catch(Z){Qo(t,i,{then:function(){},status:"rejected",reason:Z},fn())}finally{ae.p=d,K.T=v}}function wA(){}function Rf(t,i,a,l){if(t.tag!==5)throw Error(s(476));var h=xg(t).queue;Og(t,h,i,de,a===null?wA:function(){return Mg(t),a(l)})}function xg(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:de,baseState:de,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:xi,lastRenderedState:de},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:xi,lastRenderedState:a},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function Mg(t){var i=xg(t).next.queue;Qo(t,i,{},fn())}function Cf(){return Ft(cl)}function Vg(){return yt().memoizedState}function kg(){return yt().memoizedState}function RA(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var a=fn();t=lr(a);var l=ur(i,t,a);l!==null&&(dn(l,i,a),jo(l,i,a)),i={cache:nf()},t.payload=i;return}i=i.return}}function CA(t,i,a){var l=fn();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},Fu(t)?Lg(i,a):(a=Qh(t,i,a,l),a!==null&&(dn(a,t,l),Ug(a,i,l)))}function Pg(t,i,a){var l=fn();Qo(t,i,a,l)}function Qo(t,i,a,l){var h={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(Fu(t))Lg(i,h);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var v=i.lastRenderedState,T=d(v,a);if(h.hasEagerState=!0,h.eagerState=T,on(T,v))return Cu(t,i,h,0),Je===null&&Ru(),!1}catch{}finally{}if(a=Qh(t,i,h,l),a!==null)return dn(a,t,l),Ug(a,i,l),!0}return!1}function If(t,i,a,l){if(l={lane:2,revertLane:ad(),action:l,hasEagerState:!1,eagerState:null,next:null},Fu(t)){if(i)throw Error(s(479))}else i=Qh(t,a,l,2),i!==null&&dn(i,t,2)}function Fu(t){var i=t.alternate;return t===Ce||i!==null&&i===Ce}function Lg(t,i){ya=Uu=!0;var a=t.pending;a===null?i.next=i:(i.next=a.next,a.next=i),t.pending=i}function Ug(t,i,a){if((a&4194048)!==0){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,mo(t,a)}}var Gu={readContext:Ft,use:ju,useCallback:ht,useContext:ht,useEffect:ht,useImperativeHandle:ht,useLayoutEffect:ht,useInsertionEffect:ht,useMemo:ht,useReducer:ht,useRef:ht,useState:ht,useDebugValue:ht,useDeferredValue:ht,useTransition:ht,useSyncExternalStore:ht,useId:ht,useHostTransitionStatus:ht,useFormState:ht,useActionState:ht,useOptimistic:ht,useMemoCache:ht,useCacheRefresh:ht},zg={readContext:Ft,use:ju,useCallback:function(t,i){return en().memoizedState=[t,i===void 0?null:i],t},useContext:Ft,useEffect:Ag,useImperativeHandle:function(t,i,a){a=a!=null?a.concat([t]):null,qu(4194308,4,Rg.bind(null,i,t),a)},useLayoutEffect:function(t,i){return qu(4194308,4,t,i)},useInsertionEffect:function(t,i){qu(4,2,t,i)},useMemo:function(t,i){var a=en();i=i===void 0?null:i;var l=t();if(ws){sn(!0);try{t()}finally{sn(!1)}}return a.memoizedState=[l,i],l},useReducer:function(t,i,a){var l=en();if(a!==void 0){var h=a(i);if(ws){sn(!0);try{a(i)}finally{sn(!1)}}}else h=i;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=CA.bind(null,Ce,t),[l.memoizedState,t]},useRef:function(t){var i=en();return t={current:t},i.memoizedState=t},useState:function(t){t=Af(t);var i=t.queue,a=Pg.bind(null,Ce,i);return i.dispatch=a,[t.memoizedState,a]},useDebugValue:bf,useDeferredValue:function(t,i){var a=en();return wf(a,t,i)},useTransition:function(){var t=Af(!1);return t=Og.bind(null,Ce,t.queue,!0,!1),en().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,a){var l=Ce,h=en();if(Be){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),Je===null)throw Error(s(349));(Le&124)!==0||ag(l,i,a)}h.memoizedState=a;var d={value:a,getSnapshot:i};return h.queue=d,Ag(lg.bind(null,l,d,t),[t]),l.flags|=2048,va(9,Hu(),og.bind(null,l,d,a,i),null),a},useId:function(){var t=en(),i=Je.identifierPrefix;if(Be){var a=Di,l=Ii;a=(l&~(1<<32-qt(l)-1)).toString(32)+a,i="«"+i+"R"+a,a=zu++,0<a&&(i+="H"+a.toString(32)),i+="»"}else a=TA++,i="«"+i+"r"+a.toString(32)+"»";return t.memoizedState=i},useHostTransitionStatus:Cf,useFormState:yg,useActionState:yg,useOptimistic:function(t){var i=en();i.memoizedState=i.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=If.bind(null,Ce,!0,a),a.dispatch=i,[t,i]},useMemoCache:vf,useCacheRefresh:function(){return en().memoizedState=RA.bind(null,Ce)}},jg={readContext:Ft,use:ju,useCallback:Ig,useContext:Ft,useEffect:Sg,useImperativeHandle:Cg,useInsertionEffect:bg,useLayoutEffect:wg,useMemo:Dg,useReducer:Bu,useRef:Tg,useState:function(){return Bu(xi)},useDebugValue:bf,useDeferredValue:function(t,i){var a=yt();return Ng(a,Ye.memoizedState,t,i)},useTransition:function(){var t=Bu(xi)[0],i=yt().memoizedState;return[typeof t=="boolean"?t:Fo(t),i]},useSyncExternalStore:sg,useId:Vg,useHostTransitionStatus:Cf,useFormState:_g,useActionState:_g,useOptimistic:function(t,i){var a=yt();return hg(a,Ye,t,i)},useMemoCache:vf,useCacheRefresh:kg},IA={readContext:Ft,use:ju,useCallback:Ig,useContext:Ft,useEffect:Sg,useImperativeHandle:Cg,useInsertionEffect:bg,useLayoutEffect:wg,useMemo:Dg,useReducer:Tf,useRef:Tg,useState:function(){return Tf(xi)},useDebugValue:bf,useDeferredValue:function(t,i){var a=yt();return Ye===null?wf(a,t,i):Ng(a,Ye.memoizedState,t,i)},useTransition:function(){var t=Tf(xi)[0],i=yt().memoizedState;return[typeof t=="boolean"?t:Fo(t),i]},useSyncExternalStore:sg,useId:Vg,useHostTransitionStatus:Cf,useFormState:Eg,useActionState:Eg,useOptimistic:function(t,i){var a=yt();return Ye!==null?hg(a,Ye,t,i):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:vf,useCacheRefresh:kg},Ea=null,Ko=0;function Qu(t){var i=Ko;return Ko+=1,Ea===null&&(Ea=[]),Wp(Ea,t,i)}function Yo(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function Ku(t,i){throw i.$$typeof===S?Error(s(525)):(t=Object.prototype.toString.call(i),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function Bg(t){var i=t._init;return i(t._payload)}function Hg(t){function i(V,O){if(t){var j=V.deletions;j===null?(V.deletions=[O],V.flags|=16):j.push(O)}}function a(V,O){if(!t)return null;for(;O!==null;)i(V,O),O=O.sibling;return null}function l(V){for(var O=new Map;V!==null;)V.key!==null?O.set(V.key,V):O.set(V.index,V),V=V.sibling;return O}function h(V,O){return V=Ci(V,O),V.index=0,V.sibling=null,V}function d(V,O,j){return V.index=j,t?(j=V.alternate,j!==null?(j=j.index,j<O?(V.flags|=67108866,O):j):(V.flags|=67108866,O)):(V.flags|=1048576,O)}function v(V){return t&&V.alternate===null&&(V.flags|=67108866),V}function T(V,O,j,X){return O===null||O.tag!==6?(O=Yh(j,V.mode,X),O.return=V,O):(O=h(O,j),O.return=V,O)}function R(V,O,j,X){var ue=j.type;return ue===z?Y(V,O,j.props.children,X,j.key):O!==null&&(O.elementType===ue||typeof ue=="object"&&ue!==null&&ue.$$typeof===b&&Bg(ue)===O.type)?(O=h(O,j.props),Yo(O,j),O.return=V,O):(O=Du(j.type,j.key,j.props,null,V.mode,X),Yo(O,j),O.return=V,O)}function B(V,O,j,X){return O===null||O.tag!==4||O.stateNode.containerInfo!==j.containerInfo||O.stateNode.implementation!==j.implementation?(O=Xh(j,V.mode,X),O.return=V,O):(O=h(O,j.children||[]),O.return=V,O)}function Y(V,O,j,X,ue){return O===null||O.tag!==7?(O=ys(j,V.mode,X,ue),O.return=V,O):(O=h(O,j),O.return=V,O)}function Z(V,O,j){if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return O=Yh(""+O,V.mode,j),O.return=V,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case C:return j=Du(O.type,O.key,O.props,null,V.mode,j),Yo(j,O),j.return=V,j;case L:return O=Xh(O,V.mode,j),O.return=V,O;case b:var X=O._init;return O=X(O._payload),Z(V,O,j)}if(st(O)||P(O))return O=ys(O,V.mode,j,null),O.return=V,O;if(typeof O.then=="function")return Z(V,Qu(O),j);if(O.$$typeof===te)return Z(V,Mu(V,O),j);Ku(V,O)}return null}function H(V,O,j,X){var ue=O!==null?O.key:null;if(typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint")return ue!==null?null:T(V,O,""+j,X);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case C:return j.key===ue?R(V,O,j,X):null;case L:return j.key===ue?B(V,O,j,X):null;case b:return ue=j._init,j=ue(j._payload),H(V,O,j,X)}if(st(j)||P(j))return ue!==null?null:Y(V,O,j,X,null);if(typeof j.then=="function")return H(V,O,Qu(j),X);if(j.$$typeof===te)return H(V,O,Mu(V,j),X);Ku(V,j)}return null}function q(V,O,j,X,ue){if(typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint")return V=V.get(j)||null,T(O,V,""+X,ue);if(typeof X=="object"&&X!==null){switch(X.$$typeof){case C:return V=V.get(X.key===null?j:X.key)||null,R(O,V,X,ue);case L:return V=V.get(X.key===null?j:X.key)||null,B(O,V,X,ue);case b:var Ne=X._init;return X=Ne(X._payload),q(V,O,j,X,ue)}if(st(X)||P(X))return V=V.get(j)||null,Y(O,V,X,ue,null);if(typeof X.then=="function")return q(V,O,j,Qu(X),ue);if(X.$$typeof===te)return q(V,O,j,Mu(O,X),ue);Ku(O,X)}return null}function Ee(V,O,j,X){for(var ue=null,Ne=null,he=O,_e=O=0,xt=null;he!==null&&_e<j.length;_e++){he.index>_e?(xt=he,he=null):xt=he.sibling;var ze=H(V,he,j[_e],X);if(ze===null){he===null&&(he=xt);break}t&&he&&ze.alternate===null&&i(V,he),O=d(ze,O,_e),Ne===null?ue=ze:Ne.sibling=ze,Ne=ze,he=xt}if(_e===j.length)return a(V,he),Be&&vs(V,_e),ue;if(he===null){for(;_e<j.length;_e++)he=Z(V,j[_e],X),he!==null&&(O=d(he,O,_e),Ne===null?ue=he:Ne.sibling=he,Ne=he);return Be&&vs(V,_e),ue}for(he=l(he);_e<j.length;_e++)xt=q(he,V,_e,j[_e],X),xt!==null&&(t&&xt.alternate!==null&&he.delete(xt.key===null?_e:xt.key),O=d(xt,O,_e),Ne===null?ue=xt:Ne.sibling=xt,Ne=xt);return t&&he.forEach(function(Rr){return i(V,Rr)}),Be&&vs(V,_e),ue}function pe(V,O,j,X){if(j==null)throw Error(s(151));for(var ue=null,Ne=null,he=O,_e=O=0,xt=null,ze=j.next();he!==null&&!ze.done;_e++,ze=j.next()){he.index>_e?(xt=he,he=null):xt=he.sibling;var Rr=H(V,he,ze.value,X);if(Rr===null){he===null&&(he=xt);break}t&&he&&Rr.alternate===null&&i(V,he),O=d(Rr,O,_e),Ne===null?ue=Rr:Ne.sibling=Rr,Ne=Rr,he=xt}if(ze.done)return a(V,he),Be&&vs(V,_e),ue;if(he===null){for(;!ze.done;_e++,ze=j.next())ze=Z(V,ze.value,X),ze!==null&&(O=d(ze,O,_e),Ne===null?ue=ze:Ne.sibling=ze,Ne=ze);return Be&&vs(V,_e),ue}for(he=l(he);!ze.done;_e++,ze=j.next())ze=q(he,V,_e,ze.value,X),ze!==null&&(t&&ze.alternate!==null&&he.delete(ze.key===null?_e:ze.key),O=d(ze,O,_e),Ne===null?ue=ze:Ne.sibling=ze,Ne=ze);return t&&he.forEach(function(DS){return i(V,DS)}),Be&&vs(V,_e),ue}function $e(V,O,j,X){if(typeof j=="object"&&j!==null&&j.type===z&&j.key===null&&(j=j.props.children),typeof j=="object"&&j!==null){switch(j.$$typeof){case C:e:{for(var ue=j.key;O!==null;){if(O.key===ue){if(ue=j.type,ue===z){if(O.tag===7){a(V,O.sibling),X=h(O,j.props.children),X.return=V,V=X;break e}}else if(O.elementType===ue||typeof ue=="object"&&ue!==null&&ue.$$typeof===b&&Bg(ue)===O.type){a(V,O.sibling),X=h(O,j.props),Yo(X,j),X.return=V,V=X;break e}a(V,O);break}else i(V,O);O=O.sibling}j.type===z?(X=ys(j.props.children,V.mode,X,j.key),X.return=V,V=X):(X=Du(j.type,j.key,j.props,null,V.mode,X),Yo(X,j),X.return=V,V=X)}return v(V);case L:e:{for(ue=j.key;O!==null;){if(O.key===ue)if(O.tag===4&&O.stateNode.containerInfo===j.containerInfo&&O.stateNode.implementation===j.implementation){a(V,O.sibling),X=h(O,j.children||[]),X.return=V,V=X;break e}else{a(V,O);break}else i(V,O);O=O.sibling}X=Xh(j,V.mode,X),X.return=V,V=X}return v(V);case b:return ue=j._init,j=ue(j._payload),$e(V,O,j,X)}if(st(j))return Ee(V,O,j,X);if(P(j)){if(ue=P(j),typeof ue!="function")throw Error(s(150));return j=ue.call(j),pe(V,O,j,X)}if(typeof j.then=="function")return $e(V,O,Qu(j),X);if(j.$$typeof===te)return $e(V,O,Mu(V,j),X);Ku(V,j)}return typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint"?(j=""+j,O!==null&&O.tag===6?(a(V,O.sibling),X=h(O,j),X.return=V,V=X):(a(V,O),X=Yh(j,V.mode,X),X.return=V,V=X),v(V)):a(V,O)}return function(V,O,j,X){try{Ko=0;var ue=$e(V,O,j,X);return Ea=null,ue}catch(he){if(he===Uo||he===ku)throw he;var Ne=ln(29,he,null,V.mode);return Ne.lanes=X,Ne.return=V,Ne}finally{}}}var Ta=Hg(!0),qg=Hg(!1),wn=ee(null),ei=null;function hr(t){var i=t.alternate;ie(St,St.current&1),ie(wn,t),ei===null&&(i===null||ga.current!==null||i.memoizedState!==null)&&(ei=t)}function Fg(t){if(t.tag===22){if(ie(St,St.current),ie(wn,t),ei===null){var i=t.alternate;i!==null&&i.memoizedState!==null&&(ei=t)}}else fr()}function fr(){ie(St,St.current),ie(wn,wn.current)}function Mi(t){oe(wn),ei===t&&(ei=null),oe(St)}var St=ee(0);function Yu(t){for(var i=t;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||_d(a)))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}function Df(t,i,a,l){i=t.memoizedState,a=a(l,i),a=a==null?i:E({},i,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var Nf={enqueueSetState:function(t,i,a){t=t._reactInternals;var l=fn(),h=lr(l);h.payload=i,a!=null&&(h.callback=a),i=ur(t,h,l),i!==null&&(dn(i,t,l),jo(i,t,l))},enqueueReplaceState:function(t,i,a){t=t._reactInternals;var l=fn(),h=lr(l);h.tag=1,h.payload=i,a!=null&&(h.callback=a),i=ur(t,h,l),i!==null&&(dn(i,t,l),jo(i,t,l))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var a=fn(),l=lr(a);l.tag=2,i!=null&&(l.callback=i),i=ur(t,l,a),i!==null&&(dn(i,t,a),jo(i,t,a))}};function Gg(t,i,a,l,h,d,v){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,d,v):i.prototype&&i.prototype.isPureReactComponent?!No(a,l)||!No(h,d):!0}function Qg(t,i,a,l){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,l),i.state!==t&&Nf.enqueueReplaceState(i,i.state,null)}function Rs(t,i){var a=i;if("ref"in i){a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}if(t=t.defaultProps){a===i&&(a=E({},a));for(var h in t)a[h]===void 0&&(a[h]=t[h])}return a}var Xu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function Kg(t){Xu(t)}function Yg(t){console.error(t)}function Xg(t){Xu(t)}function $u(t,i){try{var a=t.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function $g(t,i,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Of(t,i,a){return a=lr(a),a.tag=3,a.payload={element:null},a.callback=function(){$u(t,i)},a}function Wg(t){return t=lr(t),t.tag=3,t}function Zg(t,i,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;t.payload=function(){return h(d)},t.callback=function(){$g(i,a,l)}}var v=a.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(t.callback=function(){$g(i,a,l),typeof h!="function"&&(_r===null?_r=new Set([this]):_r.add(this));var T=l.stack;this.componentDidCatch(l.value,{componentStack:T!==null?T:""})})}function DA(t,i,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=a.alternate,i!==null&&ko(i,a,h,!0),a=wn.current,a!==null){switch(a.tag){case 13:return ei===null?td():a.alternate===null&&lt===0&&(lt=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===af?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([l]):i.add(l),id(t,l,h)),!1;case 22:return a.flags|=65536,l===af?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([l]):a.add(l)),id(t,l,h)),!1}throw Error(s(435,a.tag))}return id(t,l,h),td(),!1}if(Be)return i=wn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,l!==Zh&&(t=Error(s(422),{cause:l}),Vo(Tn(t,a)))):(l!==Zh&&(i=Error(s(423),{cause:l}),Vo(Tn(i,a))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=Tn(l,a),h=Of(t.stateNode,l,h),uf(t,h),lt!==4&&(lt=2)),!1;var d=Error(s(520),{cause:l});if(d=Tn(d,a),tl===null?tl=[d]:tl.push(d),lt!==4&&(lt=2),i===null)return!0;l=Tn(l,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,t=h&-h,a.lanes|=t,t=Of(a.stateNode,l,t),uf(a,t),!1;case 1:if(i=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(_r===null||!_r.has(d))))return a.flags|=65536,h&=-h,a.lanes|=h,h=Wg(h),Zg(h,t,a,l),uf(a,h),!1}a=a.return}while(a!==null);return!1}var Jg=Error(s(461)),Nt=!1;function Lt(t,i,a,l){i.child=t===null?qg(i,null,a,l):Ta(i,t.child,a,l)}function ey(t,i,a,l,h){a=a.render;var d=i.ref;if("ref"in l){var v={};for(var T in l)T!=="ref"&&(v[T]=l[T])}else v=l;return Ss(i),l=mf(t,i,a,v,d,h),T=pf(),t!==null&&!Nt?(gf(t,i,h),Vi(t,i,h)):(Be&&T&&$h(i),i.flags|=1,Lt(t,i,l,h),i.child)}function ty(t,i,a,l,h){if(t===null){var d=a.type;return typeof d=="function"&&!Kh(d)&&d.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=d,ny(t,i,d,l,h)):(t=Du(a.type,null,l,i,i.mode,h),t.ref=i.ref,t.return=i,i.child=t)}if(d=t.child,!zf(t,h)){var v=d.memoizedProps;if(a=a.compare,a=a!==null?a:No,a(v,l)&&t.ref===i.ref)return Vi(t,i,h)}return i.flags|=1,t=Ci(d,l),t.ref=i.ref,t.return=i,i.child=t}function ny(t,i,a,l,h){if(t!==null){var d=t.memoizedProps;if(No(d,l)&&t.ref===i.ref)if(Nt=!1,i.pendingProps=l=d,zf(t,h))(t.flags&131072)!==0&&(Nt=!0);else return i.lanes=t.lanes,Vi(t,i,h)}return xf(t,i,a,l,h)}function iy(t,i,a){var l=i.pendingProps,h=l.children,d=t!==null?t.memoizedState:null;if(l.mode==="hidden"){if((i.flags&128)!==0){if(l=d!==null?d.baseLanes|a:a,t!==null){for(h=i.child=t.child,d=0;h!==null;)d=d|h.lanes|h.childLanes,h=h.sibling;i.childLanes=d&~l}else i.childLanes=0,i.child=null;return ry(t,i,l,a)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&Vu(i,d!==null?d.cachePool:null),d!==null?ng(i,d):hf(),Fg(i);else return i.lanes=i.childLanes=536870912,ry(t,i,d!==null?d.baseLanes|a:a,a)}else d!==null?(Vu(i,d.cachePool),ng(i,d),fr(),i.memoizedState=null):(t!==null&&Vu(i,null),hf(),fr());return Lt(t,i,h,a),i.child}function ry(t,i,a,l){var h=sf();return h=h===null?null:{parent:At._currentValue,pool:h},i.memoizedState={baseLanes:a,cachePool:h},t!==null&&Vu(i,null),hf(),Fg(i),t!==null&&ko(t,i,l,!0),null}function Wu(t,i){var a=i.ref;if(a===null)t!==null&&t.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(i.flags|=4194816)}}function xf(t,i,a,l,h){return Ss(i),a=mf(t,i,a,l,void 0,h),l=pf(),t!==null&&!Nt?(gf(t,i,h),Vi(t,i,h)):(Be&&l&&$h(i),i.flags|=1,Lt(t,i,a,h),i.child)}function sy(t,i,a,l,h,d){return Ss(i),i.updateQueue=null,a=rg(i,l,a,h),ig(t),l=pf(),t!==null&&!Nt?(gf(t,i,d),Vi(t,i,d)):(Be&&l&&$h(i),i.flags|=1,Lt(t,i,a,d),i.child)}function ay(t,i,a,l,h){if(Ss(i),i.stateNode===null){var d=ha,v=a.contextType;typeof v=="object"&&v!==null&&(d=Ft(v)),d=new a(l,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=Nf,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=l,d.state=i.memoizedState,d.refs={},of(i),v=a.contextType,d.context=typeof v=="object"&&v!==null?Ft(v):ha,d.state=i.memoizedState,v=a.getDerivedStateFromProps,typeof v=="function"&&(Df(i,a,v,l),d.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(v=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),v!==d.state&&Nf.enqueueReplaceState(d,d.state,null),Ho(i,l,d,h),Bo(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(t===null){d=i.stateNode;var T=i.memoizedProps,R=Rs(a,T);d.props=R;var B=d.context,Y=a.contextType;v=ha,typeof Y=="object"&&Y!==null&&(v=Ft(Y));var Z=a.getDerivedStateFromProps;Y=typeof Z=="function"||typeof d.getSnapshotBeforeUpdate=="function",T=i.pendingProps!==T,Y||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(T||B!==v)&&Qg(i,d,l,v),or=!1;var H=i.memoizedState;d.state=H,Ho(i,l,d,h),Bo(),B=i.memoizedState,T||H!==B||or?(typeof Z=="function"&&(Df(i,a,Z,l),B=i.memoizedState),(R=or||Gg(i,a,R,l,H,B,v))?(Y||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=B),d.props=l,d.state=B,d.context=v,l=R):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{d=i.stateNode,lf(t,i),v=i.memoizedProps,Y=Rs(a,v),d.props=Y,Z=i.pendingProps,H=d.context,B=a.contextType,R=ha,typeof B=="object"&&B!==null&&(R=Ft(B)),T=a.getDerivedStateFromProps,(B=typeof T=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(v!==Z||H!==R)&&Qg(i,d,l,R),or=!1,H=i.memoizedState,d.state=H,Ho(i,l,d,h),Bo();var q=i.memoizedState;v!==Z||H!==q||or||t!==null&&t.dependencies!==null&&xu(t.dependencies)?(typeof T=="function"&&(Df(i,a,T,l),q=i.memoizedState),(Y=or||Gg(i,a,Y,l,H,q,R)||t!==null&&t.dependencies!==null&&xu(t.dependencies))?(B||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,q,R),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,q,R)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||v===t.memoizedProps&&H===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&H===t.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=q),d.props=l,d.state=q,d.context=R,l=Y):(typeof d.componentDidUpdate!="function"||v===t.memoizedProps&&H===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&H===t.memoizedState||(i.flags|=1024),l=!1)}return d=l,Wu(t,i),l=(i.flags&128)!==0,d||l?(d=i.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,t!==null&&l?(i.child=Ta(i,t.child,null,h),i.child=Ta(i,null,a,h)):Lt(t,i,a,h),i.memoizedState=d.state,t=i.child):t=Vi(t,i,h),t}function oy(t,i,a,l){return Mo(),i.flags|=256,Lt(t,i,a,l),i.child}var Mf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Vf(t){return{baseLanes:t,cachePool:Yp()}}function kf(t,i,a){return t=t!==null?t.childLanes&~a:0,i&&(t|=Rn),t}function ly(t,i,a){var l=i.pendingProps,h=!1,d=(i.flags&128)!==0,v;if((v=d)||(v=t!==null&&t.memoizedState===null?!1:(St.current&2)!==0),v&&(h=!0,i.flags&=-129),v=(i.flags&32)!==0,i.flags&=-33,t===null){if(Be){if(h?hr(i):fr(),Be){var T=ot,R;if(R=T){e:{for(R=T,T=Jn;R.nodeType!==8;){if(!T){T=null;break e}if(R=Ln(R.nextSibling),R===null){T=null;break e}}T=R}T!==null?(i.memoizedState={dehydrated:T,treeContext:_s!==null?{id:Ii,overflow:Di}:null,retryLane:536870912,hydrationErrors:null},R=ln(18,null,null,0),R.stateNode=T,R.return=i,i.child=R,Jt=i,ot=null,R=!0):R=!1}R||Ts(i)}if(T=i.memoizedState,T!==null&&(T=T.dehydrated,T!==null))return _d(T)?i.lanes=32:i.lanes=536870912,null;Mi(i)}return T=l.children,l=l.fallback,h?(fr(),h=i.mode,T=Zu({mode:"hidden",children:T},h),l=ys(l,h,a,null),T.return=i,l.return=i,T.sibling=l,i.child=T,h=i.child,h.memoizedState=Vf(a),h.childLanes=kf(t,v,a),i.memoizedState=Mf,l):(hr(i),Pf(i,T))}if(R=t.memoizedState,R!==null&&(T=R.dehydrated,T!==null)){if(d)i.flags&256?(hr(i),i.flags&=-257,i=Lf(t,i,a)):i.memoizedState!==null?(fr(),i.child=t.child,i.flags|=128,i=null):(fr(),h=l.fallback,T=i.mode,l=Zu({mode:"visible",children:l.children},T),h=ys(h,T,a,null),h.flags|=2,l.return=i,h.return=i,l.sibling=h,i.child=l,Ta(i,t.child,null,a),l=i.child,l.memoizedState=Vf(a),l.childLanes=kf(t,v,a),i.memoizedState=Mf,i=h);else if(hr(i),_d(T)){if(v=T.nextSibling&&T.nextSibling.dataset,v)var B=v.dgst;v=B,l=Error(s(419)),l.stack="",l.digest=v,Vo({value:l,source:null,stack:null}),i=Lf(t,i,a)}else if(Nt||ko(t,i,a,!1),v=(a&t.childLanes)!==0,Nt||v){if(v=Je,v!==null&&(l=a&-a,l=(l&42)!==0?1:Ji(l),l=(l&(v.suspendedLanes|a))!==0?0:l,l!==0&&l!==R.retryLane))throw R.retryLane=l,ca(t,l),dn(v,t,l),Jg;T.data==="$?"||td(),i=Lf(t,i,a)}else T.data==="$?"?(i.flags|=192,i.child=t.child,i=null):(t=R.treeContext,ot=Ln(T.nextSibling),Jt=i,Be=!0,Es=null,Jn=!1,t!==null&&(Sn[bn++]=Ii,Sn[bn++]=Di,Sn[bn++]=_s,Ii=t.id,Di=t.overflow,_s=i),i=Pf(i,l.children),i.flags|=4096);return i}return h?(fr(),h=l.fallback,T=i.mode,R=t.child,B=R.sibling,l=Ci(R,{mode:"hidden",children:l.children}),l.subtreeFlags=R.subtreeFlags&65011712,B!==null?h=Ci(B,h):(h=ys(h,T,a,null),h.flags|=2),h.return=i,l.return=i,l.sibling=h,i.child=l,l=h,h=i.child,T=t.child.memoizedState,T===null?T=Vf(a):(R=T.cachePool,R!==null?(B=At._currentValue,R=R.parent!==B?{parent:B,pool:B}:R):R=Yp(),T={baseLanes:T.baseLanes|a,cachePool:R}),h.memoizedState=T,h.childLanes=kf(t,v,a),i.memoizedState=Mf,l):(hr(i),a=t.child,t=a.sibling,a=Ci(a,{mode:"visible",children:l.children}),a.return=i,a.sibling=null,t!==null&&(v=i.deletions,v===null?(i.deletions=[t],i.flags|=16):v.push(t)),i.child=a,i.memoizedState=null,a)}function Pf(t,i){return i=Zu({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function Zu(t,i){return t=ln(22,t,null,i),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function Lf(t,i,a){return Ta(i,t.child,null,a),t=Pf(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function uy(t,i,a){t.lanes|=i;var l=t.alternate;l!==null&&(l.lanes|=i),ef(t.return,i,a)}function Uf(t,i,a,l,h){var d=t.memoizedState;d===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h}:(d.isBackwards=i,d.rendering=null,d.renderingStartTime=0,d.last=l,d.tail=a,d.tailMode=h)}function cy(t,i,a){var l=i.pendingProps,h=l.revealOrder,d=l.tail;if(Lt(t,i,l.children,a),l=St.current,(l&2)!==0)l=l&1|2,i.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&uy(t,a,i);else if(t.tag===19)uy(t,a,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch(ie(St,l),h){case"forwards":for(a=i.child,h=null;a!==null;)t=a.alternate,t!==null&&Yu(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=i.child,i.child=null):(h=a.sibling,a.sibling=null),Uf(i,!1,h,a,d);break;case"backwards":for(a=null,h=i.child,i.child=null;h!==null;){if(t=h.alternate,t!==null&&Yu(t)===null){i.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}Uf(i,!0,a,null,d);break;case"together":Uf(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function Vi(t,i,a){if(t!==null&&(i.dependencies=t.dependencies),yr|=i.lanes,(a&i.childLanes)===0)if(t!==null){if(ko(t,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(s(153));if(i.child!==null){for(t=i.child,a=Ci(t,t.pendingProps),i.child=a,a.return=i;t.sibling!==null;)t=t.sibling,a=a.sibling=Ci(t,t.pendingProps),a.return=i;a.sibling=null}return i.child}function zf(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&xu(t)))}function NA(t,i,a){switch(i.tag){case 3:Ze(i,i.stateNode.containerInfo),ar(i,At,t.memoizedState.cache),Mo();break;case 27:case 5:Zi(i);break;case 4:Ze(i,i.stateNode.containerInfo);break;case 10:ar(i,i.type,i.memoizedProps.value);break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(hr(i),i.flags|=128,null):(a&i.child.childLanes)!==0?ly(t,i,a):(hr(i),t=Vi(t,i,a),t!==null?t.sibling:null);hr(i);break;case 19:var h=(t.flags&128)!==0;if(l=(a&i.childLanes)!==0,l||(ko(t,i,a,!1),l=(a&i.childLanes)!==0),h){if(l)return cy(t,i,a);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),ie(St,St.current),l)break;return null;case 22:case 23:return i.lanes=0,iy(t,i,a);case 24:ar(i,At,t.memoizedState.cache)}return Vi(t,i,a)}function hy(t,i,a){if(t!==null)if(t.memoizedProps!==i.pendingProps)Nt=!0;else{if(!zf(t,a)&&(i.flags&128)===0)return Nt=!1,NA(t,i,a);Nt=(t.flags&131072)!==0}else Nt=!1,Be&&(i.flags&1048576)!==0&&Bp(i,Ou,i.index);switch(i.lanes=0,i.tag){case 16:e:{t=i.pendingProps;var l=i.elementType,h=l._init;if(l=h(l._payload),i.type=l,typeof l=="function")Kh(l)?(t=Rs(l,t),i.tag=1,i=ay(null,i,l,t,a)):(i.tag=0,i=xf(null,i,l,t,a));else{if(l!=null){if(h=l.$$typeof,h===fe){i.tag=11,i=ey(null,i,l,t,a);break e}else if(h===x){i.tag=14,i=ty(null,i,l,t,a);break e}}throw i=Vt(l)||l,Error(s(306,i,""))}}return i;case 0:return xf(t,i,i.type,i.pendingProps,a);case 1:return l=i.type,h=Rs(l,i.pendingProps),ay(t,i,l,h,a);case 3:e:{if(Ze(i,i.stateNode.containerInfo),t===null)throw Error(s(387));l=i.pendingProps;var d=i.memoizedState;h=d.element,lf(t,i),Ho(i,l,null,a);var v=i.memoizedState;if(l=v.cache,ar(i,At,l),l!==d.cache&&tf(i,[At],a,!0),Bo(),l=v.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:v.cache},i.updateQueue.baseState=d,i.memoizedState=d,i.flags&256){i=oy(t,i,l,a);break e}else if(l!==h){h=Tn(Error(s(424)),i),Vo(h),i=oy(t,i,l,a);break e}else{switch(t=i.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(ot=Ln(t.firstChild),Jt=i,Be=!0,Es=null,Jn=!0,a=qg(i,null,l,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Mo(),l===h){i=Vi(t,i,a);break e}Lt(t,i,l,a)}i=i.child}return i;case 26:return Wu(t,i),t===null?(a=p_(i.type,null,i.pendingProps,null))?i.memoizedState=a:Be||(a=i.type,t=i.pendingProps,l=fc(Ae.current).createElement(a),l[vt]=i,l[mt]=t,zt(l,a,t),ct(l),i.stateNode=l):i.memoizedState=p_(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return Zi(i),t===null&&Be&&(l=i.stateNode=f_(i.type,i.pendingProps,Ae.current),Jt=i,Jn=!0,h=ot,Tr(i.type)?(vd=h,ot=Ln(l.firstChild)):ot=h),Lt(t,i,i.pendingProps.children,a),Wu(t,i),t===null&&(i.flags|=4194304),i.child;case 5:return t===null&&Be&&((h=l=ot)&&(l=rS(l,i.type,i.pendingProps,Jn),l!==null?(i.stateNode=l,Jt=i,ot=Ln(l.firstChild),Jn=!1,h=!0):h=!1),h||Ts(i)),Zi(i),h=i.type,d=i.pendingProps,v=t!==null?t.memoizedProps:null,l=d.children,pd(h,d)?l=null:v!==null&&pd(h,v)&&(i.flags|=32),i.memoizedState!==null&&(h=mf(t,i,AA,null,null,a),cl._currentValue=h),Wu(t,i),Lt(t,i,l,a),i.child;case 6:return t===null&&Be&&((t=a=ot)&&(a=sS(a,i.pendingProps,Jn),a!==null?(i.stateNode=a,Jt=i,ot=null,t=!0):t=!1),t||Ts(i)),null;case 13:return ly(t,i,a);case 4:return Ze(i,i.stateNode.containerInfo),l=i.pendingProps,t===null?i.child=Ta(i,null,l,a):Lt(t,i,l,a),i.child;case 11:return ey(t,i,i.type,i.pendingProps,a);case 7:return Lt(t,i,i.pendingProps,a),i.child;case 8:return Lt(t,i,i.pendingProps.children,a),i.child;case 12:return Lt(t,i,i.pendingProps.children,a),i.child;case 10:return l=i.pendingProps,ar(i,i.type,l.value),Lt(t,i,l.children,a),i.child;case 9:return h=i.type._context,l=i.pendingProps.children,Ss(i),h=Ft(h),l=l(h),i.flags|=1,Lt(t,i,l,a),i.child;case 14:return ty(t,i,i.type,i.pendingProps,a);case 15:return ny(t,i,i.type,i.pendingProps,a);case 19:return cy(t,i,a);case 31:return l=i.pendingProps,a=i.mode,l={mode:l.mode,children:l.children},t===null?(a=Zu(l,a),a.ref=i.ref,i.child=a,a.return=i,i=a):(a=Ci(t.child,l),a.ref=i.ref,i.child=a,a.return=i,i=a),i;case 22:return iy(t,i,a);case 24:return Ss(i),l=Ft(At),t===null?(h=sf(),h===null&&(h=Je,d=nf(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=a),h=d),i.memoizedState={parent:l,cache:h},of(i),ar(i,At,h)):((t.lanes&a)!==0&&(lf(t,i),Ho(i,null,null,a),Bo()),h=t.memoizedState,d=i.memoizedState,h.parent!==l?(h={parent:l,cache:l},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),ar(i,At,l)):(l=d.cache,ar(i,At,l),l!==h.cache&&tf(i,[At],a,!0))),Lt(t,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function ki(t){t.flags|=4}function fy(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!E_(i)){if(i=wn.current,i!==null&&((Le&4194048)===Le?ei!==null:(Le&62914560)!==Le&&(Le&536870912)===0||i!==ei))throw zo=af,Xp;t.flags|=8192}}function Ju(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?ho():536870912,t.lanes|=i,wa|=i)}function Xo(t,i){if(!Be)switch(t.tailMode){case"hidden":i=t.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function nt(t){var i=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(i)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=a,i}function OA(t,i,a){var l=i.pendingProps;switch(Wh(i),i.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return nt(i),null;case 1:return nt(i),null;case 3:return a=i.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),Oi(At),Bn(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(xo(i)?ki(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Fp())),nt(i),null;case 26:return a=i.memoizedState,t===null?(ki(i),a!==null?(nt(i),fy(i,a)):(nt(i),i.flags&=-16777217)):a?a!==t.memoizedState?(ki(i),nt(i),fy(i,a)):(nt(i),i.flags&=-16777217):(t.memoizedProps!==l&&ki(i),nt(i),i.flags&=-16777217),null;case 27:mi(i),a=Ae.current;var h=i.type;if(t!==null&&i.stateNode!=null)t.memoizedProps!==l&&ki(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return nt(i),null}t=me.current,xo(i)?Hp(i):(t=f_(h,l,a),i.stateNode=t,ki(i))}return nt(i),null;case 5:if(mi(i),a=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&ki(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return nt(i),null}if(t=me.current,xo(i))Hp(i);else{switch(h=fc(Ae.current),t){case 1:t=h.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:t=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":t=h.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":t=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":t=h.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?h.createElement("select",{is:l.is}):h.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?h.createElement(a,{is:l.is}):h.createElement(a)}}t[vt]=i,t[mt]=l;e:for(h=i.child;h!==null;){if(h.tag===5||h.tag===6)t.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===i)break e;for(;h.sibling===null;){if(h.return===null||h.return===i)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}i.stateNode=t;e:switch(zt(t,a,l),a){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&ki(i)}}return nt(i),i.flags&=-16777217,null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==l&&ki(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(s(166));if(t=Ae.current,xo(i)){if(t=i.stateNode,a=i.memoizedProps,l=null,h=Jt,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[vt]=i,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||s_(t.nodeValue,a)),t||Ts(i)}else t=fc(t).createTextNode(l),t[vt]=i,i.stateNode=t}return nt(i),null;case 13:if(l=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=xo(i),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(s(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[vt]=i}else Mo(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;nt(i),h=!1}else h=Fp(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return i.flags&256?(Mi(i),i):(Mi(i),null)}if(Mi(i),(i.flags&128)!==0)return i.lanes=a,i;if(a=l!==null,t=t!==null&&t.memoizedState!==null,a){l=i.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool);var d=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)}return a!==t&&a&&(i.child.flags|=8192),Ju(i,i.updateQueue),nt(i),null;case 4:return Bn(),t===null&&cd(i.stateNode.containerInfo),nt(i),null;case 10:return Oi(i.type),nt(i),null;case 19:if(oe(St),h=i.memoizedState,h===null)return nt(i),null;if(l=(i.flags&128)!==0,d=h.rendering,d===null)if(l)Xo(h,!1);else{if(lt!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(d=Yu(t),d!==null){for(i.flags|=128,Xo(h,!1),t=d.updateQueue,i.updateQueue=t,Ju(i,t),i.subtreeFlags=0,t=a,a=i.child;a!==null;)jp(a,t),a=a.sibling;return ie(St,St.current&1|2),i.child}t=t.sibling}h.tail!==null&&pn()>nc&&(i.flags|=128,l=!0,Xo(h,!1),i.lanes=4194304)}else{if(!l)if(t=Yu(d),t!==null){if(i.flags|=128,l=!0,t=t.updateQueue,i.updateQueue=t,Ju(i,t),Xo(h,!0),h.tail===null&&h.tailMode==="hidden"&&!d.alternate&&!Be)return nt(i),null}else 2*pn()-h.renderingStartTime>nc&&a!==536870912&&(i.flags|=128,l=!0,Xo(h,!1),i.lanes=4194304);h.isBackwards?(d.sibling=i.child,i.child=d):(t=h.last,t!==null?t.sibling=d:i.child=d,h.last=d)}return h.tail!==null?(i=h.tail,h.rendering=i,h.tail=i.sibling,h.renderingStartTime=pn(),i.sibling=null,t=St.current,ie(St,l?t&1|2:t&1),i):(nt(i),null);case 22:case 23:return Mi(i),ff(),l=i.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(a&536870912)!==0&&(i.flags&128)===0&&(nt(i),i.subtreeFlags&6&&(i.flags|=8192)):nt(i),a=i.updateQueue,a!==null&&Ju(i,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==a&&(i.flags|=2048),t!==null&&oe(bs),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),Oi(At),nt(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function xA(t,i){switch(Wh(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return Oi(At),Bn(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return mi(i),null;case 13:if(Mi(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(s(340));Mo()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return oe(St),null;case 4:return Bn(),null;case 10:return Oi(i.type),null;case 22:case 23:return Mi(i),ff(),t!==null&&oe(bs),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return Oi(At),null;case 25:return null;default:return null}}function dy(t,i){switch(Wh(i),i.tag){case 3:Oi(At),Bn();break;case 26:case 27:case 5:mi(i);break;case 4:Bn();break;case 13:Mi(i);break;case 19:oe(St);break;case 10:Oi(i.type);break;case 22:case 23:Mi(i),ff(),t!==null&&oe(bs);break;case 24:Oi(At)}}function $o(t,i){try{var a=i.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&t)===t){l=void 0;var d=a.create,v=a.inst;l=d(),v.destroy=l}a=a.next}while(a!==h)}}catch(T){We(i,i.return,T)}}function dr(t,i,a){try{var l=i.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&t)===t){var v=l.inst,T=v.destroy;if(T!==void 0){v.destroy=void 0,h=i;var R=a,B=T;try{B()}catch(Y){We(h,R,Y)}}}l=l.next}while(l!==d)}}catch(Y){We(i,i.return,Y)}}function my(t){var i=t.updateQueue;if(i!==null){var a=t.stateNode;try{tg(i,a)}catch(l){We(t,t.return,l)}}}function py(t,i,a){a.props=Rs(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){We(t,i,l)}}function Wo(t,i){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(h){We(t,i,h)}}function ti(t,i){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){We(t,i,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){We(t,i,h)}else a.current=null}function gy(t){var i=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){We(t,t.return,h)}}function jf(t,i,a){try{var l=t.stateNode;JA(l,t.type,a,i),l[mt]=i}catch(h){We(t,t.return,h)}}function yy(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Tr(t.type)||t.tag===4}function Bf(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||yy(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Tr(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Hf(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(t),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=hc));else if(l!==4&&(l===27&&Tr(t.type)&&(a=t.stateNode,i=null),t=t.child,t!==null))for(Hf(t,i,a),t=t.sibling;t!==null;)Hf(t,i,a),t=t.sibling}function ec(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?a.insertBefore(t,i):a.appendChild(t);else if(l!==4&&(l===27&&Tr(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(ec(t,i,a),t=t.sibling;t!==null;)ec(t,i,a),t=t.sibling}function _y(t){var i=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);zt(i,l,a),i[vt]=t,i[mt]=a}catch(d){We(t,t.return,d)}}var Pi=!1,ft=!1,qf=!1,vy=typeof WeakSet=="function"?WeakSet:Set,Ot=null;function MA(t,i){if(t=t.containerInfo,dd=_c,t=Np(t),jh(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var v=0,T=-1,R=-1,B=0,Y=0,Z=t,H=null;t:for(;;){for(var q;Z!==a||h!==0&&Z.nodeType!==3||(T=v+h),Z!==d||l!==0&&Z.nodeType!==3||(R=v+l),Z.nodeType===3&&(v+=Z.nodeValue.length),(q=Z.firstChild)!==null;)H=Z,Z=q;for(;;){if(Z===t)break t;if(H===a&&++B===h&&(T=v),H===d&&++Y===l&&(R=v),(q=Z.nextSibling)!==null)break;Z=H,H=Z.parentNode}Z=q}a=T===-1||R===-1?null:{start:T,end:R}}else a=null}a=a||{start:0,end:0}}else a=null;for(md={focusedElem:t,selectionRange:a},_c=!1,Ot=i;Ot!==null;)if(i=Ot,t=i.child,(i.subtreeFlags&1024)!==0&&t!==null)t.return=i,Ot=t;else for(;Ot!==null;){switch(i=Ot,d=i.alternate,t=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,a=i,h=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var Ee=Rs(a.type,h,a.elementType===a.type);t=l.getSnapshotBeforeUpdate(Ee,d),l.__reactInternalSnapshotBeforeUpdate=t}catch(pe){We(a,a.return,pe)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,a=t.nodeType,a===9)yd(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":yd(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=i.sibling,t!==null){t.return=i.return,Ot=t;break}Ot=i.return}}function Ey(t,i,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:mr(t,a),l&4&&$o(5,a);break;case 1:if(mr(t,a),l&4)if(t=a.stateNode,i===null)try{t.componentDidMount()}catch(v){We(a,a.return,v)}else{var h=Rs(a.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(h,i,t.__reactInternalSnapshotBeforeUpdate)}catch(v){We(a,a.return,v)}}l&64&&my(a),l&512&&Wo(a,a.return);break;case 3:if(mr(t,a),l&64&&(t=a.updateQueue,t!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{tg(t,i)}catch(v){We(a,a.return,v)}}break;case 27:i===null&&l&4&&_y(a);case 26:case 5:mr(t,a),i===null&&l&4&&gy(a),l&512&&Wo(a,a.return);break;case 12:mr(t,a);break;case 13:mr(t,a),l&4&&Sy(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=HA.bind(null,a),aS(t,a))));break;case 22:if(l=a.memoizedState!==null||Pi,!l){i=i!==null&&i.memoizedState!==null||ft,h=Pi;var d=ft;Pi=l,(ft=i)&&!d?pr(t,a,(a.subtreeFlags&8772)!==0):mr(t,a),Pi=h,ft=d}break;case 30:break;default:mr(t,a)}}function Ty(t){var i=t.alternate;i!==null&&(t.alternate=null,Ty(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&nr(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var tt=null,tn=!1;function Li(t,i,a){for(a=a.child;a!==null;)Ay(t,i,a),a=a.sibling}function Ay(t,i,a){if(Fe&&typeof Fe.onCommitFiberUnmount=="function")try{Fe.onCommitFiberUnmount(at,a)}catch{}switch(a.tag){case 26:ft||ti(a,i),Li(t,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:ft||ti(a,i);var l=tt,h=tn;Tr(a.type)&&(tt=a.stateNode,tn=!1),Li(t,i,a),al(a.stateNode),tt=l,tn=h;break;case 5:ft||ti(a,i);case 6:if(l=tt,h=tn,tt=null,Li(t,i,a),tt=l,tn=h,tt!==null)if(tn)try{(tt.nodeType===9?tt.body:tt.nodeName==="HTML"?tt.ownerDocument.body:tt).removeChild(a.stateNode)}catch(d){We(a,i,d)}else try{tt.removeChild(a.stateNode)}catch(d){We(a,i,d)}break;case 18:tt!==null&&(tn?(t=tt,c_(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),ml(t)):c_(tt,a.stateNode));break;case 4:l=tt,h=tn,tt=a.stateNode.containerInfo,tn=!0,Li(t,i,a),tt=l,tn=h;break;case 0:case 11:case 14:case 15:ft||dr(2,a,i),ft||dr(4,a,i),Li(t,i,a);break;case 1:ft||(ti(a,i),l=a.stateNode,typeof l.componentWillUnmount=="function"&&py(a,i,l)),Li(t,i,a);break;case 21:Li(t,i,a);break;case 22:ft=(l=ft)||a.memoizedState!==null,Li(t,i,a),ft=l;break;default:Li(t,i,a)}}function Sy(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{ml(t)}catch(a){We(i,i.return,a)}}function VA(t){switch(t.tag){case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new vy),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new vy),i;default:throw Error(s(435,t.tag))}}function Ff(t,i){var a=VA(t);i.forEach(function(l){var h=qA.bind(null,t,l);a.has(l)||(a.add(l),l.then(h,h))})}function un(t,i){var a=i.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],d=t,v=i,T=v;e:for(;T!==null;){switch(T.tag){case 27:if(Tr(T.type)){tt=T.stateNode,tn=!1;break e}break;case 5:tt=T.stateNode,tn=!1;break e;case 3:case 4:tt=T.stateNode.containerInfo,tn=!0;break e}T=T.return}if(tt===null)throw Error(s(160));Ay(d,v,h),tt=null,tn=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)by(i,t),i=i.sibling}var Pn=null;function by(t,i){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:un(i,t),cn(t),l&4&&(dr(3,t,t.return),$o(3,t),dr(5,t,t.return));break;case 1:un(i,t),cn(t),l&512&&(ft||a===null||ti(a,a.return)),l&64&&Pi&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=Pn;if(un(i,t),cn(t),l&512&&(ft||a===null||ti(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[ts]||d[vt]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),zt(d,l,a),d[vt]=t,ct(d),l=d;break e;case"link":var v=__("link","href",h).get(l+(a.href||""));if(v){for(var T=0;T<v.length;T++)if(d=v[T],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){v.splice(T,1);break t}}d=h.createElement(l),zt(d,l,a),h.head.appendChild(d);break;case"meta":if(v=__("meta","content",h).get(l+(a.content||""))){for(T=0;T<v.length;T++)if(d=v[T],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){v.splice(T,1);break t}}d=h.createElement(l),zt(d,l,a),h.head.appendChild(d);break;default:throw Error(s(468,l))}d[vt]=t,ct(d),l=d}t.stateNode=l}else v_(h,t.type,t.stateNode);else t.stateNode=y_(h,l,t.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?v_(h,t.type,t.stateNode):y_(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&jf(t,t.memoizedProps,a.memoizedProps)}break;case 27:un(i,t),cn(t),l&512&&(ft||a===null||ti(a,a.return)),a!==null&&l&4&&jf(t,t.memoizedProps,a.memoizedProps);break;case 5:if(un(i,t),cn(t),l&512&&(ft||a===null||ti(a,a.return)),t.flags&32){h=t.stateNode;try{yn(h,"")}catch(q){We(t,t.return,q)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,jf(t,h,a!==null?a.memoizedProps:h)),l&1024&&(qf=!0);break;case 6:if(un(i,t),cn(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(q){We(t,t.return,q)}}break;case 3:if(pc=null,h=Pn,Pn=dc(i.containerInfo),un(i,t),Pn=h,cn(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{ml(i.containerInfo)}catch(q){We(t,t.return,q)}qf&&(qf=!1,wy(t));break;case 4:l=Pn,Pn=dc(t.stateNode.containerInfo),un(i,t),cn(t),Pn=l;break;case 12:un(i,t),cn(t);break;case 13:un(i,t),cn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&($f=pn()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Ff(t,l)));break;case 22:h=t.memoizedState!==null;var R=a!==null&&a.memoizedState!==null,B=Pi,Y=ft;if(Pi=B||h,ft=Y||R,un(i,t),ft=Y,Pi=B,cn(t),l&8192)e:for(i=t.stateNode,i._visibility=h?i._visibility&-2:i._visibility|1,h&&(a===null||R||Pi||ft||Cs(t)),a=null,i=t;;){if(i.tag===5||i.tag===26){if(a===null){R=a=i;try{if(d=R.stateNode,h)v=d.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{T=R.stateNode;var Z=R.memoizedProps.style,H=Z!=null&&Z.hasOwnProperty("display")?Z.display:null;T.style.display=H==null||typeof H=="boolean"?"":(""+H).trim()}}catch(q){We(R,R.return,q)}}}else if(i.tag===6){if(a===null){R=i;try{R.stateNode.nodeValue=h?"":R.memoizedProps}catch(q){We(R,R.return,q)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Ff(t,a))));break;case 19:un(i,t),cn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Ff(t,l)));break;case 30:break;case 21:break;default:un(i,t),cn(t)}}function cn(t){var i=t.flags;if(i&2){try{for(var a,l=t.return;l!==null;){if(yy(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var h=a.stateNode,d=Bf(t);ec(t,d,h);break;case 5:var v=a.stateNode;a.flags&32&&(yn(v,""),a.flags&=-33);var T=Bf(t);ec(t,T,v);break;case 3:case 4:var R=a.stateNode.containerInfo,B=Bf(t);Hf(t,B,R);break;default:throw Error(s(161))}}catch(Y){We(t,t.return,Y)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function wy(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;wy(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function mr(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)Ey(t,i.alternate,i),i=i.sibling}function Cs(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:dr(4,i,i.return),Cs(i);break;case 1:ti(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&py(i,i.return,a),Cs(i);break;case 27:al(i.stateNode);case 26:case 5:ti(i,i.return),Cs(i);break;case 22:i.memoizedState===null&&Cs(i);break;case 30:Cs(i);break;default:Cs(i)}t=t.sibling}}function pr(t,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,h=t,d=i,v=d.flags;switch(d.tag){case 0:case 11:case 15:pr(h,d,a),$o(4,d);break;case 1:if(pr(h,d,a),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(B){We(l,l.return,B)}if(l=d,h=l.updateQueue,h!==null){var T=l.stateNode;try{var R=h.shared.hiddenCallbacks;if(R!==null)for(h.shared.hiddenCallbacks=null,h=0;h<R.length;h++)eg(R[h],T)}catch(B){We(l,l.return,B)}}a&&v&64&&my(d),Wo(d,d.return);break;case 27:_y(d);case 26:case 5:pr(h,d,a),a&&l===null&&v&4&&gy(d),Wo(d,d.return);break;case 12:pr(h,d,a);break;case 13:pr(h,d,a),a&&v&4&&Sy(h,d);break;case 22:d.memoizedState===null&&pr(h,d,a),Wo(d,d.return);break;case 30:break;default:pr(h,d,a)}i=i.sibling}}function Gf(t,i){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&Po(a))}function Qf(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&Po(t))}function ni(t,i,a,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Ry(t,i,a,l),i=i.sibling}function Ry(t,i,a,l){var h=i.flags;switch(i.tag){case 0:case 11:case 15:ni(t,i,a,l),h&2048&&$o(9,i);break;case 1:ni(t,i,a,l);break;case 3:ni(t,i,a,l),h&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&Po(t)));break;case 12:if(h&2048){ni(t,i,a,l),t=i.stateNode;try{var d=i.memoizedProps,v=d.id,T=d.onPostCommit;typeof T=="function"&&T(v,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(R){We(i,i.return,R)}}else ni(t,i,a,l);break;case 13:ni(t,i,a,l);break;case 23:break;case 22:d=i.stateNode,v=i.alternate,i.memoizedState!==null?d._visibility&2?ni(t,i,a,l):Zo(t,i):d._visibility&2?ni(t,i,a,l):(d._visibility|=2,Aa(t,i,a,l,(i.subtreeFlags&10256)!==0)),h&2048&&Gf(v,i);break;case 24:ni(t,i,a,l),h&2048&&Qf(i.alternate,i);break;default:ni(t,i,a,l)}}function Aa(t,i,a,l,h){for(h=h&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var d=t,v=i,T=a,R=l,B=v.flags;switch(v.tag){case 0:case 11:case 15:Aa(d,v,T,R,h),$o(8,v);break;case 23:break;case 22:var Y=v.stateNode;v.memoizedState!==null?Y._visibility&2?Aa(d,v,T,R,h):Zo(d,v):(Y._visibility|=2,Aa(d,v,T,R,h)),h&&B&2048&&Gf(v.alternate,v);break;case 24:Aa(d,v,T,R,h),h&&B&2048&&Qf(v.alternate,v);break;default:Aa(d,v,T,R,h)}i=i.sibling}}function Zo(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=t,l=i,h=l.flags;switch(l.tag){case 22:Zo(a,l),h&2048&&Gf(l.alternate,l);break;case 24:Zo(a,l),h&2048&&Qf(l.alternate,l);break;default:Zo(a,l)}i=i.sibling}}var Jo=8192;function Sa(t){if(t.subtreeFlags&Jo)for(t=t.child;t!==null;)Cy(t),t=t.sibling}function Cy(t){switch(t.tag){case 26:Sa(t),t.flags&Jo&&t.memoizedState!==null&&vS(Pn,t.memoizedState,t.memoizedProps);break;case 5:Sa(t);break;case 3:case 4:var i=Pn;Pn=dc(t.stateNode.containerInfo),Sa(t),Pn=i;break;case 22:t.memoizedState===null&&(i=t.alternate,i!==null&&i.memoizedState!==null?(i=Jo,Jo=16777216,Sa(t),Jo=i):Sa(t));break;default:Sa(t)}}function Iy(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function el(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Ot=l,Ny(l,t)}Iy(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Dy(t),t=t.sibling}function Dy(t){switch(t.tag){case 0:case 11:case 15:el(t),t.flags&2048&&dr(9,t,t.return);break;case 3:el(t);break;case 12:el(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&2&&(t.return===null||t.return.tag!==13)?(i._visibility&=-3,tc(t)):el(t);break;default:el(t)}}function tc(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Ot=l,Ny(l,t)}Iy(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:dr(8,i,i.return),tc(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,tc(i));break;default:tc(i)}t=t.sibling}}function Ny(t,i){for(;Ot!==null;){var a=Ot;switch(a.tag){case 0:case 11:case 15:dr(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Po(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Ot=l;else e:for(a=t;Ot!==null;){l=Ot;var h=l.sibling,d=l.return;if(Ty(l),l===a){Ot=null;break e}if(h!==null){h.return=d,Ot=h;break e}Ot=d}}}var kA={getCacheForType:function(t){var i=Ft(At),a=i.data.get(t);return a===void 0&&(a=t(),i.data.set(t,a)),a}},PA=typeof WeakMap=="function"?WeakMap:Map,Ge=0,Je=null,Oe=null,Le=0,Qe=0,hn=null,gr=!1,ba=!1,Kf=!1,Ui=0,lt=0,yr=0,Is=0,Yf=0,Rn=0,wa=0,tl=null,nn=null,Xf=!1,$f=0,nc=1/0,ic=null,_r=null,Ut=0,vr=null,Ra=null,Ca=0,Wf=0,Zf=null,Oy=null,nl=0,Jf=null;function fn(){if((Ge&2)!==0&&Le!==0)return Le&-Le;if(K.T!==null){var t=ma;return t!==0?t:ad()}return er()}function xy(){Rn===0&&(Rn=(Le&536870912)===0||Be?co():536870912);var t=wn.current;return t!==null&&(t.flags|=32),Rn}function dn(t,i,a){(t===Je&&(Qe===2||Qe===9)||t.cancelPendingCommit!==null)&&(Ia(t,0),Er(t,Le,Rn,!1)),gi(t,a),((Ge&2)===0||t!==Je)&&(t===Je&&((Ge&2)===0&&(Is|=a),lt===4&&Er(t,Le,Rn,!1)),ii(t))}function My(t,i,a){if((Ge&6)!==0)throw Error(s(327));var l=!a&&(i&124)===0&&(i&t.expiredLanes)===0||es(t,i),h=l?zA(t,i):nd(t,i,!0),d=l;do{if(h===0){ba&&!l&&Er(t,i,0,!1);break}else{if(a=t.current.alternate,d&&!LA(a)){h=nd(t,i,!1),d=!1;continue}if(h===2){if(d=i,t.errorRecoveryDisabledLanes&d)var v=0;else v=t.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){i=v;e:{var T=t;h=tl;var R=T.current.memoizedState.isDehydrated;if(R&&(Ia(T,v).flags|=256),v=nd(T,v,!1),v!==2){if(Kf&&!R){T.errorRecoveryDisabledLanes|=d,Is|=d,h=4;break e}d=nn,nn=h,d!==null&&(nn===null?nn=d:nn.push.apply(nn,d))}h=v}if(d=!1,h!==2)continue}}if(h===1){Ia(t,0),Er(t,i,0,!0);break}e:{switch(l=t,d=h,d){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:Er(l,i,Rn,!gr);break e;case 2:nn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(h=$f+300-pn(),10<h)){if(Er(l,i,Rn,!gr),Gs(l,0,!0)!==0)break e;l.timeoutHandle=l_(Vy.bind(null,l,a,nn,ic,Xf,i,Rn,Is,wa,gr,d,2,-0,0),h);break e}Vy(l,a,nn,ic,Xf,i,Rn,Is,wa,gr,d,0,-0,0)}}break}while(!0);ii(t)}function Vy(t,i,a,l,h,d,v,T,R,B,Y,Z,H,q){if(t.timeoutHandle=-1,Z=i.subtreeFlags,(Z&8192||(Z&16785408)===16785408)&&(ul={stylesheets:null,count:0,unsuspend:_S},Cy(i),Z=ES(),Z!==null)){t.cancelPendingCommit=Z(By.bind(null,t,i,d,a,l,h,v,T,R,Y,1,H,q)),Er(t,d,v,!B);return}By(t,i,d,a,l,h,v,T,R)}function LA(t){for(var i=t;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],d=h.getSnapshot;h=h.value;try{if(!on(d(),h))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Er(t,i,a,l){i&=~Yf,i&=~Is,t.suspendedLanes|=i,t.pingedLanes&=~i,l&&(t.warmLanes|=i),l=t.expirationTimes;for(var h=i;0<h;){var d=31-qt(h),v=1<<d;l[d]=-1,h&=~v}a!==0&&Hn(t,a,i)}function rc(){return(Ge&6)===0?(il(0),!1):!0}function ed(){if(Oe!==null){if(Qe===0)var t=Oe.return;else t=Oe,Ni=As=null,yf(t),Ea=null,Ko=0,t=Oe;for(;t!==null;)dy(t.alternate,t),t=t.return;Oe=null}}function Ia(t,i){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,tS(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),ed(),Je=t,Oe=a=Ci(t.current,null),Le=i,Qe=0,hn=null,gr=!1,ba=es(t,i),Kf=!1,wa=Rn=Yf=Is=yr=lt=0,nn=tl=null,Xf=!1,(i&8)!==0&&(i|=i&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=i;0<l;){var h=31-qt(l),d=1<<h;i|=t[h],l&=~d}return Ui=i,Ru(),a}function ky(t,i){Ce=null,K.H=Gu,i===Uo||i===ku?(i=Zp(),Qe=3):i===Xp?(i=Zp(),Qe=4):Qe=i===Jg?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,hn=i,Oe===null&&(lt=1,$u(t,Tn(i,t.current)))}function Py(){var t=K.H;return K.H=Gu,t===null?Gu:t}function Ly(){var t=K.A;return K.A=kA,t}function td(){lt=4,gr||(Le&4194048)!==Le&&wn.current!==null||(ba=!0),(yr&134217727)===0&&(Is&134217727)===0||Je===null||Er(Je,Le,Rn,!1)}function nd(t,i,a){var l=Ge;Ge|=2;var h=Py(),d=Ly();(Je!==t||Le!==i)&&(ic=null,Ia(t,i)),i=!1;var v=lt;e:do try{if(Qe!==0&&Oe!==null){var T=Oe,R=hn;switch(Qe){case 8:ed(),v=6;break e;case 3:case 2:case 9:case 6:wn.current===null&&(i=!0);var B=Qe;if(Qe=0,hn=null,Da(t,T,R,B),a&&ba){v=0;break e}break;default:B=Qe,Qe=0,hn=null,Da(t,T,R,B)}}UA(),v=lt;break}catch(Y){ky(t,Y)}while(!0);return i&&t.shellSuspendCounter++,Ni=As=null,Ge=l,K.H=h,K.A=d,Oe===null&&(Je=null,Le=0,Ru()),v}function UA(){for(;Oe!==null;)Uy(Oe)}function zA(t,i){var a=Ge;Ge|=2;var l=Py(),h=Ly();Je!==t||Le!==i?(ic=null,nc=pn()+500,Ia(t,i)):ba=es(t,i);e:do try{if(Qe!==0&&Oe!==null){i=Oe;var d=hn;t:switch(Qe){case 1:Qe=0,hn=null,Da(t,i,d,1);break;case 2:case 9:if($p(d)){Qe=0,hn=null,zy(i);break}i=function(){Qe!==2&&Qe!==9||Je!==t||(Qe=7),ii(t)},d.then(i,i);break e;case 3:Qe=7;break e;case 4:Qe=5;break e;case 7:$p(d)?(Qe=0,hn=null,zy(i)):(Qe=0,hn=null,Da(t,i,d,7));break;case 5:var v=null;switch(Oe.tag){case 26:v=Oe.memoizedState;case 5:case 27:var T=Oe;if(!v||E_(v)){Qe=0,hn=null;var R=T.sibling;if(R!==null)Oe=R;else{var B=T.return;B!==null?(Oe=B,sc(B)):Oe=null}break t}}Qe=0,hn=null,Da(t,i,d,5);break;case 6:Qe=0,hn=null,Da(t,i,d,6);break;case 8:ed(),lt=6;break e;default:throw Error(s(462))}}jA();break}catch(Y){ky(t,Y)}while(!0);return Ni=As=null,K.H=l,K.A=h,Ge=a,Oe!==null?0:(Je=null,Le=0,Ru(),lt)}function jA(){for(;Oe!==null&&!ao();)Uy(Oe)}function Uy(t){var i=hy(t.alternate,t,Ui);t.memoizedProps=t.pendingProps,i===null?sc(t):Oe=i}function zy(t){var i=t,a=i.alternate;switch(i.tag){case 15:case 0:i=sy(a,i,i.pendingProps,i.type,void 0,Le);break;case 11:i=sy(a,i,i.pendingProps,i.type.render,i.ref,Le);break;case 5:yf(i);default:dy(a,i),i=Oe=jp(i,Ui),i=hy(a,i,Ui)}t.memoizedProps=t.pendingProps,i===null?sc(t):Oe=i}function Da(t,i,a,l){Ni=As=null,yf(i),Ea=null,Ko=0;var h=i.return;try{if(DA(t,h,i,a,Le)){lt=1,$u(t,Tn(a,t.current)),Oe=null;return}}catch(d){if(h!==null)throw Oe=h,d;lt=1,$u(t,Tn(a,t.current)),Oe=null;return}i.flags&32768?(Be||l===1?t=!0:ba||(Le&536870912)!==0?t=!1:(gr=t=!0,(l===2||l===9||l===3||l===6)&&(l=wn.current,l!==null&&l.tag===13&&(l.flags|=16384))),jy(i,t)):sc(i)}function sc(t){var i=t;do{if((i.flags&32768)!==0){jy(i,gr);return}t=i.return;var a=OA(i.alternate,i,Ui);if(a!==null){Oe=a;return}if(i=i.sibling,i!==null){Oe=i;return}Oe=i=t}while(i!==null);lt===0&&(lt=5)}function jy(t,i){do{var a=xA(t.alternate,t);if(a!==null){a.flags&=32767,Oe=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(t=t.sibling,t!==null)){Oe=t;return}Oe=t=a}while(t!==null);lt=6,Oe=null}function By(t,i,a,l,h,d,v,T,R){t.cancelPendingCommit=null;do ac();while(Ut!==0);if((Ge&6)!==0)throw Error(s(327));if(i!==null){if(i===t.current)throw Error(s(177));if(d=i.lanes|i.childLanes,d|=Gh,fo(t,a,d,v,T,R),t===Je&&(Oe=Je=null,Le=0),Ra=i,vr=t,Ca=a,Wf=d,Zf=h,Oy=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,FA($r,function(){return Qy(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=K.T,K.T=null,h=ae.p,ae.p=2,v=Ge,Ge|=4;try{MA(t,i,a)}finally{Ge=v,ae.p=h,K.T=l}}Ut=1,Hy(),qy(),Fy()}}function Hy(){if(Ut===1){Ut=0;var t=vr,i=Ra,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=K.T,K.T=null;var l=ae.p;ae.p=2;var h=Ge;Ge|=4;try{by(i,t);var d=md,v=Np(t.containerInfo),T=d.focusedElem,R=d.selectionRange;if(v!==T&&T&&T.ownerDocument&&Dp(T.ownerDocument.documentElement,T)){if(R!==null&&jh(T)){var B=R.start,Y=R.end;if(Y===void 0&&(Y=B),"selectionStart"in T)T.selectionStart=B,T.selectionEnd=Math.min(Y,T.value.length);else{var Z=T.ownerDocument||document,H=Z&&Z.defaultView||window;if(H.getSelection){var q=H.getSelection(),Ee=T.textContent.length,pe=Math.min(R.start,Ee),$e=R.end===void 0?pe:Math.min(R.end,Ee);!q.extend&&pe>$e&&(v=$e,$e=pe,pe=v);var V=Ip(T,pe),O=Ip(T,$e);if(V&&O&&(q.rangeCount!==1||q.anchorNode!==V.node||q.anchorOffset!==V.offset||q.focusNode!==O.node||q.focusOffset!==O.offset)){var j=Z.createRange();j.setStart(V.node,V.offset),q.removeAllRanges(),pe>$e?(q.addRange(j),q.extend(O.node,O.offset)):(j.setEnd(O.node,O.offset),q.addRange(j))}}}}for(Z=[],q=T;q=q.parentNode;)q.nodeType===1&&Z.push({element:q,left:q.scrollLeft,top:q.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<Z.length;T++){var X=Z[T];X.element.scrollLeft=X.left,X.element.scrollTop=X.top}}_c=!!dd,md=dd=null}finally{Ge=h,ae.p=l,K.T=a}}t.current=i,Ut=2}}function qy(){if(Ut===2){Ut=0;var t=vr,i=Ra,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=K.T,K.T=null;var l=ae.p;ae.p=2;var h=Ge;Ge|=4;try{Ey(t,i.alternate,i)}finally{Ge=h,ae.p=l,K.T=a}}Ut=3}}function Fy(){if(Ut===4||Ut===3){Ut=0,tu();var t=vr,i=Ra,a=Ca,l=Oy;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Ut=5:(Ut=0,Ra=vr=null,Gy(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(_r=null),Qs(a),i=i.stateNode,Fe&&typeof Fe.onCommitFiberRoot=="function")try{Fe.onCommitFiberRoot(at,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=K.T,h=ae.p,ae.p=2,K.T=null;try{for(var d=t.onRecoverableError,v=0;v<l.length;v++){var T=l[v];d(T.value,{componentStack:T.stack})}}finally{K.T=i,ae.p=h}}(Ca&3)!==0&&ac(),ii(t),h=t.pendingLanes,(a&4194090)!==0&&(h&42)!==0?t===Jf?nl++:(nl=0,Jf=t):nl=0,il(0)}}function Gy(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,Po(i)))}function ac(t){return Hy(),qy(),Fy(),Qy()}function Qy(){if(Ut!==5)return!1;var t=vr,i=Wf;Wf=0;var a=Qs(Ca),l=K.T,h=ae.p;try{ae.p=32>a?32:a,K.T=null,a=Zf,Zf=null;var d=vr,v=Ca;if(Ut=0,Ra=vr=null,Ca=0,(Ge&6)!==0)throw Error(s(331));var T=Ge;if(Ge|=4,Dy(d.current),Ry(d,d.current,v,a),Ge=T,il(0,!1),Fe&&typeof Fe.onPostCommitFiberRoot=="function")try{Fe.onPostCommitFiberRoot(at,d)}catch{}return!0}finally{ae.p=h,K.T=l,Gy(t,i)}}function Ky(t,i,a){i=Tn(a,i),i=Of(t.stateNode,i,2),t=ur(t,i,2),t!==null&&(gi(t,2),ii(t))}function We(t,i,a){if(t.tag===3)Ky(t,t,a);else for(;i!==null;){if(i.tag===3){Ky(i,t,a);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(_r===null||!_r.has(l))){t=Tn(a,t),a=Wg(2),l=ur(i,a,2),l!==null&&(Zg(a,l,i,t),gi(l,2),ii(l));break}}i=i.return}}function id(t,i,a){var l=t.pingCache;if(l===null){l=t.pingCache=new PA;var h=new Set;l.set(i,h)}else h=l.get(i),h===void 0&&(h=new Set,l.set(i,h));h.has(a)||(Kf=!0,h.add(a),t=BA.bind(null,t,i,a),i.then(t,t))}function BA(t,i,a){var l=t.pingCache;l!==null&&l.delete(i),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,Je===t&&(Le&a)===a&&(lt===4||lt===3&&(Le&62914560)===Le&&300>pn()-$f?(Ge&2)===0&&Ia(t,0):Yf|=a,wa===Le&&(wa=0)),ii(t)}function Yy(t,i){i===0&&(i=ho()),t=ca(t,i),t!==null&&(gi(t,i),ii(t))}function HA(t){var i=t.memoizedState,a=0;i!==null&&(a=i.retryLane),Yy(t,a)}function qA(t,i){var a=0;switch(t.tag){case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(i),Yy(t,a)}function FA(t,i){return Yr(t,i)}var oc=null,Na=null,rd=!1,lc=!1,sd=!1,Ds=0;function ii(t){t!==Na&&t.next===null&&(Na===null?oc=Na=t:Na=Na.next=t),lc=!0,rd||(rd=!0,QA())}function il(t,i){if(!sd&&lc){sd=!0;do for(var a=!1,l=oc;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var v=l.suspendedLanes,T=l.pingedLanes;d=(1<<31-qt(42|t)+1)-1,d&=h&~(v&~T),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,Zy(l,d))}else d=Le,d=Gs(l,l===Je?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||es(l,d)||(a=!0,Zy(l,d));l=l.next}while(a);sd=!1}}function GA(){Xy()}function Xy(){lc=rd=!1;var t=0;Ds!==0&&(eS()&&(t=Ds),Ds=0);for(var i=pn(),a=null,l=oc;l!==null;){var h=l.next,d=$y(l,i);d===0?(l.next=null,a===null?oc=h:a.next=h,h===null&&(Na=a)):(a=l,(t!==0||(d&3)!==0)&&(lc=!0)),l=h}il(t)}function $y(t,i){for(var a=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var v=31-qt(d),T=1<<v,R=h[v];R===-1?((T&a)===0||(T&l)!==0)&&(h[v]=uo(T,i)):R<=i&&(t.expiredLanes|=T),d&=~T}if(i=Je,a=Le,a=Gs(t,t===i?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===i&&(Qe===2||Qe===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&Xr(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||es(t,a)){if(i=a&-a,i===t.callbackPriority)return i;switch(l!==null&&Xr(l),Qs(a)){case 2:case 8:a=qs;break;case 32:a=$r;break;case 268435456:a=Fs;break;default:a=$r}return l=Wy.bind(null,t),a=Yr(a,l),t.callbackPriority=i,t.callbackNode=a,i}return l!==null&&l!==null&&Xr(l),t.callbackPriority=2,t.callbackNode=null,2}function Wy(t,i){if(Ut!==0&&Ut!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(ac()&&t.callbackNode!==a)return null;var l=Le;return l=Gs(t,t===Je?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(My(t,l,i),$y(t,pn()),t.callbackNode!=null&&t.callbackNode===a?Wy.bind(null,t):null)}function Zy(t,i){if(ac())return null;My(t,i,!0)}function QA(){nS(function(){(Ge&6)!==0?Yr(oo,GA):Xy()})}function ad(){return Ds===0&&(Ds=co()),Ds}function Jy(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Zs(""+t)}function e_(t,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,t.id&&a.setAttribute("form",t.id),i.parentNode.insertBefore(a,i),t=new FormData(t),a.parentNode.removeChild(a),t}function KA(t,i,a,l,h){if(i==="submit"&&a&&a.stateNode===h){var d=Jy((h[mt]||null).action),v=l.submitter;v&&(i=(i=v[mt]||null)?Jy(i.formAction):v.getAttribute("formAction"),i!==null&&(d=i,v=null));var T=new Js("action","action",null,l,h);t.push({event:T,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Ds!==0){var R=v?e_(h,v):new FormData(h);Rf(a,{pending:!0,data:R,method:h.method,action:d},null,R)}}else typeof d=="function"&&(T.preventDefault(),R=v?e_(h,v):new FormData(h),Rf(a,{pending:!0,data:R,method:h.method,action:d},d,R))},currentTarget:h}]})}}for(var od=0;od<Fh.length;od++){var ld=Fh[od],YA=ld.toLowerCase(),XA=ld[0].toUpperCase()+ld.slice(1);kn(YA,"on"+XA)}kn(Mp,"onAnimationEnd"),kn(Vp,"onAnimationIteration"),kn(kp,"onAnimationStart"),kn("dblclick","onDoubleClick"),kn("focusin","onFocus"),kn("focusout","onBlur"),kn(fA,"onTransitionRun"),kn(dA,"onTransitionStart"),kn(mA,"onTransitionCancel"),kn(Pp,"onTransitionEnd"),_i("onMouseEnter",["mouseout","mouseover"]),_i("onMouseLeave",["mouseout","mouseover"]),_i("onPointerEnter",["pointerout","pointerover"]),_i("onPointerLeave",["pointerout","pointerover"]),Mn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Mn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Mn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Mn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Mn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Mn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var rl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),$A=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(rl));function t_(t,i){i=(i&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],h=l.event;l=l.listeners;e:{var d=void 0;if(i)for(var v=l.length-1;0<=v;v--){var T=l[v],R=T.instance,B=T.currentTarget;if(T=T.listener,R!==d&&h.isPropagationStopped())break e;d=T,h.currentTarget=B;try{d(h)}catch(Y){Xu(Y)}h.currentTarget=null,d=R}else for(v=0;v<l.length;v++){if(T=l[v],R=T.instance,B=T.currentTarget,T=T.listener,R!==d&&h.isPropagationStopped())break e;d=T,h.currentTarget=B;try{d(h)}catch(Y){Xu(Y)}h.currentTarget=null,d=R}}}}function xe(t,i){var a=i[po];a===void 0&&(a=i[po]=new Set);var l=t+"__bubble";a.has(l)||(n_(i,t,2,!1),a.add(l))}function ud(t,i,a){var l=0;i&&(l|=4),n_(a,t,l,i)}var uc="_reactListening"+Math.random().toString(36).slice(2);function cd(t){if(!t[uc]){t[uc]=!0,go.forEach(function(a){a!=="selectionchange"&&($A.has(a)||ud(a,!1,t),ud(a,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[uc]||(i[uc]=!0,ud("selectionchange",!1,i))}}function n_(t,i,a,l){switch(R_(i)){case 2:var h=SS;break;case 8:h=bS;break;default:h=bd}a=h.bind(null,i,a,t),h=void 0,!vn||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(i,a,{capture:!0,passive:h}):t.addEventListener(i,a,!0):h!==void 0?t.addEventListener(i,a,{passive:h}):t.addEventListener(i,a,!1)}function hd(t,i,a,l,h){var d=l;if((i&1)===0&&(i&2)===0&&l!==null)e:for(;;){if(l===null)return;var v=l.tag;if(v===3||v===4){var T=l.stateNode.containerInfo;if(T===h)break;if(v===4)for(v=l.return;v!==null;){var R=v.tag;if((R===3||R===4)&&v.stateNode.containerInfo===h)return;v=v.return}for(;T!==null;){if(v=yi(T),v===null)return;if(R=v.tag,R===5||R===6||R===26||R===27){l=d=v;continue e}T=T.parentNode}}l=l.return}hu(function(){var B=d,Y=_n(a),Z=[];e:{var H=Lp.get(t);if(H!==void 0){var q=Js,Ee=t;switch(t){case"keypress":if(Yn(a)===0)break e;case"keydown":case"keyup":q=sa;break;case"focusin":Ee="focus",q=na;break;case"focusout":Ee="blur",q=na;break;case"beforeblur":case"afterblur":q=na;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":q=En;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":q=Ph;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":q=vu;break;case Mp:case Vp:case kp:q=ia;break;case Pp:q=Tu;break;case"scroll":case"scrollend":q=fu;break;case"wheel":q=aa;break;case"copy":case"cut":case"paste":q=ra;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":q=Io;break;case"toggle":case"beforetoggle":q=Su}var pe=(i&4)!==0,$e=!pe&&(t==="scroll"||t==="scrollend"),V=pe?H!==null?H+"Capture":null:H;pe=[];for(var O=B,j;O!==null;){var X=O;if(j=X.stateNode,X=X.tag,X!==5&&X!==26&&X!==27||j===null||V===null||(X=ls(O,V),X!=null&&pe.push(sl(O,X,j))),$e)break;O=O.return}0<pe.length&&(H=new q(H,Ee,null,a,Y),Z.push({event:H,listeners:pe}))}}if((i&7)===0){e:{if(H=t==="mouseover"||t==="pointerover",q=t==="mouseout"||t==="pointerout",H&&a!==Ti&&(Ee=a.relatedTarget||a.fromElement)&&(yi(Ee)||Ee[gn]))break e;if((q||H)&&(H=Y.window===Y?Y:(H=Y.ownerDocument)?H.defaultView||H.parentWindow:window,q?(Ee=a.relatedTarget||a.toElement,q=B,Ee=Ee?yi(Ee):null,Ee!==null&&($e=u(Ee),pe=Ee.tag,Ee!==$e||pe!==5&&pe!==27&&pe!==6)&&(Ee=null)):(q=null,Ee=B),q!==Ee)){if(pe=En,X="onMouseLeave",V="onMouseEnter",O="mouse",(t==="pointerout"||t==="pointerover")&&(pe=Io,X="onPointerLeave",V="onPointerEnter",O="pointer"),$e=q==null?H:Fn(q),j=Ee==null?H:Fn(Ee),H=new pe(X,O+"leave",q,a,Y),H.target=$e,H.relatedTarget=j,X=null,yi(Y)===B&&(pe=new pe(V,O+"enter",Ee,a,Y),pe.target=j,pe.relatedTarget=$e,X=pe),$e=X,q&&Ee)t:{for(pe=q,V=Ee,O=0,j=pe;j;j=Oa(j))O++;for(j=0,X=V;X;X=Oa(X))j++;for(;0<O-j;)pe=Oa(pe),O--;for(;0<j-O;)V=Oa(V),j--;for(;O--;){if(pe===V||V!==null&&pe===V.alternate)break t;pe=Oa(pe),V=Oa(V)}pe=null}else pe=null;q!==null&&i_(Z,H,q,pe,!1),Ee!==null&&$e!==null&&i_(Z,$e,Ee,pe,!0)}}e:{if(H=B?Fn(B):window,q=H.nodeName&&H.nodeName.toLowerCase(),q==="select"||q==="input"&&H.type==="file")var ue=Ap;else if(Tt(H))if(Sp)ue=uA;else{ue=oA;var Ne=aA}else q=H.nodeName,!q||q.toLowerCase()!=="input"||H.type!=="checkbox"&&H.type!=="radio"?B&&To(B.elementType)&&(ue=Ap):ue=lA;if(ue&&(ue=ue(t,B))){Ri(Z,ue,a,Y);break e}Ne&&Ne(t,H,B),t==="focusout"&&B&&H.type==="number"&&B.memoizedProps.value!=null&&rr(H,"number",H.value)}switch(Ne=B?Fn(B):window,t){case"focusin":(Tt(Ne)||Ne.contentEditable==="true")&&(oa=Ne,Bh=B,Oo=null);break;case"focusout":Oo=Bh=oa=null;break;case"mousedown":Hh=!0;break;case"contextmenu":case"mouseup":case"dragend":Hh=!1,Op(Z,a,Y);break;case"selectionchange":if(hA)break;case"keydown":case"keyup":Op(Z,a,Y)}var he;if(Wn)e:{switch(t){case"compositionstart":var _e="onCompositionStart";break e;case"compositionend":_e="onCompositionEnd";break e;case"compositionupdate":_e="onCompositionUpdate";break e}_e=void 0}else ke?G(t,a)&&(_e="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(_e="onCompositionStart");_e&&(_&&a.locale!=="ko"&&(ke||_e!=="onCompositionStart"?_e==="onCompositionEnd"&&ke&&(he=So()):(Kn=Y,sr="value"in Kn?Kn.value:Kn.textContent,ke=!0)),Ne=cc(B,_e),0<Ne.length&&(_e=new Ro(_e,t,null,a,Y),Z.push({event:_e,listeners:Ne}),he?_e.data=he:(he=re(a),he!==null&&(_e.data=he)))),(he=g?Et(t,a):Pe(t,a))&&(_e=cc(B,"onBeforeInput"),0<_e.length&&(Ne=new Ro("onBeforeInput","beforeinput",null,a,Y),Z.push({event:Ne,listeners:_e}),Ne.data=he)),KA(Z,t,B,a,Y)}t_(Z,i)})}function sl(t,i,a){return{instance:t,listener:i,currentTarget:a}}function cc(t,i){for(var a=i+"Capture",l=[];t!==null;){var h=t,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=ls(t,a),h!=null&&l.unshift(sl(t,h,d)),h=ls(t,i),h!=null&&l.push(sl(t,h,d))),t.tag===3)return l;t=t.return}return[]}function Oa(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function i_(t,i,a,l,h){for(var d=i._reactName,v=[];a!==null&&a!==l;){var T=a,R=T.alternate,B=T.stateNode;if(T=T.tag,R!==null&&R===l)break;T!==5&&T!==26&&T!==27||B===null||(R=B,h?(B=ls(a,d),B!=null&&v.unshift(sl(a,B,R))):h||(B=ls(a,d),B!=null&&v.push(sl(a,B,R)))),a=a.return}v.length!==0&&t.push({event:i,listeners:v})}var WA=/\r\n?/g,ZA=/\u0000|\uFFFD/g;function r_(t){return(typeof t=="string"?t:""+t).replace(WA,`
`).replace(ZA,"")}function s_(t,i){return i=r_(i),r_(t)===i}function hc(){}function Xe(t,i,a,l,h,d){switch(a){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||yn(t,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&yn(t,""+l);break;case"className":Gn(t,"class",l);break;case"tabIndex":Gn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Gn(t,a,l);break;case"style":Eo(t,l,d);break;case"data":if(i!=="object"){Gn(t,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Zs(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(i!=="input"&&Xe(t,i,"name",h.name,h,null),Xe(t,i,"formEncType",h.formEncType,h,null),Xe(t,i,"formMethod",h.formMethod,h,null),Xe(t,i,"formTarget",h.formTarget,h,null)):(Xe(t,i,"encType",h.encType,h,null),Xe(t,i,"method",h.method,h,null),Xe(t,i,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Zs(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=hc);break;case"onScroll":l!=null&&xe("scroll",t);break;case"onScrollEnd":l!=null&&xe("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=Zs(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":xe("beforetoggle",t),xe("toggle",t),ir(t,"popover",l);break;case"xlinkActuate":kt(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":kt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":kt(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":kt(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":kt(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":kt(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":kt(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":kt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":kt(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":ir(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Vh.get(a)||a,ir(t,a,l))}}function fd(t,i,a,l,h,d){switch(a){case"style":Eo(t,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof l=="string"?yn(t,l):(typeof l=="number"||typeof l=="bigint")&&yn(t,""+l);break;case"onScroll":l!=null&&xe("scroll",t);break;case"onScrollEnd":l!=null&&xe("scrollend",t);break;case"onClick":l!=null&&(t.onclick=hc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ks.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),i=a.slice(2,h?a.length-7:void 0),d=t[mt]||null,d=d!=null?d[a]:null,typeof d=="function"&&t.removeEventListener(i,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(i,l,h);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):ir(t,a,l)}}}function zt(t,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":xe("error",t),xe("load",t);var l=!1,h=!1,d;for(d in a)if(a.hasOwnProperty(d)){var v=a[d];if(v!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Xe(t,i,d,v,a,null)}}h&&Xe(t,i,"srcSet",a.srcSet,a,null),l&&Xe(t,i,"src",a.src,a,null);return;case"input":xe("invalid",t);var T=d=v=h=null,R=null,B=null;for(l in a)if(a.hasOwnProperty(l)){var Y=a[l];if(Y!=null)switch(l){case"name":h=Y;break;case"type":v=Y;break;case"checked":R=Y;break;case"defaultChecked":B=Y;break;case"value":d=Y;break;case"defaultValue":T=Y;break;case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(s(137,i));break;default:Xe(t,i,l,Y,a,null)}}ss(t,d,T,R,B,v,h,!1),Ws(t);return;case"select":xe("invalid",t),l=v=d=null;for(h in a)if(a.hasOwnProperty(h)&&(T=a[h],T!=null))switch(h){case"value":d=T;break;case"defaultValue":v=T;break;case"multiple":l=T;default:Xe(t,i,h,T,a,null)}i=d,a=v,t.multiple=!!l,i!=null?Ei(t,!!l,i,!1):a!=null&&Ei(t,!!l,a,!0);return;case"textarea":xe("invalid",t),d=h=l=null;for(v in a)if(a.hasOwnProperty(v)&&(T=a[v],T!=null))switch(v){case"value":l=T;break;case"defaultValue":h=T;break;case"children":d=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(s(91));break;default:Xe(t,i,v,T,a,null)}as(t,l,h,d),Ws(t);return;case"option":for(R in a)if(a.hasOwnProperty(R)&&(l=a[R],l!=null))switch(R){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Xe(t,i,R,l,a,null)}return;case"dialog":xe("beforetoggle",t),xe("toggle",t),xe("cancel",t),xe("close",t);break;case"iframe":case"object":xe("load",t);break;case"video":case"audio":for(l=0;l<rl.length;l++)xe(rl[l],t);break;case"image":xe("error",t),xe("load",t);break;case"details":xe("toggle",t);break;case"embed":case"source":case"link":xe("error",t),xe("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(B in a)if(a.hasOwnProperty(B)&&(l=a[B],l!=null))switch(B){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Xe(t,i,B,l,a,null)}return;default:if(To(i)){for(Y in a)a.hasOwnProperty(Y)&&(l=a[Y],l!==void 0&&fd(t,i,Y,l,a,void 0));return}}for(T in a)a.hasOwnProperty(T)&&(l=a[T],l!=null&&Xe(t,i,T,l,a,null))}function JA(t,i,a,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,v=null,T=null,R=null,B=null,Y=null;for(q in a){var Z=a[q];if(a.hasOwnProperty(q)&&Z!=null)switch(q){case"checked":break;case"value":break;case"defaultValue":R=Z;default:l.hasOwnProperty(q)||Xe(t,i,q,null,l,Z)}}for(var H in l){var q=l[H];if(Z=a[H],l.hasOwnProperty(H)&&(q!=null||Z!=null))switch(H){case"type":d=q;break;case"name":h=q;break;case"checked":B=q;break;case"defaultChecked":Y=q;break;case"value":v=q;break;case"defaultValue":T=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(s(137,i));break;default:q!==Z&&Xe(t,i,H,q,l,Z)}}an(t,v,T,R,B,Y,d,h);return;case"select":q=v=T=H=null;for(d in a)if(R=a[d],a.hasOwnProperty(d)&&R!=null)switch(d){case"value":break;case"multiple":q=R;default:l.hasOwnProperty(d)||Xe(t,i,d,null,l,R)}for(h in l)if(d=l[h],R=a[h],l.hasOwnProperty(h)&&(d!=null||R!=null))switch(h){case"value":H=d;break;case"defaultValue":T=d;break;case"multiple":v=d;default:d!==R&&Xe(t,i,h,d,l,R)}i=T,a=v,l=q,H!=null?Ei(t,!!a,H,!1):!!l!=!!a&&(i!=null?Ei(t,!!a,i,!0):Ei(t,!!a,a?[]:"",!1));return;case"textarea":q=H=null;for(T in a)if(h=a[T],a.hasOwnProperty(T)&&h!=null&&!l.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:Xe(t,i,T,null,l,h)}for(v in l)if(h=l[v],d=a[v],l.hasOwnProperty(v)&&(h!=null||d!=null))switch(v){case"value":H=h;break;case"defaultValue":q=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==d&&Xe(t,i,v,h,l,d)}Ke(t,H,q);return;case"option":for(var Ee in a)if(H=a[Ee],a.hasOwnProperty(Ee)&&H!=null&&!l.hasOwnProperty(Ee))switch(Ee){case"selected":t.selected=!1;break;default:Xe(t,i,Ee,null,l,H)}for(R in l)if(H=l[R],q=a[R],l.hasOwnProperty(R)&&H!==q&&(H!=null||q!=null))switch(R){case"selected":t.selected=H&&typeof H!="function"&&typeof H!="symbol";break;default:Xe(t,i,R,H,l,q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var pe in a)H=a[pe],a.hasOwnProperty(pe)&&H!=null&&!l.hasOwnProperty(pe)&&Xe(t,i,pe,null,l,H);for(B in l)if(H=l[B],q=a[B],l.hasOwnProperty(B)&&H!==q&&(H!=null||q!=null))switch(B){case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(s(137,i));break;default:Xe(t,i,B,H,l,q)}return;default:if(To(i)){for(var $e in a)H=a[$e],a.hasOwnProperty($e)&&H!==void 0&&!l.hasOwnProperty($e)&&fd(t,i,$e,void 0,l,H);for(Y in l)H=l[Y],q=a[Y],!l.hasOwnProperty(Y)||H===q||H===void 0&&q===void 0||fd(t,i,Y,H,l,q);return}}for(var V in a)H=a[V],a.hasOwnProperty(V)&&H!=null&&!l.hasOwnProperty(V)&&Xe(t,i,V,null,l,H);for(Z in l)H=l[Z],q=a[Z],!l.hasOwnProperty(Z)||H===q||H==null&&q==null||Xe(t,i,Z,H,l,q)}var dd=null,md=null;function fc(t){return t.nodeType===9?t:t.ownerDocument}function a_(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function o_(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function pd(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var gd=null;function eS(){var t=window.event;return t&&t.type==="popstate"?t===gd?!1:(gd=t,!0):(gd=null,!1)}var l_=typeof setTimeout=="function"?setTimeout:void 0,tS=typeof clearTimeout=="function"?clearTimeout:void 0,u_=typeof Promise=="function"?Promise:void 0,nS=typeof queueMicrotask=="function"?queueMicrotask:typeof u_<"u"?function(t){return u_.resolve(null).then(t).catch(iS)}:l_;function iS(t){setTimeout(function(){throw t})}function Tr(t){return t==="head"}function c_(t,i){var a=i,l=0,h=0;do{var d=a.nextSibling;if(t.removeChild(a),d&&d.nodeType===8)if(a=d.data,a==="/$"){if(0<l&&8>l){a=l;var v=t.ownerDocument;if(a&1&&al(v.documentElement),a&2&&al(v.body),a&4)for(a=v.head,al(a),v=a.firstChild;v;){var T=v.nextSibling,R=v.nodeName;v[ts]||R==="SCRIPT"||R==="STYLE"||R==="LINK"&&v.rel.toLowerCase()==="stylesheet"||a.removeChild(v),v=T}}if(h===0){t.removeChild(d),ml(i);return}h--}else a==="$"||a==="$?"||a==="$!"?h++:l=a.charCodeAt(0)-48;else l=0;a=d}while(a);ml(i)}function yd(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":yd(a),nr(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function rS(t,i,a,l){for(;t.nodeType===1;){var h=a;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[ts])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=Ln(t.nextSibling),t===null)break}return null}function sS(t,i,a){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Ln(t.nextSibling),t===null))return null;return t}function _d(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function aS(t,i){var a=t.ownerDocument;if(t.data!=="$?"||a.readyState==="complete")i();else{var l=function(){i(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Ln(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return t}var vd=null;function h_(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"){if(i===0)return t;i--}else a==="/$"&&i++}t=t.previousSibling}return null}function f_(t,i,a){switch(i=fc(a),t){case"html":if(t=i.documentElement,!t)throw Error(s(452));return t;case"head":if(t=i.head,!t)throw Error(s(453));return t;case"body":if(t=i.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function al(t){for(var i=t.attributes;i.length;)t.removeAttributeNode(i[0]);nr(t)}var Cn=new Map,d_=new Set;function dc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var zi=ae.d;ae.d={f:oS,r:lS,D:uS,C:cS,L:hS,m:fS,X:mS,S:dS,M:pS};function oS(){var t=zi.f(),i=rc();return t||i}function lS(t){var i=qn(t);i!==null&&i.tag===5&&i.type==="form"?Mg(i):zi.r(t)}var xa=typeof document>"u"?null:document;function m_(t,i,a){var l=xa;if(l&&typeof i=="string"&&i){var h=pt(i);h='link[rel="'+t+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),d_.has(h)||(d_.add(h),t={rel:t,crossOrigin:a,href:i},l.querySelector(h)===null&&(i=l.createElement("link"),zt(i,"link",t),ct(i),l.head.appendChild(i)))}}function uS(t){zi.D(t),m_("dns-prefetch",t,null)}function cS(t,i){zi.C(t,i),m_("preconnect",t,i)}function hS(t,i,a){zi.L(t,i,a);var l=xa;if(l&&t&&i){var h='link[rel="preload"][as="'+pt(i)+'"]';i==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+pt(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+pt(a.imageSizes)+'"]')):h+='[href="'+pt(t)+'"]';var d=h;switch(i){case"style":d=Ma(t);break;case"script":d=Va(t)}Cn.has(d)||(t=E({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:t,as:i},a),Cn.set(d,t),l.querySelector(h)!==null||i==="style"&&l.querySelector(ol(d))||i==="script"&&l.querySelector(ll(d))||(i=l.createElement("link"),zt(i,"link",t),ct(i),l.head.appendChild(i)))}}function fS(t,i){zi.m(t,i);var a=xa;if(a&&t){var l=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+pt(l)+'"][href="'+pt(t)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Va(t)}if(!Cn.has(d)&&(t=E({rel:"modulepreload",href:t},i),Cn.set(d,t),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(ll(d)))return}l=a.createElement("link"),zt(l,"link",t),ct(l),a.head.appendChild(l)}}}function dS(t,i,a){zi.S(t,i,a);var l=xa;if(l&&t){var h=$t(l).hoistableStyles,d=Ma(t);i=i||"default";var v=h.get(d);if(!v){var T={loading:0,preload:null};if(v=l.querySelector(ol(d)))T.loading=5;else{t=E({rel:"stylesheet",href:t,"data-precedence":i},a),(a=Cn.get(d))&&Ed(t,a);var R=v=l.createElement("link");ct(R),zt(R,"link",t),R._p=new Promise(function(B,Y){R.onload=B,R.onerror=Y}),R.addEventListener("load",function(){T.loading|=1}),R.addEventListener("error",function(){T.loading|=2}),T.loading|=4,mc(v,i,l)}v={type:"stylesheet",instance:v,count:1,state:T},h.set(d,v)}}}function mS(t,i){zi.X(t,i);var a=xa;if(a&&t){var l=$t(a).hoistableScripts,h=Va(t),d=l.get(h);d||(d=a.querySelector(ll(h)),d||(t=E({src:t,async:!0},i),(i=Cn.get(h))&&Td(t,i),d=a.createElement("script"),ct(d),zt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function pS(t,i){zi.M(t,i);var a=xa;if(a&&t){var l=$t(a).hoistableScripts,h=Va(t),d=l.get(h);d||(d=a.querySelector(ll(h)),d||(t=E({src:t,async:!0,type:"module"},i),(i=Cn.get(h))&&Td(t,i),d=a.createElement("script"),ct(d),zt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function p_(t,i,a,l){var h=(h=Ae.current)?dc(h):null;if(!h)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=Ma(a.href),a=$t(h).hoistableStyles,l=a.get(i),l||(l={type:"style",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=Ma(a.href);var d=$t(h).hoistableStyles,v=d.get(t);if(v||(h=h.ownerDocument||h,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,v),(d=h.querySelector(ol(t)))&&!d._p&&(v.instance=d,v.state.loading=5),Cn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Cn.set(t,a),d||gS(h,t,a,v.state))),i&&l===null)throw Error(s(528,""));return v}if(i&&l!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Va(a),a=$t(h).hoistableScripts,l=a.get(i),l||(l={type:"script",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function Ma(t){return'href="'+pt(t)+'"'}function ol(t){return'link[rel="stylesheet"]['+t+"]"}function g_(t){return E({},t,{"data-precedence":t.precedence,precedence:null})}function gS(t,i,a,l){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=t.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),zt(i,"link",a),ct(i),t.head.appendChild(i))}function Va(t){return'[src="'+pt(t)+'"]'}function ll(t){return"script[async]"+t}function y_(t,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var l=t.querySelector('style[data-href~="'+pt(a.href)+'"]');if(l)return i.instance=l,ct(l),l;var h=E({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),ct(l),zt(l,"style",h),mc(l,a.precedence,t),i.instance=l;case"stylesheet":h=Ma(a.href);var d=t.querySelector(ol(h));if(d)return i.state.loading|=4,i.instance=d,ct(d),d;l=g_(a),(h=Cn.get(h))&&Ed(l,h),d=(t.ownerDocument||t).createElement("link"),ct(d);var v=d;return v._p=new Promise(function(T,R){v.onload=T,v.onerror=R}),zt(d,"link",l),i.state.loading|=4,mc(d,a.precedence,t),i.instance=d;case"script":return d=Va(a.src),(h=t.querySelector(ll(d)))?(i.instance=h,ct(h),h):(l=a,(h=Cn.get(d))&&(l=E({},a),Td(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),ct(h),zt(h,"link",l),t.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,mc(l,a.precedence,t));return i.instance}function mc(t,i,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,v=0;v<l.length;v++){var T=l[v];if(T.dataset.precedence===i)d=T;else if(d!==h)break}d?d.parentNode.insertBefore(t,d.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(t,i.firstChild))}function Ed(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function Td(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var pc=null;function __(t,i,a){if(pc===null){var l=new Map,h=pc=new Map;h.set(a,l)}else h=pc,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),h=0;h<a.length;h++){var d=a[h];if(!(d[ts]||d[vt]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var v=d.getAttribute(i)||"";v=t+v;var T=l.get(v);T?T.push(d):l.set(v,[d])}}return l}function v_(t,i,a){t=t.ownerDocument||t,t.head.insertBefore(a,i==="title"?t.querySelector("head > title"):null)}function yS(t,i,a){if(a===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return t=i.disabled,typeof i.precedence=="string"&&t==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function E_(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var ul=null;function _S(){}function vS(t,i,a){if(ul===null)throw Error(s(475));var l=ul;if(i.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var h=Ma(a.href),d=t.querySelector(ol(h));if(d){t=d._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=gc.bind(l),t.then(l,l)),i.state.loading|=4,i.instance=d,ct(d);return}d=t.ownerDocument||t,a=g_(a),(h=Cn.get(h))&&Ed(a,h),d=d.createElement("link"),ct(d);var v=d;v._p=new Promise(function(T,R){v.onload=T,v.onerror=R}),zt(d,"link",a),i.instance=d}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(i,t),(t=i.state.preload)&&(i.state.loading&3)===0&&(l.count++,i=gc.bind(l),t.addEventListener("load",i),t.addEventListener("error",i))}}function ES(){if(ul===null)throw Error(s(475));var t=ul;return t.stylesheets&&t.count===0&&Ad(t,t.stylesheets),0<t.count?function(i){var a=setTimeout(function(){if(t.stylesheets&&Ad(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=i,function(){t.unsuspend=null,clearTimeout(a)}}:null}function gc(){if(this.count--,this.count===0){if(this.stylesheets)Ad(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var yc=null;function Ad(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,yc=new Map,i.forEach(TS,t),yc=null,gc.call(t))}function TS(t,i){if(!(i.state.loading&4)){var a=yc.get(t);if(a)var l=a.get(null);else{a=new Map,yc.set(t,a);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var v=h[d];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(a.set(v.dataset.precedence,v),l=v)}l&&a.set(null,l)}h=i.instance,v=h.getAttribute("data-precedence"),d=a.get(v)||l,d===l&&a.set(null,h),a.set(v,h),this.count++,l=gc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),i.state.loading|=4}}var cl={$$typeof:te,Provider:null,Consumer:null,_currentValue:de,_currentValue2:de,_threadCount:0};function AS(t,i,a,l,h,d,v,T){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=pi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=pi(0),this.hiddenUpdates=pi(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=T,this.incompleteTransitions=new Map}function T_(t,i,a,l,h,d,v,T,R,B,Y,Z){return t=new AS(t,i,a,v,T,R,B,Z),i=1,d===!0&&(i|=24),d=ln(3,null,null,i),t.current=d,d.stateNode=t,i=nf(),i.refCount++,t.pooledCache=i,i.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:i},of(d),t}function A_(t){return t?(t=ha,t):ha}function S_(t,i,a,l,h,d){h=A_(h),l.context===null?l.context=h:l.pendingContext=h,l=lr(i),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=ur(t,l,i),a!==null&&(dn(a,t,i),jo(a,t,i))}function b_(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<i?a:i}}function Sd(t,i){b_(t,i),(t=t.alternate)&&b_(t,i)}function w_(t){if(t.tag===13){var i=ca(t,67108864);i!==null&&dn(i,t,67108864),Sd(t,67108864)}}var _c=!0;function SS(t,i,a,l){var h=K.T;K.T=null;var d=ae.p;try{ae.p=2,bd(t,i,a,l)}finally{ae.p=d,K.T=h}}function bS(t,i,a,l){var h=K.T;K.T=null;var d=ae.p;try{ae.p=8,bd(t,i,a,l)}finally{ae.p=d,K.T=h}}function bd(t,i,a,l){if(_c){var h=wd(l);if(h===null)hd(t,i,l,vc,a),C_(t,l);else if(RS(h,t,i,a,l))l.stopPropagation();else if(C_(t,l),i&4&&-1<wS.indexOf(t)){for(;h!==null;){var d=qn(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var v=xn(d.pendingLanes);if(v!==0){var T=d;for(T.pendingLanes|=2,T.entangledLanes|=2;v;){var R=1<<31-qt(v);T.entanglements[1]|=R,v&=~R}ii(d),(Ge&6)===0&&(nc=pn()+500,il(0))}}break;case 13:T=ca(d,2),T!==null&&dn(T,d,2),rc(),Sd(d,2)}if(d=wd(l),d===null&&hd(t,i,l,vc,a),d===h)break;h=d}h!==null&&l.stopPropagation()}else hd(t,i,l,null,a)}}function wd(t){return t=_n(t),Rd(t)}var vc=null;function Rd(t){if(vc=null,t=yi(t),t!==null){var i=u(t);if(i===null)t=null;else{var a=i.tag;if(a===13){if(t=f(i),t!==null)return t;t=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return vc=t,null}function R_(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ih()){case oo:return 2;case qs:return 8;case $r:case Dh:return 32;case Fs:return 268435456;default:return 32}default:return 32}}var Cd=!1,Ar=null,Sr=null,br=null,hl=new Map,fl=new Map,wr=[],wS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function C_(t,i){switch(t){case"focusin":case"focusout":Ar=null;break;case"dragenter":case"dragleave":Sr=null;break;case"mouseover":case"mouseout":br=null;break;case"pointerover":case"pointerout":hl.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":fl.delete(i.pointerId)}}function dl(t,i,a,l,h,d){return t===null||t.nativeEvent!==d?(t={blockedOn:i,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},i!==null&&(i=qn(i),i!==null&&w_(i)),t):(t.eventSystemFlags|=l,i=t.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),t)}function RS(t,i,a,l,h){switch(i){case"focusin":return Ar=dl(Ar,t,i,a,l,h),!0;case"dragenter":return Sr=dl(Sr,t,i,a,l,h),!0;case"mouseover":return br=dl(br,t,i,a,l,h),!0;case"pointerover":var d=h.pointerId;return hl.set(d,dl(hl.get(d)||null,t,i,a,l,h)),!0;case"gotpointercapture":return d=h.pointerId,fl.set(d,dl(fl.get(d)||null,t,i,a,l,h)),!0}return!1}function I_(t){var i=yi(t.target);if(i!==null){var a=u(i);if(a!==null){if(i=a.tag,i===13){if(i=f(a),i!==null){t.blockedOn=i,ru(t.priority,function(){if(a.tag===13){var l=fn();l=Ji(l);var h=ca(a,l);h!==null&&dn(h,a,l),Sd(a,l)}});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Ec(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var a=wd(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);Ti=l,a.target.dispatchEvent(l),Ti=null}else return i=qn(a),i!==null&&w_(i),t.blockedOn=a,!1;i.shift()}return!0}function D_(t,i,a){Ec(t)&&a.delete(i)}function CS(){Cd=!1,Ar!==null&&Ec(Ar)&&(Ar=null),Sr!==null&&Ec(Sr)&&(Sr=null),br!==null&&Ec(br)&&(br=null),hl.forEach(D_),fl.forEach(D_)}function Tc(t,i){t.blockedOn===i&&(t.blockedOn=null,Cd||(Cd=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,CS)))}var Ac=null;function N_(t){Ac!==t&&(Ac=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Ac===t&&(Ac=null);for(var i=0;i<t.length;i+=3){var a=t[i],l=t[i+1],h=t[i+2];if(typeof l!="function"){if(Rd(l||a)===null)continue;break}var d=qn(a);d!==null&&(t.splice(i,3),i-=3,Rf(d,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function ml(t){function i(R){return Tc(R,t)}Ar!==null&&Tc(Ar,t),Sr!==null&&Tc(Sr,t),br!==null&&Tc(br,t),hl.forEach(i),fl.forEach(i);for(var a=0;a<wr.length;a++){var l=wr[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<wr.length&&(a=wr[0],a.blockedOn===null);)I_(a),a.blockedOn===null&&wr.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],d=a[l+1],v=h[mt]||null;if(typeof d=="function")v||N_(a);else if(v){var T=null;if(d&&d.hasAttribute("formAction")){if(h=d,v=d[mt]||null)T=v.formAction;else if(Rd(h)!==null)continue}else T=v.action;typeof T=="function"?a[l+1]=T:(a.splice(l,3),l-=3),N_(a)}}}function Id(t){this._internalRoot=t}Sc.prototype.render=Id.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,l=fn();S_(a,l,t,i,null,null)},Sc.prototype.unmount=Id.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;S_(t.current,2,null,t,null,null),rc(),i[gn]=null}};function Sc(t){this._internalRoot=t}Sc.prototype.unstable_scheduleHydration=function(t){if(t){var i=er();t={blockedOn:null,target:t,priority:i};for(var a=0;a<wr.length&&i!==0&&i<wr[a].priority;a++);wr.splice(a,0,t),a===0&&I_(t)}};var O_=e.version;if(O_!=="19.1.0")throw Error(s(527,O_,"19.1.0"));ae.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=p(i),t=t!==null?y(t):null,t=t===null?null:t.stateNode,t};var IS={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:K,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var bc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!bc.isDisabled&&bc.supportsFiber)try{at=bc.inject(IS),Fe=bc}catch{}}return gl.createRoot=function(t,i){if(!o(t))throw Error(s(299));var a=!1,l="",h=Kg,d=Yg,v=Xg,T=null;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(v=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(T=i.unstable_transitionCallbacks)),i=T_(t,1,!1,null,null,a,l,h,d,v,T,null),t[gn]=i.current,cd(t),new Id(i)},gl.hydrateRoot=function(t,i,a){if(!o(t))throw Error(s(299));var l=!1,h="",d=Kg,v=Yg,T=Xg,R=null,B=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(v=a.onCaughtError),a.onRecoverableError!==void 0&&(T=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(R=a.unstable_transitionCallbacks),a.formState!==void 0&&(B=a.formState)),i=T_(t,1,!0,i,a??null,l,h,d,v,T,R,B),i.context=A_(null),a=i.current,l=fn(),l=Ji(l),h=lr(l),h.callback=null,ur(a,h,l),a=l,i.current.lanes=a,gi(i,a),ii(i),t[gn]=i.current,cd(t),new Sc(i)},gl.version="19.1.0",gl}var B_;function US(){if(B_)return Od.exports;B_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Od.exports=LS(),Od.exports}var zS=US(),yl={},H_;function jS(){if(H_)return yl;H_=1,Object.defineProperty(yl,"__esModule",{value:!0}),yl.parse=f,yl.serialize=y;const r=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,s=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,u=(()=>{const C=function(){};return C.prototype=Object.create(null),C})();function f(C,L){const z=new u,W=C.length;if(W<2)return z;const F=(L==null?void 0:L.decode)||E;let $=0;do{const se=C.indexOf("=",$);if(se===-1)break;const te=C.indexOf(";",$),fe=te===-1?W:te;if(se>fe){$=C.lastIndexOf(";",se-1)+1;continue}const ce=m(C,$,se),we=p(C,se,ce),x=C.slice(ce,we);if(z[x]===void 0){let b=m(C,se+1,fe),w=p(C,fe,b);const N=F(C.slice(b,w));z[x]=N}$=fe+1}while($<W);return z}function m(C,L,z){do{const W=C.charCodeAt(L);if(W!==32&&W!==9)return L}while(++L<z);return z}function p(C,L,z){for(;L>z;){const W=C.charCodeAt(--L);if(W!==32&&W!==9)return L+1}return z}function y(C,L,z){const W=(z==null?void 0:z.encode)||encodeURIComponent;if(!r.test(C))throw new TypeError(`argument name is invalid: ${C}`);const F=W(L);if(!e.test(F))throw new TypeError(`argument val is invalid: ${L}`);let $=C+"="+F;if(!z)return $;if(z.maxAge!==void 0){if(!Number.isInteger(z.maxAge))throw new TypeError(`option maxAge is invalid: ${z.maxAge}`);$+="; Max-Age="+z.maxAge}if(z.domain){if(!n.test(z.domain))throw new TypeError(`option domain is invalid: ${z.domain}`);$+="; Domain="+z.domain}if(z.path){if(!s.test(z.path))throw new TypeError(`option path is invalid: ${z.path}`);$+="; Path="+z.path}if(z.expires){if(!S(z.expires)||!Number.isFinite(z.expires.valueOf()))throw new TypeError(`option expires is invalid: ${z.expires}`);$+="; Expires="+z.expires.toUTCString()}if(z.httpOnly&&($+="; HttpOnly"),z.secure&&($+="; Secure"),z.partitioned&&($+="; Partitioned"),z.priority)switch(typeof z.priority=="string"?z.priority.toLowerCase():void 0){case"low":$+="; Priority=Low";break;case"medium":$+="; Priority=Medium";break;case"high":$+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${z.priority}`)}if(z.sameSite)switch(typeof z.sameSite=="string"?z.sameSite.toLowerCase():z.sameSite){case!0:case"strict":$+="; SameSite=Strict";break;case"lax":$+="; SameSite=Lax";break;case"none":$+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${z.sameSite}`)}return $}function E(C){if(C.indexOf("%")===-1)return C;try{return decodeURIComponent(C)}catch{return C}}function S(C){return o.call(C)==="[object Date]"}return yl}jS();/**
 * react-router v7.5.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var q_="popstate";function BS(r={}){function e(s,o){let{pathname:u,search:f,hash:m}=s.location;return Yd("",{pathname:u,search:f,hash:m},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(s,o){return typeof o=="string"?o:Dl(o)}return qS(e,n,null,r)}function it(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function ui(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function HS(){return Math.random().toString(36).substring(2,10)}function F_(r,e){return{usr:r.state,key:r.key,idx:e}}function Yd(r,e,n=null,s){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?Wa(e):e,state:n,key:e&&e.key||s||HS()}}function Dl({pathname:r="/",search:e="",hash:n=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(r+=n.charAt(0)==="#"?n:"#"+n),r}function Wa(r){let e={};if(r){let n=r.indexOf("#");n>=0&&(e.hash=r.substring(n),r=r.substring(0,n));let s=r.indexOf("?");s>=0&&(e.search=r.substring(s),r=r.substring(0,s)),r&&(e.pathname=r)}return e}function qS(r,e,n,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,f=o.history,m="POP",p=null,y=E();y==null&&(y=0,f.replaceState({...f.state,idx:y},""));function E(){return(f.state||{idx:null}).idx}function S(){m="POP";let F=E(),$=F==null?null:F-y;y=F,p&&p({action:m,location:W.location,delta:$})}function C(F,$){m="PUSH";let se=Yd(W.location,F,$);y=E()+1;let te=F_(se,y),fe=W.createHref(se);try{f.pushState(te,"",fe)}catch(ce){if(ce instanceof DOMException&&ce.name==="DataCloneError")throw ce;o.location.assign(fe)}u&&p&&p({action:m,location:W.location,delta:1})}function L(F,$){m="REPLACE";let se=Yd(W.location,F,$);y=E();let te=F_(se,y),fe=W.createHref(se);f.replaceState(te,"",fe),u&&p&&p({action:m,location:W.location,delta:0})}function z(F){let $=o.location.origin!=="null"?o.location.origin:o.location.href,se=typeof F=="string"?F:Dl(F);return se=se.replace(/ $/,"%20"),it($,`No window.location.(origin|href) available to create URL for href: ${se}`),new URL(se,$)}let W={get action(){return m},get location(){return r(o,f)},listen(F){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(q_,S),p=F,()=>{o.removeEventListener(q_,S),p=null}},createHref(F){return e(o,F)},createURL:z,encodeLocation(F){let $=z(F);return{pathname:$.pathname,search:$.search,hash:$.hash}},push:C,replace:L,go(F){return f.go(F)}};return W}function _E(r,e,n="/"){return FS(r,e,n,!1)}function FS(r,e,n,s){let o=typeof e=="string"?Wa(e):e,u=Gi(o.pathname||"/",n);if(u==null)return null;let f=vE(r);GS(f);let m=null;for(let p=0;m==null&&p<f.length;++p){let y=nb(u);m=eb(f[p],y,s)}return m}function vE(r,e=[],n=[],s=""){let o=(u,f,m)=>{let p={relativePath:m===void 0?u.path||"":m,caseSensitive:u.caseSensitive===!0,childrenIndex:f,route:u};p.relativePath.startsWith("/")&&(it(p.relativePath.startsWith(s),`Absolute route path "${p.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(s.length));let y=Hi([s,p.relativePath]),E=n.concat(p);u.children&&u.children.length>0&&(it(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${y}".`),vE(u.children,e,E,y)),!(u.path==null&&!u.index)&&e.push({path:y,score:ZS(y,u.index),routesMeta:E})};return r.forEach((u,f)=>{var m;if(u.path===""||!((m=u.path)!=null&&m.includes("?")))o(u,f);else for(let p of EE(u.path))o(u,f,p)}),e}function EE(r){let e=r.split("/");if(e.length===0)return[];let[n,...s]=e,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let f=EE(s.join("/")),m=[];return m.push(...f.map(p=>p===""?u:[u,p].join("/"))),o&&m.push(...f),m.map(p=>r.startsWith("/")&&p===""?"/":p)}function GS(r){r.sort((e,n)=>e.score!==n.score?n.score-e.score:JS(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var QS=/^:[\w-]+$/,KS=3,YS=2,XS=1,$S=10,WS=-2,G_=r=>r==="*";function ZS(r,e){let n=r.split("/"),s=n.length;return n.some(G_)&&(s+=WS),e&&(s+=YS),n.filter(o=>!G_(o)).reduce((o,u)=>o+(QS.test(u)?KS:u===""?XS:$S),s)}function JS(r,e){return r.length===e.length&&r.slice(0,-1).every((s,o)=>s===e[o])?r[r.length-1]-e[e.length-1]:0}function eb(r,e,n=!1){let{routesMeta:s}=r,o={},u="/",f=[];for(let m=0;m<s.length;++m){let p=s[m],y=m===s.length-1,E=u==="/"?e:e.slice(u.length)||"/",S=qc({path:p.relativePath,caseSensitive:p.caseSensitive,end:y},E),C=p.route;if(!S&&y&&n&&!s[s.length-1].route.index&&(S=qc({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},E)),!S)return null;Object.assign(o,S.params),f.push({params:o,pathname:Hi([u,S.pathname]),pathnameBase:ab(Hi([u,S.pathnameBase])),route:C}),S.pathnameBase!=="/"&&(u=Hi([u,S.pathnameBase]))}return f}function qc(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[n,s]=tb(r.path,r.caseSensitive,r.end),o=e.match(n);if(!o)return null;let u=o[0],f=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:s.reduce((y,{paramName:E,isOptional:S},C)=>{if(E==="*"){let z=m[C]||"";f=u.slice(0,u.length-z.length).replace(/(.)\/+$/,"$1")}const L=m[C];return S&&!L?y[E]=void 0:y[E]=(L||"").replace(/%2F/g,"/"),y},{}),pathname:u,pathnameBase:f,pattern:r}}function tb(r,e=!1,n=!0){ui(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let s=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,m,p)=>(s.push({paramName:m,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return r.endsWith("*")?(s.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function nb(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return ui(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function Gi(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=r.charAt(n);return s&&s!=="/"?null:r.slice(n)||"/"}function ib(r,e="/"){let{pathname:n,search:s="",hash:o=""}=typeof r=="string"?Wa(r):r;return{pathname:n?n.startsWith("/")?n:rb(n,e):e,search:ob(s),hash:lb(o)}}function rb(r,e){let n=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function kd(r,e,n,s){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function sb(r){return r.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function TE(r){let e=sb(r);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function AE(r,e,n,s=!1){let o;typeof r=="string"?o=Wa(r):(o={...r},it(!o.pathname||!o.pathname.includes("?"),kd("?","pathname","search",o)),it(!o.pathname||!o.pathname.includes("#"),kd("#","pathname","hash",o)),it(!o.search||!o.search.includes("#"),kd("#","search","hash",o)));let u=r===""||o.pathname==="",f=u?"/":o.pathname,m;if(f==null)m=n;else{let S=e.length-1;if(!s&&f.startsWith("..")){let C=f.split("/");for(;C[0]==="..";)C.shift(),S-=1;o.pathname=C.join("/")}m=S>=0?e[S]:"/"}let p=ib(o,m),y=f&&f!=="/"&&f.endsWith("/"),E=(u||f===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(y||E)&&(p.pathname+="/"),p}var Hi=r=>r.join("/").replace(/\/\/+/g,"/"),ab=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),ob=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,lb=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function ub(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}var SE=["POST","PUT","PATCH","DELETE"];new Set(SE);var cb=["GET",...SE];new Set(cb);var Za=Q.createContext(null);Za.displayName="DataRouter";var ch=Q.createContext(null);ch.displayName="DataRouterState";var bE=Q.createContext({isTransitioning:!1});bE.displayName="ViewTransition";var hb=Q.createContext(new Map);hb.displayName="Fetchers";var fb=Q.createContext(null);fb.displayName="Await";var fi=Q.createContext(null);fi.displayName="Navigation";var Hl=Q.createContext(null);Hl.displayName="Location";var di=Q.createContext({outlet:null,matches:[],isDataRoute:!1});di.displayName="Route";var Am=Q.createContext(null);Am.displayName="RouteError";function db(r,{relative:e}={}){it(ql(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=Q.useContext(fi),{hash:o,pathname:u,search:f}=Fl(r,{relative:e}),m=u;return n!=="/"&&(m=u==="/"?n:Hi([n,u])),s.createHref({pathname:m,search:f,hash:o})}function ql(){return Q.useContext(Hl)!=null}function $i(){return it(ql(),"useLocation() may be used only in the context of a <Router> component."),Q.useContext(Hl).location}var wE="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function RE(r){Q.useContext(fi).static||Q.useLayoutEffect(r)}function mb(){let{isDataRoute:r}=Q.useContext(di);return r?Ib():pb()}function pb(){it(ql(),"useNavigate() may be used only in the context of a <Router> component.");let r=Q.useContext(Za),{basename:e,navigator:n}=Q.useContext(fi),{matches:s}=Q.useContext(di),{pathname:o}=$i(),u=JSON.stringify(TE(s)),f=Q.useRef(!1);return RE(()=>{f.current=!0}),Q.useCallback((p,y={})=>{if(ui(f.current,wE),!f.current)return;if(typeof p=="number"){n.go(p);return}let E=AE(p,JSON.parse(u),o,y.relative==="path");r==null&&e!=="/"&&(E.pathname=E.pathname==="/"?e:Hi([e,E.pathname])),(y.replace?n.replace:n.push)(E,y.state,y)},[e,n,u,o,r])}Q.createContext(null);function gb(){let{matches:r}=Q.useContext(di),e=r[r.length-1];return e?e.params:{}}function Fl(r,{relative:e}={}){let{matches:n}=Q.useContext(di),{pathname:s}=$i(),o=JSON.stringify(TE(n));return Q.useMemo(()=>AE(r,JSON.parse(o),s,e==="path"),[r,o,s,e])}function yb(r,e){return CE(r,e)}function CE(r,e,n,s){var se;it(ql(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o,static:u}=Q.useContext(fi),{matches:f}=Q.useContext(di),m=f[f.length-1],p=m?m.params:{},y=m?m.pathname:"/",E=m?m.pathnameBase:"/",S=m&&m.route;{let te=S&&S.path||"";IE(y,!S||te.endsWith("*")||te.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${y}" (under <Route path="${te}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${te}"> to <Route path="${te==="/"?"*":`${te}/*`}">.`)}let C=$i(),L;if(e){let te=typeof e=="string"?Wa(e):e;it(E==="/"||((se=te.pathname)==null?void 0:se.startsWith(E)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${E}" but pathname "${te.pathname}" was given in the \`location\` prop.`),L=te}else L=C;let z=L.pathname||"/",W=z;if(E!=="/"){let te=E.replace(/^\//,"").split("/");W="/"+z.replace(/^\//,"").split("/").slice(te.length).join("/")}let F=!u&&n&&n.matches&&n.matches.length>0?n.matches:_E(r,{pathname:W});ui(S||F!=null,`No routes matched location "${L.pathname}${L.search}${L.hash}" `),ui(F==null||F[F.length-1].route.element!==void 0||F[F.length-1].route.Component!==void 0||F[F.length-1].route.lazy!==void 0,`Matched leaf route at location "${L.pathname}${L.search}${L.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let $=Ab(F&&F.map(te=>Object.assign({},te,{params:Object.assign({},p,te.params),pathname:Hi([E,o.encodeLocation?o.encodeLocation(te.pathname).pathname:te.pathname]),pathnameBase:te.pathnameBase==="/"?E:Hi([E,o.encodeLocation?o.encodeLocation(te.pathnameBase).pathname:te.pathnameBase])})),f,n,s);return e&&$?Q.createElement(Hl.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...L},navigationType:"POP"}},$):$}function _b(){let r=Cb(),e=ub(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),n=r instanceof Error?r.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},f=null;return console.error("Error handled by React Router default ErrorBoundary:",r),f=Q.createElement(Q.Fragment,null,Q.createElement("p",null,"💿 Hey developer 👋"),Q.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",Q.createElement("code",{style:u},"ErrorBoundary")," or"," ",Q.createElement("code",{style:u},"errorElement")," prop on your route.")),Q.createElement(Q.Fragment,null,Q.createElement("h2",null,"Unexpected Application Error!"),Q.createElement("h3",{style:{fontStyle:"italic"}},e),n?Q.createElement("pre",{style:o},n):null,f)}var vb=Q.createElement(_b,null),Eb=class extends Q.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){console.error("React Router caught the following error during render",r,e)}render(){return this.state.error!==void 0?Q.createElement(di.Provider,{value:this.props.routeContext},Q.createElement(Am.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Tb({routeContext:r,match:e,children:n}){let s=Q.useContext(Za);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),Q.createElement(di.Provider,{value:r},n)}function Ab(r,e=[],n=null,s=null){if(r==null){if(!n)return null;if(n.errors)r=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)r=n.matches;else return null}let o=r,u=n==null?void 0:n.errors;if(u!=null){let p=o.findIndex(y=>y.route.id&&(u==null?void 0:u[y.route.id])!==void 0);it(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),o=o.slice(0,Math.min(o.length,p+1))}let f=!1,m=-1;if(n)for(let p=0;p<o.length;p++){let y=o[p];if((y.route.HydrateFallback||y.route.hydrateFallbackElement)&&(m=p),y.route.id){let{loaderData:E,errors:S}=n,C=y.route.loader&&!E.hasOwnProperty(y.route.id)&&(!S||S[y.route.id]===void 0);if(y.route.lazy||C){f=!0,m>=0?o=o.slice(0,m+1):o=[o[0]];break}}}return o.reduceRight((p,y,E)=>{let S,C=!1,L=null,z=null;n&&(S=u&&y.route.id?u[y.route.id]:void 0,L=y.route.errorElement||vb,f&&(m<0&&E===0?(IE("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),C=!0,z=null):m===E&&(C=!0,z=y.route.hydrateFallbackElement||null)));let W=e.concat(o.slice(0,E+1)),F=()=>{let $;return S?$=L:C?$=z:y.route.Component?$=Q.createElement(y.route.Component,null):y.route.element?$=y.route.element:$=p,Q.createElement(Tb,{match:y,routeContext:{outlet:p,matches:W,isDataRoute:n!=null},children:$})};return n&&(y.route.ErrorBoundary||y.route.errorElement||E===0)?Q.createElement(Eb,{location:n.location,revalidation:n.revalidation,component:L,error:S,children:F(),routeContext:{outlet:null,matches:W,isDataRoute:!0}}):F()},null)}function Sm(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Sb(r){let e=Q.useContext(Za);return it(e,Sm(r)),e}function bb(r){let e=Q.useContext(ch);return it(e,Sm(r)),e}function wb(r){let e=Q.useContext(di);return it(e,Sm(r)),e}function bm(r){let e=wb(r),n=e.matches[e.matches.length-1];return it(n.route.id,`${r} can only be used on routes that contain a unique "id"`),n.route.id}function Rb(){return bm("useRouteId")}function Cb(){var s;let r=Q.useContext(Am),e=bb("useRouteError"),n=bm("useRouteError");return r!==void 0?r:(s=e.errors)==null?void 0:s[n]}function Ib(){let{router:r}=Sb("useNavigate"),e=bm("useNavigate"),n=Q.useRef(!1);return RE(()=>{n.current=!0}),Q.useCallback(async(o,u={})=>{ui(n.current,wE),n.current&&(typeof o=="number"?r.navigate(o):await r.navigate(o,{fromRouteId:e,...u}))},[r,e])}var Q_={};function IE(r,e,n){!e&&!Q_[r]&&(Q_[r]=!0,ui(!1,n))}Q.memo(Db);function Db({routes:r,future:e,state:n}){return CE(r,void 0,n,e)}function Ir(r){it(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Nb({basename:r="/",children:e=null,location:n,navigationType:s="POP",navigator:o,static:u=!1}){it(!ql(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=r.replace(/^\/*/,"/"),m=Q.useMemo(()=>({basename:f,navigator:o,static:u,future:{}}),[f,o,u]);typeof n=="string"&&(n=Wa(n));let{pathname:p="/",search:y="",hash:E="",state:S=null,key:C="default"}=n,L=Q.useMemo(()=>{let z=Gi(p,f);return z==null?null:{location:{pathname:z,search:y,hash:E,state:S,key:C},navigationType:s}},[f,p,y,E,S,C,s]);return ui(L!=null,`<Router basename="${f}"> is not able to match the URL "${p}${y}${E}" because it does not start with the basename, so the <Router> won't render anything.`),L==null?null:Q.createElement(fi.Provider,{value:m},Q.createElement(Hl.Provider,{children:e,value:L}))}function Ob({children:r,location:e}){return yb(Xd(r),e)}function Xd(r,e=[]){let n=[];return Q.Children.forEach(r,(s,o)=>{if(!Q.isValidElement(s))return;let u=[...e,o];if(s.type===Q.Fragment){n.push.apply(n,Xd(s.props.children,u));return}it(s.type===Ir,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),it(!s.props.index||!s.props.children,"An index route cannot have child routes.");let f={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(f.children=Xd(s.props.children,u)),n.push(f)}),n}var xc="get",Mc="application/x-www-form-urlencoded";function hh(r){return r!=null&&typeof r.tagName=="string"}function xb(r){return hh(r)&&r.tagName.toLowerCase()==="button"}function Mb(r){return hh(r)&&r.tagName.toLowerCase()==="form"}function Vb(r){return hh(r)&&r.tagName.toLowerCase()==="input"}function kb(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function Pb(r,e){return r.button===0&&(!e||e==="_self")&&!kb(r)}var wc=null;function Lb(){if(wc===null)try{new FormData(document.createElement("form"),0),wc=!1}catch{wc=!0}return wc}var Ub=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Pd(r){return r!=null&&!Ub.has(r)?(ui(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Mc}"`),null):r}function zb(r,e){let n,s,o,u,f;if(Mb(r)){let m=r.getAttribute("action");s=m?Gi(m,e):null,n=r.getAttribute("method")||xc,o=Pd(r.getAttribute("enctype"))||Mc,u=new FormData(r)}else if(xb(r)||Vb(r)&&(r.type==="submit"||r.type==="image")){let m=r.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=r.getAttribute("formaction")||m.getAttribute("action");if(s=p?Gi(p,e):null,n=r.getAttribute("formmethod")||m.getAttribute("method")||xc,o=Pd(r.getAttribute("formenctype"))||Pd(m.getAttribute("enctype"))||Mc,u=new FormData(m,r),!Lb()){let{name:y,type:E,value:S}=r;if(E==="image"){let C=y?`${y}.`:"";u.append(`${C}x`,"0"),u.append(`${C}y`,"0")}else y&&u.append(y,S)}}else{if(hh(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=xc,s=null,o=Mc,f=r}return u&&o==="text/plain"&&(f=u,u=void 0),{action:s,method:n.toLowerCase(),encType:o,formData:u,body:f}}function wm(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}async function jb(r,e){if(r.id in e)return e[r.id];try{let n=await import(r.module);return e[r.id]=n,n}catch(n){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Bb(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function Hb(r,e,n){let s=await Promise.all(r.map(async o=>{let u=e.routes[o.route.id];if(u){let f=await jb(u,n);return f.links?f.links():[]}return[]}));return Qb(s.flat(1).filter(Bb).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function K_(r,e,n,s,o,u){let f=(p,y)=>n[y]?p.route.id!==n[y].route.id:!0,m=(p,y)=>{var E;return n[y].pathname!==p.pathname||((E=n[y].route.path)==null?void 0:E.endsWith("*"))&&n[y].params["*"]!==p.params["*"]};return u==="assets"?e.filter((p,y)=>f(p,y)||m(p,y)):u==="data"?e.filter((p,y)=>{var S;let E=s.routes[p.route.id];if(!E||!E.hasLoader)return!1;if(f(p,y)||m(p,y))return!0;if(p.route.shouldRevalidate){let C=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((S=n[0])==null?void 0:S.params)||{},nextUrl:new URL(r,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof C=="boolean")return C}return!0}):[]}function qb(r,e,{includeHydrateFallback:n}={}){return Fb(r.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function Fb(r){return[...new Set(r)]}function Gb(r){let e={},n=Object.keys(r).sort();for(let s of n)e[s]=r[s];return e}function Qb(r,e){let n=new Set;return new Set(e),r.reduce((s,o)=>{let u=JSON.stringify(Gb(o));return n.has(u)||(n.add(u),s.push({key:u,link:o})),s},[])}var Kb=new Set([100,101,204,205]);function Yb(r,e){let n=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return n.pathname==="/"?n.pathname="_root.data":e&&Gi(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function DE(){let r=Q.useContext(Za);return wm(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function Xb(){let r=Q.useContext(ch);return wm(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var Rm=Q.createContext(void 0);Rm.displayName="FrameworkContext";function NE(){let r=Q.useContext(Rm);return wm(r,"You must render this element inside a <HydratedRouter> element"),r}function $b(r,e){let n=Q.useContext(Rm),[s,o]=Q.useState(!1),[u,f]=Q.useState(!1),{onFocus:m,onBlur:p,onMouseEnter:y,onMouseLeave:E,onTouchStart:S}=e,C=Q.useRef(null);Q.useEffect(()=>{if(r==="render"&&f(!0),r==="viewport"){let W=$=>{$.forEach(se=>{f(se.isIntersecting)})},F=new IntersectionObserver(W,{threshold:.5});return C.current&&F.observe(C.current),()=>{F.disconnect()}}},[r]),Q.useEffect(()=>{if(s){let W=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(W)}}},[s]);let L=()=>{o(!0)},z=()=>{o(!1),f(!1)};return n?r!=="intent"?[u,C,{}]:[u,C,{onFocus:_l(m,L),onBlur:_l(p,z),onMouseEnter:_l(y,L),onMouseLeave:_l(E,z),onTouchStart:_l(S,L)}]:[!1,C,{}]}function _l(r,e){return n=>{r&&r(n),n.defaultPrevented||e(n)}}function Wb({page:r,...e}){let{router:n}=DE(),s=Q.useMemo(()=>_E(n.routes,r,n.basename),[n.routes,r,n.basename]);return s?Q.createElement(Jb,{page:r,matches:s,...e}):null}function Zb(r){let{manifest:e,routeModules:n}=NE(),[s,o]=Q.useState([]);return Q.useEffect(()=>{let u=!1;return Hb(r,e,n).then(f=>{u||o(f)}),()=>{u=!0}},[r,e,n]),s}function Jb({page:r,matches:e,...n}){let s=$i(),{manifest:o,routeModules:u}=NE(),{basename:f}=DE(),{loaderData:m,matches:p}=Xb(),y=Q.useMemo(()=>K_(r,e,p,o,s,"data"),[r,e,p,o,s]),E=Q.useMemo(()=>K_(r,e,p,o,s,"assets"),[r,e,p,o,s]),S=Q.useMemo(()=>{if(r===s.pathname+s.search+s.hash)return[];let z=new Set,W=!1;if(e.forEach($=>{var te;let se=o.routes[$.route.id];!se||!se.hasLoader||(!y.some(fe=>fe.route.id===$.route.id)&&$.route.id in m&&((te=u[$.route.id])!=null&&te.shouldRevalidate)||se.hasClientLoader?W=!0:z.add($.route.id))}),z.size===0)return[];let F=Yb(r,f);return W&&z.size>0&&F.searchParams.set("_routes",e.filter($=>z.has($.route.id)).map($=>$.route.id).join(",")),[F.pathname+F.search]},[f,m,s,o,y,e,r,u]),C=Q.useMemo(()=>qb(E,o),[E,o]),L=Zb(E);return Q.createElement(Q.Fragment,null,S.map(z=>Q.createElement("link",{key:z,rel:"prefetch",as:"fetch",href:z,...n})),C.map(z=>Q.createElement("link",{key:z,rel:"modulepreload",href:z,...n})),L.map(({key:z,link:W})=>Q.createElement("link",{key:z,...W})))}function ew(...r){return e=>{r.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var OE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{OE&&(window.__reactRouterVersion="7.5.1")}catch{}function tw({basename:r,children:e,window:n}){let s=Q.useRef();s.current==null&&(s.current=BS({window:n,v5Compat:!0}));let o=s.current,[u,f]=Q.useState({action:o.action,location:o.location}),m=Q.useCallback(p=>{Q.startTransition(()=>f(p))},[f]);return Q.useLayoutEffect(()=>o.listen(m),[o,m]),Q.createElement(Nb,{basename:r,children:e,location:u.location,navigationType:u.action,navigator:o})}var xE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ME=Q.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:o,reloadDocument:u,replace:f,state:m,target:p,to:y,preventScrollReset:E,viewTransition:S,...C},L){let{basename:z}=Q.useContext(fi),W=typeof y=="string"&&xE.test(y),F,$=!1;if(typeof y=="string"&&W&&(F=y,OE))try{let w=new URL(window.location.href),N=y.startsWith("//")?new URL(w.protocol+y):new URL(y),M=Gi(N.pathname,z);N.origin===w.origin&&M!=null?y=M+N.search+N.hash:$=!0}catch{ui(!1,`<Link to="${y}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let se=db(y,{relative:o}),[te,fe,ce]=$b(s,C),we=sw(y,{replace:f,state:m,target:p,preventScrollReset:E,relative:o,viewTransition:S});function x(w){e&&e(w),w.defaultPrevented||we(w)}let b=Q.createElement("a",{...C,...ce,href:F||se,onClick:$||u?e:x,ref:ew(L,fe),target:p,"data-discover":!W&&n==="render"?"true":void 0});return te&&!W?Q.createElement(Q.Fragment,null,b,Q.createElement(Wb,{page:se})):b});ME.displayName="Link";var nw=Q.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:o=!1,style:u,to:f,viewTransition:m,children:p,...y},E){let S=Fl(f,{relative:y.relative}),C=$i(),L=Q.useContext(ch),{navigator:z,basename:W}=Q.useContext(fi),F=L!=null&&cw(S)&&m===!0,$=z.encodeLocation?z.encodeLocation(S).pathname:S.pathname,se=C.pathname,te=L&&L.navigation&&L.navigation.location?L.navigation.location.pathname:null;n||(se=se.toLowerCase(),te=te?te.toLowerCase():null,$=$.toLowerCase()),te&&W&&(te=Gi(te,W)||te);const fe=$!=="/"&&$.endsWith("/")?$.length-1:$.length;let ce=se===$||!o&&se.startsWith($)&&se.charAt(fe)==="/",we=te!=null&&(te===$||!o&&te.startsWith($)&&te.charAt($.length)==="/"),x={isActive:ce,isPending:we,isTransitioning:F},b=ce?e:void 0,w;typeof s=="function"?w=s(x):w=[s,ce?"active":null,we?"pending":null,F?"transitioning":null].filter(Boolean).join(" ");let N=typeof u=="function"?u(x):u;return Q.createElement(ME,{...y,"aria-current":b,className:w,ref:E,style:N,to:f,viewTransition:m},typeof p=="function"?p(x):p)});nw.displayName="NavLink";var iw=Q.forwardRef(({discover:r="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:o,state:u,method:f=xc,action:m,onSubmit:p,relative:y,preventScrollReset:E,viewTransition:S,...C},L)=>{let z=lw(),W=uw(m,{relative:y}),F=f.toLowerCase()==="get"?"get":"post",$=typeof m=="string"&&xE.test(m),se=te=>{if(p&&p(te),te.defaultPrevented)return;te.preventDefault();let fe=te.nativeEvent.submitter,ce=(fe==null?void 0:fe.getAttribute("formmethod"))||f;z(fe||te.currentTarget,{fetcherKey:e,method:ce,navigate:n,replace:o,state:u,relative:y,preventScrollReset:E,viewTransition:S})};return Q.createElement("form",{ref:L,method:F,action:W,onSubmit:s?p:se,...C,"data-discover":!$&&r==="render"?"true":void 0})});iw.displayName="Form";function rw(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function VE(r){let e=Q.useContext(Za);return it(e,rw(r)),e}function sw(r,{target:e,replace:n,state:s,preventScrollReset:o,relative:u,viewTransition:f}={}){let m=mb(),p=$i(),y=Fl(r,{relative:u});return Q.useCallback(E=>{if(Pb(E,e)){E.preventDefault();let S=n!==void 0?n:Dl(p)===Dl(y);m(r,{replace:S,state:s,preventScrollReset:o,relative:u,viewTransition:f})}},[p,m,y,n,s,e,r,o,u,f])}var aw=0,ow=()=>`__${String(++aw)}__`;function lw(){let{router:r}=VE("useSubmit"),{basename:e}=Q.useContext(fi),n=Rb();return Q.useCallback(async(s,o={})=>{let{action:u,method:f,encType:m,formData:p,body:y}=zb(s,e);if(o.navigate===!1){let E=o.fetcherKey||ow();await r.fetch(E,n,o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:y,formMethod:o.method||f,formEncType:o.encType||m,flushSync:o.flushSync})}else await r.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:y,formMethod:o.method||f,formEncType:o.encType||m,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[r,e,n])}function uw(r,{relative:e}={}){let{basename:n}=Q.useContext(fi),s=Q.useContext(di);it(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...Fl(r||".",{relative:e})},f=$i();if(r==null){u.search=f.search;let m=new URLSearchParams(u.search),p=m.getAll("index");if(p.some(E=>E==="")){m.delete("index"),p.filter(S=>S).forEach(S=>m.append("index",S));let E=m.toString();u.search=E?`?${E}`:""}}return(!r||r===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:Hi([n,u.pathname])),Dl(u)}function cw(r,e={}){let n=Q.useContext(bE);it(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=VE("useViewTransitionState"),o=Fl(r,{relative:e.relative});if(!n.isTransitioning)return!1;let u=Gi(n.currentLocation.pathname,s)||n.currentLocation.pathname,f=Gi(n.nextLocation.pathname,s)||n.nextLocation.pathname;return qc(o.pathname,f)!=null||qc(o.pathname,u)!=null}new TextEncoder;[...Kb];const hw="/assets/hytte-B67Z78iM.png",fw="/assets/cabin1-CtXbMou4.png",dw="/assets/cabin2-BenUgYoM.png",mw="/assets/cabin3-Yoxkw0Ej.png",pw="/assets/cabin4-C29Qjiw7.png",gw="/assets/cabin5-CHrZPZiD.png",yw="/assets/cabin6-DY5o2Ytf.png",_w="/assets/cabin7-BqTBO_5p.png",vw="/assets/cabin8-B3owjgf5.png",Ew="/assets/cabin9-BQMa7R2I.png",Tw="/assets/cabin10-DVxCEGI2.png",Nl=[{id:"cabin-001",images:[fw],categories:["Skog","Avsides"],title:"Skogro Hytte",description:"En koselig tømmerhytte dypt inne i skogen – perfekt for en rolig helg unna byen.",maxGuests:4,location:"Trysil, Innlandet",amenities:["Peis","Vedovn","Terrasse"],pricePerNight:950},{id:"cabin-002",images:[dw],categories:["Fjell","Familie"],title:"Fjellheimen",description:"Romslig fjellhytte med panoramautsikt, ideell for familieferier.",maxGuests:6,location:"Hemsedal, Viken",amenities:["Badstu","Kjøkken","Wifi"],pricePerNight:1200},{id:"cabin-003",images:[mw],categories:["Innsjø","Romantisk"],title:"Vannkanten",description:"Sjarmerende liten hytte rett ved vannet – perfekt for to.",maxGuests:2,location:"Seljord, Telemark",amenities:["Bålplass","Robåt","Solnedgang"],pricePerNight:850},{id:"cabin-004",images:[pw],categories:["Luksus","Avsides"],title:"Nordlys Retreat",description:"Eksklusiv hytte i nord med store vinduer – perfekt for å se nordlyset.",maxGuests:5,location:"Alta, Troms og Finnmark",amenities:["Jacuzzi","Peis","Fullt kjøkken"],pricePerNight:2e3},{id:"cabin-005",images:[gw],categories:["Skog","Enkel"],title:"Granly",description:"Enkel og sjarmerende hytte omringet av grantrær – tilbake til naturen.",maxGuests:3,location:"Eidsvoll, Akershus",amenities:["Vedovn","Utetoalett","Natursti"],pricePerNight:600},{id:"cabin-006",images:[yw],categories:["Fjell","Avsides"],title:"Høgfjellbu",description:"Tradisjonell hytte høyt til fjells med fantastisk utsikt og fredelig atmosfære.",maxGuests:4,location:"Rondane, Innlandet",amenities:["Peis","Turstier","Kjøkken"],pricePerNight:1100},{id:"cabin-007",images:[_w],categories:["Innsjø","Familie"],title:"Sjøgløtt",description:"Familievennlig hytte ved innsjø med god plass og kort vei til badestrand.",maxGuests:6,location:"Norefjell, Viken",amenities:["Båt","Grillplass","Wifi"],pricePerNight:1250},{id:"cabin-008",images:[vw],categories:["Romantisk","Luksus"],title:"Eventyrhytta",description:"Eksklusiv og romantisk hytte med jacuzzi og utsikt over fjellene.",maxGuests:2,location:"Geiranger, Møre og Romsdal",amenities:["Jacuzzi","Peis","Privat terrasse"],pricePerNight:2200},{id:"cabin-009",images:[Ew],categories:["Skog","Familie"],title:"Tretopphytten",description:"Unik tretopphytte midt i skogen – en spennende opplevelse for hele familien.",maxGuests:5,location:"Hurdal, Akershus",amenities:["Tretopptur","Kjøkken","Terrasse"],pricePerNight:1350},{id:"cabin-010",images:[Tw],categories:["Avsides","Enkel"],title:"Stillhet",description:"Minimalistisk hytte uten strøm og vann – perfekt for å koble helt av.",maxGuests:2,location:"Setesdal, Agder",amenities:["Vedovn","Utetoalett","Stjernehimmel"],pricePerNight:500}];function Aw(r){let e=[];for(let n=0;n<Nl.length;n++){const s=Nl[n];s.location.toLowerCase().includes(r.toLowerCase())&&e.push(s)}return e}function Sw(r){for(let e=0;e<Nl.length;e++){const n=Nl[e];if(n.id===r)return n}}function bw(){const[r,e]=Q.useState([]),n=s=>e(Aw(s.target.value));return k.jsxs("div",{className:"home-container",children:[k.jsx("img",{src:hw,alt:"Bakgrunnsbilde av en skog.",className:"background-image"}),k.jsxs("div",{className:"home-content",children:[k.jsx("h3",{className:"home-title",children:"Hytte Leie – Finn din perfekte hytte i naturen"}),k.jsx("p",{className:"home-description",children:"Lei en koselig hytte i vakre omgivelser, fra skog til fjell. Enkel booking og unike opplevelser for ro og eventyr – alt på ett sted."}),k.jsxs("div",{className:"searchbar",children:[k.jsx("input",{type:"text",id:"searchbar",placeholder:"Finn din hytte her",onChange:n}),k.jsx("svg",{width:"100%",height:"100%",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:k.jsx("path",{d:"M21 21L17.5001 17.5M20 11.5C20 16.1944 16.1944 20 11.5 20C6.80558 20 3 16.1944 3 11.5C3 6.80558 6.80558 3 11.5 3C16.1944 3 20 6.80558 20 11.5Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})]}),k.jsx("div",{className:"cabin-recommendations",children:r.map((s,o)=>k.jsxs("a",{href:`/hytter/${s.id}`,style:{borderTopLeftRadius:o===0?"4px":"0",borderTopRightRadius:o===0?"4px":"0",borderBottomLeftRadius:o===r.length-1?"4px":"0",borderBottomRightRadius:o===r.length-1?"4px":"0"},children:[s.title,", ",s.location]},o))})]})]})}function ww(){return k.jsx("div",{className:"main-page-container",children:k.jsx("div",{className:"main-page-content",children:k.jsx(bw,{})})})}const Rw={user:null},kE=Q.createContext(Rw),Cw=()=>{};var Y_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PE=function(r){const e=[];let n=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},Iw=function(r){const e=[];let n=0,s=0;for(;n<r.length;){const o=r[n++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=r[n++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=r[n++],f=r[n++],m=r[n++],p=((o&7)<<18|(u&63)<<12|(f&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(p>>10)),e[s++]=String.fromCharCode(56320+(p&1023))}else{const u=r[n++],f=r[n++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return e.join("")},LE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const u=r[o],f=o+1<r.length,m=f?r[o+1]:0,p=o+2<r.length,y=p?r[o+2]:0,E=u>>2,S=(u&3)<<4|m>>4;let C=(m&15)<<2|y>>6,L=y&63;p||(L=64,f||(C=64)),s.push(n[E],n[S],n[C],n[L])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(PE(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):Iw(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const u=n[r.charAt(o++)],m=o<r.length?n[r.charAt(o)]:0;++o;const y=o<r.length?n[r.charAt(o)]:64;++o;const S=o<r.length?n[r.charAt(o)]:64;if(++o,u==null||m==null||y==null||S==null)throw new Dw;const C=u<<2|m>>4;if(s.push(C),y!==64){const L=m<<4&240|y>>2;if(s.push(L),S!==64){const z=y<<6&192|S;s.push(z)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class Dw extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Nw=function(r){const e=PE(r);return LE.encodeByteArray(e,!0)},Fc=function(r){return Nw(r).replace(/\./g,"")},UE=function(r){try{return LE.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ow(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xw=()=>Ow().__FIREBASE_DEFAULTS__,Mw=()=>{if(typeof process>"u"||typeof Y_>"u")return;const r=Y_.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},Vw=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&UE(r[1]);return e&&JSON.parse(e)},fh=()=>{try{return Cw()||xw()||Mw()||Vw()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},zE=r=>{var e,n;return(n=(e=fh())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[r]},kw=r=>{const e=zE(r);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},jE=()=>{var r;return(r=fh())===null||r===void 0?void 0:r.config},BE=r=>{var e;return(e=fh())===null||e===void 0?void 0:e[`_${r}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pw{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lw(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",o=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},r);return[Fc(JSON.stringify(n)),Fc(JSON.stringify(f)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Uw(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Xt())}function zw(){var r;const e=(r=fh())===null||r===void 0?void 0:r.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function jw(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Bw(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function Hw(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function qw(){const r=Xt();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function Fw(){return!zw()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Gw(){try{return typeof indexedDB=="object"}catch{return!1}}function Qw(){return new Promise((r,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{var u;e(((u=o.error)===null||u===void 0?void 0:u.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kw="FirebaseError";class Wi extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=Kw,Object.setPrototypeOf(this,Wi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Gl.prototype.create)}}class Gl{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},o=`${this.service}/${e}`,u=this.errors[e],f=u?Yw(u,s):"Error",m=`${this.serviceName}: ${f} (${o}).`;return new Wi(o,m,s)}}function Yw(r,e){return r.replace(Xw,(n,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const Xw=/\{\$([^}]+)}/g;function $w(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function Ms(r,e){if(r===e)return!0;const n=Object.keys(r),s=Object.keys(e);for(const o of n){if(!s.includes(o))return!1;const u=r[o],f=e[o];if(X_(u)&&X_(f)){if(!Ms(u,f))return!1}else if(u!==f)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function X_(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ql(r){const e=[];for(const[n,s]of Object.entries(r))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function vl(r){const e={};return r.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,u]=s.split("=");e[decodeURIComponent(o)]=decodeURIComponent(u)}}),e}function El(r){const e=r.indexOf("?");if(!e)return"";const n=r.indexOf("#",e);return r.substring(e,n>0?n:void 0)}function Ww(r,e){const n=new Zw(r,e);return n.subscribe.bind(n)}class Zw{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let o;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");Jw(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:s},o.next===void 0&&(o.next=Ld),o.error===void 0&&(o.error=Ld),o.complete===void 0&&(o.complete=Ld);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Jw(r,e){if(typeof r!="object"||r===null)return!1;for(const n of e)if(n in r&&typeof r[n]=="function")return!0;return!1}function Ld(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nn(r){return r&&r._delegate?r._delegate:r}class Vs{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ns="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eR{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new Pw;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(u){if(o)return null;throw u}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(nR(e))try{this.getOrInitializeService({instanceIdentifier:Ns})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=Ns){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ns){return this.instances.has(e)}getOptions(e=Ns){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,f]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&f.resolve(o)}return o}onInit(e,n){var s;const o=this.normalizeInstanceIdentifier(n),u=(s=this.onInitCallbacks.get(o))!==null&&s!==void 0?s:new Set;u.add(e),this.onInitCallbacks.set(o,u);const f=this.instances.get(o);return f&&e(f,o),()=>{u.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:tR(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Ns){return this.component?this.component.multipleInstances?e:Ns:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function tR(r){return r===Ns?void 0:r}function nR(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iR{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new eR(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Me;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Me||(Me={}));const rR={debug:Me.DEBUG,verbose:Me.VERBOSE,info:Me.INFO,warn:Me.WARN,error:Me.ERROR,silent:Me.SILENT},sR=Me.INFO,aR={[Me.DEBUG]:"log",[Me.VERBOSE]:"log",[Me.INFO]:"info",[Me.WARN]:"warn",[Me.ERROR]:"error"},oR=(r,e,...n)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),o=aR[e];if(o)console[o](`[${s}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Cm{constructor(e){this.name=e,this._logLevel=sR,this._logHandler=oR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Me))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?rR[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Me.DEBUG,...e),this._logHandler(this,Me.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Me.VERBOSE,...e),this._logHandler(this,Me.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Me.INFO,...e),this._logHandler(this,Me.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Me.WARN,...e),this._logHandler(this,Me.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Me.ERROR,...e),this._logHandler(this,Me.ERROR,...e)}}const lR=(r,e)=>e.some(n=>r instanceof n);let $_,W_;function uR(){return $_||($_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function cR(){return W_||(W_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const HE=new WeakMap,$d=new WeakMap,qE=new WeakMap,Ud=new WeakMap,Im=new WeakMap;function hR(r){const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("success",u),r.removeEventListener("error",f)},u=()=>{n(Mr(r.result)),o()},f=()=>{s(r.error),o()};r.addEventListener("success",u),r.addEventListener("error",f)});return e.then(n=>{n instanceof IDBCursor&&HE.set(n,r)}).catch(()=>{}),Im.set(e,r),e}function fR(r){if($d.has(r))return;const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",f),r.removeEventListener("abort",f)},u=()=>{n(),o()},f=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",u),r.addEventListener("error",f),r.addEventListener("abort",f)});$d.set(r,e)}let Wd={get(r,e,n){if(r instanceof IDBTransaction){if(e==="done")return $d.get(r);if(e==="objectStoreNames")return r.objectStoreNames||qE.get(r);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Mr(r[e])},set(r,e,n){return r[e]=n,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function dR(r){Wd=r(Wd)}function mR(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=r.call(zd(this),e,...n);return qE.set(s,e.sort?e.sort():[e]),Mr(s)}:cR().includes(r)?function(...e){return r.apply(zd(this),e),Mr(HE.get(this))}:function(...e){return Mr(r.apply(zd(this),e))}}function pR(r){return typeof r=="function"?mR(r):(r instanceof IDBTransaction&&fR(r),lR(r,uR())?new Proxy(r,Wd):r)}function Mr(r){if(r instanceof IDBRequest)return hR(r);if(Ud.has(r))return Ud.get(r);const e=pR(r);return e!==r&&(Ud.set(r,e),Im.set(e,r)),e}const zd=r=>Im.get(r);function gR(r,e,{blocked:n,upgrade:s,blocking:o,terminated:u}={}){const f=indexedDB.open(r,e),m=Mr(f);return s&&f.addEventListener("upgradeneeded",p=>{s(Mr(f.result),p.oldVersion,p.newVersion,Mr(f.transaction),p)}),n&&f.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),m.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),m}const yR=["get","getKey","getAll","getAllKeys","count"],_R=["put","add","delete","clear"],jd=new Map;function Z_(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(jd.get(e))return jd.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,o=_R.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||yR.includes(n)))return;const u=async function(f,...m){const p=this.transaction(f,o?"readwrite":"readonly");let y=p.store;return s&&(y=y.index(m.shift())),(await Promise.all([y[n](...m),o&&p.done]))[0]};return jd.set(e,u),u}dR(r=>({...r,get:(e,n,s)=>Z_(e,n)||r.get(e,n,s),has:(e,n)=>!!Z_(e,n)||r.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vR{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(ER(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function ER(r){const e=r.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Zd="@firebase/app",J_="0.11.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qi=new Cm("@firebase/app"),TR="@firebase/app-compat",AR="@firebase/analytics-compat",SR="@firebase/analytics",bR="@firebase/app-check-compat",wR="@firebase/app-check",RR="@firebase/auth",CR="@firebase/auth-compat",IR="@firebase/database",DR="@firebase/data-connect",NR="@firebase/database-compat",OR="@firebase/functions",xR="@firebase/functions-compat",MR="@firebase/installations",VR="@firebase/installations-compat",kR="@firebase/messaging",PR="@firebase/messaging-compat",LR="@firebase/performance",UR="@firebase/performance-compat",zR="@firebase/remote-config",jR="@firebase/remote-config-compat",BR="@firebase/storage",HR="@firebase/storage-compat",qR="@firebase/firestore",FR="@firebase/vertexai",GR="@firebase/firestore-compat",QR="firebase",KR="11.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jd="[DEFAULT]",YR={[Zd]:"fire-core",[TR]:"fire-core-compat",[SR]:"fire-analytics",[AR]:"fire-analytics-compat",[wR]:"fire-app-check",[bR]:"fire-app-check-compat",[RR]:"fire-auth",[CR]:"fire-auth-compat",[IR]:"fire-rtdb",[DR]:"fire-data-connect",[NR]:"fire-rtdb-compat",[OR]:"fire-fn",[xR]:"fire-fn-compat",[MR]:"fire-iid",[VR]:"fire-iid-compat",[kR]:"fire-fcm",[PR]:"fire-fcm-compat",[LR]:"fire-perf",[UR]:"fire-perf-compat",[zR]:"fire-rc",[jR]:"fire-rc-compat",[BR]:"fire-gcs",[HR]:"fire-gcs-compat",[qR]:"fire-fst",[GR]:"fire-fst-compat",[FR]:"fire-vertex","fire-js":"fire-js",[QR]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gc=new Map,XR=new Map,em=new Map;function ev(r,e){try{r.container.addComponent(e)}catch(n){Qi.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,n)}}function qa(r){const e=r.name;if(em.has(e))return Qi.debug(`There were multiple attempts to register component ${e}.`),!1;em.set(e,r);for(const n of Gc.values())ev(n,r);for(const n of XR.values())ev(n,r);return!0}function Dm(r,e){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(e)}function mn(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $R={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Vr=new Gl("app","Firebase",$R);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WR{constructor(e,n,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Vs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Vr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ja=KR;function FE(r,e={}){let n=r;typeof e!="object"&&(e={name:e});const s=Object.assign({name:Jd,automaticDataCollectionEnabled:!1},e),o=s.name;if(typeof o!="string"||!o)throw Vr.create("bad-app-name",{appName:String(o)});if(n||(n=jE()),!n)throw Vr.create("no-options");const u=Gc.get(o);if(u){if(Ms(n,u.options)&&Ms(s,u.config))return u;throw Vr.create("duplicate-app",{appName:o})}const f=new iR(o);for(const p of em.values())f.addComponent(p);const m=new WR(n,s,f);return Gc.set(o,m),m}function GE(r=Jd){const e=Gc.get(r);if(!e&&r===Jd&&jE())return FE();if(!e)throw Vr.create("no-app",{appName:r});return e}function kr(r,e,n){var s;let o=(s=YR[r])!==null&&s!==void 0?s:r;n&&(o+=`-${n}`);const u=o.match(/\s|\//),f=e.match(/\s|\//);if(u||f){const m=[`Unable to register library "${o}" with version "${e}":`];u&&m.push(`library name "${o}" contains illegal characters (whitespace or "/")`),u&&f&&m.push("and"),f&&m.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Qi.warn(m.join(" "));return}qa(new Vs(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZR="firebase-heartbeat-database",JR=1,Ol="firebase-heartbeat-store";let Bd=null;function QE(){return Bd||(Bd=gR(ZR,JR,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(Ol)}catch(n){console.warn(n)}}}}).catch(r=>{throw Vr.create("idb-open",{originalErrorMessage:r.message})})),Bd}async function e1(r){try{const n=(await QE()).transaction(Ol),s=await n.objectStore(Ol).get(KE(r));return await n.done,s}catch(e){if(e instanceof Wi)Qi.warn(e.message);else{const n=Vr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Qi.warn(n.message)}}}async function tv(r,e){try{const s=(await QE()).transaction(Ol,"readwrite");await s.objectStore(Ol).put(e,KE(r)),await s.done}catch(n){if(n instanceof Wi)Qi.warn(n.message);else{const s=Vr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Qi.warn(s.message)}}}function KE(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t1=1024,n1=30;class i1{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new s1(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,n;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=nv();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(f=>f.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:o}),this._heartbeatsCache.heartbeats.length>n1){const f=a1(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(f,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){Qi.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=nv(),{heartbeatsToSend:s,unsentEntries:o}=r1(this._heartbeatsCache.heartbeats),u=Fc(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(n){return Qi.warn(n),""}}}function nv(){return new Date().toISOString().substring(0,10)}function r1(r,e=t1){const n=[];let s=r.slice();for(const o of r){const u=n.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),iv(n)>e){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),iv(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class s1{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Gw()?Qw().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await e1(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return tv(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return tv(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function iv(r){return Fc(JSON.stringify({version:2,heartbeats:r})).length}function a1(r){if(r.length===0)return-1;let e=0,n=r[0].date;for(let s=1;s<r.length;s++)r[s].date<n&&(n=r[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o1(r){qa(new Vs("platform-logger",e=>new vR(e),"PRIVATE")),qa(new Vs("heartbeat",e=>new i1(e),"PRIVATE")),kr(Zd,J_,r),kr(Zd,J_,"esm2017"),kr("fire-js","")}o1("");var l1="firebase",u1="11.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */kr(l1,u1,"app");function Nm(r,e){var n={};for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&e.indexOf(s)<0&&(n[s]=r[s]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(r);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(r,s[o])&&(n[s[o]]=r[s[o]]);return n}function YE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const c1=YE,XE=new Gl("auth","Firebase",YE());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qc=new Cm("@firebase/auth");function h1(r,...e){Qc.logLevel<=Me.WARN&&Qc.warn(`Auth (${Ja}): ${r}`,...e)}function Vc(r,...e){Qc.logLevel<=Me.ERROR&&Qc.error(`Auth (${Ja}): ${r}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function On(r,...e){throw xm(r,...e)}function jn(r,...e){return xm(r,...e)}function Om(r,e,n){const s=Object.assign(Object.assign({},c1()),{[e]:n});return new Gl("auth","Firebase",s).create(e,{appName:r.name})}function qi(r){return Om(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function f1(r,e,n){const s=n;if(!(e instanceof s))throw s.name!==e.constructor.name&&On(r,"argument-error"),Om(r,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function xm(r,...e){if(typeof r!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(n,...s)}return XE.create(r,...e)}function ve(r,e,...n){if(!r)throw xm(e,...n)}function ji(r){const e="INTERNAL ASSERTION FAILED: "+r;throw Vc(e),new Error(e)}function Ki(r,e){r||ji(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tm(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.href)||""}function d1(){return rv()==="http:"||rv()==="https:"}function rv(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m1(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(d1()||Bw()||"connection"in navigator)?navigator.onLine:!0}function p1(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kl{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ki(n>e,"Short delay should be less than long delay!"),this.isMobile=Uw()||Hw()}get(){return m1()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mm(r,e){Ki(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $E{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ji("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ji("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ji("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g1={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y1=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],_1=new Kl(3e4,6e4);function Fr(r,e){return r.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:r.tenantId}):e}async function Gr(r,e,n,s,o={}){return WE(r,o,async()=>{let u={},f={};s&&(e==="GET"?f=s:u={body:JSON.stringify(s)});const m=Ql(Object.assign({key:r.config.apiKey},f)).slice(1),p=await r._getAdditionalHeaders();p["Content-Type"]="application/json",r.languageCode&&(p["X-Firebase-Locale"]=r.languageCode);const y=Object.assign({method:e,headers:p},u);return jw()||(y.referrerPolicy="no-referrer"),$E.fetch()(await ZE(r,r.config.apiHost,n,m),y)})}async function WE(r,e,n){r._canInitEmulator=!1;const s=Object.assign(Object.assign({},g1),e);try{const o=new E1(r),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw Rc(r,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const m=u.ok?f.errorMessage:f.error.message,[p,y]=m.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw Rc(r,"credential-already-in-use",f);if(p==="EMAIL_EXISTS")throw Rc(r,"email-already-in-use",f);if(p==="USER_DISABLED")throw Rc(r,"user-disabled",f);const E=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw Om(r,E,y);On(r,E)}}catch(o){if(o instanceof Wi)throw o;On(r,"network-request-failed",{message:String(o)})}}async function Yl(r,e,n,s,o={}){const u=await Gr(r,e,n,s,o);return"mfaPendingCredential"in u&&On(r,"multi-factor-auth-required",{_serverResponse:u}),u}async function ZE(r,e,n,s){const o=`${e}${n}?${s}`,u=r,f=u.config.emulator?Mm(r.config,o):`${r.config.apiScheme}://${o}`;return y1.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(f).toString():f}function v1(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class E1{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(jn(this.auth,"network-request-failed")),_1.get())})}}function Rc(r,e,n){const s={appName:r.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=jn(r,e,s);return o.customData._tokenResponse=n,o}function sv(r){return r!==void 0&&r.enterprise!==void 0}class T1{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return v1(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function A1(r,e){return Gr(r,"GET","/v2/recaptchaConfig",Fr(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function S1(r,e){return Gr(r,"POST","/v1/accounts:delete",e)}async function Kc(r,e){return Gr(r,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bl(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function b1(r,e=!1){const n=Nn(r),s=await n.getIdToken(e),o=Vm(s);ve(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,f=u==null?void 0:u.sign_in_provider;return{claims:o,token:s,authTime:bl(Hd(o.auth_time)),issuedAtTime:bl(Hd(o.iat)),expirationTime:bl(Hd(o.exp)),signInProvider:f||null,signInSecondFactor:(u==null?void 0:u.sign_in_second_factor)||null}}function Hd(r){return Number(r)*1e3}function Vm(r){const[e,n,s]=r.split(".");if(e===void 0||n===void 0||s===void 0)return Vc("JWT malformed, contained fewer than 3 sections"),null;try{const o=UE(n);return o?JSON.parse(o):(Vc("Failed to decode base64 JWT payload"),null)}catch(o){return Vc("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function av(r){const e=Vm(r);return ve(e,"internal-error"),ve(typeof e.exp<"u","internal-error"),ve(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xl(r,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof Wi&&w1(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function w1({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R1{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const o=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nm{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=bl(this.lastLoginAt),this.creationTime=bl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yc(r){var e;const n=r.auth,s=await r.getIdToken(),o=await xl(r,Kc(n,{idToken:s}));ve(o==null?void 0:o.users.length,n,"internal-error");const u=o.users[0];r._notifyReloadListener(u);const f=!((e=u.providerUserInfo)===null||e===void 0)&&e.length?JE(u.providerUserInfo):[],m=I1(r.providerData,f),p=r.isAnonymous,y=!(r.email&&u.passwordHash)&&!(m!=null&&m.length),E=p?y:!1,S={uid:u.localId,displayName:u.displayName||null,photoURL:u.photoUrl||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,tenantId:u.tenantId||null,providerData:m,metadata:new nm(u.createdAt,u.lastLoginAt),isAnonymous:E};Object.assign(r,S)}async function C1(r){const e=Nn(r);await Yc(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function I1(r,e){return[...r.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function JE(r){return r.map(e=>{var{providerId:n}=e,s=Nm(e,["providerId"]);return{providerId:n,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function D1(r,e){const n=await WE(r,{},async()=>{const s=Ql({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=r.config,f=await ZE(r,o,"/v1/token",`key=${u}`),m=await r._getAdditionalHeaders();return m["Content-Type"]="application/x-www-form-urlencoded",$E.fetch()(f,{method:"POST",headers:m,body:s})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function N1(r,e){return Gr(r,"POST","/v2/accounts:revokeToken",Fr(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class za{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ve(e.idToken,"internal-error"),ve(typeof e.idToken<"u","internal-error"),ve(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):av(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ve(e.length!==0,"internal-error");const n=av(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ve(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:o,expiresIn:u}=await D1(e,n);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:o,expirationTime:u}=n,f=new za;return s&&(ve(typeof s=="string","internal-error",{appName:e}),f.refreshToken=s),o&&(ve(typeof o=="string","internal-error",{appName:e}),f.accessToken=o),u&&(ve(typeof u=="number","internal-error",{appName:e}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new za,this.toJSON())}_performRefresh(){return ji("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cr(r,e){ve(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class Un{constructor(e){var{uid:n,auth:s,stsTokenManager:o}=e,u=Nm(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new R1(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=s,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=u.displayName||null,this.email=u.email||null,this.emailVerified=u.emailVerified||!1,this.phoneNumber=u.phoneNumber||null,this.photoURL=u.photoURL||null,this.isAnonymous=u.isAnonymous||!1,this.tenantId=u.tenantId||null,this.providerData=u.providerData?[...u.providerData]:[],this.metadata=new nm(u.createdAt||void 0,u.lastLoginAt||void 0)}async getIdToken(e){const n=await xl(this,this.stsTokenManager.getToken(this.auth,e));return ve(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return b1(this,e)}reload(){return C1(this)}_assign(e){this!==e&&(ve(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Un(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){ve(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await Yc(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(mn(this.auth.app))return Promise.reject(qi(this.auth));const e=await this.getIdToken();return await xl(this,S1(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var s,o,u,f,m,p,y,E;const S=(s=n.displayName)!==null&&s!==void 0?s:void 0,C=(o=n.email)!==null&&o!==void 0?o:void 0,L=(u=n.phoneNumber)!==null&&u!==void 0?u:void 0,z=(f=n.photoURL)!==null&&f!==void 0?f:void 0,W=(m=n.tenantId)!==null&&m!==void 0?m:void 0,F=(p=n._redirectEventId)!==null&&p!==void 0?p:void 0,$=(y=n.createdAt)!==null&&y!==void 0?y:void 0,se=(E=n.lastLoginAt)!==null&&E!==void 0?E:void 0,{uid:te,emailVerified:fe,isAnonymous:ce,providerData:we,stsTokenManager:x}=n;ve(te&&x,e,"internal-error");const b=za.fromJSON(this.name,x);ve(typeof te=="string",e,"internal-error"),Cr(S,e.name),Cr(C,e.name),ve(typeof fe=="boolean",e,"internal-error"),ve(typeof ce=="boolean",e,"internal-error"),Cr(L,e.name),Cr(z,e.name),Cr(W,e.name),Cr(F,e.name),Cr($,e.name),Cr(se,e.name);const w=new Un({uid:te,auth:e,email:C,emailVerified:fe,displayName:S,isAnonymous:ce,photoURL:z,phoneNumber:L,tenantId:W,stsTokenManager:b,createdAt:$,lastLoginAt:se});return we&&Array.isArray(we)&&(w.providerData=we.map(N=>Object.assign({},N))),F&&(w._redirectEventId=F),w}static async _fromIdTokenResponse(e,n,s=!1){const o=new za;o.updateFromServerResponse(n);const u=new Un({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await Yc(u),u}static async _fromGetAccountInfoResponse(e,n,s){const o=n.users[0];ve(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?JE(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!(u!=null&&u.length),m=new za;m.updateFromIdToken(s);const p=new Un({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:f}),y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new nm(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(u!=null&&u.length)};return Object.assign(p,y),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ov=new Map;function Bi(r){Ki(r instanceof Function,"Expected a class definition");let e=ov.get(r);return e?(Ki(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,ov.set(r,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e0{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}e0.type="NONE";const lv=e0;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kc(r,e,n){return`firebase:${r}:${e}:${n}`}class ja{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=kc(this.userKey,o.apiKey,u),this.fullPersistenceKey=kc("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Kc(this.auth,{idToken:e}).catch(()=>{});return n?Un._fromGetAccountInfoResponse(this.auth,n,e):null}return Un._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new ja(Bi(lv),e,s);const o=(await Promise.all(n.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let u=o[0]||Bi(lv);const f=kc(s,e.config.apiKey,e.name);let m=null;for(const y of n)try{const E=await y._get(f);if(E){let S;if(typeof E=="string"){const C=await Kc(e,{idToken:E}).catch(()=>{});if(!C)break;S=await Un._fromGetAccountInfoResponse(e,C,E)}else S=Un._fromJSON(e,E);y!==u&&(m=S),u=y;break}}catch{}const p=o.filter(y=>y._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new ja(u,e,s):(u=p[0],m&&await u._set(f,m.toJSON()),await Promise.all(n.map(async y=>{if(y!==u)try{await y._remove(f)}catch{}})),new ja(u,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uv(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(r0(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(t0(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(a0(e))return"Blackberry";if(o0(e))return"Webos";if(n0(e))return"Safari";if((e.includes("chrome/")||i0(e))&&!e.includes("edge/"))return"Chrome";if(s0(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(n);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function t0(r=Xt()){return/firefox\//i.test(r)}function n0(r=Xt()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function i0(r=Xt()){return/crios\//i.test(r)}function r0(r=Xt()){return/iemobile/i.test(r)}function s0(r=Xt()){return/android/i.test(r)}function a0(r=Xt()){return/blackberry/i.test(r)}function o0(r=Xt()){return/webos/i.test(r)}function km(r=Xt()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function O1(r=Xt()){var e;return km(r)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function x1(){return qw()&&document.documentMode===10}function l0(r=Xt()){return km(r)||s0(r)||o0(r)||a0(r)||/windows phone/i.test(r)||r0(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u0(r,e=[]){let n;switch(r){case"Browser":n=uv(Xt());break;case"Worker":n=`${uv(Xt())}-${r}`;break;default:n=r}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ja}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M1{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=u=>new Promise((f,m)=>{try{const p=e(u);f(p)}catch(p){m(p)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function V1(r,e={}){return Gr(r,"GET","/v2/passwordPolicy",Fr(r,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k1=6;class P1{constructor(e){var n,s,o,u;const f=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=f.minPasswordLength)!==null&&n!==void 0?n:k1,f.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=f.maxPasswordLength),f.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=f.containsLowercaseCharacter),f.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=f.containsUppercaseCharacter),f.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=f.containsNumericCharacter),f.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=f.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(s=e.allowedNonAlphanumericCharacters)===null||s===void 0?void 0:s.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(u=e.forceUpgradeOnSignin)!==null&&u!==void 0?u:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,s,o,u,f,m;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,p),this.validatePasswordCharacterOptions(e,p),p.isValid&&(p.isValid=(n=p.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),p.isValid&&(p.isValid=(s=p.meetsMaxPasswordLength)!==null&&s!==void 0?s:!0),p.isValid&&(p.isValid=(o=p.containsLowercaseLetter)!==null&&o!==void 0?o:!0),p.isValid&&(p.isValid=(u=p.containsUppercaseLetter)!==null&&u!==void 0?u:!0),p.isValid&&(p.isValid=(f=p.containsNumericCharacter)!==null&&f!==void 0?f:!0),p.isValid&&(p.isValid=(m=p.containsNonAlphanumericCharacter)!==null&&m!==void 0?m:!0),p}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L1{constructor(e,n,s,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new cv(this),this.idTokenSubscription=new cv(this),this.beforeStateQueue=new M1(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=XE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Bi(n)),this._initializationPromise=this.queue(async()=>{var s,o,u;if(!this._deleted&&(this.persistenceManager=await ja.create(this,e),(s=this._resolvePersistenceManagerAvailable)===null||s===void 0||s.call(this),!this._deleted)){if(!((o=this._popupRedirectResolver)===null||o===void 0)&&o._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((u=this.currentUser)===null||u===void 0?void 0:u.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Kc(this,{idToken:e}),s=await Un._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(mn(this.app)){const f=this.app.settings.authIdToken;return f?new Promise(m=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(f).then(m,m))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let o=s,u=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const f=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,m=o==null?void 0:o._redirectEventId,p=await this.tryRedirectSignIn(e);(!f||f===m)&&(p!=null&&p.user)&&(o=p.user,u=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(u)try{await this.beforeStateQueue.runMiddleware(o)}catch(f){o=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(f))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return ve(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Yc(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=p1()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(mn(this.app))return Promise.reject(qi(this));const n=e?Nn(e):null;return n&&ve(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ve(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return mn(this.app)?Promise.reject(qi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return mn(this.app)?Promise.reject(qi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Bi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await V1(this),n=new P1(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Gl("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await N1(this,s)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Bi(e)||this._popupRedirectResolver;ve(n,this,"argument-error"),this.redirectPersistenceManager=await ja.create(this,[Bi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,s;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let f=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(ve(m,this,"internal-error"),m.then(()=>{f||u(this.currentUser)}),typeof n=="function"){const p=e.addObserver(n,s,o);return()=>{f=!0,p()}}else{const p=e.addObserver(n);return()=>{f=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ve(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=u0(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const s=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());s&&(n["X-Firebase-Client"]=s);const o=await this._getAppCheckToken();return o&&(n["X-Firebase-AppCheck"]=o),n}async _getAppCheckToken(){var e;if(mn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&h1(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Qr(r){return Nn(r)}class cv{constructor(e){this.auth=e,this.observer=null,this.addObserver=Ww(n=>this.observer=n)}get next(){return ve(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let dh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function U1(r){dh=r}function c0(r){return dh.loadJS(r)}function z1(){return dh.recaptchaEnterpriseScript}function j1(){return dh.gapiScript}function B1(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class H1{constructor(){this.enterprise=new q1}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class q1{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const F1="recaptcha-enterprise",h0="NO_RECAPTCHA";class G1{constructor(e){this.type=F1,this.auth=Qr(e)}async verify(e="verify",n=!1){async function s(u){if(!n){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(f,m)=>{A1(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const y=new T1(p);return u.tenantId==null?u._agentRecaptchaConfig=y:u._tenantRecaptchaConfigs[u.tenantId]=y,f(y.siteKey)}}).catch(p=>{m(p)})})}function o(u,f,m){const p=window.grecaptcha;sv(p)?p.enterprise.ready(()=>{p.enterprise.execute(u,{action:e}).then(y=>{f(y)}).catch(()=>{f(h0)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new H1().execute("siteKey",{action:"verify"}):new Promise((u,f)=>{s(this.auth).then(m=>{if(!n&&sv(window.grecaptcha))o(m,u,f);else{if(typeof window>"u"){f(new Error("RecaptchaVerifier is only supported in browser"));return}let p=z1();p.length!==0&&(p+=m),c0(p).then(()=>{o(m,u,f)}).catch(y=>{f(y)})}}).catch(m=>{f(m)})})}}async function hv(r,e,n,s=!1,o=!1){const u=new G1(r);let f;if(o)f=h0;else try{f=await u.verify(n)}catch{f=await u.verify(n,!0)}const m=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const p=m.phoneEnrollmentInfo.phoneNumber,y=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:y,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const p=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return s?Object.assign(m,{captchaResp:f}):Object.assign(m,{captchaResponse:f}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function im(r,e,n,s,o){var u;if(!((u=r._getRecaptchaConfig())===null||u===void 0)&&u.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const f=await hv(r,e,n,n==="getOobCode");return s(r,f)}else return s(r,e).catch(async f=>{if(f.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const m=await hv(r,e,n,n==="getOobCode");return s(r,m)}else return Promise.reject(f)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q1(r,e){const n=Dm(r,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(Ms(u,e??{}))return o;On(o,"already-initialized")}return n.initialize({options:e})}function K1(r,e){const n=(e==null?void 0:e.persistence)||[],s=(Array.isArray(n)?n:[n]).map(Bi);e!=null&&e.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(s,e==null?void 0:e.popupRedirectResolver)}function Y1(r,e,n){const s=Qr(r);ve(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,u=f0(e),{host:f,port:m}=X1(e),p=m===null?"":`:${m}`,y={url:`${u}//${f}${p}/`},E=Object.freeze({host:f,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){ve(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),ve(Ms(y,s.config.emulator)&&Ms(E,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=y,s.emulatorConfig=E,s.settings.appVerificationDisabledForTesting=!0,$1()}function f0(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function X1(r){const e=f0(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:fv(s.substr(u.length+1))}}else{const[u,f]=s.split(":");return{host:u,port:fv(f)}}}function fv(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function $1(){function r(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pm{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return ji("not implemented")}_getIdTokenResponse(e){return ji("not implemented")}_linkToIdToken(e,n){return ji("not implemented")}_getReauthenticationResolver(e){return ji("not implemented")}}async function W1(r,e){return Gr(r,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Z1(r,e){return Yl(r,"POST","/v1/accounts:signInWithPassword",Fr(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function J1(r,e){return Yl(r,"POST","/v1/accounts:signInWithEmailLink",Fr(r,e))}async function eC(r,e){return Yl(r,"POST","/v1/accounts:signInWithEmailLink",Fr(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ml extends Pm{constructor(e,n,s,o=null){super("password",s),this._email=e,this._password=n,this._tenantId=o}static _fromEmailAndPassword(e,n){return new Ml(e,n,"password")}static _fromEmailAndCode(e,n,s=null){return new Ml(e,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return im(e,n,"signInWithPassword",Z1);case"emailLink":return J1(e,{email:this._email,oobCode:this._password});default:On(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return im(e,s,"signUpPassword",W1);case"emailLink":return eC(e,{idToken:n,email:this._email,oobCode:this._password});default:On(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ba(r,e){return Yl(r,"POST","/v1/accounts:signInWithIdp",Fr(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tC="http://localhost";class ks extends Pm{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ks(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):On("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o}=n,u=Nm(n,["providerId","signInMethod"]);if(!s||!o)return null;const f=new ks(s,o);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(e){const n=this.buildRequest();return Ba(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,Ba(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Ba(e,n)}buildRequest(){const e={requestUri:tC,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Ql(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nC(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function iC(r){const e=vl(El(r)).link,n=e?vl(El(e)).deep_link_id:null,s=vl(El(r)).deep_link_id;return(s?vl(El(s)).link:null)||s||n||e||r}class Lm{constructor(e){var n,s,o,u,f,m;const p=vl(El(e)),y=(n=p.apiKey)!==null&&n!==void 0?n:null,E=(s=p.oobCode)!==null&&s!==void 0?s:null,S=nC((o=p.mode)!==null&&o!==void 0?o:null);ve(y&&E&&S,"argument-error"),this.apiKey=y,this.operation=S,this.code=E,this.continueUrl=(u=p.continueUrl)!==null&&u!==void 0?u:null,this.languageCode=(f=p.languageCode)!==null&&f!==void 0?f:null,this.tenantId=(m=p.tenantId)!==null&&m!==void 0?m:null}static parseLink(e){const n=iC(e);try{return new Lm(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eo{constructor(){this.providerId=eo.PROVIDER_ID}static credential(e,n){return Ml._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const s=Lm.parseLink(n);return ve(s,"argument-error"),Ml._fromEmailAndCode(e,s.code,s.tenantId)}}eo.PROVIDER_ID="password";eo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";eo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Um{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xl extends Um{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dr extends Xl{constructor(){super("facebook.com")}static credential(e){return ks._fromParams({providerId:Dr.PROVIDER_ID,signInMethod:Dr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Dr.credentialFromTaggedObject(e)}static credentialFromError(e){return Dr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Dr.credential(e.oauthAccessToken)}catch{return null}}}Dr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Dr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class si extends Xl{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return ks._fromParams({providerId:si.PROVIDER_ID,signInMethod:si.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return si.credentialFromTaggedObject(e)}static credentialFromError(e){return si.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return si.credential(n,s)}catch{return null}}}si.GOOGLE_SIGN_IN_METHOD="google.com";si.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nr extends Xl{constructor(){super("github.com")}static credential(e){return ks._fromParams({providerId:Nr.PROVIDER_ID,signInMethod:Nr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Nr.credentialFromTaggedObject(e)}static credentialFromError(e){return Nr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Nr.credential(e.oauthAccessToken)}catch{return null}}}Nr.GITHUB_SIGN_IN_METHOD="github.com";Nr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Or extends Xl{constructor(){super("twitter.com")}static credential(e,n){return ks._fromParams({providerId:Or.PROVIDER_ID,signInMethod:Or.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Or.credentialFromTaggedObject(e)}static credentialFromError(e){return Or.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return Or.credential(n,s)}catch{return null}}}Or.TWITTER_SIGN_IN_METHOD="twitter.com";Or.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rC(r,e){return Yl(r,"POST","/v1/accounts:signUp",Fr(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ps{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,o=!1){const u=await Un._fromIdTokenResponse(e,s,o),f=dv(s);return new Ps({user:u,providerId:f,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const o=dv(s);return new Ps({user:e,providerId:o,_tokenResponse:s,operationType:n})}}function dv(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xc extends Wi{constructor(e,n,s,o){var u;super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,Xc.prototype),this.customData={appName:e.name,tenantId:(u=e.tenantId)!==null&&u!==void 0?u:void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,o){return new Xc(e,n,s,o)}}function d0(r,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Xc._fromErrorAndOperation(r,u,e,s):u})}async function sC(r,e,n=!1){const s=await xl(r,e._linkToIdToken(r.auth,await r.getIdToken()),n);return Ps._forOperation(r,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aC(r,e,n=!1){const{auth:s}=r;if(mn(s.app))return Promise.reject(qi(s));const o="reauthenticate";try{const u=await xl(r,d0(s,o,e,r),n);ve(u.idToken,s,"internal-error");const f=Vm(u.idToken);ve(f,s,"internal-error");const{sub:m}=f;return ve(r.uid===m,s,"user-mismatch"),Ps._forOperation(r,o,u)}catch(u){throw(u==null?void 0:u.code)==="auth/user-not-found"&&On(s,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function m0(r,e,n=!1){if(mn(r.app))return Promise.reject(qi(r));const s="signIn",o=await d0(r,s,e),u=await Ps._fromIdTokenResponse(r,s,o);return n||await r._updateCurrentUser(u.user),u}async function oC(r,e){return m0(Qr(r),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function p0(r){const e=Qr(r);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function lC(r,e,n){if(mn(r.app))return Promise.reject(qi(r));const s=Qr(r),f=await im(s,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",rC).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&p0(r),p}),m=await Ps._fromIdTokenResponse(s,"signIn",f);return await s._updateCurrentUser(m.user),m}function uC(r,e,n){return mn(r.app)?Promise.reject(qi(r)):oC(Nn(r),eo.credential(e,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&p0(r),s})}function cC(r,e,n,s){return Nn(r).onIdTokenChanged(e,n,s)}function hC(r,e,n){return Nn(r).beforeAuthStateChanged(e,n)}function fC(r){return Nn(r).signOut()}const $c="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g0{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem($c,"1"),this.storage.removeItem($c),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dC=1e3,mC=10;class y0 extends g0{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=l0(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&e(n,o,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((f,m,p)=>{this.notifyListeners(f,p)});return}const s=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(s);!n&&this.localCache[s]===f||this.notifyListeners(s,f)},u=this.storage.getItem(s);x1()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,mC):o()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},dC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}y0.type="LOCAL";const pC=y0;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _0 extends g0{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}_0.type="SESSION";const v0=_0;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gC(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const s=new mh(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:o,data:u}=n.data,f=this.handlersMap[o];if(!(f!=null&&f.size))return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(f).map(async y=>y(n.origin,u)),p=await gC(m);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:p})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}mh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zm(r="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return r+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yC{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,f;return new Promise((m,p)=>{const y=zm("",20);o.port1.start();const E=setTimeout(()=>{p(new Error("unsupported_event"))},s);f={messageChannel:o,onMessage(S){const C=S;if(C.data.eventId===y)switch(C.data.status){case"ack":clearTimeout(E),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(C.data.response);break;default:clearTimeout(E),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:e,eventId:y,data:n},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ai(){return window}function _C(r){ai().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E0(){return typeof ai().WorkerGlobalScope<"u"&&typeof ai().importScripts=="function"}async function vC(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function EC(){var r;return((r=navigator==null?void 0:navigator.serviceWorker)===null||r===void 0?void 0:r.controller)||null}function TC(){return E0()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T0="firebaseLocalStorageDb",AC=1,Wc="firebaseLocalStorage",A0="fbase_key";class $l{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function ph(r,e){return r.transaction([Wc],e?"readwrite":"readonly").objectStore(Wc)}function SC(){const r=indexedDB.deleteDatabase(T0);return new $l(r).toPromise()}function rm(){const r=indexedDB.open(T0,AC);return new Promise((e,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(Wc,{keyPath:A0})}catch(o){n(o)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(Wc)?e(s):(s.close(),await SC(),e(await rm()))})})}async function mv(r,e,n){const s=ph(r,!0).put({[A0]:e,value:n});return new $l(s).toPromise()}async function bC(r,e){const n=ph(r,!1).get(e),s=await new $l(n).toPromise();return s===void 0?null:s.value}function pv(r,e){const n=ph(r,!0).delete(e);return new $l(n).toPromise()}const wC=800,RC=3;class S0{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await rm(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>RC)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return E0()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=mh._getInstance(TC()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await vC(),!this.activeServiceWorker)return;this.sender=new yC(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((e=s[0])===null||e===void 0)&&e.fulfilled&&!((n=s[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||EC()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await rm();return await mv(e,$c,"1"),await pv(e,$c),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>mv(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>bC(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>pv(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=ph(o,!1).getAll();return new $l(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),wC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}S0.type="LOCAL";const CC=S0;new Kl(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b0(r,e){return e?Bi(e):(ve(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jm extends Pm{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ba(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Ba(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Ba(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function IC(r){return m0(r.auth,new jm(r),r.bypassAuthState)}function DC(r){const{auth:e,user:n}=r;return ve(n,e,"internal-error"),aC(n,new jm(r),r.bypassAuthState)}async function NC(r){const{auth:e,user:n}=r;return ve(n,e,"internal-error"),sC(n,new jm(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w0{constructor(e,n,s,o,u=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:o,tenantId:u,error:f,type:m}=e;if(f){this.reject(f);return}const p={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(p))}catch(y){this.reject(y)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return IC;case"linkViaPopup":case"linkViaRedirect":return NC;case"reauthViaPopup":case"reauthViaRedirect":return DC;default:On(this.auth,"internal-error")}}resolve(e){Ki(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ki(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OC=new Kl(2e3,1e4);async function R0(r,e,n){if(mn(r.app))return Promise.reject(jn(r,"operation-not-supported-in-this-environment"));const s=Qr(r);f1(r,e,Um);const o=b0(s,n);return new Os(s,"signInViaPopup",e,o).executeNotNull()}class Os extends w0{constructor(e,n,s,o,u){super(e,n,o,u),this.provider=s,this.authWindow=null,this.pollId=null,Os.currentPopupAction&&Os.currentPopupAction.cancel(),Os.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ve(e,this.auth,"internal-error"),e}async onExecution(){Ki(this.filter.length===1,"Popup operations only handle one event");const e=zm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(jn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(jn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Os.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,s;if(!((s=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(jn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,OC.get())};e()}}Os.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xC="pendingRedirect",Pc=new Map;class MC extends w0{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=Pc.get(this.auth._key());if(!e){try{const s=await VC(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}Pc.set(this.auth._key(),e)}return this.bypassAuthState||Pc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function VC(r,e){const n=LC(e),s=PC(r);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function kC(r,e){Pc.set(r._key(),e)}function PC(r){return Bi(r._redirectPersistence)}function LC(r){return kc(xC,r.config.apiKey,r.name)}async function UC(r,e,n=!1){if(mn(r.app))return Promise.reject(qi(r));const s=Qr(r),o=b0(s,e),f=await new MC(s,o,n).execute();return f&&!n&&(delete f.user._redirectEventId,await s._persistUserIfCurrent(f.user),await s._setRedirectUser(null,e)),f}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zC=10*60*1e3;class jC{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!BC(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var s;if(e.error&&!C0(e)){const o=((s=e.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";n.onError(jn(this.auth,o))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=zC&&this.cachedEventUids.clear(),this.cachedEventUids.has(gv(e))}saveEventToCache(e){this.cachedEventUids.add(gv(e)),this.lastProcessedEventTime=Date.now()}}function gv(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function C0({type:r,error:e}){return r==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function BC(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return C0(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HC(r,e={}){return Gr(r,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qC=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,FC=/^https?/;async function GC(r){if(r.config.emulator)return;const{authorizedDomains:e}=await HC(r);for(const n of e)try{if(QC(n))return}catch{}On(r,"unauthorized-domain")}function QC(r){const e=tm(),{protocol:n,hostname:s}=new URL(e);if(r.startsWith("chrome-extension://")){const f=new URL(r);return f.hostname===""&&s===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&f.hostname===s}if(!FC.test(n))return!1;if(qC.test(r))return s===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KC=new Kl(3e4,6e4);function yv(){const r=ai().___jsl;if(r!=null&&r.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function YC(r){return new Promise((e,n)=>{var s,o,u;function f(){yv(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{yv(),n(jn(r,"network-request-failed"))},timeout:KC.get()})}if(!((o=(s=ai().gapi)===null||s===void 0?void 0:s.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((u=ai().gapi)===null||u===void 0)&&u.load)f();else{const m=B1("iframefcb");return ai()[m]=()=>{gapi.load?f():n(jn(r,"network-request-failed"))},c0(`${j1()}?onload=${m}`).catch(p=>n(p))}}).catch(e=>{throw Lc=null,e})}let Lc=null;function XC(r){return Lc=Lc||YC(r),Lc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $C=new Kl(5e3,15e3),WC="__/auth/iframe",ZC="emulator/auth/iframe",JC={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},eI=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function tI(r){const e=r.config;ve(e.authDomain,r,"auth-domain-config-required");const n=e.emulator?Mm(e,ZC):`https://${r.config.authDomain}/${WC}`,s={apiKey:e.apiKey,appName:r.name,v:Ja},o=eI.get(r.config.apiHost);o&&(s.eid=o);const u=r._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${Ql(s).slice(1)}`}async function nI(r){const e=await XC(r),n=ai().gapi;return ve(n,r,"internal-error"),e.open({where:document.body,url:tI(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:JC,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const f=jn(r,"network-request-failed"),m=ai().setTimeout(()=>{u(f)},$C.get());function p(){ai().clearTimeout(m),o(s)}s.ping(p).then(p,()=>{u(f)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iI={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},rI=500,sI=600,aI="_blank",oI="http://localhost";class _v{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function lI(r,e,n,s=rI,o=sI){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const p=Object.assign(Object.assign({},iI),{width:s.toString(),height:o.toString(),top:u,left:f}),y=Xt().toLowerCase();n&&(m=i0(y)?aI:n),t0(y)&&(e=e||oI,p.scrollbars="yes");const E=Object.entries(p).reduce((C,[L,z])=>`${C}${L}=${z},`,"");if(O1(y)&&m!=="_self")return uI(e||"",m),new _v(null);const S=window.open(e||"",m,E);ve(S,r,"popup-blocked");try{S.focus()}catch{}return new _v(S)}function uI(r,e){const n=document.createElement("a");n.href=r,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cI="__/auth/handler",hI="emulator/auth/handler",fI=encodeURIComponent("fac");async function vv(r,e,n,s,o,u){ve(r.config.authDomain,r,"auth-domain-config-required"),ve(r.config.apiKey,r,"invalid-api-key");const f={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:s,v:Ja,eventId:o};if(e instanceof Um){e.setDefaultLanguage(r.languageCode),f.providerId=e.providerId||"",$w(e.getCustomParameters())||(f.customParameters=JSON.stringify(e.getCustomParameters()));for(const[E,S]of Object.entries({}))f[E]=S}if(e instanceof Xl){const E=e.getScopes().filter(S=>S!=="");E.length>0&&(f.scopes=E.join(","))}r.tenantId&&(f.tid=r.tenantId);const m=f;for(const E of Object.keys(m))m[E]===void 0&&delete m[E];const p=await r._getAppCheckToken(),y=p?`#${fI}=${encodeURIComponent(p)}`:"";return`${dI(r)}?${Ql(m).slice(1)}${y}`}function dI({config:r}){return r.emulator?Mm(r,hI):`https://${r.authDomain}/${cI}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qd="webStorageSupport";class mI{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=v0,this._completeRedirectFn=UC,this._overrideRedirectResult=kC}async _openPopup(e,n,s,o){var u;Ki((u=this.eventManagers[e._key()])===null||u===void 0?void 0:u.manager,"_initialize() not called before _openPopup()");const f=await vv(e,n,s,tm(),o);return lI(e,f,zm())}async _openRedirect(e,n,s,o){await this._originValidation(e);const u=await vv(e,n,s,tm(),o);return _C(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(Ki(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await nI(e),s=new jC(e);return n.register("authEvent",o=>(ve(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(qd,{type:qd},o=>{var u;const f=(u=o==null?void 0:o[0])===null||u===void 0?void 0:u[qd];f!==void 0&&n(!!f),On(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=GC(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return l0()||n0()||km()}}const pI=mI;var Ev="@firebase/auth",Tv="1.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gI{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ve(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yI(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function _I(r){qa(new Vs("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:f,authDomain:m}=s.options;ve(f&&!f.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:f,authDomain:m,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:u0(r)},y=new L1(s,o,u,p);return K1(y,n),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),qa(new Vs("auth-internal",e=>{const n=Qr(e.getProvider("auth").getImmediate());return(s=>new gI(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),kr(Ev,Tv,yI(r)),kr(Ev,Tv,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vI=5*60,EI=BE("authIdTokenMaxAge")||vI;let Av=null;const TI=r=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>EI)return;const o=n==null?void 0:n.token;Av!==o&&(Av=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function AI(r=GE()){const e=Dm(r,"auth");if(e.isInitialized())return e.getImmediate();const n=Q1(r,{popupRedirectResolver:pI,persistence:[CC,pC,v0]}),s=BE("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const f=TI(u.toString());hC(n,f,()=>f(n.currentUser)),cC(n,m=>f(m))}}const o=zE("auth");return o&&Y1(n,`http://${o}`),n}function SI(){var r,e;return(e=(r=document.getElementsByTagName("head"))===null||r===void 0?void 0:r[0])!==null&&e!==void 0?e:document}U1({loadJS(r){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=e,s.onerror=o=>{const u=jn("internal-error");u.customData=o,n(u)},s.type="text/javascript",s.charset="UTF-8",SI().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});_I("Browser");var Sv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Pr,I0;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(x,b){function w(){}w.prototype=b.prototype,x.D=b.prototype,x.prototype=new w,x.prototype.constructor=x,x.C=function(N,M,P){for(var I=Array(arguments.length-2),Vt=2;Vt<arguments.length;Vt++)I[Vt-2]=arguments[Vt];return b.prototype[M].apply(N,I)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,n),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(x,b,w){w||(w=0);var N=Array(16);if(typeof b=="string")for(var M=0;16>M;++M)N[M]=b.charCodeAt(w++)|b.charCodeAt(w++)<<8|b.charCodeAt(w++)<<16|b.charCodeAt(w++)<<24;else for(M=0;16>M;++M)N[M]=b[w++]|b[w++]<<8|b[w++]<<16|b[w++]<<24;b=x.g[0],w=x.g[1],M=x.g[2];var P=x.g[3],I=b+(P^w&(M^P))+N[0]+3614090360&4294967295;b=w+(I<<7&4294967295|I>>>25),I=P+(M^b&(w^M))+N[1]+3905402710&4294967295,P=b+(I<<12&4294967295|I>>>20),I=M+(w^P&(b^w))+N[2]+606105819&4294967295,M=P+(I<<17&4294967295|I>>>15),I=w+(b^M&(P^b))+N[3]+3250441966&4294967295,w=M+(I<<22&4294967295|I>>>10),I=b+(P^w&(M^P))+N[4]+4118548399&4294967295,b=w+(I<<7&4294967295|I>>>25),I=P+(M^b&(w^M))+N[5]+1200080426&4294967295,P=b+(I<<12&4294967295|I>>>20),I=M+(w^P&(b^w))+N[6]+2821735955&4294967295,M=P+(I<<17&4294967295|I>>>15),I=w+(b^M&(P^b))+N[7]+4249261313&4294967295,w=M+(I<<22&4294967295|I>>>10),I=b+(P^w&(M^P))+N[8]+1770035416&4294967295,b=w+(I<<7&4294967295|I>>>25),I=P+(M^b&(w^M))+N[9]+2336552879&4294967295,P=b+(I<<12&4294967295|I>>>20),I=M+(w^P&(b^w))+N[10]+4294925233&4294967295,M=P+(I<<17&4294967295|I>>>15),I=w+(b^M&(P^b))+N[11]+2304563134&4294967295,w=M+(I<<22&4294967295|I>>>10),I=b+(P^w&(M^P))+N[12]+1804603682&4294967295,b=w+(I<<7&4294967295|I>>>25),I=P+(M^b&(w^M))+N[13]+4254626195&4294967295,P=b+(I<<12&4294967295|I>>>20),I=M+(w^P&(b^w))+N[14]+2792965006&4294967295,M=P+(I<<17&4294967295|I>>>15),I=w+(b^M&(P^b))+N[15]+1236535329&4294967295,w=M+(I<<22&4294967295|I>>>10),I=b+(M^P&(w^M))+N[1]+4129170786&4294967295,b=w+(I<<5&4294967295|I>>>27),I=P+(w^M&(b^w))+N[6]+3225465664&4294967295,P=b+(I<<9&4294967295|I>>>23),I=M+(b^w&(P^b))+N[11]+643717713&4294967295,M=P+(I<<14&4294967295|I>>>18),I=w+(P^b&(M^P))+N[0]+3921069994&4294967295,w=M+(I<<20&4294967295|I>>>12),I=b+(M^P&(w^M))+N[5]+3593408605&4294967295,b=w+(I<<5&4294967295|I>>>27),I=P+(w^M&(b^w))+N[10]+38016083&4294967295,P=b+(I<<9&4294967295|I>>>23),I=M+(b^w&(P^b))+N[15]+3634488961&4294967295,M=P+(I<<14&4294967295|I>>>18),I=w+(P^b&(M^P))+N[4]+3889429448&4294967295,w=M+(I<<20&4294967295|I>>>12),I=b+(M^P&(w^M))+N[9]+568446438&4294967295,b=w+(I<<5&4294967295|I>>>27),I=P+(w^M&(b^w))+N[14]+3275163606&4294967295,P=b+(I<<9&4294967295|I>>>23),I=M+(b^w&(P^b))+N[3]+4107603335&4294967295,M=P+(I<<14&4294967295|I>>>18),I=w+(P^b&(M^P))+N[8]+1163531501&4294967295,w=M+(I<<20&4294967295|I>>>12),I=b+(M^P&(w^M))+N[13]+2850285829&4294967295,b=w+(I<<5&4294967295|I>>>27),I=P+(w^M&(b^w))+N[2]+4243563512&4294967295,P=b+(I<<9&4294967295|I>>>23),I=M+(b^w&(P^b))+N[7]+1735328473&4294967295,M=P+(I<<14&4294967295|I>>>18),I=w+(P^b&(M^P))+N[12]+2368359562&4294967295,w=M+(I<<20&4294967295|I>>>12),I=b+(w^M^P)+N[5]+4294588738&4294967295,b=w+(I<<4&4294967295|I>>>28),I=P+(b^w^M)+N[8]+2272392833&4294967295,P=b+(I<<11&4294967295|I>>>21),I=M+(P^b^w)+N[11]+1839030562&4294967295,M=P+(I<<16&4294967295|I>>>16),I=w+(M^P^b)+N[14]+4259657740&4294967295,w=M+(I<<23&4294967295|I>>>9),I=b+(w^M^P)+N[1]+2763975236&4294967295,b=w+(I<<4&4294967295|I>>>28),I=P+(b^w^M)+N[4]+1272893353&4294967295,P=b+(I<<11&4294967295|I>>>21),I=M+(P^b^w)+N[7]+4139469664&4294967295,M=P+(I<<16&4294967295|I>>>16),I=w+(M^P^b)+N[10]+3200236656&4294967295,w=M+(I<<23&4294967295|I>>>9),I=b+(w^M^P)+N[13]+681279174&4294967295,b=w+(I<<4&4294967295|I>>>28),I=P+(b^w^M)+N[0]+3936430074&4294967295,P=b+(I<<11&4294967295|I>>>21),I=M+(P^b^w)+N[3]+3572445317&4294967295,M=P+(I<<16&4294967295|I>>>16),I=w+(M^P^b)+N[6]+76029189&4294967295,w=M+(I<<23&4294967295|I>>>9),I=b+(w^M^P)+N[9]+3654602809&4294967295,b=w+(I<<4&4294967295|I>>>28),I=P+(b^w^M)+N[12]+3873151461&4294967295,P=b+(I<<11&4294967295|I>>>21),I=M+(P^b^w)+N[15]+530742520&4294967295,M=P+(I<<16&4294967295|I>>>16),I=w+(M^P^b)+N[2]+3299628645&4294967295,w=M+(I<<23&4294967295|I>>>9),I=b+(M^(w|~P))+N[0]+4096336452&4294967295,b=w+(I<<6&4294967295|I>>>26),I=P+(w^(b|~M))+N[7]+1126891415&4294967295,P=b+(I<<10&4294967295|I>>>22),I=M+(b^(P|~w))+N[14]+2878612391&4294967295,M=P+(I<<15&4294967295|I>>>17),I=w+(P^(M|~b))+N[5]+4237533241&4294967295,w=M+(I<<21&4294967295|I>>>11),I=b+(M^(w|~P))+N[12]+1700485571&4294967295,b=w+(I<<6&4294967295|I>>>26),I=P+(w^(b|~M))+N[3]+2399980690&4294967295,P=b+(I<<10&4294967295|I>>>22),I=M+(b^(P|~w))+N[10]+4293915773&4294967295,M=P+(I<<15&4294967295|I>>>17),I=w+(P^(M|~b))+N[1]+2240044497&4294967295,w=M+(I<<21&4294967295|I>>>11),I=b+(M^(w|~P))+N[8]+1873313359&4294967295,b=w+(I<<6&4294967295|I>>>26),I=P+(w^(b|~M))+N[15]+4264355552&4294967295,P=b+(I<<10&4294967295|I>>>22),I=M+(b^(P|~w))+N[6]+2734768916&4294967295,M=P+(I<<15&4294967295|I>>>17),I=w+(P^(M|~b))+N[13]+1309151649&4294967295,w=M+(I<<21&4294967295|I>>>11),I=b+(M^(w|~P))+N[4]+4149444226&4294967295,b=w+(I<<6&4294967295|I>>>26),I=P+(w^(b|~M))+N[11]+3174756917&4294967295,P=b+(I<<10&4294967295|I>>>22),I=M+(b^(P|~w))+N[2]+718787259&4294967295,M=P+(I<<15&4294967295|I>>>17),I=w+(P^(M|~b))+N[9]+3951481745&4294967295,x.g[0]=x.g[0]+b&4294967295,x.g[1]=x.g[1]+(M+(I<<21&4294967295|I>>>11))&4294967295,x.g[2]=x.g[2]+M&4294967295,x.g[3]=x.g[3]+P&4294967295}s.prototype.u=function(x,b){b===void 0&&(b=x.length);for(var w=b-this.blockSize,N=this.B,M=this.h,P=0;P<b;){if(M==0)for(;P<=w;)o(this,x,P),P+=this.blockSize;if(typeof x=="string"){for(;P<b;)if(N[M++]=x.charCodeAt(P++),M==this.blockSize){o(this,N),M=0;break}}else for(;P<b;)if(N[M++]=x[P++],M==this.blockSize){o(this,N),M=0;break}}this.h=M,this.o+=b},s.prototype.v=function(){var x=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);x[0]=128;for(var b=1;b<x.length-8;++b)x[b]=0;var w=8*this.o;for(b=x.length-8;b<x.length;++b)x[b]=w&255,w/=256;for(this.u(x),x=Array(16),b=w=0;4>b;++b)for(var N=0;32>N;N+=8)x[w++]=this.g[b]>>>N&255;return x};function u(x,b){var w=m;return Object.prototype.hasOwnProperty.call(w,x)?w[x]:w[x]=b(x)}function f(x,b){this.h=b;for(var w=[],N=!0,M=x.length-1;0<=M;M--){var P=x[M]|0;N&&P==b||(w[M]=P,N=!1)}this.g=w}var m={};function p(x){return-128<=x&&128>x?u(x,function(b){return new f([b|0],0>b?-1:0)}):new f([x|0],0>x?-1:0)}function y(x){if(isNaN(x)||!isFinite(x))return S;if(0>x)return F(y(-x));for(var b=[],w=1,N=0;x>=w;N++)b[N]=x/w|0,w*=4294967296;return new f(b,0)}function E(x,b){if(x.length==0)throw Error("number format error: empty string");if(b=b||10,2>b||36<b)throw Error("radix out of range: "+b);if(x.charAt(0)=="-")return F(E(x.substring(1),b));if(0<=x.indexOf("-"))throw Error('number format error: interior "-" character');for(var w=y(Math.pow(b,8)),N=S,M=0;M<x.length;M+=8){var P=Math.min(8,x.length-M),I=parseInt(x.substring(M,M+P),b);8>P?(P=y(Math.pow(b,P)),N=N.j(P).add(y(I))):(N=N.j(w),N=N.add(y(I)))}return N}var S=p(0),C=p(1),L=p(16777216);r=f.prototype,r.m=function(){if(W(this))return-F(this).m();for(var x=0,b=1,w=0;w<this.g.length;w++){var N=this.i(w);x+=(0<=N?N:4294967296+N)*b,b*=4294967296}return x},r.toString=function(x){if(x=x||10,2>x||36<x)throw Error("radix out of range: "+x);if(z(this))return"0";if(W(this))return"-"+F(this).toString(x);for(var b=y(Math.pow(x,6)),w=this,N="";;){var M=fe(w,b).g;w=$(w,M.j(b));var P=((0<w.g.length?w.g[0]:w.h)>>>0).toString(x);if(w=M,z(w))return P+N;for(;6>P.length;)P="0"+P;N=P+N}},r.i=function(x){return 0>x?0:x<this.g.length?this.g[x]:this.h};function z(x){if(x.h!=0)return!1;for(var b=0;b<x.g.length;b++)if(x.g[b]!=0)return!1;return!0}function W(x){return x.h==-1}r.l=function(x){return x=$(this,x),W(x)?-1:z(x)?0:1};function F(x){for(var b=x.g.length,w=[],N=0;N<b;N++)w[N]=~x.g[N];return new f(w,~x.h).add(C)}r.abs=function(){return W(this)?F(this):this},r.add=function(x){for(var b=Math.max(this.g.length,x.g.length),w=[],N=0,M=0;M<=b;M++){var P=N+(this.i(M)&65535)+(x.i(M)&65535),I=(P>>>16)+(this.i(M)>>>16)+(x.i(M)>>>16);N=I>>>16,P&=65535,I&=65535,w[M]=I<<16|P}return new f(w,w[w.length-1]&-2147483648?-1:0)};function $(x,b){return x.add(F(b))}r.j=function(x){if(z(this)||z(x))return S;if(W(this))return W(x)?F(this).j(F(x)):F(F(this).j(x));if(W(x))return F(this.j(F(x)));if(0>this.l(L)&&0>x.l(L))return y(this.m()*x.m());for(var b=this.g.length+x.g.length,w=[],N=0;N<2*b;N++)w[N]=0;for(N=0;N<this.g.length;N++)for(var M=0;M<x.g.length;M++){var P=this.i(N)>>>16,I=this.i(N)&65535,Vt=x.i(M)>>>16,st=x.i(M)&65535;w[2*N+2*M]+=I*st,se(w,2*N+2*M),w[2*N+2*M+1]+=P*st,se(w,2*N+2*M+1),w[2*N+2*M+1]+=I*Vt,se(w,2*N+2*M+1),w[2*N+2*M+2]+=P*Vt,se(w,2*N+2*M+2)}for(N=0;N<b;N++)w[N]=w[2*N+1]<<16|w[2*N];for(N=b;N<2*b;N++)w[N]=0;return new f(w,0)};function se(x,b){for(;(x[b]&65535)!=x[b];)x[b+1]+=x[b]>>>16,x[b]&=65535,b++}function te(x,b){this.g=x,this.h=b}function fe(x,b){if(z(b))throw Error("division by zero");if(z(x))return new te(S,S);if(W(x))return b=fe(F(x),b),new te(F(b.g),F(b.h));if(W(b))return b=fe(x,F(b)),new te(F(b.g),b.h);if(30<x.g.length){if(W(x)||W(b))throw Error("slowDivide_ only works with positive integers.");for(var w=C,N=b;0>=N.l(x);)w=ce(w),N=ce(N);var M=we(w,1),P=we(N,1);for(N=we(N,2),w=we(w,2);!z(N);){var I=P.add(N);0>=I.l(x)&&(M=M.add(w),P=I),N=we(N,1),w=we(w,1)}return b=$(x,M.j(b)),new te(M,b)}for(M=S;0<=x.l(b);){for(w=Math.max(1,Math.floor(x.m()/b.m())),N=Math.ceil(Math.log(w)/Math.LN2),N=48>=N?1:Math.pow(2,N-48),P=y(w),I=P.j(b);W(I)||0<I.l(x);)w-=N,P=y(w),I=P.j(b);z(P)&&(P=C),M=M.add(P),x=$(x,I)}return new te(M,x)}r.A=function(x){return fe(this,x).h},r.and=function(x){for(var b=Math.max(this.g.length,x.g.length),w=[],N=0;N<b;N++)w[N]=this.i(N)&x.i(N);return new f(w,this.h&x.h)},r.or=function(x){for(var b=Math.max(this.g.length,x.g.length),w=[],N=0;N<b;N++)w[N]=this.i(N)|x.i(N);return new f(w,this.h|x.h)},r.xor=function(x){for(var b=Math.max(this.g.length,x.g.length),w=[],N=0;N<b;N++)w[N]=this.i(N)^x.i(N);return new f(w,this.h^x.h)};function ce(x){for(var b=x.g.length+1,w=[],N=0;N<b;N++)w[N]=x.i(N)<<1|x.i(N-1)>>>31;return new f(w,x.h)}function we(x,b){var w=b>>5;b%=32;for(var N=x.g.length-w,M=[],P=0;P<N;P++)M[P]=0<b?x.i(P+w)>>>b|x.i(P+w+1)<<32-b:x.i(P+w);return new f(M,x.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,I0=s,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.A,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=y,f.fromString=E,Pr=f}).apply(typeof Sv<"u"?Sv:typeof self<"u"?self:typeof window<"u"?window:{});var Cc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var D0,Tl,N0,Uc,sm,O0,x0,M0;(function(){var r,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,g,_){return c==Array.prototype||c==Object.prototype||(c[g]=_.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Cc=="object"&&Cc];for(var g=0;g<c.length;++g){var _=c[g];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var s=n(this);function o(c,g){if(g)e:{var _=s;c=c.split(".");for(var A=0;A<c.length-1;A++){var U=c[A];if(!(U in _))break e;_=_[U]}c=c[c.length-1],A=_[c],g=g(A),g!=A&&g!=null&&e(_,c,{configurable:!0,writable:!0,value:g})}}function u(c,g){c instanceof String&&(c+="");var _=0,A=!1,U={next:function(){if(!A&&_<c.length){var G=_++;return{value:g(G,c[G]),done:!1}}return A=!0,{done:!0,value:void 0}}};return U[Symbol.iterator]=function(){return U},U}o("Array.prototype.values",function(c){return c||function(){return u(this,function(g,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var f=f||{},m=this||self;function p(c){var g=typeof c;return g=g!="object"?g:c?Array.isArray(c)?"array":g:"null",g=="array"||g=="object"&&typeof c.length=="number"}function y(c){var g=typeof c;return g=="object"&&c!=null||g=="function"}function E(c,g,_){return c.call.apply(c.bind,arguments)}function S(c,g,_){if(!c)throw Error();if(2<arguments.length){var A=Array.prototype.slice.call(arguments,2);return function(){var U=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(U,A),c.apply(g,U)}}return function(){return c.apply(g,arguments)}}function C(c,g,_){return C=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?E:S,C.apply(null,arguments)}function L(c,g){var _=Array.prototype.slice.call(arguments,1);return function(){var A=_.slice();return A.push.apply(A,arguments),c.apply(this,A)}}function z(c,g){function _(){}_.prototype=g.prototype,c.aa=g.prototype,c.prototype=new _,c.prototype.constructor=c,c.Qb=function(A,U,G){for(var re=Array(arguments.length-2),ke=2;ke<arguments.length;ke++)re[ke-2]=arguments[ke];return g.prototype[U].apply(A,re)}}function W(c){const g=c.length;if(0<g){const _=Array(g);for(let A=0;A<g;A++)_[A]=c[A];return _}return[]}function F(c,g){for(let _=1;_<arguments.length;_++){const A=arguments[_];if(p(A)){const U=c.length||0,G=A.length||0;c.length=U+G;for(let re=0;re<G;re++)c[U+re]=A[re]}else c.push(A)}}class ${constructor(g,_){this.i=g,this.j=_,this.h=0,this.g=null}get(){let g;return 0<this.h?(this.h--,g=this.g,this.g=g.next,g.next=null):g=this.i(),g}}function se(c){return/^[\s\xa0]*$/.test(c)}function te(){var c=m.navigator;return c&&(c=c.userAgent)?c:""}function fe(c){return fe[" "](c),c}fe[" "]=function(){};var ce=te().indexOf("Gecko")!=-1&&!(te().toLowerCase().indexOf("webkit")!=-1&&te().indexOf("Edge")==-1)&&!(te().indexOf("Trident")!=-1||te().indexOf("MSIE")!=-1)&&te().indexOf("Edge")==-1;function we(c,g,_){for(const A in c)g.call(_,c[A],A,c)}function x(c,g){for(const _ in c)g.call(void 0,c[_],_,c)}function b(c){const g={};for(const _ in c)g[_]=c[_];return g}const w="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function N(c,g){let _,A;for(let U=1;U<arguments.length;U++){A=arguments[U];for(_ in A)c[_]=A[_];for(let G=0;G<w.length;G++)_=w[G],Object.prototype.hasOwnProperty.call(A,_)&&(c[_]=A[_])}}function M(c){var g=1;c=c.split(":");const _=[];for(;0<g&&c.length;)_.push(c.shift()),g--;return c.length&&_.push(c.join(":")),_}function P(c){m.setTimeout(()=>{throw c},0)}function I(){var c=je;let g=null;return c.g&&(g=c.g,c.g=c.g.next,c.g||(c.h=null),g.next=null),g}class Vt{constructor(){this.h=this.g=null}add(g,_){const A=st.get();A.set(g,_),this.h?this.h.next=A:this.g=A,this.h=A}}var st=new $(()=>new K,c=>c.reset());class K{constructor(){this.next=this.g=this.h=null}set(g,_){this.h=g,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let ae,de=!1,je=new Vt,D=()=>{const c=m.Promise.resolve(void 0);ae=()=>{c.then(ee)}};var ee=()=>{for(var c;c=I();){try{c.h.call(c.g)}catch(_){P(_)}var g=st;g.j(c),100>g.h&&(g.h++,c.next=g.g,g.g=c)}de=!1};function oe(){this.s=this.s,this.C=this.C}oe.prototype.s=!1,oe.prototype.ma=function(){this.s||(this.s=!0,this.N())},oe.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ie(c,g){this.type=c,this.g=this.target=g,this.defaultPrevented=!1}ie.prototype.h=function(){this.defaultPrevented=!0};var me=function(){if(!m.addEventListener||!Object.defineProperty)return!1;var c=!1,g=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const _=()=>{};m.addEventListener("test",_,g),m.removeEventListener("test",_,g)}catch{}return c}();function De(c,g){if(ie.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var _=this.type=c.type,A=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=g,g=c.relatedTarget){if(ce){e:{try{fe(g.nodeName);var U=!0;break e}catch{}U=!1}U||(g=null)}}else _=="mouseover"?g=c.fromElement:_=="mouseout"&&(g=c.toElement);this.relatedTarget=g,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:Ae[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&De.aa.h.call(this)}}z(De,ie);var Ae={2:"touch",3:"pen",4:"mouse"};De.prototype.h=function(){De.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Ct="closure_listenable_"+(1e6*Math.random()|0),Ze=0;function Bn(c,g,_,A,U){this.listener=c,this.proxy=null,this.src=g,this.type=_,this.capture=!!A,this.ha=U,this.key=++Ze,this.da=this.fa=!1}function Zi(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function mi(c){this.src=c,this.g={},this.h=0}mi.prototype.add=function(c,g,_,A,U){var G=c.toString();c=this.g[G],c||(c=this.g[G]=[],this.h++);var re=Yr(c,g,A,U);return-1<re?(g=c[re],_||(g.fa=!1)):(g=new Bn(g,this.src,G,!!A,U),g.fa=_,c.push(g)),g};function Kr(c,g){var _=g.type;if(_ in c.g){var A=c.g[_],U=Array.prototype.indexOf.call(A,g,void 0),G;(G=0<=U)&&Array.prototype.splice.call(A,U,1),G&&(Zi(g),c.g[_].length==0&&(delete c.g[_],c.h--))}}function Yr(c,g,_,A){for(var U=0;U<c.length;++U){var G=c[U];if(!G.da&&G.listener==g&&G.capture==!!_&&G.ha==A)return U}return-1}var Xr="closure_lm_"+(1e6*Math.random()|0),ao={};function tu(c,g,_,A,U){if(Array.isArray(g)){for(var G=0;G<g.length;G++)tu(c,g[G],_,A,U);return null}return _=nu(_),c&&c[Ct]?c.K(g,_,y(A)?!!A.capture:!1,U):pn(c,g,_,!1,A,U)}function pn(c,g,_,A,U,G){if(!g)throw Error("Invalid event type");var re=y(U)?!!U.capture:!!U,ke=Fs(c);if(ke||(c[Xr]=ke=new mi(c)),_=ke.add(g,_,A,re,G),_.proxy)return _;if(A=Ih(),_.proxy=A,A.src=c,A.listener=_,c.addEventListener)me||(U=re),U===void 0&&(U=!1),c.addEventListener(g.toString(),A,U);else if(c.attachEvent)c.attachEvent($r(g.toString()),A);else if(c.addListener&&c.removeListener)c.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return _}function Ih(){function c(_){return g.call(c.src,c.listener,_)}const g=Dh;return c}function oo(c,g,_,A,U){if(Array.isArray(g))for(var G=0;G<g.length;G++)oo(c,g[G],_,A,U);else A=y(A)?!!A.capture:!!A,_=nu(_),c&&c[Ct]?(c=c.i,g=String(g).toString(),g in c.g&&(G=c.g[g],_=Yr(G,_,A,U),-1<_&&(Zi(G[_]),Array.prototype.splice.call(G,_,1),G.length==0&&(delete c.g[g],c.h--)))):c&&(c=Fs(c))&&(g=c.g[g.toString()],c=-1,g&&(c=Yr(g,_,A,U)),(_=-1<c?g[c]:null)&&qs(_))}function qs(c){if(typeof c!="number"&&c&&!c.da){var g=c.src;if(g&&g[Ct])Kr(g.i,c);else{var _=c.type,A=c.proxy;g.removeEventListener?g.removeEventListener(_,A,c.capture):g.detachEvent?g.detachEvent($r(_),A):g.addListener&&g.removeListener&&g.removeListener(A),(_=Fs(g))?(Kr(_,c),_.h==0&&(_.src=null,g[Xr]=null)):Zi(c)}}}function $r(c){return c in ao?ao[c]:ao[c]="on"+c}function Dh(c,g){if(c.da)c=!0;else{g=new De(g,this);var _=c.listener,A=c.ha||c.src;c.fa&&qs(c),c=_.call(A,g)}return c}function Fs(c){return c=c[Xr],c instanceof mi?c:null}var lo="__closure_events_fn_"+(1e9*Math.random()>>>0);function nu(c){return typeof c=="function"?c:(c[lo]||(c[lo]=function(g){return c.handleEvent(g)}),c[lo])}function at(){oe.call(this),this.i=new mi(this),this.M=this,this.F=null}z(at,oe),at.prototype[Ct]=!0,at.prototype.removeEventListener=function(c,g,_,A){oo(this,c,g,_,A)};function Fe(c,g){var _,A=c.F;if(A)for(_=[];A;A=A.F)_.push(A);if(c=c.M,A=g.type||g,typeof g=="string")g=new ie(g,c);else if(g instanceof ie)g.target=g.target||c;else{var U=g;g=new ie(A,c),N(g,U)}if(U=!0,_)for(var G=_.length-1;0<=G;G--){var re=g.g=_[G];U=sn(re,A,!0,g)&&U}if(re=g.g=c,U=sn(re,A,!0,g)&&U,U=sn(re,A,!1,g)&&U,_)for(G=0;G<_.length;G++)re=g.g=_[G],U=sn(re,A,!1,g)&&U}at.prototype.N=function(){if(at.aa.N.call(this),this.i){var c=this.i,g;for(g in c.g){for(var _=c.g[g],A=0;A<_.length;A++)Zi(_[A]);delete c.g[g],c.h--}}this.F=null},at.prototype.K=function(c,g,_,A){return this.i.add(String(c),g,!1,_,A)},at.prototype.L=function(c,g,_,A){return this.i.add(String(c),g,!0,_,A)};function sn(c,g,_,A){if(g=c.i.g[String(g)],!g)return!0;g=g.concat();for(var U=!0,G=0;G<g.length;++G){var re=g[G];if(re&&!re.da&&re.capture==_){var ke=re.listener,Et=re.ha||re.src;re.fa&&Kr(c.i,re),U=ke.call(Et,A)!==!1&&U}}return U&&!A.defaultPrevented}function qt(c,g,_){if(typeof c=="function")_&&(c=C(c,_));else if(c&&typeof c.handleEvent=="function")c=C(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(g)?-1:m.setTimeout(c,g||0)}function iu(c){c.g=qt(()=>{c.g=null,c.i&&(c.i=!1,iu(c))},c.l);const g=c.h;c.h=null,c.m.apply(null,g)}class Nh extends oe{constructor(g,_){super(),this.m=g,this.l=_,this.h=null,this.i=!1,this.g=null}j(g){this.h=arguments,this.g?this.i=!0:iu(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Wr(c){oe.call(this),this.h=c,this.g={}}z(Wr,oe);var Zr=[];function Jr(c){we(c.g,function(g,_){this.g.hasOwnProperty(_)&&qs(g)},c),c.g={}}Wr.prototype.N=function(){Wr.aa.N.call(this),Jr(this)},Wr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var xn=m.JSON.stringify,Gs=m.JSON.parse,es=class{stringify(c){return m.JSON.stringify(c,void 0)}parse(c){return m.JSON.parse(c,void 0)}};function uo(){}uo.prototype.h=null;function co(c){return c.h||(c.h=c.i())}function ho(){}var pi={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function gi(){ie.call(this,"d")}z(gi,ie);function fo(){ie.call(this,"c")}z(fo,ie);var Hn={},mo=null;function Ji(){return mo=mo||new at}Hn.La="serverreachability";function Qs(c){ie.call(this,Hn.La,c)}z(Qs,ie);function er(c){const g=Ji();Fe(g,new Qs(g))}Hn.STAT_EVENT="statevent";function ru(c,g){ie.call(this,Hn.STAT_EVENT,c),this.stat=g}z(ru,ie);function et(c){const g=Ji();Fe(g,new ru(g,c))}Hn.Ma="timingevent";function vt(c,g){ie.call(this,Hn.Ma,c),this.size=g}z(vt,ie);function mt(c,g){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){c()},g)}function gn(){this.g=!0}gn.prototype.xa=function(){this.g=!1};function po(c,g,_,A,U,G){c.info(function(){if(c.g)if(G)for(var re="",ke=G.split("&"),Et=0;Et<ke.length;Et++){var Pe=ke[Et].split("=");if(1<Pe.length){var Dt=Pe[0];Pe=Pe[1];var Tt=Dt.split("_");re=2<=Tt.length&&Tt[1]=="type"?re+(Dt+"="+Pe+"&"):re+(Dt+"=redacted&")}}else re=null;else re=G;return"XMLHTTP REQ ("+A+") [attempt "+U+"]: "+g+`
`+_+`
`+re})}function Oh(c,g,_,A,U,G,re){c.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+U+"]: "+g+`
`+_+`
`+G+" "+re})}function tr(c,g,_,A){c.info(function(){return"XMLHTTP TEXT ("+g+"): "+ts(c,_)+(A?" "+A:"")})}function su(c,g){c.info(function(){return"TIMEOUT: "+g})}gn.prototype.info=function(){};function ts(c,g){if(!c.g)return g;if(!g)return null;try{var _=JSON.parse(g);if(_){for(c=0;c<_.length;c++)if(Array.isArray(_[c])){var A=_[c];if(!(2>A.length)){var U=A[1];if(Array.isArray(U)&&!(1>U.length)){var G=U[0];if(G!="noop"&&G!="stop"&&G!="close")for(var re=1;re<U.length;re++)U[re]=""}}}}return xn(_)}catch{return g}}var nr={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},yi={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},qn;function Fn(){}z(Fn,uo),Fn.prototype.g=function(){return new XMLHttpRequest},Fn.prototype.i=function(){return{}},qn=new Fn;function $t(c,g,_,A){this.j=c,this.i=g,this.l=_,this.R=A||1,this.U=new Wr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new ct}function ct(){this.i=null,this.g="",this.h=!1}var go={},Ks={};function Mn(c,g,_){c.L=1,c.v=as(an(g)),c.m=_,c.P=!0,_i(c,null)}function _i(c,g){c.F=Date.now(),ns(c),c.A=an(c.v);var _=c.A,A=c.R;Array.isArray(A)||(A=[String(A)]),Ao(_.i,"t",A),c.C=0,_=c.j.J,c.h=new ct,c.g=Tu(c.j,_?g:null,!c.m),0<c.O&&(c.M=new Nh(C(c.Y,c,c.g),c.O)),g=c.U,_=c.g,A=c.ca;var U="readystatechange";Array.isArray(U)||(U&&(Zr[0]=U.toString()),U=Zr);for(var G=0;G<U.length;G++){var re=tu(_,U[G],A||g.handleEvent,!1,g.h||g);if(!re)break;g.g[re.key]=re}g=c.H?b(c.H):{},c.m?(c.u||(c.u="POST"),g["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,g)):(c.u="GET",c.g.ea(c.A,c.u,null,g)),er(),po(c.i,c.u,c.A,c.l,c.R,c.m)}$t.prototype.ca=function(c){c=c.target;const g=this.M;g&&En(c)==3?g.j():this.Y(c)},$t.prototype.Y=function(c){try{if(c==this.g)e:{const Tt=En(this.g);var g=this.g.Ba();const Ri=this.g.Z();if(!(3>Tt)&&(Tt!=3||this.g&&(this.h.h||this.g.oa()||du(this.g)))){this.J||Tt!=4||g==7||(g==8||0>=Ri?er(3):er(2)),ir(this);var _=this.g.Z();this.X=_;t:if(au(this)){var A=du(this.g);c="";var U=A.length,G=En(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){kt(this),Gn(this);var re="";break t}this.h.i=new m.TextDecoder}for(g=0;g<U;g++)this.h.h=!0,c+=this.h.i.decode(A[g],{stream:!(G&&g==U-1)});A.length=0,this.h.g+=c,this.C=0,re=this.h.g}else re=this.g.oa();if(this.o=_==200,Oh(this.i,this.u,this.A,this.l,this.R,Tt,_),this.o){if(this.T&&!this.K){t:{if(this.g){var ke,Et=this.g;if((ke=Et.g?Et.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!se(ke)){var Pe=ke;break t}}Pe=null}if(_=Pe)tr(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,is(this,_);else{this.o=!1,this.s=3,et(12),kt(this),Gn(this);break e}}if(this.P){_=!0;let Pt;for(;!this.J&&this.C<re.length;)if(Pt=ou(this,re),Pt==Ks){Tt==4&&(this.s=4,et(14),_=!1),tr(this.i,this.l,null,"[Incomplete Response]");break}else if(Pt==go){this.s=4,et(15),tr(this.i,this.l,re,"[Invalid Chunk]"),_=!1;break}else tr(this.i,this.l,Pt,null),is(this,Pt);if(au(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Tt!=4||re.length!=0||this.h.h||(this.s=1,et(16),_=!1),this.o=this.o&&_,!_)tr(this.i,this.l,re,"[Invalid Chunked Response]"),kt(this),Gn(this);else if(0<re.length&&!this.W){this.W=!0;var Dt=this.j;Dt.g==this&&Dt.ba&&!Dt.M&&(Dt.j.info("Great, no buffering proxy detected. Bytes received: "+re.length),ms(Dt),Dt.M=!0,et(11))}}else tr(this.i,this.l,re,null),is(this,re);Tt==4&&kt(this),this.o&&!this.J&&(Tt==4?_u(this.j,this):(this.o=!1,ns(this)))}else Ph(this.g),_==400&&0<re.indexOf("Unknown SID")?(this.s=3,et(12)):(this.s=0,et(13)),kt(this),Gn(this)}}}catch{}finally{}};function au(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function ou(c,g){var _=c.C,A=g.indexOf(`
`,_);return A==-1?Ks:(_=Number(g.substring(_,A)),isNaN(_)?go:(A+=1,A+_>g.length?Ks:(g=g.slice(A,A+_),c.C=A+_,g)))}$t.prototype.cancel=function(){this.J=!0,kt(this)};function ns(c){c.S=Date.now()+c.I,lu(c,c.I)}function lu(c,g){if(c.B!=null)throw Error("WatchDog timer not null");c.B=mt(C(c.ba,c),g)}function ir(c){c.B&&(m.clearTimeout(c.B),c.B=null)}$t.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(su(this.i,this.A),this.L!=2&&(er(),et(17)),kt(this),this.s=2,Gn(this)):lu(this,this.S-c)};function Gn(c){c.j.G==0||c.J||_u(c.j,c)}function kt(c){ir(c);var g=c.M;g&&typeof g.ma=="function"&&g.ma(),c.M=null,Jr(c.U),c.g&&(g=c.g,c.g=null,g.abort(),g.ma())}function is(c,g){try{var _=c.j;if(_.G!=0&&(_.g==c||yo(_.h,c))){if(!c.K&&yo(_.h,c)&&_.G==3){try{var A=_.Da.g.parse(g)}catch{A=null}if(Array.isArray(A)&&A.length==3){var U=A;if(U[0]==0){e:if(!_.u){if(_.g)if(_.g.F+3e3<c.F)sa(_),ia(_);else break e;Co(_),et(18)}}else _.za=U[1],0<_.za-_.T&&37500>U[2]&&_.F&&_.v==0&&!_.C&&(_.C=mt(C(_.Za,_),6e3));if(1>=Xs(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else wi(_,11)}else if((c.K||_.g==c)&&sa(_),!se(g))for(U=_.Da.g.parse(g),g=0;g<U.length;g++){let Pe=U[g];if(_.T=Pe[0],Pe=Pe[1],_.G==2)if(Pe[0]=="c"){_.K=Pe[1],_.ia=Pe[2];const Dt=Pe[3];Dt!=null&&(_.la=Dt,_.j.info("VER="+_.la));const Tt=Pe[4];Tt!=null&&(_.Aa=Tt,_.j.info("SVER="+_.Aa));const Ri=Pe[5];Ri!=null&&typeof Ri=="number"&&0<Ri&&(A=1.5*Ri,_.L=A,_.j.info("backChannelRequestTimeoutMs_="+A)),A=_;const Pt=c.g;if(Pt){const Zn=Pt.g?Pt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Zn){var G=A.h;G.g||Zn.indexOf("spdy")==-1&&Zn.indexOf("quic")==-1&&Zn.indexOf("h2")==-1||(G.j=G.l,G.g=new Set,G.h&&($s(G,G.h),G.h=null))}if(A.D){const Do=Pt.g?Pt.g.getResponseHeader("X-HTTP-Session-Id"):null;Do&&(A.ya=Do,Ke(A.I,A.D,Do))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-c.F,_.j.info("Handshake RTT: "+_.R+"ms")),A=_;var re=c;if(A.qa=Eu(A,A.J?A.ia:null,A.W),re.K){Wt(A.h,re);var ke=re,Et=A.L;Et&&(ke.I=Et),ke.B&&(ir(ke),ns(ke)),A.g=re}else gu(A);0<_.i.length&&ra(_)}else Pe[0]!="stop"&&Pe[0]!="close"||wi(_,7);else _.G==3&&(Pe[0]=="stop"||Pe[0]=="close"?Pe[0]=="stop"?wi(_,7):wo(_):Pe[0]!="noop"&&_.l&&_.l.ta(Pe),_.v=0)}}er(4)}catch{}}var uu=class{constructor(c,g){this.g=c,this.map=g}};function vi(c){this.l=c||10,m.PerformanceNavigationTiming?(c=m.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Ys(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Xs(c){return c.h?1:c.g?c.g.size:0}function yo(c,g){return c.h?c.h==g:c.g?c.g.has(g):!1}function $s(c,g){c.g?c.g.add(g):c.h=g}function Wt(c,g){c.h&&c.h==g?c.h=null:c.g&&c.g.has(g)&&c.g.delete(g)}vi.prototype.cancel=function(){if(this.i=_o(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function _o(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let g=c.i;for(const _ of c.g.values())g=g.concat(_.D);return g}return W(c.i)}function xh(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(p(c)){for(var g=[],_=c.length,A=0;A<_;A++)g.push(c[A]);return g}g=[],_=0;for(A in c)g[_++]=c[A];return g}function Ws(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(p(c)||typeof c=="string"){var g=[];c=c.length;for(var _=0;_<c;_++)g.push(_);return g}g=[],_=0;for(const A in c)g[_++]=A;return g}}}function vo(c,g){if(c.forEach&&typeof c.forEach=="function")c.forEach(g,void 0);else if(p(c)||typeof c=="string")Array.prototype.forEach.call(c,g,void 0);else for(var _=Ws(c),A=xh(c),U=A.length,G=0;G<U;G++)g.call(void 0,A[G],_&&_[G],c)}var rs=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Mh(c,g){if(c){c=c.split("&");for(var _=0;_<c.length;_++){var A=c[_].indexOf("="),U=null;if(0<=A){var G=c[_].substring(0,A);U=c[_].substring(A+1)}else G=c[_];g(G,U?decodeURIComponent(U.replace(/\+/g," ")):"")}}}function pt(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof pt){this.h=c.h,ss(this,c.j),this.o=c.o,this.g=c.g,rr(this,c.s),this.l=c.l;var g=c.i,_=new Ti;_.i=g.i,g.g&&(_.g=new Map(g.g),_.h=g.h),Ei(this,_),this.m=c.m}else c&&(g=String(c).match(rs))?(this.h=!1,ss(this,g[1]||"",!0),this.o=yn(g[2]||""),this.g=yn(g[3]||"",!0),rr(this,g[4]),this.l=yn(g[5]||"",!0),Ei(this,g[6]||"",!0),this.m=yn(g[7]||"")):(this.h=!1,this.i=new Ti(null,this.h))}pt.prototype.toString=function(){var c=[],g=this.j;g&&c.push(os(g,Eo,!0),":");var _=this.g;return(_||g=="file")&&(c.push("//"),(g=this.o)&&c.push(os(g,Eo,!0),"@"),c.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&c.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&c.push("/"),c.push(os(_,_.charAt(0)=="/"?Vh:To,!0))),(_=this.i.toString())&&c.push("?",_),(_=this.m)&&c.push("#",os(_,Zs)),c.join("")};function an(c){return new pt(c)}function ss(c,g,_){c.j=_?yn(g,!0):g,c.j&&(c.j=c.j.replace(/:$/,""))}function rr(c,g){if(g){if(g=Number(g),isNaN(g)||0>g)throw Error("Bad port number "+g);c.s=g}else c.s=null}function Ei(c,g,_){g instanceof Ti?(c.i=g,hu(c.i,c.h)):(_||(g=os(g,kh)),c.i=new Ti(g,c.h))}function Ke(c,g,_){c.i.set(g,_)}function as(c){return Ke(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function yn(c,g){return c?g?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function os(c,g,_){return typeof c=="string"?(c=encodeURI(c).replace(g,cu),_&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function cu(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Eo=/[#\/\?@]/g,To=/[#\?:]/g,Vh=/[#\?]/g,kh=/[#\?@]/g,Zs=/#/g;function Ti(c,g){this.h=this.g=null,this.i=c||null,this.j=!!g}function _n(c){c.g||(c.g=new Map,c.h=0,c.i&&Mh(c.i,function(g,_){c.add(decodeURIComponent(g.replace(/\+/g," ")),_)}))}r=Ti.prototype,r.add=function(c,g){_n(this),this.i=null,c=Qn(this,c);var _=this.g.get(c);return _||this.g.set(c,_=[]),_.push(g),this.h+=1,this};function Ai(c,g){_n(c),g=Qn(c,g),c.g.has(g)&&(c.i=null,c.h-=c.g.get(g).length,c.g.delete(g))}function Si(c,g){return _n(c),g=Qn(c,g),c.g.has(g)}r.forEach=function(c,g){_n(this),this.g.forEach(function(_,A){_.forEach(function(U){c.call(g,U,A,this)},this)},this)},r.na=function(){_n(this);const c=Array.from(this.g.values()),g=Array.from(this.g.keys()),_=[];for(let A=0;A<g.length;A++){const U=c[A];for(let G=0;G<U.length;G++)_.push(g[A])}return _},r.V=function(c){_n(this);let g=[];if(typeof c=="string")Si(this,c)&&(g=g.concat(this.g.get(Qn(this,c))));else{c=Array.from(this.g.values());for(let _=0;_<c.length;_++)g=g.concat(c[_])}return g},r.set=function(c,g){return _n(this),this.i=null,c=Qn(this,c),Si(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[g]),this.h+=1,this},r.get=function(c,g){return c?(c=this.V(c),0<c.length?String(c[0]):g):g};function Ao(c,g,_){Ai(c,g),0<_.length&&(c.i=null,c.g.set(Qn(c,g),W(_)),c.h+=_.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],g=Array.from(this.g.keys());for(var _=0;_<g.length;_++){var A=g[_];const G=encodeURIComponent(String(A)),re=this.V(A);for(A=0;A<re.length;A++){var U=G;re[A]!==""&&(U+="="+encodeURIComponent(String(re[A]))),c.push(U)}}return this.i=c.join("&")};function Qn(c,g){return g=String(g),c.j&&(g=g.toLowerCase()),g}function hu(c,g){g&&!c.j&&(_n(c),c.i=null,c.g.forEach(function(_,A){var U=A.toLowerCase();A!=U&&(Ai(this,A),Ao(this,U,_))},c)),c.j=g}function ls(c,g){const _=new gn;if(m.Image){const A=new Image;A.onload=L(vn,_,"TestLoadImage: loaded",!0,g,A),A.onerror=L(vn,_,"TestLoadImage: error",!1,g,A),A.onabort=L(vn,_,"TestLoadImage: abort",!1,g,A),A.ontimeout=L(vn,_,"TestLoadImage: timeout",!1,g,A),m.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=c}else g(!1)}function Vn(c,g){const _=new gn,A=new AbortController,U=setTimeout(()=>{A.abort(),vn(_,"TestPingServer: timeout",!1,g)},1e4);fetch(c,{signal:A.signal}).then(G=>{clearTimeout(U),G.ok?vn(_,"TestPingServer: ok",!0,g):vn(_,"TestPingServer: server error",!1,g)}).catch(()=>{clearTimeout(U),vn(_,"TestPingServer: error",!1,g)})}function vn(c,g,_,A,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),A(_)}catch{}}function us(){this.g=new es}function Kn(c,g,_){const A=_||"";try{vo(c,function(U,G){let re=U;y(U)&&(re=xn(U)),g.push(A+G+"="+encodeURIComponent(re))})}catch(U){throw g.push(A+"type="+encodeURIComponent("_badmap")),U}}function sr(c){this.l=c.Ub||null,this.j=c.eb||!1}z(sr,uo),sr.prototype.g=function(){return new bi(this.l,this.j)},sr.prototype.i=function(c){return function(){return c}}({});function bi(c,g){at.call(this),this.D=c,this.o=g,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}z(bi,at),r=bi.prototype,r.open=function(c,g){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=g,this.readyState=1,Xn(this)},r.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const g={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(g.body=c),(this.D||m).fetch(new Request(this.A,g)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Yn(this)),this.readyState=0},r.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Xn(this)),this.g&&(this.readyState=3,Xn(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;So(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function So(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}r.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var g=c.value?c.value:new Uint8Array(0);(g=this.v.decode(g,{stream:!c.done}))&&(this.response=this.responseText+=g)}c.done?Yn(this):Xn(this),this.readyState==3&&So(this)}},r.Ra=function(c){this.g&&(this.response=this.responseText=c,Yn(this))},r.Qa=function(c){this.g&&(this.response=c,Yn(this))},r.ga=function(){this.g&&Yn(this)};function Yn(c){c.readyState=4,c.l=null,c.j=null,c.v=null,Xn(c)}r.setRequestHeader=function(c,g){this.u.append(c,g)},r.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],g=this.h.entries();for(var _=g.next();!_.done;)_=_.value,c.push(_[0]+": "+_[1]),_=g.next();return c.join(`\r
`)};function Xn(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(bi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function bo(c){let g="";return we(c,function(_,A){g+=A,g+=":",g+=_,g+=`\r
`}),g}function It(c,g,_){e:{for(A in _){var A=!1;break e}A=!0}A||(_=bo(_),typeof c=="string"?_!=null&&encodeURIComponent(String(_)):Ke(c,g,_))}function He(c){at.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}z(He,at);var Js=/^https?$/i,cs=["POST","PUT"];r=He.prototype,r.Ha=function(c){this.J=c},r.ea=function(c,g,_,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);g=g?g.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():qn.g(),this.v=this.o?co(this.o):co(qn),this.g.onreadystatechange=C(this.Ea,this);try{this.B=!0,this.g.open(g,String(c),!0),this.B=!1}catch(G){fu(this,G);return}if(c=_||"",_=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var U in A)_.set(U,A[U]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const G of A.keys())_.set(G,A.get(G));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(_.keys()).find(G=>G.toLowerCase()=="content-type"),U=m.FormData&&c instanceof m.FormData,!(0<=Array.prototype.indexOf.call(cs,g,void 0))||A||U||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[G,re]of _)this.g.setRequestHeader(G,re);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{hs(this),this.u=!0,this.g.send(c),this.u=!1}catch(G){fu(this,G)}};function fu(c,g){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=g,c.m=5,ea(c),$n(c)}function ea(c){c.A||(c.A=!0,Fe(c,"complete"),Fe(c,"error"))}r.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Fe(this,"complete"),Fe(this,"abort"),$n(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),$n(this,!0)),He.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?ta(this):this.bb())},r.bb=function(){ta(this)};function ta(c){if(c.h&&typeof f<"u"&&(!c.v[1]||En(c)!=4||c.Z()!=2)){if(c.u&&En(c)==4)qt(c.Ea,0,c);else if(Fe(c,"readystatechange"),En(c)==4){c.h=!1;try{const re=c.Z();e:switch(re){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var g=!0;break e;default:g=!1}var _;if(!(_=g)){var A;if(A=re===0){var U=String(c.D).match(rs)[1]||null;!U&&m.self&&m.self.location&&(U=m.self.location.protocol.slice(0,-1)),A=!Js.test(U?U.toLowerCase():"")}_=A}if(_)Fe(c,"complete"),Fe(c,"success");else{c.m=6;try{var G=2<En(c)?c.g.statusText:""}catch{G=""}c.l=G+" ["+c.Z()+"]",ea(c)}}finally{$n(c)}}}}function $n(c,g){if(c.g){hs(c);const _=c.g,A=c.v[0]?()=>{}:null;c.g=null,c.v=null,g||Fe(c,"ready");try{_.onreadystatechange=A}catch{}}}function hs(c){c.I&&(m.clearTimeout(c.I),c.I=null)}r.isActive=function(){return!!this.g};function En(c){return c.g?c.g.readyState:0}r.Z=function(){try{return 2<En(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(c){if(this.g){var g=this.g.responseText;return c&&g.indexOf(c)==0&&(g=g.substring(c.length)),Gs(g)}};function du(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Ph(c){const g={};c=(c.g&&2<=En(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<c.length;A++){if(se(c[A]))continue;var _=M(c[A]);const U=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const G=g[U]||[];g[U]=G,G.push(_)}x(g,function(A){return A.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function fs(c,g,_){return _&&_.internalChannelParams&&_.internalChannelParams[c]||g}function na(c){this.Aa=0,this.i=[],this.j=new gn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=fs("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=fs("baseRetryDelayMs",5e3,c),this.cb=fs("retryDelaySeedMs",1e4,c),this.Wa=fs("forwardChannelMaxRetries",2,c),this.wa=fs("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new vi(c&&c.concurrentRequestLimit),this.Da=new us,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=na.prototype,r.la=8,r.G=1,r.connect=function(c,g,_,A){et(0),this.W=c,this.H=g||{},_&&A!==void 0&&(this.H.OSID=_,this.H.OAID=A),this.F=this.X,this.I=Eu(this,null,this.W),ra(this)};function wo(c){if(mu(c),c.G==3){var g=c.U++,_=an(c.I);if(Ke(_,"SID",c.K),Ke(_,"RID",g),Ke(_,"TYPE","terminate"),ds(c,_),g=new $t(c,c.j,g),g.L=2,g.v=as(an(_)),_=!1,m.navigator&&m.navigator.sendBeacon)try{_=m.navigator.sendBeacon(g.v.toString(),"")}catch{}!_&&m.Image&&(new Image().src=g.v,_=!0),_||(g.g=Tu(g.j,null),g.g.ea(g.v)),g.F=Date.now(),ns(g)}vu(c)}function ia(c){c.g&&(ms(c),c.g.cancel(),c.g=null)}function mu(c){ia(c),c.u&&(m.clearTimeout(c.u),c.u=null),sa(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&m.clearTimeout(c.s),c.s=null)}function ra(c){if(!Ys(c.h)&&!c.s){c.s=!0;var g=c.Ga;ae||D(),de||(ae(),de=!0),je.add(g,c),c.B=0}}function Lh(c,g){return Xs(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=g.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=mt(C(c.Ga,c,g),Io(c,c.B)),c.B++,!0)}r.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const U=new $t(this,this.j,c);let G=this.o;if(this.S&&(G?(G=b(G),N(G,this.S)):G=this.S),this.m!==null||this.O||(U.H=G,G=null),this.P)e:{for(var g=0,_=0;_<this.i.length;_++){t:{var A=this.i[_];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(g+=A,4096<g){g=_;break e}if(g===4096||_===this.i.length-1){g=_+1;break e}}g=1e3}else g=1e3;g=pu(this,U,g),_=an(this.I),Ke(_,"RID",c),Ke(_,"CVER",22),this.D&&Ke(_,"X-HTTP-Session-Id",this.D),ds(this,_),G&&(this.O?g="headers="+encodeURIComponent(String(bo(G)))+"&"+g:this.m&&It(_,this.m,G)),$s(this.h,U),this.Ua&&Ke(_,"TYPE","init"),this.P?(Ke(_,"$req",g),Ke(_,"SID","null"),U.T=!0,Mn(U,_,null)):Mn(U,_,g),this.G=2}}else this.G==3&&(c?Ro(this,c):this.i.length==0||Ys(this.h)||Ro(this))};function Ro(c,g){var _;g?_=g.l:_=c.U++;const A=an(c.I);Ke(A,"SID",c.K),Ke(A,"RID",_),Ke(A,"AID",c.T),ds(c,A),c.m&&c.o&&It(A,c.m,c.o),_=new $t(c,c.j,_,c.B+1),c.m===null&&(_.H=c.o),g&&(c.i=g.D.concat(c.i)),g=pu(c,_,1e3),_.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),$s(c.h,_),Mn(_,A,g)}function ds(c,g){c.H&&we(c.H,function(_,A){Ke(g,A,_)}),c.l&&vo({},function(_,A){Ke(g,A,_)})}function pu(c,g,_){_=Math.min(c.i.length,_);var A=c.l?C(c.l.Na,c.l,c):null;e:{var U=c.i;let G=-1;for(;;){const re=["count="+_];G==-1?0<_?(G=U[0].g,re.push("ofs="+G)):G=0:re.push("ofs="+G);let ke=!0;for(let Et=0;Et<_;Et++){let Pe=U[Et].g;const Dt=U[Et].map;if(Pe-=G,0>Pe)G=Math.max(0,U[Et].g-100),ke=!1;else try{Kn(Dt,re,"req"+Pe+"_")}catch{A&&A(Dt)}}if(ke){A=re.join("&");break e}}}return c=c.i.splice(0,_),g.D=c,A}function gu(c){if(!c.g&&!c.u){c.Y=1;var g=c.Fa;ae||D(),de||(ae(),de=!0),je.add(g,c),c.v=0}}function Co(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=mt(C(c.Fa,c),Io(c,c.v)),c.v++,!0)}r.Fa=function(){if(this.u=null,yu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=mt(C(this.ab,this),c)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,et(10),ia(this),yu(this))};function ms(c){c.A!=null&&(m.clearTimeout(c.A),c.A=null)}function yu(c){c.g=new $t(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var g=an(c.qa);Ke(g,"RID","rpc"),Ke(g,"SID",c.K),Ke(g,"AID",c.T),Ke(g,"CI",c.F?"0":"1"),!c.F&&c.ja&&Ke(g,"TO",c.ja),Ke(g,"TYPE","xmlhttp"),ds(c,g),c.m&&c.o&&It(g,c.m,c.o),c.L&&(c.g.I=c.L);var _=c.g;c=c.ia,_.L=1,_.v=as(an(g)),_.m=null,_.P=!0,_i(_,c)}r.Za=function(){this.C!=null&&(this.C=null,ia(this),Co(this),et(19))};function sa(c){c.C!=null&&(m.clearTimeout(c.C),c.C=null)}function _u(c,g){var _=null;if(c.g==g){sa(c),ms(c),c.g=null;var A=2}else if(yo(c.h,g))_=g.D,Wt(c.h,g),A=1;else return;if(c.G!=0){if(g.o)if(A==1){_=g.m?g.m.length:0,g=Date.now()-g.F;var U=c.B;A=Ji(),Fe(A,new vt(A,_)),ra(c)}else gu(c);else if(U=g.s,U==3||U==0&&0<g.X||!(A==1&&Lh(c,g)||A==2&&Co(c)))switch(_&&0<_.length&&(g=c.h,g.i=g.i.concat(_)),U){case 1:wi(c,5);break;case 4:wi(c,10);break;case 3:wi(c,6);break;default:wi(c,2)}}}function Io(c,g){let _=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(_*=2),_*g}function wi(c,g){if(c.j.info("Error code "+g),g==2){var _=C(c.fb,c),A=c.Xa;const U=!A;A=new pt(A||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||ss(A,"https"),as(A),U?ls(A.toString(),_):Vn(A.toString(),_)}else et(2);c.G=0,c.l&&c.l.sa(g),vu(c),mu(c)}r.fb=function(c){c?(this.j.info("Successfully pinged google.com"),et(2)):(this.j.info("Failed to ping google.com"),et(1))};function vu(c){if(c.G=0,c.ka=[],c.l){const g=_o(c.h);(g.length!=0||c.i.length!=0)&&(F(c.ka,g),F(c.ka,c.i),c.h.i.length=0,W(c.i),c.i.length=0),c.l.ra()}}function Eu(c,g,_){var A=_ instanceof pt?an(_):new pt(_);if(A.g!="")g&&(A.g=g+"."+A.g),rr(A,A.s);else{var U=m.location;A=U.protocol,g=g?g+"."+U.hostname:U.hostname,U=+U.port;var G=new pt(null);A&&ss(G,A),g&&(G.g=g),U&&rr(G,U),_&&(G.l=_),A=G}return _=c.D,g=c.ya,_&&g&&Ke(A,_,g),Ke(A,"VER",c.la),ds(c,A),A}function Tu(c,g,_){if(g&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return g=c.Ca&&!c.pa?new He(new sr({eb:_})):new He(c.pa),g.Ha(c.J),g}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Au(){}r=Au.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function aa(){}aa.prototype.g=function(c,g){return new Zt(c,g)};function Zt(c,g){at.call(this),this.g=new na(g),this.l=c,this.h=g&&g.messageUrlParams||null,c=g&&g.messageHeaders||null,g&&g.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=g&&g.initMessageHeaders||null,g&&g.messageContentType&&(c?c["X-WebChannel-Content-Type"]=g.messageContentType:c={"X-WebChannel-Content-Type":g.messageContentType}),g&&g.va&&(c?c["X-WebChannel-Client-Profile"]=g.va:c={"X-WebChannel-Client-Profile":g.va}),this.g.S=c,(c=g&&g.Sb)&&!se(c)&&(this.g.m=c),this.v=g&&g.supportsCrossDomainXhr||!1,this.u=g&&g.sendRawJson||!1,(g=g&&g.httpSessionIdParam)&&!se(g)&&(this.g.D=g,c=this.h,c!==null&&g in c&&(c=this.h,g in c&&delete c[g])),this.j=new Wn(this)}z(Zt,at),Zt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Zt.prototype.close=function(){wo(this.g)},Zt.prototype.o=function(c){var g=this.g;if(typeof c=="string"){var _={};_.__data__=c,c=_}else this.u&&(_={},_.__data__=xn(c),c=_);g.i.push(new uu(g.Ya++,c)),g.G==3&&ra(g)},Zt.prototype.N=function(){this.g.l=null,delete this.j,wo(this.g),delete this.g,Zt.aa.N.call(this)};function Su(c){gi.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var g=c.__sm__;if(g){e:{for(const _ in g){c=_;break e}c=void 0}(this.i=c)&&(c=this.i,g=g!==null&&c in g?g[c]:void 0),this.data=g}else this.data=c}z(Su,gi);function bu(){fo.call(this),this.status=1}z(bu,fo);function Wn(c){this.g=c}z(Wn,Au),Wn.prototype.ua=function(){Fe(this.g,"a")},Wn.prototype.ta=function(c){Fe(this.g,new Su(c))},Wn.prototype.sa=function(c){Fe(this.g,new bu)},Wn.prototype.ra=function(){Fe(this.g,"b")},aa.prototype.createWebChannel=aa.prototype.g,Zt.prototype.send=Zt.prototype.o,Zt.prototype.open=Zt.prototype.m,Zt.prototype.close=Zt.prototype.close,M0=function(){return new aa},x0=function(){return Ji()},O0=Hn,sm={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},nr.NO_ERROR=0,nr.TIMEOUT=8,nr.HTTP_ERROR=6,Uc=nr,yi.COMPLETE="complete",N0=yi,ho.EventType=pi,pi.OPEN="a",pi.CLOSE="b",pi.ERROR="c",pi.MESSAGE="d",at.prototype.listen=at.prototype.K,Tl=ho,He.prototype.listenOnce=He.prototype.L,He.prototype.getLastError=He.prototype.Ka,He.prototype.getLastErrorCode=He.prototype.Ba,He.prototype.getStatus=He.prototype.Z,He.prototype.getResponseJson=He.prototype.Oa,He.prototype.getResponseText=He.prototype.oa,He.prototype.send=He.prototype.ea,He.prototype.setWithCredentials=He.prototype.Ha,D0=He}).apply(typeof Cc<"u"?Cc:typeof self<"u"?self:typeof window<"u"?window:{});const bv="@firebase/firestore",wv="4.7.10";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Kt.UNAUTHENTICATED=new Kt(null),Kt.GOOGLE_CREDENTIALS=new Kt("google-credentials-uid"),Kt.FIRST_PARTY=new Kt("first-party-uid"),Kt.MOCK_USER=new Kt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let to="11.5.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ls=new Cm("@firebase/firestore");function ka(){return Ls.logLevel}function le(r,...e){if(Ls.logLevel<=Me.DEBUG){const n=e.map(Bm);Ls.debug(`Firestore (${to}): ${r}`,...n)}}function Yi(r,...e){if(Ls.logLevel<=Me.ERROR){const n=e.map(Bm);Ls.error(`Firestore (${to}): ${r}`,...n)}}function Fa(r,...e){if(Ls.logLevel<=Me.WARN){const n=e.map(Bm);Ls.warn(`Firestore (${to}): ${r}`,...n)}}function Bm(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Te(r="Unexpected state"){const e=`FIRESTORE (${to}) INTERNAL ASSERTION FAILED: `+r;throw Yi(e),new Error(e)}function qe(r,e){r||Te()}function be(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ne={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ge extends Wi{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V0{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class bI{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Kt.UNAUTHENTICATED))}shutdown(){}}class wI{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class RI{constructor(e){this.t=e,this.currentUser=Kt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){qe(this.o===void 0);let s=this.i;const o=p=>this.i!==s?(s=this.i,n(p)):Promise.resolve();let u=new Lr;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Lr,e.enqueueRetryable(()=>o(this.currentUser))};const f=()=>{const p=u;e.enqueueRetryable(async()=>{await p.promise,await o(this.currentUser)})},m=p=>{le("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit(p=>m(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(le("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Lr)}},0),f()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(s=>this.i!==e?(le("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(qe(typeof s.accessToken=="string"),new V0(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return qe(e===null||typeof e=="string"),new Kt(e)}}class CI{constructor(e,n,s){this.l=e,this.h=n,this.P=s,this.type="FirstParty",this.user=Kt.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class II{constructor(e,n,s){this.l=e,this.h=n,this.P=s}getToken(){return Promise.resolve(new CI(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Kt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Rv{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class DI{constructor(e,n){this.A=n,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,mn(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,n){qe(this.o===void 0);const s=u=>{u.error!=null&&le("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.R;return this.R=u.token,le("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>s(u))};const o=u=>{le("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(u=>o(u)),setTimeout(()=>{if(!this.appCheck){const u=this.A.getImmediate({optional:!0});u?o(u):le("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new Rv(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(qe(typeof n.token=="string"),this.R=n.token,new Rv(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NI(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<r;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k0(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P0{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=NI(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<n&&(s+=e.charAt(o[u]%62))}return s}}function Ie(r,e){return r<e?-1:r>e?1:0}function am(r,e){let n=0;for(;n<r.length&&n<e.length;){const s=r.codePointAt(n),o=e.codePointAt(n);if(s!==o){if(s<128&&o<128)return Ie(s,o);{const u=k0(),f=OI(u.encode(Cv(r,n)),u.encode(Cv(e,n)));return f!==0?f:Ie(s,o)}}n+=s>65535?2:1}return Ie(r.length,e.length)}function Cv(r,e){return r.codePointAt(e)>65535?r.substring(e,e+2):r.substring(e,e+1)}function OI(r,e){for(let n=0;n<r.length&&n<e.length;++n)if(r[n]!==e[n])return Ie(r[n],e[n]);return Ie(r.length,e.length)}function Ga(r,e,n){return r.length===e.length&&r.every((s,o)=>n(s,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iv=-62135596800,Dv=1e6;class wt{static now(){return wt.fromMillis(Date.now())}static fromDate(e){return wt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*Dv);return new wt(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ge(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ge(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<Iv)throw new ge(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ge(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Dv}_compareTo(e){return this.seconds===e.seconds?Ie(this.nanoseconds,e.nanoseconds):Ie(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-Iv;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Se{static fromTimestamp(e){return new Se(e)}static min(){return new Se(new wt(0,0))}static max(){return new Se(new wt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nv="__name__";class ri{constructor(e,n,s){n===void 0?n=0:n>e.length&&Te(),s===void 0?s=e.length-n:s>e.length-n&&Te(),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return ri.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof ri?e.forEach(s=>{n.push(s)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let o=0;o<s;o++){const u=ri.compareSegments(e.get(o),n.get(o));if(u!==0)return u}return Ie(e.length,n.length)}static compareSegments(e,n){const s=ri.isNumericId(e),o=ri.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?ri.extractNumericId(e).compare(ri.extractNumericId(n)):am(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Pr.fromString(e.substring(4,e.length-2))}}class ut extends ri{construct(e,n,s){return new ut(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new ge(ne.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter(o=>o.length>0))}return new ut(n)}static emptyPath(){return new ut([])}}const xI=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Bt extends ri{construct(e,n,s){return new Bt(e,n,s)}static isValidIdentifier(e){return xI.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Bt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Nv}static keyField(){return new Bt([Nv])}static fromServerFormat(e){const n=[];let s="",o=0;const u=()=>{if(s.length===0)throw new ge(ne.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let f=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new ge(ne.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new ge(ne.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=p,o+=2}else m==="`"?(f=!f,o++):m!=="."||f?(s+=m,o++):(u(),o++)}if(u(),f)throw new ge(ne.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Bt(n)}static emptyPath(){return new Bt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ye{constructor(e){this.path=e}static fromPath(e){return new ye(ut.fromString(e))}static fromName(e){return new ye(ut.fromString(e).popFirst(5))}static empty(){return new ye(ut.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ut.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return ut.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ye(new ut(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vl=-1;function MI(r,e){const n=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=Se.fromTimestamp(s===1e9?new wt(n+1,0):new wt(n,s));return new Ur(o,ye.empty(),e)}function VI(r){return new Ur(r.readTime,r.key,Vl)}class Ur{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new Ur(Se.min(),ye.empty(),Vl)}static max(){return new Ur(Se.max(),ye.empty(),Vl)}}function kI(r,e){let n=r.readTime.compareTo(e.readTime);return n!==0?n:(n=ye.comparator(r.documentKey,e.documentKey),n!==0?n:Ie(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PI="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class LI{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function no(r){if(r.code!==ne.FAILED_PRECONDITION||r.message!==PI)throw r;le("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Te(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new J((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,o)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof J?n:J.resolve(n)}catch(n){return J.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):J.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):J.reject(n)}static resolve(e){return new J((n,s)=>{n(e)})}static reject(e){return new J((n,s)=>{s(e)})}static waitFor(e){return new J((n,s)=>{let o=0,u=0,f=!1;e.forEach(m=>{++o,m.next(()=>{++u,f&&u===o&&n()},p=>s(p))}),f=!0,u===o&&n()})}static or(e){let n=J.resolve(!1);for(const s of e)n=n.next(o=>o?J.resolve(o):s());return n}static forEach(e,n){const s=[];return e.forEach((o,u)=>{s.push(n.call(this,o,u))}),this.waitFor(s)}static mapArray(e,n){return new J((s,o)=>{const u=e.length,f=new Array(u);let m=0;for(let p=0;p<u;p++){const y=p;n(e[y]).next(E=>{f[y]=E,++m,m===u&&s(f)},E=>o(E))}})}static doWhile(e,n){return new J((s,o)=>{const u=()=>{e()===!0?n().next(()=>{u()},o):s()};u()})}}function UI(r){const e=r.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function io(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.oe(s),this._e=s=>n.writeSequenceNumber(s))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}gh.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hm=-1;function yh(r){return r==null}function Zc(r){return r===0&&1/r==-1/0}function zI(r){return typeof r=="number"&&Number.isInteger(r)&&!Zc(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L0="";function jI(r){let e="";for(let n=0;n<r.length;n++)e.length>0&&(e=Ov(e)),e=BI(r.get(n),e);return Ov(e)}function BI(r,e){let n=e;const s=r.length;for(let o=0;o<s;o++){const u=r.charAt(o);switch(u){case"\0":n+="";break;case L0:n+="";break;default:n+=u}}return n}function Ov(r){return r+L0+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xv(r){let e=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e++;return e}function zs(r,e){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e(n,r[n])}function U0(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rt{constructor(e,n){this.comparator=e,this.root=n||jt.EMPTY}insert(e,n){return new rt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,jt.BLACK,null,null))}remove(e){return new rt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,jt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,s)=>(e(n,s),!1))}toString(){const e=[];return this.inorderTraversal((n,s)=>(e.push(`${n}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ic(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ic(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ic(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ic(this.root,e,this.comparator,!0)}}class Ic{constructor(e,n,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?s(e.key,n):1,n&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class jt{constructor(e,n,s,o,u){this.key=e,this.value=n,this.color=s??jt.RED,this.left=o??jt.EMPTY,this.right=u??jt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,o,u){return new jt(e??this.key,n??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let o=this;const u=s(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,n,s),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return jt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return jt.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,jt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,jt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Te();const e=this.left.check();if(e!==this.right.check())throw Te();return e+(this.isRed()?0:1)}}jt.EMPTY=null,jt.RED=!0,jt.BLACK=!1;jt.EMPTY=new class{constructor(){this.size=0}get key(){throw Te()}get value(){throw Te()}get color(){throw Te()}get left(){throw Te()}get right(){throw Te()}copy(e,n,s,o,u){return this}insert(e,n,s){return new jt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rt{constructor(e){this.comparator=e,this.data=new rt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,s)=>(e(n),!1))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Mv(this.data.getIterator())}getIteratorFrom(e){return new Mv(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(s=>{n=n.add(s)}),n}isEqual(e){if(!(e instanceof Rt)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Rt(this.comparator);return n.data=e,n}}class Mv{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zn{constructor(e){this.fields=e,e.sort(Bt.comparator)}static empty(){return new zn([])}unionWith(e){let n=new Rt(Bt.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new zn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Ga(this.fields,e.fields,(n,s)=>n.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z0 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ht{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new z0("Invalid base64 string: "+u):u}}(e);return new Ht(n)}static fromUint8Array(e){const n=function(o){let u="";for(let f=0;f<o.length;++f)u+=String.fromCharCode(o[f]);return u}(e);return new Ht(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ie(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ht.EMPTY_BYTE_STRING=new Ht("");const HI=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function zr(r){if(qe(!!r),typeof r=="string"){let e=0;const n=HI.exec(r);if(qe(!!n),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:dt(r.seconds),nanos:dt(r.nanos)}}function dt(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function jr(r){return typeof r=="string"?Ht.fromBase64String(r):Ht.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j0="server_timestamp",B0="__type__",H0="__previous_value__",q0="__local_write_time__";function qm(r){var e,n;return((n=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{})[B0])===null||n===void 0?void 0:n.stringValue)===j0}function _h(r){const e=r.mapValue.fields[H0];return qm(e)?_h(e):e}function kl(r){const e=zr(r.mapValue.fields[q0].timestampValue);return new wt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qI{constructor(e,n,s,o,u,f,m,p,y){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=y}}const Jc="(default)";class Pl{constructor(e,n){this.projectId=e,this.database=n||Jc}static empty(){return new Pl("","")}get isDefaultDatabase(){return this.database===Jc}isEqual(e){return e instanceof Pl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F0="__type__",FI="__max__",Dc={mapValue:{}},G0="__vector__",eh="value";function Br(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?qm(r)?4:QI(r)?9007199254740991:GI(r)?10:11:Te()}function ci(r,e){if(r===e)return!0;const n=Br(r);if(n!==Br(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return kl(r).isEqual(kl(e));case 3:return function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const f=zr(o.timestampValue),m=zr(u.timestampValue);return f.seconds===m.seconds&&f.nanos===m.nanos}(r,e);case 5:return r.stringValue===e.stringValue;case 6:return function(o,u){return jr(o.bytesValue).isEqual(jr(u.bytesValue))}(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return function(o,u){return dt(o.geoPointValue.latitude)===dt(u.geoPointValue.latitude)&&dt(o.geoPointValue.longitude)===dt(u.geoPointValue.longitude)}(r,e);case 2:return function(o,u){if("integerValue"in o&&"integerValue"in u)return dt(o.integerValue)===dt(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const f=dt(o.doubleValue),m=dt(u.doubleValue);return f===m?Zc(f)===Zc(m):isNaN(f)&&isNaN(m)}return!1}(r,e);case 9:return Ga(r.arrayValue.values||[],e.arrayValue.values||[],ci);case 10:case 11:return function(o,u){const f=o.mapValue.fields||{},m=u.mapValue.fields||{};if(xv(f)!==xv(m))return!1;for(const p in f)if(f.hasOwnProperty(p)&&(m[p]===void 0||!ci(f[p],m[p])))return!1;return!0}(r,e);default:return Te()}}function Ll(r,e){return(r.values||[]).find(n=>ci(n,e))!==void 0}function Qa(r,e){if(r===e)return 0;const n=Br(r),s=Br(e);if(n!==s)return Ie(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ie(r.booleanValue,e.booleanValue);case 2:return function(u,f){const m=dt(u.integerValue||u.doubleValue),p=dt(f.integerValue||f.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1}(r,e);case 3:return Vv(r.timestampValue,e.timestampValue);case 4:return Vv(kl(r),kl(e));case 5:return am(r.stringValue,e.stringValue);case 6:return function(u,f){const m=jr(u),p=jr(f);return m.compareTo(p)}(r.bytesValue,e.bytesValue);case 7:return function(u,f){const m=u.split("/"),p=f.split("/");for(let y=0;y<m.length&&y<p.length;y++){const E=Ie(m[y],p[y]);if(E!==0)return E}return Ie(m.length,p.length)}(r.referenceValue,e.referenceValue);case 8:return function(u,f){const m=Ie(dt(u.latitude),dt(f.latitude));return m!==0?m:Ie(dt(u.longitude),dt(f.longitude))}(r.geoPointValue,e.geoPointValue);case 9:return kv(r.arrayValue,e.arrayValue);case 10:return function(u,f){var m,p,y,E;const S=u.fields||{},C=f.fields||{},L=(m=S[eh])===null||m===void 0?void 0:m.arrayValue,z=(p=C[eh])===null||p===void 0?void 0:p.arrayValue,W=Ie(((y=L==null?void 0:L.values)===null||y===void 0?void 0:y.length)||0,((E=z==null?void 0:z.values)===null||E===void 0?void 0:E.length)||0);return W!==0?W:kv(L,z)}(r.mapValue,e.mapValue);case 11:return function(u,f){if(u===Dc.mapValue&&f===Dc.mapValue)return 0;if(u===Dc.mapValue)return 1;if(f===Dc.mapValue)return-1;const m=u.fields||{},p=Object.keys(m),y=f.fields||{},E=Object.keys(y);p.sort(),E.sort();for(let S=0;S<p.length&&S<E.length;++S){const C=am(p[S],E[S]);if(C!==0)return C;const L=Qa(m[p[S]],y[E[S]]);if(L!==0)return L}return Ie(p.length,E.length)}(r.mapValue,e.mapValue);default:throw Te()}}function Vv(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Ie(r,e);const n=zr(r),s=zr(e),o=Ie(n.seconds,s.seconds);return o!==0?o:Ie(n.nanos,s.nanos)}function kv(r,e){const n=r.values||[],s=e.values||[];for(let o=0;o<n.length&&o<s.length;++o){const u=Qa(n[o],s[o]);if(u)return u}return Ie(n.length,s.length)}function Ka(r){return om(r)}function om(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(n){const s=zr(n);return`time(${s.seconds},${s.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?function(n){return jr(n).toBase64()}(r.bytesValue):"referenceValue"in r?function(n){return ye.fromName(n).toString()}(r.referenceValue):"geoPointValue"in r?function(n){return`geo(${n.latitude},${n.longitude})`}(r.geoPointValue):"arrayValue"in r?function(n){let s="[",o=!0;for(const u of n.values||[])o?o=!1:s+=",",s+=om(u);return s+"]"}(r.arrayValue):"mapValue"in r?function(n){const s=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const f of s)u?u=!1:o+=",",o+=`${f}:${om(n.fields[f])}`;return o+"}"}(r.mapValue):Te()}function zc(r){switch(Br(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=_h(r);return e?16+zc(e):16;case 5:return 2*r.stringValue.length;case 6:return jr(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((o,u)=>o+zc(u),0)}(r.arrayValue);case 10:case 11:return function(s){let o=0;return zs(s.fields,(u,f)=>{o+=u.length+zc(f)}),o}(r.mapValue);default:throw Te()}}function lm(r){return!!r&&"integerValue"in r}function Fm(r){return!!r&&"arrayValue"in r}function Pv(r){return!!r&&"nullValue"in r}function Lv(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function jc(r){return!!r&&"mapValue"in r}function GI(r){var e,n;return((n=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{})[F0])===null||n===void 0?void 0:n.stringValue)===G0}function wl(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const e={mapValue:{fields:{}}};return zs(r.mapValue.fields,(n,s)=>e.mapValue.fields[n]=wl(s)),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=wl(r.arrayValue.values[n]);return e}return Object.assign({},r)}function QI(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===FI}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class In{constructor(e){this.value=e}static empty(){return new In({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!jc(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=wl(n)}setAll(e){let n=Bt.emptyPath(),s={},o=[];e.forEach((f,m)=>{if(!n.isImmediateParentOf(m)){const p=this.getFieldsMap(n);this.applyChanges(p,s,o),s={},o=[],n=m.popLast()}f?s[m.lastSegment()]=wl(f):o.push(m.lastSegment())});const u=this.getFieldsMap(n);this.applyChanges(u,s,o)}delete(e){const n=this.field(e.popLast());jc(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return ci(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=n.mapValue.fields[e.get(s)];jc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,s){zs(n,(o,u)=>e[o]=u);for(const o of s)delete e[o]}clone(){return new In(wl(this.value))}}function Q0(r){const e=[];return zs(r.fields,(n,s)=>{const o=new Bt([n]);if(jc(s)){const u=Q0(s.mapValue).fields;if(u.length===0)e.push(o);else for(const f of u)e.push(o.child(f))}else e.push(o)}),new zn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yt{constructor(e,n,s,o,u,f,m){this.key=e,this.documentType=n,this.version=s,this.readTime=o,this.createTime=u,this.data=f,this.documentState=m}static newInvalidDocument(e){return new Yt(e,0,Se.min(),Se.min(),Se.min(),In.empty(),0)}static newFoundDocument(e,n,s,o){return new Yt(e,1,n,Se.min(),s,o,0)}static newNoDocument(e,n){return new Yt(e,2,n,Se.min(),Se.min(),In.empty(),0)}static newUnknownDocument(e,n){return new Yt(e,3,n,Se.min(),Se.min(),In.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Se.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=In.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=In.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Se.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Yt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Yt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class th{constructor(e,n){this.position=e,this.inclusive=n}}function Uv(r,e,n){let s=0;for(let o=0;o<r.position.length;o++){const u=e[o],f=r.position[o];if(u.field.isKeyField()?s=ye.comparator(ye.fromName(f.referenceValue),n.key):s=Qa(f,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function zv(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!ci(r.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nh{constructor(e,n="asc"){this.field=e,this.dir=n}}function KI(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K0{}class bt extends K0{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new XI(e,n,s):n==="array-contains"?new ZI(e,s):n==="in"?new JI(e,s):n==="not-in"?new e2(e,s):n==="array-contains-any"?new t2(e,s):new bt(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new $I(e,s):new WI(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Qa(n,this.value)):n!==null&&Br(this.value)===Br(n)&&this.matchesComparison(Qa(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Te()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class hi extends K0{constructor(e,n){super(),this.filters=e,this.op=n,this.ce=null}static create(e,n){return new hi(e,n)}matches(e){return Y0(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function Y0(r){return r.op==="and"}function X0(r){return YI(r)&&Y0(r)}function YI(r){for(const e of r.filters)if(e instanceof hi)return!1;return!0}function um(r){if(r instanceof bt)return r.field.canonicalString()+r.op.toString()+Ka(r.value);if(X0(r))return r.filters.map(e=>um(e)).join(",");{const e=r.filters.map(n=>um(n)).join(",");return`${r.op}(${e})`}}function $0(r,e){return r instanceof bt?function(s,o){return o instanceof bt&&s.op===o.op&&s.field.isEqual(o.field)&&ci(s.value,o.value)}(r,e):r instanceof hi?function(s,o){return o instanceof hi&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce((u,f,m)=>u&&$0(f,o.filters[m]),!0):!1}(r,e):void Te()}function W0(r){return r instanceof bt?function(n){return`${n.field.canonicalString()} ${n.op} ${Ka(n.value)}`}(r):r instanceof hi?function(n){return n.op.toString()+" {"+n.getFilters().map(W0).join(" ,")+"}"}(r):"Filter"}class XI extends bt{constructor(e,n,s){super(e,n,s),this.key=ye.fromName(s.referenceValue)}matches(e){const n=ye.comparator(e.key,this.key);return this.matchesComparison(n)}}class $I extends bt{constructor(e,n){super(e,"in",n),this.keys=Z0("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class WI extends bt{constructor(e,n){super(e,"not-in",n),this.keys=Z0("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function Z0(r,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(s=>ye.fromName(s.referenceValue))}class ZI extends bt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Fm(n)&&Ll(n.arrayValue,this.value)}}class JI extends bt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Ll(this.value.arrayValue,n)}}class e2 extends bt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Ll(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Ll(this.value.arrayValue,n)}}class t2 extends bt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Fm(n)||!n.arrayValue.values)&&n.arrayValue.values.some(s=>Ll(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n2{constructor(e,n=null,s=[],o=[],u=null,f=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=f,this.endAt=m,this.le=null}}function jv(r,e=null,n=[],s=[],o=null,u=null,f=null){return new n2(r,e,n,s,o,u,f)}function Gm(r){const e=be(r);if(e.le===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(s=>um(s)).join(","),n+="|ob:",n+=e.orderBy.map(s=>function(u){return u.field.canonicalString()+u.dir}(s)).join(","),yh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(s=>Ka(s)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(s=>Ka(s)).join(",")),e.le=n}return e.le}function Qm(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!KI(r.orderBy[n],e.orderBy[n]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!$0(r.filters[n],e.filters[n]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!zv(r.startAt,e.startAt)&&zv(r.endAt,e.endAt)}function cm(r){return ye.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vh{constructor(e,n=null,s=[],o=[],u=null,f="F",m=null,p=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=f,this.startAt=m,this.endAt=p,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function i2(r,e,n,s,o,u,f,m){return new vh(r,e,n,s,o,u,f,m)}function Km(r){return new vh(r)}function Bv(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function r2(r){return r.collectionGroup!==null}function Rl(r){const e=be(r);if(e.he===null){e.he=[];const n=new Set;for(const u of e.explicitOrderBy)e.he.push(u),n.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let m=new Rt(Bt.comparator);return f.filters.forEach(p=>{p.getFlattenedFilters().forEach(y=>{y.isInequality()&&(m=m.add(y.field))})}),m})(e).forEach(u=>{n.has(u.canonicalString())||u.isKeyField()||e.he.push(new nh(u,s))}),n.has(Bt.keyField().canonicalString())||e.he.push(new nh(Bt.keyField(),s))}return e.he}function oi(r){const e=be(r);return e.Pe||(e.Pe=s2(e,Rl(r))),e.Pe}function s2(r,e){if(r.limitType==="F")return jv(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map(o=>{const u=o.dir==="desc"?"asc":"desc";return new nh(o.field,u)});const n=r.endAt?new th(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new th(r.startAt.position,r.startAt.inclusive):null;return jv(r.path,r.collectionGroup,e,r.filters,r.limit,n,s)}}function hm(r,e,n){return new vh(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,n,r.startAt,r.endAt)}function Eh(r,e){return Qm(oi(r),oi(e))&&r.limitType===e.limitType}function J0(r){return`${Gm(oi(r))}|lt:${r.limitType}`}function Pa(r){return`Query(target=${function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map(o=>W0(o)).join(", ")}]`),yh(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map(o=>function(f){return`${f.field.canonicalString()} (${f.dir})`}(o)).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map(o=>Ka(o)).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map(o=>Ka(o)).join(",")),`Target(${s})`}(oi(r))}; limitType=${r.limitType})`}function Th(r,e){return e.isFoundDocument()&&function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):ye.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)}(r,e)&&function(s,o){for(const u of Rl(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0}(r,e)&&function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0}(r,e)&&function(s,o){return!(s.startAt&&!function(f,m,p){const y=Uv(f,m,p);return f.inclusive?y<=0:y<0}(s.startAt,Rl(s),o)||s.endAt&&!function(f,m,p){const y=Uv(f,m,p);return f.inclusive?y>=0:y>0}(s.endAt,Rl(s),o))}(r,e)}function a2(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function eT(r){return(e,n)=>{let s=!1;for(const o of Rl(r)){const u=o2(o,e,n);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function o2(r,e,n){const s=r.field.isKeyField()?ye.comparator(e.key,n.key):function(u,f,m){const p=f.data.field(u),y=m.data.field(u);return p!==null&&y!==null?Qa(p,y):Te()}(r.field,e,n);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return Te()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class js{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){zs(this.inner,(n,s)=>{for(const[o,u]of s)e(o,u)})}isEmpty(){return U0(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l2=new rt(ye.comparator);function Xi(){return l2}const tT=new rt(ye.comparator);function Al(...r){let e=tT;for(const n of r)e=e.insert(n.key,n);return e}function nT(r){let e=tT;return r.forEach((n,s)=>e=e.insert(n,s.overlayedDocument)),e}function xs(){return Cl()}function iT(){return Cl()}function Cl(){return new js(r=>r.toString(),(r,e)=>r.isEqual(e))}const u2=new rt(ye.comparator),c2=new Rt(ye.comparator);function Ve(...r){let e=c2;for(const n of r)e=e.add(n);return e}const h2=new Rt(Ie);function f2(){return h2}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ym(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Zc(e)?"-0":e}}function rT(r){return{integerValue:""+r}}function d2(r,e){return zI(e)?rT(e):Ym(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ah{constructor(){this._=void 0}}function m2(r,e,n){return r instanceof ih?function(o,u){const f={fields:{[B0]:{stringValue:j0},[q0]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&qm(u)&&(u=_h(u)),u&&(f.fields[H0]=u),{mapValue:f}}(n,e):r instanceof Ul?aT(r,e):r instanceof zl?oT(r,e):function(o,u){const f=sT(o,u),m=Hv(f)+Hv(o.Ie);return lm(f)&&lm(o.Ie)?rT(m):Ym(o.serializer,m)}(r,e)}function p2(r,e,n){return r instanceof Ul?aT(r,e):r instanceof zl?oT(r,e):n}function sT(r,e){return r instanceof rh?function(s){return lm(s)||function(u){return!!u&&"doubleValue"in u}(s)}(e)?e:{integerValue:0}:null}class ih extends Ah{}class Ul extends Ah{constructor(e){super(),this.elements=e}}function aT(r,e){const n=lT(e);for(const s of r.elements)n.some(o=>ci(o,s))||n.push(s);return{arrayValue:{values:n}}}class zl extends Ah{constructor(e){super(),this.elements=e}}function oT(r,e){let n=lT(e);for(const s of r.elements)n=n.filter(o=>!ci(o,s));return{arrayValue:{values:n}}}class rh extends Ah{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function Hv(r){return dt(r.integerValue||r.doubleValue)}function lT(r){return Fm(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function g2(r,e){return r.field.isEqual(e.field)&&function(s,o){return s instanceof Ul&&o instanceof Ul||s instanceof zl&&o instanceof zl?Ga(s.elements,o.elements,ci):s instanceof rh&&o instanceof rh?ci(s.Ie,o.Ie):s instanceof ih&&o instanceof ih}(r.transform,e.transform)}class y2{constructor(e,n){this.version=e,this.transformResults=n}}class Fi{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Fi}static exists(e){return new Fi(void 0,e)}static updateTime(e){return new Fi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Bc(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class Sh{}function uT(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new hT(r.key,Fi.none()):new Wl(r.key,r.data,Fi.none());{const n=r.data,s=In.empty();let o=new Rt(Bt.comparator);for(let u of e.fields)if(!o.has(u)){let f=n.field(u);f===null&&u.length>1&&(u=u.popLast(),f=n.field(u)),f===null?s.delete(u):s.set(u,f),o=o.add(u)}return new Bs(r.key,s,new zn(o.toArray()),Fi.none())}}function _2(r,e,n){r instanceof Wl?function(o,u,f){const m=o.value.clone(),p=Fv(o.fieldTransforms,u,f.transformResults);m.setAll(p),u.convertToFoundDocument(f.version,m).setHasCommittedMutations()}(r,e,n):r instanceof Bs?function(o,u,f){if(!Bc(o.precondition,u))return void u.convertToUnknownDocument(f.version);const m=Fv(o.fieldTransforms,u,f.transformResults),p=u.data;p.setAll(cT(o)),p.setAll(m),u.convertToFoundDocument(f.version,p).setHasCommittedMutations()}(r,e,n):function(o,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()}(0,e,n)}function Il(r,e,n,s){return r instanceof Wl?function(u,f,m,p){if(!Bc(u.precondition,f))return m;const y=u.value.clone(),E=Gv(u.fieldTransforms,p,f);return y.setAll(E),f.convertToFoundDocument(f.version,y).setHasLocalMutations(),null}(r,e,n,s):r instanceof Bs?function(u,f,m,p){if(!Bc(u.precondition,f))return m;const y=Gv(u.fieldTransforms,p,f),E=f.data;return E.setAll(cT(u)),E.setAll(y),f.convertToFoundDocument(f.version,E).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(S=>S.field))}(r,e,n,s):function(u,f,m){return Bc(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):m}(r,e,n)}function v2(r,e){let n=null;for(const s of r.fieldTransforms){const o=e.data.field(s.field),u=sT(s.transform,o||null);u!=null&&(n===null&&(n=In.empty()),n.set(s.field,u))}return n||null}function qv(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&Ga(s,o,(u,f)=>g2(u,f))}(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class Wl extends Sh{constructor(e,n,s,o=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Bs extends Sh{constructor(e,n,s,o,u=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function cT(r){const e=new Map;return r.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const s=r.data.field(n);e.set(n,s)}}),e}function Fv(r,e,n){const s=new Map;qe(r.length===n.length);for(let o=0;o<n.length;o++){const u=r[o],f=u.transform,m=e.data.field(u.field);s.set(u.field,p2(f,m,n[o]))}return s}function Gv(r,e,n){const s=new Map;for(const o of r){const u=o.transform,f=n.data.field(o.field);s.set(o.field,m2(u,f,e))}return s}class hT extends Sh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class E2 extends Sh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T2{constructor(e,n,s,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&_2(u,e,s[o])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=Il(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=Il(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=iT();return this.mutations.forEach(o=>{const u=e.get(o.key),f=u.overlayedDocument;let m=this.applyToLocalView(f,u.mutatedFields);m=n.has(o.key)?null:m;const p=uT(f,m);p!==null&&s.set(o.key,p),f.isValidDocument()||f.convertToNoDocument(Se.min())}),s}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Ve())}isEqual(e){return this.batchId===e.batchId&&Ga(this.mutations,e.mutations,(n,s)=>qv(n,s))&&Ga(this.baseMutations,e.baseMutations,(n,s)=>qv(n,s))}}class Xm{constructor(e,n,s,o){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(e,n,s){qe(e.mutations.length===s.length);let o=function(){return u2}();const u=e.mutations;for(let f=0;f<u.length;f++)o=o.insert(u[f].key,s[f].version);return new Xm(e,n,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A2{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S2{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _t,Ue;function b2(r){switch(r){case ne.OK:return Te();case ne.CANCELLED:case ne.UNKNOWN:case ne.DEADLINE_EXCEEDED:case ne.RESOURCE_EXHAUSTED:case ne.INTERNAL:case ne.UNAVAILABLE:case ne.UNAUTHENTICATED:return!1;case ne.INVALID_ARGUMENT:case ne.NOT_FOUND:case ne.ALREADY_EXISTS:case ne.PERMISSION_DENIED:case ne.FAILED_PRECONDITION:case ne.ABORTED:case ne.OUT_OF_RANGE:case ne.UNIMPLEMENTED:case ne.DATA_LOSS:return!0;default:return Te()}}function fT(r){if(r===void 0)return Yi("GRPC error has no .code"),ne.UNKNOWN;switch(r){case _t.OK:return ne.OK;case _t.CANCELLED:return ne.CANCELLED;case _t.UNKNOWN:return ne.UNKNOWN;case _t.DEADLINE_EXCEEDED:return ne.DEADLINE_EXCEEDED;case _t.RESOURCE_EXHAUSTED:return ne.RESOURCE_EXHAUSTED;case _t.INTERNAL:return ne.INTERNAL;case _t.UNAVAILABLE:return ne.UNAVAILABLE;case _t.UNAUTHENTICATED:return ne.UNAUTHENTICATED;case _t.INVALID_ARGUMENT:return ne.INVALID_ARGUMENT;case _t.NOT_FOUND:return ne.NOT_FOUND;case _t.ALREADY_EXISTS:return ne.ALREADY_EXISTS;case _t.PERMISSION_DENIED:return ne.PERMISSION_DENIED;case _t.FAILED_PRECONDITION:return ne.FAILED_PRECONDITION;case _t.ABORTED:return ne.ABORTED;case _t.OUT_OF_RANGE:return ne.OUT_OF_RANGE;case _t.UNIMPLEMENTED:return ne.UNIMPLEMENTED;case _t.DATA_LOSS:return ne.DATA_LOSS;default:return Te()}}(Ue=_t||(_t={}))[Ue.OK=0]="OK",Ue[Ue.CANCELLED=1]="CANCELLED",Ue[Ue.UNKNOWN=2]="UNKNOWN",Ue[Ue.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ue[Ue.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ue[Ue.NOT_FOUND=5]="NOT_FOUND",Ue[Ue.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ue[Ue.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ue[Ue.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ue[Ue.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ue[Ue.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ue[Ue.ABORTED=10]="ABORTED",Ue[Ue.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ue[Ue.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ue[Ue.INTERNAL=13]="INTERNAL",Ue[Ue.UNAVAILABLE=14]="UNAVAILABLE",Ue[Ue.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w2=new Pr([4294967295,4294967295],0);function Qv(r){const e=k0().encode(r),n=new I0;return n.update(e),new Uint8Array(n.digest())}function Kv(r){const e=new DataView(r.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new Pr([n,s],0),new Pr([o,u],0)]}class $m{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new Sl(`Invalid padding: ${n}`);if(s<0)throw new Sl(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Sl(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new Sl(`Invalid padding when bitmap length is 0: ${n}`);this.Ee=8*e.length-n,this.de=Pr.fromNumber(this.Ee)}Ae(e,n,s){let o=e.add(n.multiply(Pr.fromNumber(s)));return o.compare(w2)===1&&(o=new Pr([o.getBits(0),o.getBits(1)],0)),o.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const n=Qv(e),[s,o]=Kv(n);for(let u=0;u<this.hashCount;u++){const f=this.Ae(s,o,u);if(!this.Re(f))return!1}return!0}static create(e,n,s){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),f=new $m(u,o,n);return s.forEach(m=>f.insert(m)),f}insert(e){if(this.Ee===0)return;const n=Qv(e),[s,o]=Kv(n);for(let u=0;u<this.hashCount;u++){const f=this.Ae(s,o,u);this.Ve(f)}}Ve(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class Sl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bh{constructor(e,n,s,o,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const o=new Map;return o.set(e,Zl.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new bh(Se.min(),o,new rt(Ie),Xi(),Ve())}}class Zl{constructor(e,n,s,o,u){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new Zl(s,n,Ve(),Ve(),Ve())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hc{constructor(e,n,s,o){this.me=e,this.removedTargetIds=n,this.key=s,this.fe=o}}class dT{constructor(e,n){this.targetId=e,this.ge=n}}class mT{constructor(e,n,s=Ht.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=o}}class Yv{constructor(){this.pe=0,this.ye=Xv(),this.we=Ht.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(e){e.approximateByteSize()>0&&(this.be=!0,this.we=e)}Fe(){let e=Ve(),n=Ve(),s=Ve();return this.ye.forEach((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:Te()}}),new Zl(this.we,this.Se,e,n,s)}Me(){this.be=!1,this.ye=Xv()}xe(e,n){this.be=!0,this.ye=this.ye.insert(e,n)}Oe(e){this.be=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,qe(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class R2{constructor(e){this.ke=e,this.qe=new Map,this.Qe=Xi(),this.$e=Nc(),this.Ue=Nc(),this.Ke=new rt(Ie)}We(e){for(const n of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(n,e.fe):this.ze(n,e.key,e.fe);for(const n of e.removedTargetIds)this.ze(n,e.key,e.fe)}je(e){this.forEachTarget(e,n=>{const s=this.He(n);switch(e.state){case 0:this.Je(n)&&s.Ce(e.resumeToken);break;case 1:s.Be(),s.De||s.Me(),s.Ce(e.resumeToken);break;case 2:s.Be(),s.De||this.removeTarget(n);break;case 3:this.Je(n)&&(s.Le(),s.Ce(e.resumeToken));break;case 4:this.Je(n)&&(this.Ye(n),s.Ce(e.resumeToken));break;default:Te()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.qe.forEach((s,o)=>{this.Je(o)&&n(o)})}Ze(e){const n=e.targetId,s=e.ge.count,o=this.Xe(n);if(o){const u=o.target;if(cm(u))if(s===0){const f=new ye(u.path);this.ze(n,f,Yt.newNoDocument(f,Se.min()))}else qe(s===1);else{const f=this.et(n);if(f!==s){const m=this.tt(e),p=m?this.nt(m,e,f):1;if(p!==0){this.Ye(n);const y=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,y)}}}}}tt(e){const n=e.ge.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=n;let f,m;try{f=jr(s).toUint8Array()}catch(p){if(p instanceof z0)return Fa("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new $m(f,o,u)}catch(p){return Fa(p instanceof Sl?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.Ee===0?null:m}nt(e,n,s){return n.ge.count===s-this.st(e,n.targetId)?0:2}st(e,n){const s=this.ke.getRemoteKeysForTarget(n);let o=0;return s.forEach(u=>{const f=this.ke.it(),m=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;e.mightContain(m)||(this.ze(n,u,null),o++)}),o}ot(e){const n=new Map;this.qe.forEach((u,f)=>{const m=this.Xe(f);if(m){if(u.current&&cm(m.target)){const p=new ye(m.target.path);this._t(p).has(f)||this.ut(f,p)||this.ze(f,p,Yt.newNoDocument(p,e))}u.ve&&(n.set(f,u.Fe()),u.Me())}});let s=Ve();this.Ue.forEach((u,f)=>{let m=!0;f.forEachWhile(p=>{const y=this.Xe(p);return!y||y.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)}),m&&(s=s.add(u))}),this.Qe.forEach((u,f)=>f.setReadTime(e));const o=new bh(e,n,this.Ke,this.Qe,s);return this.Qe=Xi(),this.$e=Nc(),this.Ue=Nc(),this.Ke=new rt(Ie),o}Ge(e,n){if(!this.Je(e))return;const s=this.ut(e,n.key)?2:0;this.He(e).xe(n.key,s),this.Qe=this.Qe.insert(n.key,n),this.$e=this.$e.insert(n.key,this._t(n.key).add(e)),this.Ue=this.Ue.insert(n.key,this.ct(n.key).add(e))}ze(e,n,s){if(!this.Je(e))return;const o=this.He(e);this.ut(e,n)?o.xe(n,1):o.Oe(n),this.Ue=this.Ue.insert(n,this.ct(n).delete(e)),this.Ue=this.Ue.insert(n,this.ct(n).add(e)),s&&(this.Qe=this.Qe.insert(n,s))}removeTarget(e){this.qe.delete(e)}et(e){const n=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let n=this.qe.get(e);return n||(n=new Yv,this.qe.set(e,n)),n}ct(e){let n=this.Ue.get(e);return n||(n=new Rt(Ie),this.Ue=this.Ue.insert(e,n)),n}_t(e){let n=this.$e.get(e);return n||(n=new Rt(Ie),this.$e=this.$e.insert(e,n)),n}Je(e){const n=this.Xe(e)!==null;return n||le("WatchChangeAggregator","Detected inactive target",e),n}Xe(e){const n=this.qe.get(e);return n&&n.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new Yv),this.ke.getRemoteKeysForTarget(e).forEach(n=>{this.ze(e,n,null)})}ut(e,n){return this.ke.getRemoteKeysForTarget(e).has(n)}}function Nc(){return new rt(ye.comparator)}function Xv(){return new rt(ye.comparator)}const C2={asc:"ASCENDING",desc:"DESCENDING"},I2={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},D2={and:"AND",or:"OR"};class N2{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function fm(r,e){return r.useProto3Json||yh(e)?e:{value:e}}function sh(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function pT(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function O2(r,e){return sh(r,e.toTimestamp())}function li(r){return qe(!!r),Se.fromTimestamp(function(n){const s=zr(n);return new wt(s.seconds,s.nanos)}(r))}function Wm(r,e){return dm(r,e).canonicalString()}function dm(r,e){const n=function(o){return new ut(["projects",o.projectId,"databases",o.database])}(r).child("documents");return e===void 0?n:n.child(e)}function gT(r){const e=ut.fromString(r);return qe(TT(e)),e}function mm(r,e){return Wm(r.databaseId,e.path)}function Fd(r,e){const n=gT(e);if(n.get(1)!==r.databaseId.projectId)throw new ge(ne.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new ge(ne.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new ye(_T(n))}function yT(r,e){return Wm(r.databaseId,e)}function x2(r){const e=gT(r);return e.length===4?ut.emptyPath():_T(e)}function pm(r){return new ut(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function _T(r){return qe(r.length>4&&r.get(4)==="documents"),r.popFirst(5)}function $v(r,e,n){return{name:mm(r,e),fields:n.value.mapValue.fields}}function M2(r,e){let n;if("targetChange"in e){e.targetChange;const s=function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:Te()}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=function(y,E){return y.useProto3Json?(qe(E===void 0||typeof E=="string"),Ht.fromBase64String(E||"")):(qe(E===void 0||E instanceof Buffer||E instanceof Uint8Array),Ht.fromUint8Array(E||new Uint8Array))}(r,e.targetChange.resumeToken),f=e.targetChange.cause,m=f&&function(y){const E=y.code===void 0?ne.UNKNOWN:fT(y.code);return new ge(E,y.message||"")}(f);n=new mT(s,o,u,m||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=Fd(r,s.document.name),u=li(s.document.updateTime),f=s.document.createTime?li(s.document.createTime):Se.min(),m=new In({mapValue:{fields:s.document.fields}}),p=Yt.newFoundDocument(o,u,f,m),y=s.targetIds||[],E=s.removedTargetIds||[];n=new Hc(y,E,p.key,p)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=Fd(r,s.document),u=s.readTime?li(s.readTime):Se.min(),f=Yt.newNoDocument(o,u),m=s.removedTargetIds||[];n=new Hc([],m,f.key,f)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=Fd(r,s.document),u=s.removedTargetIds||[];n=new Hc([],u,o,null)}else{if(!("filter"in e))return Te();{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,f=new S2(o,u),m=s.targetId;n=new dT(m,f)}}return n}function V2(r,e){let n;if(e instanceof Wl)n={update:$v(r,e.key,e.value)};else if(e instanceof hT)n={delete:mm(r,e.key)};else if(e instanceof Bs)n={update:$v(r,e.key,e.data),updateMask:q2(e.fieldMask)};else{if(!(e instanceof E2))return Te();n={verify:mm(r,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(s=>function(u,f){const m=f.transform;if(m instanceof ih)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof Ul)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof zl)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof rh)return{fieldPath:f.field.canonicalString(),increment:m.Ie};throw Te()}(0,s))),e.precondition.isNone||(n.currentDocument=function(o,u){return u.updateTime!==void 0?{updateTime:O2(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Te()}(r,e.precondition)),n}function k2(r,e){return r&&r.length>0?(qe(e!==void 0),r.map(n=>function(o,u){let f=o.updateTime?li(o.updateTime):li(u);return f.isEqual(Se.min())&&(f=li(u)),new y2(f,o.transformResults||[])}(n,e))):[]}function P2(r,e){return{documents:[yT(r,e.path)]}}function L2(r,e){const n={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=yT(r,o);const u=function(y){if(y.length!==0)return ET(hi.create(y,"and"))}(e.filters);u&&(n.structuredQuery.where=u);const f=function(y){if(y.length!==0)return y.map(E=>function(C){return{field:La(C.field),direction:j2(C.dir)}}(E))}(e.orderBy);f&&(n.structuredQuery.orderBy=f);const m=fm(r,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=function(y){return{before:y.inclusive,values:y.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(y){return{before:!y.inclusive,values:y.position}}(e.endAt)),{ht:n,parent:o}}function U2(r){let e=x2(r.parent);const n=r.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){qe(s===1);const E=n.from[0];E.allDescendants?o=E.collectionId:e=e.child(E.collectionId)}let u=[];n.where&&(u=function(S){const C=vT(S);return C instanceof hi&&X0(C)?C.getFilters():[C]}(n.where));let f=[];n.orderBy&&(f=function(S){return S.map(C=>function(z){return new nh(Ua(z.field),function(F){switch(F){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(z.direction))}(C))}(n.orderBy));let m=null;n.limit&&(m=function(S){let C;return C=typeof S=="object"?S.value:S,yh(C)?null:C}(n.limit));let p=null;n.startAt&&(p=function(S){const C=!!S.before,L=S.values||[];return new th(L,C)}(n.startAt));let y=null;return n.endAt&&(y=function(S){const C=!S.before,L=S.values||[];return new th(L,C)}(n.endAt)),i2(e,o,f,u,m,"F",p,y)}function z2(r,e){const n=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Te()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function vT(r){return r.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=Ua(n.unaryFilter.field);return bt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=Ua(n.unaryFilter.field);return bt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=Ua(n.unaryFilter.field);return bt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=Ua(n.unaryFilter.field);return bt.create(f,"!=",{nullValue:"NULL_VALUE"});default:return Te()}}(r):r.fieldFilter!==void 0?function(n){return bt.create(Ua(n.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Te()}}(n.fieldFilter.op),n.fieldFilter.value)}(r):r.compositeFilter!==void 0?function(n){return hi.create(n.compositeFilter.filters.map(s=>vT(s)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Te()}}(n.compositeFilter.op))}(r):Te()}function j2(r){return C2[r]}function B2(r){return I2[r]}function H2(r){return D2[r]}function La(r){return{fieldPath:r.canonicalString()}}function Ua(r){return Bt.fromServerFormat(r.fieldPath)}function ET(r){return r instanceof bt?function(n){if(n.op==="=="){if(Lv(n.value))return{unaryFilter:{field:La(n.field),op:"IS_NAN"}};if(Pv(n.value))return{unaryFilter:{field:La(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Lv(n.value))return{unaryFilter:{field:La(n.field),op:"IS_NOT_NAN"}};if(Pv(n.value))return{unaryFilter:{field:La(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:La(n.field),op:B2(n.op),value:n.value}}}(r):r instanceof hi?function(n){const s=n.getFilters().map(o=>ET(o));return s.length===1?s[0]:{compositeFilter:{op:H2(n.op),filters:s}}}(r):Te()}function q2(r){const e=[];return r.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function TT(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xr{constructor(e,n,s,o,u=Se.min(),f=Se.min(),m=Ht.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(e){return new xr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new xr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new xr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new xr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F2{constructor(e){this.Tt=e}}function G2(r){const e=U2({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?hm(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q2{constructor(){this.Tn=new K2}addToCollectionParentIndex(e,n){return this.Tn.add(n),J.resolve()}getCollectionParents(e,n){return J.resolve(this.Tn.getEntries(n))}addFieldIndex(e,n){return J.resolve()}deleteFieldIndex(e,n){return J.resolve()}deleteAllFieldIndexes(e){return J.resolve()}createTargetIndexes(e,n){return J.resolve()}getDocumentsMatchingTarget(e,n){return J.resolve(null)}getIndexType(e,n){return J.resolve(0)}getFieldIndexes(e,n){return J.resolve([])}getNextCollectionGroupToUpdate(e){return J.resolve(null)}getMinOffset(e,n){return J.resolve(Ur.min())}getMinOffsetFromCollectionGroup(e,n){return J.resolve(Ur.min())}updateCollectionGroup(e,n,s){return J.resolve()}updateIndexEntries(e,n){return J.resolve()}}class K2{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n]||new Rt(ut.comparator),u=!o.has(s);return this.index[n]=o.add(s),u}has(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(e){return(this.index[e]||new Rt(ut.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},AT=41943040;class rn{static withCacheSize(e){return new rn(e,rn.DEFAULT_COLLECTION_PERCENTILE,rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */rn.DEFAULT_COLLECTION_PERCENTILE=10,rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,rn.DEFAULT=new rn(AT,rn.DEFAULT_COLLECTION_PERCENTILE,rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),rn.DISABLED=new rn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ya{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Un(){return new Ya(0)}static Kn(){return new Ya(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zv="LruGarbageCollector",Y2=1048576;function Jv([r,e],[n,s]){const o=Ie(r,n);return o===0?Ie(e,s):o}class X2{constructor(e){this.Hn=e,this.buffer=new Rt(Jv),this.Jn=0}Yn(){return++this.Jn}Zn(e){const n=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();Jv(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class $2{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){le(Zv,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){io(n)?le(Zv,"Ignoring IndexedDB error during garbage collection: ",n):await no(n)}await this.er(3e5)})}}class W2{constructor(e,n){this.tr=e,this.params=n}calculateTargetCount(e,n){return this.tr.nr(e).next(s=>Math.floor(n/100*s))}nthSequenceNumber(e,n){if(n===0)return J.resolve(gh.ae);const s=new X2(n);return this.tr.forEachTarget(e,o=>s.Zn(o.sequenceNumber)).next(()=>this.tr.rr(e,o=>s.Zn(o))).next(()=>s.maxValue)}removeTargets(e,n,s){return this.tr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.tr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(le("LruGarbageCollector","Garbage collection skipped; disabled"),J.resolve(Wv)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(le("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Wv):this.ir(e,n))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,n){let s,o,u,f,m,p,y;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(S=>(S>this.params.maximumSequenceNumbersToCollect?(le("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),o=this.params.maximumSequenceNumbersToCollect):o=S,f=Date.now(),this.nthSequenceNumber(e,o))).next(S=>(s=S,m=Date.now(),this.removeTargets(e,s,n))).next(S=>(u=S,p=Date.now(),this.removeOrphanedDocuments(e,s))).next(S=>(y=Date.now(),ka()<=Me.DEBUG&&le("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-E}ms
	Determined least recently used ${o} in `+(m-f)+`ms
	Removed ${u} targets in `+(p-m)+`ms
	Removed ${S} documents in `+(y-p)+`ms
Total Duration: ${y-E}ms`),J.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:S})))}}function Z2(r,e){return new W2(r,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J2{constructor(){this.changes=new js(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Yt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?J.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eD{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tD{constructor(e,n,s,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next(o=>(s=o,this.remoteDocumentCache.getEntry(e,n))).next(o=>(s!==null&&Il(s.mutation,o,zn.empty(),wt.now()),o))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.getLocalViewOfDocuments(e,s,Ve()).next(()=>s))}getLocalViewOfDocuments(e,n,s=Ve()){const o=xs();return this.populateOverlays(e,o,n).next(()=>this.computeViews(e,n,o,s).next(u=>{let f=Al();return u.forEach((m,p)=>{f=f.insert(m,p.overlayedDocument)}),f}))}getOverlayedDocuments(e,n){const s=xs();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,Ve()))}populateOverlays(e,n,s){const o=[];return s.forEach(u=>{n.has(u)||o.push(u)}),this.documentOverlayCache.getOverlays(e,o).next(u=>{u.forEach((f,m)=>{n.set(f,m)})})}computeViews(e,n,s,o){let u=Xi();const f=Cl(),m=function(){return Cl()}();return n.forEach((p,y)=>{const E=s.get(y.key);o.has(y.key)&&(E===void 0||E.mutation instanceof Bs)?u=u.insert(y.key,y):E!==void 0?(f.set(y.key,E.mutation.getFieldMask()),Il(E.mutation,y,E.mutation.getFieldMask(),wt.now())):f.set(y.key,zn.empty())}),this.recalculateAndSaveOverlays(e,u).next(p=>(p.forEach((y,E)=>f.set(y,E)),n.forEach((y,E)=>{var S;return m.set(y,new eD(E,(S=f.get(y))!==null&&S!==void 0?S:null))}),m))}recalculateAndSaveOverlays(e,n){const s=Cl();let o=new rt((f,m)=>f-m),u=Ve();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(f=>{for(const m of f)m.keys().forEach(p=>{const y=n.get(p);if(y===null)return;let E=s.get(p)||zn.empty();E=m.applyToLocalView(y,E),s.set(p,E);const S=(o.get(m.batchId)||Ve()).add(p);o=o.insert(m.batchId,S)})}).next(()=>{const f=[],m=o.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),y=p.key,E=p.value,S=iT();E.forEach(C=>{if(!u.has(C)){const L=uT(n.get(C),s.get(C));L!==null&&S.set(C,L),u=u.add(C)}}),f.push(this.documentOverlayCache.saveOverlays(e,y,S))}return J.waitFor(f)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,n,s,o){return function(f){return ye.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):r2(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,o):this.getDocumentsMatchingCollectionQuery(e,n,s,o)}getNextDocuments(e,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,o).next(u=>{const f=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,o-u.size):J.resolve(xs());let m=Vl,p=u;return f.next(y=>J.forEach(y,(E,S)=>(m<S.largestBatchId&&(m=S.largestBatchId),u.get(E)?J.resolve():this.remoteDocumentCache.getEntry(e,E).next(C=>{p=p.insert(E,C)}))).next(()=>this.populateOverlays(e,y,u)).next(()=>this.computeViews(e,p,y,Ve())).next(E=>({batchId:m,changes:nT(E)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ye(n)).next(s=>{let o=Al();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o})}getDocumentsMatchingCollectionGroupQuery(e,n,s,o){const u=n.collectionGroup;let f=Al();return this.indexManager.getCollectionParents(e,u).next(m=>J.forEach(m,p=>{const y=function(S,C){return new vh(C,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt)}(n,p.child(u));return this.getDocumentsMatchingCollectionQuery(e,y,s,o).next(E=>{E.forEach((S,C)=>{f=f.insert(S,C)})})}).next(()=>f))}getDocumentsMatchingCollectionQuery(e,n,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next(f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,u,o))).next(f=>{u.forEach((p,y)=>{const E=y.getKey();f.get(E)===null&&(f=f.insert(E,Yt.newInvalidDocument(E)))});let m=Al();return f.forEach((p,y)=>{const E=u.get(p);E!==void 0&&Il(E.mutation,y,zn.empty(),wt.now()),Th(n,y)&&(m=m.insert(p,y))}),m})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nD{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,n){return J.resolve(this.dr.get(n))}saveBundleMetadata(e,n){return this.dr.set(n.id,function(o){return{id:o.id,version:o.version,createTime:li(o.createTime)}}(n)),J.resolve()}getNamedQuery(e,n){return J.resolve(this.Ar.get(n))}saveNamedQuery(e,n){return this.Ar.set(n.name,function(o){return{name:o.name,query:G2(o.bundledQuery),readTime:li(o.readTime)}}(n)),J.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iD{constructor(){this.overlays=new rt(ye.comparator),this.Rr=new Map}getOverlay(e,n){return J.resolve(this.overlays.get(n))}getOverlays(e,n){const s=xs();return J.forEach(n,o=>this.getOverlay(e,o).next(u=>{u!==null&&s.set(o,u)})).next(()=>s)}saveOverlays(e,n,s){return s.forEach((o,u)=>{this.Et(e,n,u)}),J.resolve()}removeOverlaysForBatchId(e,n,s){const o=this.Rr.get(s);return o!==void 0&&(o.forEach(u=>this.overlays=this.overlays.remove(u)),this.Rr.delete(s)),J.resolve()}getOverlaysForCollection(e,n,s){const o=xs(),u=n.length+1,f=new ye(n.child("")),m=this.overlays.getIteratorFrom(f);for(;m.hasNext();){const p=m.getNext().value,y=p.getKey();if(!n.isPrefixOf(y.path))break;y.path.length===u&&p.largestBatchId>s&&o.set(p.getKey(),p)}return J.resolve(o)}getOverlaysForCollectionGroup(e,n,s,o){let u=new rt((y,E)=>y-E);const f=this.overlays.getIterator();for(;f.hasNext();){const y=f.getNext().value;if(y.getKey().getCollectionGroup()===n&&y.largestBatchId>s){let E=u.get(y.largestBatchId);E===null&&(E=xs(),u=u.insert(y.largestBatchId,E)),E.set(y.getKey(),y)}}const m=xs(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((y,E)=>m.set(y,E)),!(m.size()>=o)););return J.resolve(m)}Et(e,n,s){const o=this.overlays.get(s.key);if(o!==null){const f=this.Rr.get(o.largestBatchId).delete(s.key);this.Rr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new A2(n,s));let u=this.Rr.get(n);u===void 0&&(u=Ve(),this.Rr.set(n,u)),this.Rr.set(n,u.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rD{constructor(){this.sessionToken=Ht.EMPTY_BYTE_STRING}getSessionToken(e){return J.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,J.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zm{constructor(){this.Vr=new Rt(Mt.mr),this.gr=new Rt(Mt.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,n){const s=new Mt(e,n);this.Vr=this.Vr.add(s),this.gr=this.gr.add(s)}yr(e,n){e.forEach(s=>this.addReference(s,n))}removeReference(e,n){this.wr(new Mt(e,n))}Sr(e,n){e.forEach(s=>this.removeReference(s,n))}br(e){const n=new ye(new ut([])),s=new Mt(n,e),o=new Mt(n,e+1),u=[];return this.gr.forEachInRange([s,o],f=>{this.wr(f),u.push(f.key)}),u}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const n=new ye(new ut([])),s=new Mt(n,e),o=new Mt(n,e+1);let u=Ve();return this.gr.forEachInRange([s,o],f=>{u=u.add(f.key)}),u}containsKey(e){const n=new Mt(e,0),s=this.Vr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class Mt{constructor(e,n){this.key=e,this.Cr=n}static mr(e,n){return ye.comparator(e.key,n.key)||Ie(e.Cr,n.Cr)}static pr(e,n){return Ie(e.Cr,n.Cr)||ye.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sD{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Fr=1,this.Mr=new Rt(Mt.mr)}checkEmpty(e){return J.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,o){const u=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new T2(u,n,s,o);this.mutationQueue.push(f);for(const m of o)this.Mr=this.Mr.add(new Mt(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return J.resolve(f)}lookupMutationBatch(e,n){return J.resolve(this.Or(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,o=this.Nr(s),u=o<0?0:o;return J.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return J.resolve(this.mutationQueue.length===0?Hm:this.Fr-1)}getAllMutationBatches(e){return J.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new Mt(n,0),o=new Mt(n,Number.POSITIVE_INFINITY),u=[];return this.Mr.forEachInRange([s,o],f=>{const m=this.Or(f.Cr);u.push(m)}),J.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new Rt(Ie);return n.forEach(o=>{const u=new Mt(o,0),f=new Mt(o,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([u,f],m=>{s=s.add(m.Cr)})}),J.resolve(this.Br(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,o=s.length+1;let u=s;ye.isDocumentKey(u)||(u=u.child(""));const f=new Mt(new ye(u),0);let m=new Rt(Ie);return this.Mr.forEachWhile(p=>{const y=p.key.path;return!!s.isPrefixOf(y)&&(y.length===o&&(m=m.add(p.Cr)),!0)},f),J.resolve(this.Br(m))}Br(e){const n=[];return e.forEach(s=>{const o=this.Or(s);o!==null&&n.push(o)}),n}removeMutationBatch(e,n){qe(this.Lr(n.batchId,"removed")===0),this.mutationQueue.shift();let s=this.Mr;return J.forEach(n.mutations,o=>{const u=new Mt(o.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Mr=s})}qn(e){}containsKey(e,n){const s=new Mt(n,0),o=this.Mr.firstAfterOrEqual(s);return J.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,J.resolve()}Lr(e,n){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const n=this.Nr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aD{constructor(e){this.kr=e,this.docs=function(){return new rt(ye.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,o=this.docs.get(s),u=o?o.size:0,f=this.kr(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return J.resolve(s?s.document.mutableCopy():Yt.newInvalidDocument(n))}getEntries(e,n){let s=Xi();return n.forEach(o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():Yt.newInvalidDocument(o))}),J.resolve(s)}getDocumentsMatchingQuery(e,n,s,o){let u=Xi();const f=n.path,m=new ye(f.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:y,value:{document:E}}=p.getNext();if(!f.isPrefixOf(y.path))break;y.path.length>f.length+1||kI(VI(E),s)<=0||(o.has(E.key)||Th(n,E))&&(u=u.insert(E.key,E.mutableCopy()))}return J.resolve(u)}getAllFromCollectionGroup(e,n,s,o){Te()}qr(e,n){return J.forEach(this.docs,s=>n(s))}newChangeBuffer(e){return new oD(this)}getSize(e){return J.resolve(this.size)}}class oD extends J2{constructor(e){super(),this.Ir=e}applyChanges(e){const n=[];return this.changes.forEach((s,o)=>{o.isValidDocument()?n.push(this.Ir.addEntry(e,o)):this.Ir.removeEntry(s)}),J.waitFor(n)}getFromCache(e,n){return this.Ir.getEntry(e,n)}getAllFromCache(e,n){return this.Ir.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lD{constructor(e){this.persistence=e,this.Qr=new js(n=>Gm(n),Qm),this.lastRemoteSnapshotVersion=Se.min(),this.highestTargetId=0,this.$r=0,this.Ur=new Zm,this.targetCount=0,this.Kr=Ya.Un()}forEachTarget(e,n){return this.Qr.forEach((s,o)=>n(o)),J.resolve()}getLastRemoteSnapshotVersion(e){return J.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return J.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Kr.next(),J.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.$r&&(this.$r=n),J.resolve()}zn(e){this.Qr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Kr=new Ya(n),this.highestTargetId=n),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,n){return this.zn(n),this.targetCount+=1,J.resolve()}updateTargetData(e,n){return this.zn(n),J.resolve()}removeTargetData(e,n){return this.Qr.delete(n.target),this.Ur.br(n.targetId),this.targetCount-=1,J.resolve()}removeTargets(e,n,s){let o=0;const u=[];return this.Qr.forEach((f,m)=>{m.sequenceNumber<=n&&s.get(m.targetId)===null&&(this.Qr.delete(f),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)}),J.waitFor(u).next(()=>o)}getTargetCount(e){return J.resolve(this.targetCount)}getTargetData(e,n){const s=this.Qr.get(n)||null;return J.resolve(s)}addMatchingKeys(e,n,s){return this.Ur.yr(n,s),J.resolve()}removeMatchingKeys(e,n,s){this.Ur.Sr(n,s);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach(f=>{u.push(o.markPotentiallyOrphaned(e,f))}),J.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this.Ur.br(n),J.resolve()}getMatchingKeysForTargetId(e,n){const s=this.Ur.vr(n);return J.resolve(s)}containsKey(e,n){return J.resolve(this.Ur.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ST{constructor(e,n){this.Wr={},this.overlays={},this.Gr=new gh(0),this.zr=!1,this.zr=!0,this.jr=new rD,this.referenceDelegate=e(this),this.Hr=new lD(this),this.indexManager=new Q2,this.remoteDocumentCache=function(o){return new aD(o)}(s=>this.referenceDelegate.Jr(s)),this.serializer=new F2(n),this.Yr=new nD(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new iD,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.Wr[e.toKey()];return s||(s=new sD(n,this.referenceDelegate),this.Wr[e.toKey()]=s),s}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,n,s){le("MemoryPersistence","Starting transaction:",e);const o=new uD(this.Gr.next());return this.referenceDelegate.Zr(),s(o).next(u=>this.referenceDelegate.Xr(o).next(()=>u)).toPromise().then(u=>(o.raiseOnCommittedEvent(),u))}ei(e,n){return J.or(Object.values(this.Wr).map(s=>()=>s.containsKey(e,n)))}}class uD extends LI{constructor(e){super(),this.currentSequenceNumber=e}}class Jm{constructor(e){this.persistence=e,this.ti=new Zm,this.ni=null}static ri(e){return new Jm(e)}get ii(){if(this.ni)return this.ni;throw Te()}addReference(e,n,s){return this.ti.addReference(s,n),this.ii.delete(s.toString()),J.resolve()}removeReference(e,n,s){return this.ti.removeReference(s,n),this.ii.add(s.toString()),J.resolve()}markPotentiallyOrphaned(e,n){return this.ii.add(n.toString()),J.resolve()}removeTarget(e,n){this.ti.br(n.targetId).forEach(o=>this.ii.add(o.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next(o=>{o.forEach(u=>this.ii.add(u.toString()))}).next(()=>s.removeTargetData(e,n))}Zr(){this.ni=new Set}Xr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return J.forEach(this.ii,s=>{const o=ye.fromPath(s);return this.si(e,o).next(u=>{u||n.removeEntry(o,Se.min())})}).next(()=>(this.ni=null,n.apply(e)))}updateLimboDocument(e,n){return this.si(e,n).next(s=>{s?this.ii.delete(n.toString()):this.ii.add(n.toString())})}Jr(e){return 0}si(e,n){return J.or([()=>J.resolve(this.ti.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.ei(e,n)])}}class ah{constructor(e,n){this.persistence=e,this.oi=new js(s=>jI(s.path),(s,o)=>s.isEqual(o)),this.garbageCollector=Z2(this,n)}static ri(e,n){return new ah(e,n)}Zr(){}Xr(e){return J.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}nr(e){const n=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>n.next(o=>s+o))}sr(e){let n=0;return this.rr(e,s=>{n++}).next(()=>n)}rr(e,n){return J.forEach(this.oi,(s,o)=>this.ar(e,s,o).next(u=>u?J.resolve():n(o)))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.qr(e,f=>this.ar(e,f,n).next(m=>{m||(s++,u.removeEntry(f,Se.min()))})).next(()=>u.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,n){return this.oi.set(n,e.currentSequenceNumber),J.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.oi.set(s,e.currentSequenceNumber),J.resolve()}removeReference(e,n,s){return this.oi.set(s,e.currentSequenceNumber),J.resolve()}updateLimboDocument(e,n){return this.oi.set(n,e.currentSequenceNumber),J.resolve()}Jr(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=zc(e.data.value)),n}ar(e,n,s){return J.or([()=>this.persistence.ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.oi.get(n);return J.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ep{constructor(e,n,s,o){this.targetId=e,this.fromCache=n,this.Hi=s,this.Ji=o}static Yi(e,n){let s=Ve(),o=Ve();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new ep(e,n.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cD{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hD{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return Fw()?8:UI(Xt())>0?6:4}()}initialize(e,n){this.ns=e,this.indexManager=n,this.Zi=!0}getDocumentsMatchingQuery(e,n,s,o){const u={result:null};return this.rs(e,n).next(f=>{u.result=f}).next(()=>{if(!u.result)return this.ss(e,n,o,s).next(f=>{u.result=f})}).next(()=>{if(u.result)return;const f=new cD;return this._s(e,n,f).next(m=>{if(u.result=m,this.Xi)return this.us(e,n,f,m.size)})}).next(()=>u.result)}us(e,n,s,o){return s.documentReadCount<this.es?(ka()<=Me.DEBUG&&le("QueryEngine","SDK will not create cache indexes for query:",Pa(n),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),J.resolve()):(ka()<=Me.DEBUG&&le("QueryEngine","Query:",Pa(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.ts*o?(ka()<=Me.DEBUG&&le("QueryEngine","The SDK decides to create cache indexes for query:",Pa(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,oi(n))):J.resolve())}rs(e,n){if(Bv(n))return J.resolve(null);let s=oi(n);return this.indexManager.getIndexType(e,s).next(o=>o===0?null:(n.limit!==null&&o===1&&(n=hm(n,null,"F"),s=oi(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next(u=>{const f=Ve(...u);return this.ns.getDocuments(e,f).next(m=>this.indexManager.getMinOffset(e,s).next(p=>{const y=this.cs(n,m);return this.ls(n,y,f,p.readTime)?this.rs(e,hm(n,null,"F")):this.hs(e,y,n,p)}))})))}ss(e,n,s,o){return Bv(n)||o.isEqual(Se.min())?J.resolve(null):this.ns.getDocuments(e,s).next(u=>{const f=this.cs(n,u);return this.ls(n,f,s,o)?J.resolve(null):(ka()<=Me.DEBUG&&le("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Pa(n)),this.hs(e,f,n,MI(o,Vl)).next(m=>m))})}cs(e,n){let s=new Rt(eT(e));return n.forEach((o,u)=>{Th(e,u)&&(s=s.add(u))}),s}ls(e,n,s,o){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}_s(e,n,s){return ka()<=Me.DEBUG&&le("QueryEngine","Using full collection scan to execute query:",Pa(n)),this.ns.getDocumentsMatchingQuery(e,n,Ur.min(),s)}hs(e,n,s,o){return this.ns.getDocumentsMatchingQuery(e,s,o).next(u=>(n.forEach(f=>{u=u.insert(f.key,f)}),u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tp="LocalStore",fD=3e8;class dD{constructor(e,n,s,o){this.persistence=e,this.Ps=n,this.serializer=o,this.Ts=new rt(Ie),this.Is=new js(u=>Gm(u),Qm),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(s)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new tD(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ts))}}function mD(r,e,n,s){return new dD(r,e,n,s)}async function bT(r,e){const n=be(r);return await n.persistence.runTransaction("Handle user change","readonly",s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next(u=>(o=u,n.As(e),n.mutationQueue.getAllMutationBatches(s))).next(u=>{const f=[],m=[];let p=Ve();for(const y of o){f.push(y.batchId);for(const E of y.mutations)p=p.add(E.key)}for(const y of u){m.push(y.batchId);for(const E of y.mutations)p=p.add(E.key)}return n.localDocuments.getDocuments(s,p).next(y=>({Rs:y,removedBatchIds:f,addedBatchIds:m}))})})}function pD(r,e){const n=be(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const o=e.batch.keys(),u=n.ds.newChangeBuffer({trackRemovals:!0});return function(m,p,y,E){const S=y.batch,C=S.keys();let L=J.resolve();return C.forEach(z=>{L=L.next(()=>E.getEntry(p,z)).next(W=>{const F=y.docVersions.get(z);qe(F!==null),W.version.compareTo(F)<0&&(S.applyToRemoteDocument(W,y),W.isValidDocument()&&(W.setReadTime(y.commitVersion),E.addEntry(W)))})}),L.next(()=>m.mutationQueue.removeMutationBatch(p,S))}(n,s,e,u).next(()=>u.apply(s)).next(()=>n.mutationQueue.performConsistencyCheck(s)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(m){let p=Ve();for(let y=0;y<m.mutationResults.length;++y)m.mutationResults[y].transformResults.length>0&&(p=p.add(m.batch.mutations[y].key));return p}(e))).next(()=>n.localDocuments.getDocuments(s,o))})}function wT(r){const e=be(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Hr.getLastRemoteSnapshotVersion(n))}function gD(r,e){const n=be(r),s=e.snapshotVersion;let o=n.Ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const f=n.ds.newChangeBuffer({trackRemovals:!0});o=n.Ts;const m=[];e.targetChanges.forEach((E,S)=>{const C=o.get(S);if(!C)return;m.push(n.Hr.removeMatchingKeys(u,E.removedDocuments,S).next(()=>n.Hr.addMatchingKeys(u,E.addedDocuments,S)));let L=C.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(S)!==null?L=L.withResumeToken(Ht.EMPTY_BYTE_STRING,Se.min()).withLastLimboFreeSnapshotVersion(Se.min()):E.resumeToken.approximateByteSize()>0&&(L=L.withResumeToken(E.resumeToken,s)),o=o.insert(S,L),function(W,F,$){return W.resumeToken.approximateByteSize()===0||F.snapshotVersion.toMicroseconds()-W.snapshotVersion.toMicroseconds()>=fD?!0:$.addedDocuments.size+$.modifiedDocuments.size+$.removedDocuments.size>0}(C,L,E)&&m.push(n.Hr.updateTargetData(u,L))});let p=Xi(),y=Ve();if(e.documentUpdates.forEach(E=>{e.resolvedLimboDocuments.has(E)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,E))}),m.push(yD(u,f,e.documentUpdates).next(E=>{p=E.Vs,y=E.fs})),!s.isEqual(Se.min())){const E=n.Hr.getLastRemoteSnapshotVersion(u).next(S=>n.Hr.setTargetsMetadata(u,u.currentSequenceNumber,s));m.push(E)}return J.waitFor(m).next(()=>f.apply(u)).next(()=>n.localDocuments.getLocalViewOfDocuments(u,p,y)).next(()=>p)}).then(u=>(n.Ts=o,u))}function yD(r,e,n){let s=Ve(),o=Ve();return n.forEach(u=>s=s.add(u)),e.getEntries(r,s).next(u=>{let f=Xi();return n.forEach((m,p)=>{const y=u.get(m);p.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(m)),p.isNoDocument()&&p.version.isEqual(Se.min())?(e.removeEntry(m,p.readTime),f=f.insert(m,p)):!y.isValidDocument()||p.version.compareTo(y.version)>0||p.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(p),f=f.insert(m,p)):le(tp,"Ignoring outdated watch update for ",m,". Current version:",y.version," Watch version:",p.version)}),{Vs:f,fs:o}})}function _D(r,e){const n=be(r);return n.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=Hm),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function vD(r,e){const n=be(r);return n.persistence.runTransaction("Allocate target","readwrite",s=>{let o;return n.Hr.getTargetData(s,e).next(u=>u?(o=u,J.resolve(o)):n.Hr.allocateTargetId(s).next(f=>(o=new xr(e,f,"TargetPurposeListen",s.currentSequenceNumber),n.Hr.addTargetData(s,o).next(()=>o))))}).then(s=>{const o=n.Ts.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ts=n.Ts.insert(s.targetId,s),n.Is.set(e,s.targetId)),s})}async function gm(r,e,n){const s=be(r),o=s.Ts.get(e),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,f=>s.persistence.referenceDelegate.removeTarget(f,o))}catch(f){if(!io(f))throw f;le(tp,`Failed to update sequence numbers for target ${e}: ${f}`)}s.Ts=s.Ts.remove(e),s.Is.delete(o.target)}function eE(r,e,n){const s=be(r);let o=Se.min(),u=Ve();return s.persistence.runTransaction("Execute query","readwrite",f=>function(p,y,E){const S=be(p),C=S.Is.get(E);return C!==void 0?J.resolve(S.Ts.get(C)):S.Hr.getTargetData(y,E)}(s,f,oi(e)).next(m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.Hr.getMatchingKeysForTargetId(f,m.targetId).next(p=>{u=p})}).next(()=>s.Ps.getDocumentsMatchingQuery(f,e,n?o:Se.min(),n?u:Ve())).next(m=>(ED(s,a2(e),m),{documents:m,gs:u})))}function ED(r,e,n){let s=r.Es.get(e)||Se.min();n.forEach((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)}),r.Es.set(e,s)}class tE{constructor(){this.activeTargetIds=f2()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}bs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class TD{constructor(){this.ho=new tE,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,n,s){this.Po[e]=n}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new tE,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AD{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nE="ConnectivityMonitor";class iE{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){le(nE,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){le(nE,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Oc=null;function ym(){return Oc===null?Oc=function(){return 268435456+Math.round(2147483648*Math.random())}():Oc++,"0x"+Oc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gd="RestConnection",SD={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class bD{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.po=n+"://"+e.host,this.yo=`projects/${s}/databases/${o}`,this.wo=this.databaseId.database===Jc?`project_id=${s}`:`project_id=${s}&database_id=${o}`}So(e,n,s,o,u){const f=ym(),m=this.bo(e,n.toUriEncodedString());le(Gd,`Sending RPC '${e}' ${f}:`,m,s);const p={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(p,o,u),this.vo(e,m,p,s).then(y=>(le(Gd,`Received RPC '${e}' ${f}: `,y),y),y=>{throw Fa(Gd,`RPC '${e}' ${f} failed with error: `,y,"url: ",m,"request:",s),y})}Co(e,n,s,o,u,f){return this.So(e,n,s,o,u)}Do(e,n,s){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+to}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((o,u)=>e[u]=o),s&&s.headers.forEach((o,u)=>e[u]=o)}bo(e,n){const s=SD[e];return`${this.po}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wD{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Uo(e){this.ko(e)}Ko(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qt="WebChannelConnection";class RD extends bD{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,n,s,o){const u=ym();return new Promise((f,m)=>{const p=new D0;p.setWithCredentials(!0),p.listenOnce(N0.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case Uc.NO_ERROR:const E=p.getResponseJson();le(Qt,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(E)),f(E);break;case Uc.TIMEOUT:le(Qt,`RPC '${e}' ${u} timed out`),m(new ge(ne.DEADLINE_EXCEEDED,"Request time out"));break;case Uc.HTTP_ERROR:const S=p.getStatus();if(le(Qt,`RPC '${e}' ${u} failed with status:`,S,"response text:",p.getResponseText()),S>0){let C=p.getResponseJson();Array.isArray(C)&&(C=C[0]);const L=C==null?void 0:C.error;if(L&&L.status&&L.message){const z=function(F){const $=F.toLowerCase().replace(/_/g,"-");return Object.values(ne).indexOf($)>=0?$:ne.UNKNOWN}(L.status);m(new ge(z,L.message))}else m(new ge(ne.UNKNOWN,"Server responded with status "+p.getStatus()))}else m(new ge(ne.UNAVAILABLE,"Connection failed."));break;default:Te()}}finally{le(Qt,`RPC '${e}' ${u} completed.`)}});const y=JSON.stringify(o);le(Qt,`RPC '${e}' ${u} sending request:`,o),p.send(n,"POST",y,s,15)})}Wo(e,n,s){const o=ym(),u=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=M0(),m=x0(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(p.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Do(p.initMessageHeaders,n,s),p.encodeInitMessageHeaders=!0;const E=u.join("");le(Qt,`Creating RPC '${e}' stream ${o}: ${E}`,p);const S=f.createWebChannel(E,p);let C=!1,L=!1;const z=new wD({Fo:F=>{L?le(Qt,`Not sending because RPC '${e}' stream ${o} is closed:`,F):(C||(le(Qt,`Opening RPC '${e}' stream ${o} transport.`),S.open(),C=!0),le(Qt,`RPC '${e}' stream ${o} sending:`,F),S.send(F))},Mo:()=>S.close()}),W=(F,$,se)=>{F.listen($,te=>{try{se(te)}catch(fe){setTimeout(()=>{throw fe},0)}})};return W(S,Tl.EventType.OPEN,()=>{L||(le(Qt,`RPC '${e}' stream ${o} transport opened.`),z.Qo())}),W(S,Tl.EventType.CLOSE,()=>{L||(L=!0,le(Qt,`RPC '${e}' stream ${o} transport closed`),z.Uo())}),W(S,Tl.EventType.ERROR,F=>{L||(L=!0,Fa(Qt,`RPC '${e}' stream ${o} transport errored:`,F),z.Uo(new ge(ne.UNAVAILABLE,"The operation could not be completed")))}),W(S,Tl.EventType.MESSAGE,F=>{var $;if(!L){const se=F.data[0];qe(!!se);const te=se,fe=(te==null?void 0:te.error)||(($=te[0])===null||$===void 0?void 0:$.error);if(fe){le(Qt,`RPC '${e}' stream ${o} received error:`,fe);const ce=fe.status;let we=function(w){const N=_t[w];if(N!==void 0)return fT(N)}(ce),x=fe.message;we===void 0&&(we=ne.INTERNAL,x="Unknown error status: "+ce+" with message "+fe.message),L=!0,z.Uo(new ge(we,x)),S.close()}else le(Qt,`RPC '${e}' stream ${o} received:`,se),z.Ko(se)}}),W(m,O0.STAT_EVENT,F=>{F.stat===sm.PROXY?le(Qt,`RPC '${e}' stream ${o} detected buffering proxy`):F.stat===sm.NOPROXY&&le(Qt,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{z.$o()},0),z}}function Qd(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wh(r){return new N2(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RT{constructor(e,n,s=1e3,o=1.5,u=6e4){this.Ti=e,this.timerId=n,this.Go=s,this.zo=o,this.jo=u,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const n=Math.floor(this.Ho+this.e_()),s=Math.max(0,Date.now()-this.Yo),o=Math.max(0,n-s);o>0&&le("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Ho} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,o,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rE="PersistentStream";class CT{constructor(e,n,s,o,u,f,m,p){this.Ti=e,this.n_=s,this.r_=o,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new RT(e,n)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,n){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():n&&n.code===ne.RESOURCE_EXHAUSTED?(Yi(n.toString()),Yi("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):n&&n.code===ne.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(n)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),n=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,o])=>{this.i_===n&&this.V_(s,o)},s=>{e(()=>{const o=new ge(ne.UNKNOWN,"Fetching auth token failed: "+s.message);return this.m_(o)})})}V_(e,n){const s=this.R_(this.i_);this.stream=this.f_(e,n),this.stream.xo(()=>{s(()=>this.listener.xo())}),this.stream.No(()=>{s(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(o=>{s(()=>this.m_(o))}),this.stream.onMessage(o=>{s(()=>++this.__==1?this.g_(o):this.onNext(o))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return le(rE,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return n=>{this.Ti.enqueueAndForget(()=>this.i_===e?n():(le(rE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class CD extends CT{constructor(e,n,s,o,u,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}f_(e,n){return this.connection.Wo("Listen",e,n)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const n=M2(this.serializer,e),s=function(u){if(!("targetChange"in u))return Se.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?Se.min():f.readTime?li(f.readTime):Se.min()}(e);return this.listener.p_(n,s)}y_(e){const n={};n.database=pm(this.serializer),n.addTarget=function(u,f){let m;const p=f.target;if(m=cm(p)?{documents:P2(u,p)}:{query:L2(u,p).ht},m.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){m.resumeToken=pT(u,f.resumeToken);const y=fm(u,f.expectedCount);y!==null&&(m.expectedCount=y)}else if(f.snapshotVersion.compareTo(Se.min())>0){m.readTime=sh(u,f.snapshotVersion.toTimestamp());const y=fm(u,f.expectedCount);y!==null&&(m.expectedCount=y)}return m}(this.serializer,e);const s=z2(this.serializer,e);s&&(n.labels=s),this.I_(n)}w_(e){const n={};n.database=pm(this.serializer),n.removeTarget=e,this.I_(n)}}class ID extends CT{constructor(e,n,s,o,u,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(e,n){return this.connection.Wo("Write",e,n)}g_(e){return qe(!!e.streamToken),this.lastStreamToken=e.streamToken,qe(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){qe(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const n=k2(e.writeResults,e.commitTime),s=li(e.commitTime);return this.listener.v_(s,n)}C_(){const e={};e.database=pm(this.serializer),this.I_(e)}b_(e){const n={streamToken:this.lastStreamToken,writes:e.map(s=>V2(this.serializer,s))};this.I_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DD{}class ND extends DD{constructor(e,n,s,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.F_=!1}M_(){if(this.F_)throw new ge(ne.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,n,s,o){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,f])=>this.connection.So(e,dm(n,s),o,u,f)).catch(u=>{throw u.name==="FirebaseError"?(u.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ge(ne.UNKNOWN,u.toString())})}Co(e,n,s,o,u){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([f,m])=>this.connection.Co(e,dm(n,s),o,f,m,u)).catch(f=>{throw f.name==="FirebaseError"?(f.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new ge(ne.UNKNOWN,f.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class OD{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(Yi(n),this.N_=!1):le("OnlineStateTracker",n)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Us="RemoteStore";class xD{constructor(e,n,s,o,u){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.U_=[],this.K_=new Map,this.W_=new Set,this.G_=[],this.z_=u,this.z_.To(f=>{s.enqueueAndForget(async()=>{Hs(this)&&(le(Us,"Restarting streams for network reachability change."),await async function(p){const y=be(p);y.W_.add(4),await Jl(y),y.j_.set("Unknown"),y.W_.delete(4),await Rh(y)}(this))})}),this.j_=new OD(s,o)}}async function Rh(r){if(Hs(r))for(const e of r.G_)await e(!0)}async function Jl(r){for(const e of r.G_)await e(!1)}function IT(r,e){const n=be(r);n.K_.has(e.targetId)||(n.K_.set(e.targetId,e),sp(n)?rp(n):ro(n).c_()&&ip(n,e))}function np(r,e){const n=be(r),s=ro(n);n.K_.delete(e),s.c_()&&DT(n,e),n.K_.size===0&&(s.c_()?s.P_():Hs(n)&&n.j_.set("Unknown"))}function ip(r,e){if(r.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Se.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}ro(r).y_(e)}function DT(r,e){r.H_.Ne(e),ro(r).w_(e)}function rp(r){r.H_=new R2({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>r.K_.get(e)||null,it:()=>r.datastore.serializer.databaseId}),ro(r).start(),r.j_.B_()}function sp(r){return Hs(r)&&!ro(r).u_()&&r.K_.size>0}function Hs(r){return be(r).W_.size===0}function NT(r){r.H_=void 0}async function MD(r){r.j_.set("Online")}async function VD(r){r.K_.forEach((e,n)=>{ip(r,e)})}async function kD(r,e){NT(r),sp(r)?(r.j_.q_(e),rp(r)):r.j_.set("Unknown")}async function PD(r,e,n){if(r.j_.set("Online"),e instanceof mT&&e.state===2&&e.cause)try{await async function(o,u){const f=u.cause;for(const m of u.targetIds)o.K_.has(m)&&(await o.remoteSyncer.rejectListen(m,f),o.K_.delete(m),o.H_.removeTarget(m))}(r,e)}catch(s){le(Us,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await oh(r,s)}else if(e instanceof Hc?r.H_.We(e):e instanceof dT?r.H_.Ze(e):r.H_.je(e),!n.isEqual(Se.min()))try{const s=await wT(r.localStore);n.compareTo(s)>=0&&await function(u,f){const m=u.H_.ot(f);return m.targetChanges.forEach((p,y)=>{if(p.resumeToken.approximateByteSize()>0){const E=u.K_.get(y);E&&u.K_.set(y,E.withResumeToken(p.resumeToken,f))}}),m.targetMismatches.forEach((p,y)=>{const E=u.K_.get(p);if(!E)return;u.K_.set(p,E.withResumeToken(Ht.EMPTY_BYTE_STRING,E.snapshotVersion)),DT(u,p);const S=new xr(E.target,p,y,E.sequenceNumber);ip(u,S)}),u.remoteSyncer.applyRemoteEvent(m)}(r,n)}catch(s){le(Us,"Failed to raise snapshot:",s),await oh(r,s)}}async function oh(r,e,n){if(!io(e))throw e;r.W_.add(1),await Jl(r),r.j_.set("Offline"),n||(n=()=>wT(r.localStore)),r.asyncQueue.enqueueRetryable(async()=>{le(Us,"Retrying IndexedDB access"),await n(),r.W_.delete(1),await Rh(r)})}function OT(r,e){return e().catch(n=>oh(r,n,e))}async function Ch(r){const e=be(r),n=Hr(e);let s=e.U_.length>0?e.U_[e.U_.length-1].batchId:Hm;for(;LD(e);)try{const o=await _D(e.localStore,s);if(o===null){e.U_.length===0&&n.P_();break}s=o.batchId,UD(e,o)}catch(o){await oh(e,o)}xT(e)&&MT(e)}function LD(r){return Hs(r)&&r.U_.length<10}function UD(r,e){r.U_.push(e);const n=Hr(r);n.c_()&&n.S_&&n.b_(e.mutations)}function xT(r){return Hs(r)&&!Hr(r).u_()&&r.U_.length>0}function MT(r){Hr(r).start()}async function zD(r){Hr(r).C_()}async function jD(r){const e=Hr(r);for(const n of r.U_)e.b_(n.mutations)}async function BD(r,e,n){const s=r.U_.shift(),o=Xm.from(s,e,n);await OT(r,()=>r.remoteSyncer.applySuccessfulWrite(o)),await Ch(r)}async function HD(r,e){e&&Hr(r).S_&&await async function(s,o){if(function(f){return b2(f)&&f!==ne.ABORTED}(o.code)){const u=s.U_.shift();Hr(s).h_(),await OT(s,()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o)),await Ch(s)}}(r,e),xT(r)&&MT(r)}async function sE(r,e){const n=be(r);n.asyncQueue.verifyOperationInProgress(),le(Us,"RemoteStore received new credentials");const s=Hs(n);n.W_.add(3),await Jl(n),s&&n.j_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.W_.delete(3),await Rh(n)}async function qD(r,e){const n=be(r);e?(n.W_.delete(2),await Rh(n)):e||(n.W_.add(2),await Jl(n),n.j_.set("Unknown"))}function ro(r){return r.J_||(r.J_=function(n,s,o){const u=be(n);return u.M_(),new CD(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(r.datastore,r.asyncQueue,{xo:MD.bind(null,r),No:VD.bind(null,r),Lo:kD.bind(null,r),p_:PD.bind(null,r)}),r.G_.push(async e=>{e?(r.J_.h_(),sp(r)?rp(r):r.j_.set("Unknown")):(await r.J_.stop(),NT(r))})),r.J_}function Hr(r){return r.Y_||(r.Y_=function(n,s,o){const u=be(n);return u.M_(),new ID(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(r.datastore,r.asyncQueue,{xo:()=>Promise.resolve(),No:zD.bind(null,r),Lo:HD.bind(null,r),D_:jD.bind(null,r),v_:BD.bind(null,r)}),r.G_.push(async e=>{e?(r.Y_.h_(),await Ch(r)):(await r.Y_.stop(),r.U_.length>0&&(le(Us,`Stopping write stream with ${r.U_.length} pending writes`),r.U_=[]))})),r.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ap{constructor(e,n,s,o,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new Lr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(f=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,o,u){const f=Date.now()+s,m=new ap(e,n,f,o,u);return m.start(s),m}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ge(ne.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function op(r,e){if(Yi("AsyncQueue",`${e}: ${r}`),io(r))return new ge(ne.UNAVAILABLE,`${e}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ha{static emptySet(e){return new Ha(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||ye.comparator(n.key,s.key):(n,s)=>ye.comparator(n.key,s.key),this.keyedMap=Al(),this.sortedSet=new rt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,s)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Ha)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new Ha;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aE{constructor(){this.Z_=new rt(ye.comparator)}track(e){const n=e.doc.key,s=this.Z_.get(n);s?e.type!==0&&s.type===3?this.Z_=this.Z_.insert(n,e):e.type===3&&s.type!==1?this.Z_=this.Z_.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.Z_=this.Z_.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.Z_=this.Z_.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.Z_=this.Z_.remove(n):e.type===1&&s.type===2?this.Z_=this.Z_.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.Z_=this.Z_.insert(n,{type:2,doc:e.doc}):Te():this.Z_=this.Z_.insert(n,e)}X_(){const e=[];return this.Z_.inorderTraversal((n,s)=>{e.push(s)}),e}}class Xa{constructor(e,n,s,o,u,f,m,p,y){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=y}static fromInitialDocuments(e,n,s,o,u){const f=[];return n.forEach(m=>{f.push({type:0,doc:m})}),new Xa(e,n,Ha.emptySet(n),f,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Eh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FD{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class GD{constructor(){this.queries=oE(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(n,s){const o=be(n),u=o.queries;o.queries=oE(),u.forEach((f,m)=>{for(const p of m.ta)p.onError(s)})})(this,new ge(ne.ABORTED,"Firestore shutting down"))}}function oE(){return new js(r=>J0(r),Eh)}async function QD(r,e){const n=be(r);let s=3;const o=e.query;let u=n.queries.get(o);u?!u.na()&&e.ra()&&(s=2):(u=new FD,s=e.ra()?0:1);try{switch(s){case 0:u.ea=await n.onListen(o,!0);break;case 1:u.ea=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(f){const m=op(f,`Initialization of query '${Pa(e.query)}' failed`);return void e.onError(m)}n.queries.set(o,u),u.ta.push(e),e.sa(n.onlineState),u.ea&&e.oa(u.ea)&&lp(n)}async function KD(r,e){const n=be(r),s=e.query;let o=3;const u=n.queries.get(s);if(u){const f=u.ta.indexOf(e);f>=0&&(u.ta.splice(f,1),u.ta.length===0?o=e.ra()?0:1:!u.na()&&e.ra()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function YD(r,e){const n=be(r);let s=!1;for(const o of e){const u=o.query,f=n.queries.get(u);if(f){for(const m of f.ta)m.oa(o)&&(s=!0);f.ea=o}}s&&lp(n)}function XD(r,e,n){const s=be(r),o=s.queries.get(e);if(o)for(const u of o.ta)u.onError(n);s.queries.delete(e)}function lp(r){r.ia.forEach(e=>{e.next()})}var _m,lE;(lE=_m||(_m={}))._a="default",lE.Cache="cache";class $D{constructor(e,n,s){this.query=e,this.aa=n,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=s||{}}oa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new Xa(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.ua?this.la(e)&&(this.aa.next(e),n=!0):this.ha(e,this.onlineState)&&(this.Pa(e),n=!0),this.ca=e,n}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let n=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),n=!0),n}ha(e,n){if(!e.fromCache||!this.ra())return!0;const s=n!=="Offline";return(!this.options.Ta||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}la(e){if(e.docChanges.length>0)return!0;const n=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Pa(e){e=Xa.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==_m.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VT{constructor(e){this.key=e}}class kT{constructor(e){this.key=e}}class WD{constructor(e,n){this.query=e,this.fa=n,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=Ve(),this.mutatedKeys=Ve(),this.ya=eT(e),this.wa=new Ha(this.ya)}get Sa(){return this.fa}ba(e,n){const s=n?n.Da:new aE,o=n?n.wa:this.wa;let u=n?n.mutatedKeys:this.mutatedKeys,f=o,m=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((E,S)=>{const C=o.get(E),L=Th(this.query,S)?S:null,z=!!C&&this.mutatedKeys.has(C.key),W=!!L&&(L.hasLocalMutations||this.mutatedKeys.has(L.key)&&L.hasCommittedMutations);let F=!1;C&&L?C.data.isEqual(L.data)?z!==W&&(s.track({type:3,doc:L}),F=!0):this.va(C,L)||(s.track({type:2,doc:L}),F=!0,(p&&this.ya(L,p)>0||y&&this.ya(L,y)<0)&&(m=!0)):!C&&L?(s.track({type:0,doc:L}),F=!0):C&&!L&&(s.track({type:1,doc:C}),F=!0,(p||y)&&(m=!0)),F&&(L?(f=f.add(L),u=W?u.add(E):u.delete(E)):(f=f.delete(E),u=u.delete(E)))}),this.query.limit!==null)for(;f.size>this.query.limit;){const E=this.query.limitType==="F"?f.last():f.first();f=f.delete(E.key),u=u.delete(E.key),s.track({type:1,doc:E})}return{wa:f,Da:s,ls:m,mutatedKeys:u}}va(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,o){const u=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const f=e.Da.X_();f.sort((E,S)=>function(L,z){const W=F=>{switch(F){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Te()}};return W(L)-W(z)}(E.type,S.type)||this.ya(E.doc,S.doc)),this.Ca(s),o=o!=null&&o;const m=n&&!o?this.Fa():[],p=this.pa.size===0&&this.current&&!o?1:0,y=p!==this.ga;return this.ga=p,f.length!==0||y?{snapshot:new Xa(this.query,e.wa,u,f,e.mutatedKeys,p===0,y,!1,!!s&&s.resumeToken.approximateByteSize()>0),Ma:m}:{Ma:m}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new aE,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(n=>this.fa=this.fa.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.fa=this.fa.delete(n)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=Ve(),this.wa.forEach(s=>{this.xa(s.key)&&(this.pa=this.pa.add(s.key))});const n=[];return e.forEach(s=>{this.pa.has(s)||n.push(new kT(s))}),this.pa.forEach(s=>{e.has(s)||n.push(new VT(s))}),n}Oa(e){this.fa=e.gs,this.pa=Ve();const n=this.ba(e.documents);return this.applyChanges(n,!0)}Na(){return Xa.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const up="SyncEngine";class ZD{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class JD{constructor(e){this.key=e,this.Ba=!1}}class eN{constructor(e,n,s,o,u,f){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.La={},this.ka=new js(m=>J0(m),Eh),this.qa=new Map,this.Qa=new Set,this.$a=new rt(ye.comparator),this.Ua=new Map,this.Ka=new Zm,this.Wa={},this.Ga=new Map,this.za=Ya.Kn(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function tN(r,e,n=!0){const s=BT(r);let o;const u=s.ka.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.Na()):o=await PT(s,e,n,!0),o}async function nN(r,e){const n=BT(r);await PT(n,e,!0,!1)}async function PT(r,e,n,s){const o=await vD(r.localStore,oi(e)),u=o.targetId,f=r.sharedClientState.addLocalQueryTarget(u,n);let m;return s&&(m=await iN(r,e,u,f==="current",o.resumeToken)),r.isPrimaryClient&&n&&IT(r.remoteStore,o),m}async function iN(r,e,n,s,o){r.Ha=(S,C,L)=>async function(W,F,$,se){let te=F.view.ba($);te.ls&&(te=await eE(W.localStore,F.query,!1).then(({documents:x})=>F.view.ba(x,te)));const fe=se&&se.targetChanges.get(F.targetId),ce=se&&se.targetMismatches.get(F.targetId)!=null,we=F.view.applyChanges(te,W.isPrimaryClient,fe,ce);return cE(W,F.targetId,we.Ma),we.snapshot}(r,S,C,L);const u=await eE(r.localStore,e,!0),f=new WD(e,u.gs),m=f.ba(u.documents),p=Zl.createSynthesizedTargetChangeForCurrentChange(n,s&&r.onlineState!=="Offline",o),y=f.applyChanges(m,r.isPrimaryClient,p);cE(r,n,y.Ma);const E=new ZD(e,n,f);return r.ka.set(e,E),r.qa.has(n)?r.qa.get(n).push(e):r.qa.set(n,[e]),y.snapshot}async function rN(r,e,n){const s=be(r),o=s.ka.get(e),u=s.qa.get(o.targetId);if(u.length>1)return s.qa.set(o.targetId,u.filter(f=>!Eh(f,e))),void s.ka.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await gm(s.localStore,o.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(o.targetId),n&&np(s.remoteStore,o.targetId),vm(s,o.targetId)}).catch(no)):(vm(s,o.targetId),await gm(s.localStore,o.targetId,!0))}async function sN(r,e){const n=be(r),s=n.ka.get(e),o=n.qa.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),np(n.remoteStore,s.targetId))}async function aN(r,e,n){const s=dN(r);try{const o=await function(f,m){const p=be(f),y=wt.now(),E=m.reduce((L,z)=>L.add(z.key),Ve());let S,C;return p.persistence.runTransaction("Locally write mutations","readwrite",L=>{let z=Xi(),W=Ve();return p.ds.getEntries(L,E).next(F=>{z=F,z.forEach(($,se)=>{se.isValidDocument()||(W=W.add($))})}).next(()=>p.localDocuments.getOverlayedDocuments(L,z)).next(F=>{S=F;const $=[];for(const se of m){const te=v2(se,S.get(se.key).overlayedDocument);te!=null&&$.push(new Bs(se.key,te,Q0(te.value.mapValue),Fi.exists(!0)))}return p.mutationQueue.addMutationBatch(L,y,$,m)}).next(F=>{C=F;const $=F.applyToLocalDocumentSet(S,W);return p.documentOverlayCache.saveOverlays(L,F.batchId,$)})}).then(()=>({batchId:C.batchId,changes:nT(S)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),function(f,m,p){let y=f.Wa[f.currentUser.toKey()];y||(y=new rt(Ie)),y=y.insert(m,p),f.Wa[f.currentUser.toKey()]=y}(s,o.batchId,n),await eu(s,o.changes),await Ch(s.remoteStore)}catch(o){const u=op(o,"Failed to persist write");n.reject(u)}}async function LT(r,e){const n=be(r);try{const s=await gD(n.localStore,e);e.targetChanges.forEach((o,u)=>{const f=n.Ua.get(u);f&&(qe(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?f.Ba=!0:o.modifiedDocuments.size>0?qe(f.Ba):o.removedDocuments.size>0&&(qe(f.Ba),f.Ba=!1))}),await eu(n,s,e)}catch(s){await no(s)}}function uE(r,e,n){const s=be(r);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.ka.forEach((u,f)=>{const m=f.view.sa(e);m.snapshot&&o.push(m.snapshot)}),function(f,m){const p=be(f);p.onlineState=m;let y=!1;p.queries.forEach((E,S)=>{for(const C of S.ta)C.sa(m)&&(y=!0)}),y&&lp(p)}(s.eventManager,e),o.length&&s.La.p_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function oN(r,e,n){const s=be(r);s.sharedClientState.updateQueryState(e,"rejected",n);const o=s.Ua.get(e),u=o&&o.key;if(u){let f=new rt(ye.comparator);f=f.insert(u,Yt.newNoDocument(u,Se.min()));const m=Ve().add(u),p=new bh(Se.min(),new Map,new rt(Ie),f,m);await LT(s,p),s.$a=s.$a.remove(u),s.Ua.delete(e),cp(s)}else await gm(s.localStore,e,!1).then(()=>vm(s,e,n)).catch(no)}async function lN(r,e){const n=be(r),s=e.batch.batchId;try{const o=await pD(n.localStore,e);zT(n,s,null),UT(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await eu(n,o)}catch(o){await no(o)}}async function uN(r,e,n){const s=be(r);try{const o=await function(f,m){const p=be(f);return p.persistence.runTransaction("Reject batch","readwrite-primary",y=>{let E;return p.mutationQueue.lookupMutationBatch(y,m).next(S=>(qe(S!==null),E=S.keys(),p.mutationQueue.removeMutationBatch(y,S))).next(()=>p.mutationQueue.performConsistencyCheck(y)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(y,E,m)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,E)).next(()=>p.localDocuments.getDocuments(y,E))})}(s.localStore,e);zT(s,e,n),UT(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await eu(s,o)}catch(o){await no(o)}}function UT(r,e){(r.Ga.get(e)||[]).forEach(n=>{n.resolve()}),r.Ga.delete(e)}function zT(r,e,n){const s=be(r);let o=s.Wa[s.currentUser.toKey()];if(o){const u=o.get(e);u&&(n?u.reject(n):u.resolve(),o=o.remove(e)),s.Wa[s.currentUser.toKey()]=o}}function vm(r,e,n=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.qa.get(e))r.ka.delete(s),n&&r.La.Ja(s,n);r.qa.delete(e),r.isPrimaryClient&&r.Ka.br(e).forEach(s=>{r.Ka.containsKey(s)||jT(r,s)})}function jT(r,e){r.Qa.delete(e.path.canonicalString());const n=r.$a.get(e);n!==null&&(np(r.remoteStore,n),r.$a=r.$a.remove(e),r.Ua.delete(n),cp(r))}function cE(r,e,n){for(const s of n)s instanceof VT?(r.Ka.addReference(s.key,e),cN(r,s)):s instanceof kT?(le(up,"Document no longer in limbo: "+s.key),r.Ka.removeReference(s.key,e),r.Ka.containsKey(s.key)||jT(r,s.key)):Te()}function cN(r,e){const n=e.key,s=n.path.canonicalString();r.$a.get(n)||r.Qa.has(s)||(le(up,"New document in limbo: "+n),r.Qa.add(s),cp(r))}function cp(r){for(;r.Qa.size>0&&r.$a.size<r.maxConcurrentLimboResolutions;){const e=r.Qa.values().next().value;r.Qa.delete(e);const n=new ye(ut.fromString(e)),s=r.za.next();r.Ua.set(s,new JD(n)),r.$a=r.$a.insert(n,s),IT(r.remoteStore,new xr(oi(Km(n.path)),s,"TargetPurposeLimboResolution",gh.ae))}}async function eu(r,e,n){const s=be(r),o=[],u=[],f=[];s.ka.isEmpty()||(s.ka.forEach((m,p)=>{f.push(s.Ha(p,e,n).then(y=>{var E;if((y||n)&&s.isPrimaryClient){const S=y?!y.fromCache:(E=n==null?void 0:n.targetChanges.get(p.targetId))===null||E===void 0?void 0:E.current;s.sharedClientState.updateQueryState(p.targetId,S?"current":"not-current")}if(y){o.push(y);const S=ep.Yi(p.targetId,y);u.push(S)}}))}),await Promise.all(f),s.La.p_(o),await async function(p,y){const E=be(p);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",S=>J.forEach(y,C=>J.forEach(C.Hi,L=>E.persistence.referenceDelegate.addReference(S,C.targetId,L)).next(()=>J.forEach(C.Ji,L=>E.persistence.referenceDelegate.removeReference(S,C.targetId,L)))))}catch(S){if(!io(S))throw S;le(tp,"Failed to update sequence numbers: "+S)}for(const S of y){const C=S.targetId;if(!S.fromCache){const L=E.Ts.get(C),z=L.snapshotVersion,W=L.withLastLimboFreeSnapshotVersion(z);E.Ts=E.Ts.insert(C,W)}}}(s.localStore,u))}async function hN(r,e){const n=be(r);if(!n.currentUser.isEqual(e)){le(up,"User change. New user:",e.toKey());const s=await bT(n.localStore,e);n.currentUser=e,function(u,f){u.Ga.forEach(m=>{m.forEach(p=>{p.reject(new ge(ne.CANCELLED,f))})}),u.Ga.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await eu(n,s.Rs)}}function fN(r,e){const n=be(r),s=n.Ua.get(e);if(s&&s.Ba)return Ve().add(s.key);{let o=Ve();const u=n.qa.get(e);if(!u)return o;for(const f of u){const m=n.ka.get(f);o=o.unionWith(m.view.Sa)}return o}}function BT(r){const e=be(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=LT.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=fN.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=oN.bind(null,e),e.La.p_=YD.bind(null,e.eventManager),e.La.Ja=XD.bind(null,e.eventManager),e}function dN(r){const e=be(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=lN.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=uN.bind(null,e),e}class lh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=wh(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,n){return null}nu(e,n){return null}eu(e){return mD(this.persistence,new hD,e.initialUser,this.serializer)}Xa(e){return new ST(Jm.ri,this.serializer)}Za(e){return new TD}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}lh.provider={build:()=>new lh};class mN extends lh{constructor(e){super(),this.cacheSizeBytes=e}tu(e,n){qe(this.persistence.referenceDelegate instanceof ah);const s=this.persistence.referenceDelegate.garbageCollector;return new $2(s,e.asyncQueue,n)}Xa(e){const n=this.cacheSizeBytes!==void 0?rn.withCacheSize(this.cacheSizeBytes):rn.DEFAULT;return new ST(s=>ah.ri(s,n),this.serializer)}}class Em{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>uE(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=hN.bind(null,this.syncEngine),await qD(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new GD}()}createDatastore(e){const n=wh(e.databaseInfo.databaseId),s=function(u){return new RD(u)}(e.databaseInfo);return function(u,f,m,p){return new ND(u,f,m,p)}(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return function(s,o,u,f,m){return new xD(s,o,u,f,m)}(this.localStore,this.datastore,e.asyncQueue,n=>uE(this.syncEngine,n,0),function(){return iE.D()?new iE:new AD}())}createSyncEngine(e,n){return function(o,u,f,m,p,y,E){const S=new eN(o,u,f,m,p,y);return E&&(S.ja=!0),S}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(o){const u=be(o);le(Us,"RemoteStore shutting down."),u.W_.add(5),await Jl(u),u.z_.shutdown(),u.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Em.provider={build:()=>new Em};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pN{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):Yi("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qr="FirestoreClient";class gN{constructor(e,n,s,o,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=o,this.user=Kt.UNAUTHENTICATED,this.clientId=P0.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,async f=>{le(qr,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f}),this.appCheckCredentials.start(s,f=>(le(qr,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Lr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=op(n,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function Kd(r,e){r.asyncQueue.verifyOperationInProgress(),le(qr,"Initializing OfflineComponentProvider");const n=r.configuration;await e.initialize(n);let s=n.initialUser;r.setCredentialChangeListener(async o=>{s.isEqual(o)||(await bT(e.localStore,o),s=o)}),e.persistence.setDatabaseDeletedListener(()=>r.terminate()),r._offlineComponents=e}async function hE(r,e){r.asyncQueue.verifyOperationInProgress();const n=await yN(r);le(qr,"Initializing OnlineComponentProvider"),await e.initialize(n,r.configuration),r.setCredentialChangeListener(s=>sE(e.remoteStore,s)),r.setAppCheckTokenChangeListener((s,o)=>sE(e.remoteStore,o)),r._onlineComponents=e}async function yN(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){le(qr,"Using user provided OfflineComponentProvider");try{await Kd(r,r._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(o){return o.name==="FirebaseError"?o.code===ne.FAILED_PRECONDITION||o.code===ne.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(n))throw n;Fa("Error using user provided cache. Falling back to memory cache: "+n),await Kd(r,new lh)}}else le(qr,"Using default OfflineComponentProvider"),await Kd(r,new mN(void 0));return r._offlineComponents}async function HT(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(le(qr,"Using user provided OnlineComponentProvider"),await hE(r,r._uninitializedComponentsProvider._online)):(le(qr,"Using default OnlineComponentProvider"),await hE(r,new Em))),r._onlineComponents}function _N(r){return HT(r).then(e=>e.syncEngine)}async function vN(r){const e=await HT(r),n=e.eventManager;return n.onListen=tN.bind(null,e.syncEngine),n.onUnlisten=rN.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=nN.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=sN.bind(null,e.syncEngine),n}function EN(r,e,n={}){const s=new Lr;return r.asyncQueue.enqueueAndForget(async()=>function(u,f,m,p,y){const E=new pN({next:C=>{E.su(),f.enqueueAndForget(()=>KD(u,S));const L=C.docs.has(m);!L&&C.fromCache?y.reject(new ge(ne.UNAVAILABLE,"Failed to get document because the client is offline.")):L&&C.fromCache&&p&&p.source==="server"?y.reject(new ge(ne.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(C)},error:C=>y.reject(C)}),S=new $D(Km(m.path),E,{includeMetadataChanges:!0,Ta:!0});return QD(u,S)}(await vN(r),r.asyncQueue,e,n,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qT(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fE=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TN(r,e,n){if(!n)throw new ge(ne.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function AN(r,e,n,s){if(e===!0&&s===!0)throw new ge(ne.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function dE(r){if(!ye.isDocumentKey(r))throw new ge(ne.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function hp(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":Te()}function jl(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new ge(ne.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=hp(r);throw new ge(ne.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FT="firestore.googleapis.com",mE=!0;class pE{constructor(e){var n,s;if(e.host===void 0){if(e.ssl!==void 0)throw new ge(ne.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=FT,this.ssl=mE}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:mE;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=AT;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<Y2)throw new ge(ne.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}AN("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=qT((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(u){if(u.timeoutSeconds!==void 0){if(isNaN(u.timeoutSeconds))throw new ge(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (must not be NaN)`);if(u.timeoutSeconds<5)throw new ge(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (minimum allowed value is 5)`);if(u.timeoutSeconds>30)throw new ge(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,o){return s.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class fp{constructor(e,n,s,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new pE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ge(ne.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ge(ne.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new pE(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new bI;switch(s.type){case"firstParty":return new II(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ge(ne.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const s=fE.get(n);s&&(le("ComponentProvider","Removing Datastore"),fE.delete(n),s.terminate())}(this),Promise.resolve()}}function SN(r,e,n,s={}){var o;const u=(r=jl(r,fp))._getSettings(),f=Object.assign(Object.assign({},u),{emulatorOptions:r._getEmulatorOptions()}),m=`${e}:${n}`;u.host!==FT&&u.host!==m&&Fa("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p=Object.assign(Object.assign({},u),{host:m,ssl:!1,emulatorOptions:s});if(!Ms(p,f)&&(r._setSettings(p),s.mockUserToken)){let y,E;if(typeof s.mockUserToken=="string")y=s.mockUserToken,E=Kt.MOCK_USER;else{y=Lw(s.mockUserToken,(o=r._app)===null||o===void 0?void 0:o.options.projectId);const S=s.mockUserToken.sub||s.mockUserToken.user_id;if(!S)throw new ge(ne.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new Kt(S)}r._authCredentials=new wI(new V0(y,E))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dp{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new dp(this.firestore,e,this._query)}}class Dn{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Bl(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Dn(this.firestore,e,this._key)}}class Bl extends dp{constructor(e,n,s){super(e,n,Km(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Dn(this.firestore,null,new ye(e))}withConverter(e){return new Bl(this.firestore,e,this._path)}}function mp(r,e,...n){if(r=Nn(r),arguments.length===1&&(e=P0.newId()),TN("doc","path",e),r instanceof fp){const s=ut.fromString(e,...n);return dE(s),new Dn(r,null,new ye(s))}{if(!(r instanceof Dn||r instanceof Bl))throw new ge(ne.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(ut.fromString(e,...n));return dE(s),new Dn(r.firestore,r instanceof Bl?r.converter:null,new ye(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gE="AsyncQueue";class yE{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new RT(this,"async_queue_retry"),this.Su=()=>{const s=Qd();s&&le(gE,"Visibility state changed to "+s.visibilityState),this.a_.t_()},this.bu=e;const n=Qd();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const n=Qd();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Su)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const n=new Lr;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!io(e))throw e;le(gE,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const n=this.bu.then(()=>(this.pu=!0,e().catch(s=>{this.gu=s,this.pu=!1;const o=function(f){let m=f.message||"";return f.stack&&(m=f.stack.includes(f.message)?f.stack:f.message+`
`+f.stack),m}(s);throw Yi("INTERNAL UNHANDLED ERROR: ",o),s}).then(s=>(this.pu=!1,s))));return this.bu=n,n}enqueueAfterDelay(e,n,s){this.Du(),this.wu.indexOf(e)>-1&&(n=0);const o=ap.createAndSchedule(this,e,n,s,u=>this.Fu(u));return this.fu.push(o),o}Du(){this.gu&&Te()}verifyOperationInProgress(){}async Mu(){let e;do e=this.bu,await e;while(e!==this.bu)}xu(e){for(const n of this.fu)if(n.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((n,s)=>n.targetTimeMs-s.targetTimeMs);for(const n of this.fu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const n=this.fu.indexOf(e);this.fu.splice(n,1)}}class pp extends fp{constructor(e,n,s,o){super(e,n,s,o),this.type="firestore",this._queue=new yE,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new yE(e),this._firestoreClient=void 0,await e}}}function bN(r,e){const n=typeof r=="object"?r:GE(),s=typeof r=="string"?r:Jc,o=Dm(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=kw("firestore");u&&SN(o,...u)}return o}function GT(r){if(r._terminated)throw new ge(ne.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||wN(r),r._firestoreClient}function wN(r){var e,n,s;const o=r._freezeSettings(),u=function(m,p,y,E){return new qI(m,p,y,E.host,E.ssl,E.experimentalForceLongPolling,E.experimentalAutoDetectLongPolling,qT(E.experimentalLongPollingOptions),E.useFetchStreams)}(r._databaseId,((e=r._app)===null||e===void 0?void 0:e.options.appId)||"",r._persistenceKey,o);r._componentsProvider||!((n=o.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((s=o.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(r._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),r._firestoreClient=new gN(r._authCredentials,r._appCheckCredentials,r._queue,u,r._componentsProvider&&function(m){const p=m==null?void 0:m._online.build();return{_offline:m==null?void 0:m._offline.build(p),_online:p}}(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $a{constructor(e){this._byteString=e}static fromBase64String(e){try{return new $a(Ht.fromBase64String(e))}catch(n){throw new ge(ne.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new $a(Ht.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gp{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ge(ne.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Bt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QT{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yp{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ge(ne.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ge(ne.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ie(this._lat,e._lat)||Ie(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _p{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RN=/^__.*__$/;class CN{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new Bs(e,this.data,this.fieldMask,n,this.fieldTransforms):new Wl(e,this.data,n,this.fieldTransforms)}}function KT(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Te()}}class vp{constructor(e,n,s,o,u,f){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Bu(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new vp(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),o=this.ku({path:s,Qu:!1});return o.$u(e),o}Uu(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),o=this.ku({path:s,Qu:!1});return o.Bu(),o}Ku(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return uh(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(KT(this.Lu)&&RN.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class IN{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||wh(e)}ju(e,n,s,o=!1){return new vp({Lu:e,methodName:n,zu:s,path:Bt.emptyPath(),Qu:!1,Gu:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function DN(r){const e=r._freezeSettings(),n=wh(r._databaseId);return new IN(r._databaseId,!!e.ignoreUndefinedProperties,n)}function NN(r,e,n,s,o,u={}){const f=r.ju(u.merge||u.mergeFields?2:0,e,n,o);WT("Data must be an object, but it was:",f,s);const m=XT(s,f);let p,y;if(u.merge)p=new zn(f.fieldMask),y=f.fieldTransforms;else if(u.mergeFields){const E=[];for(const S of u.mergeFields){const C=ON(e,S,n);if(!f.contains(C))throw new ge(ne.INVALID_ARGUMENT,`Field '${C}' is specified in your field mask but missing from your input data.`);MN(E,C)||E.push(C)}p=new zn(E),y=f.fieldTransforms.filter(S=>p.covers(S.field))}else p=null,y=f.fieldTransforms;return new CN(new In(m),p,y)}function YT(r,e){if($T(r=Nn(r)))return WT("Unsupported field value:",e,r),XT(r,e);if(r instanceof QT)return function(s,o){if(!KT(o.Lu))throw o.Wu(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Wu(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)}(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(s,o){const u=[];let f=0;for(const m of s){let p=YT(m,o.Ku(f));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),f++}return{arrayValue:{values:u}}}(r,e)}return function(s,o){if((s=Nn(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return d2(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=wt.fromDate(s);return{timestampValue:sh(o.serializer,u)}}if(s instanceof wt){const u=new wt(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:sh(o.serializer,u)}}if(s instanceof yp)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof $a)return{bytesValue:pT(o.serializer,s._byteString)};if(s instanceof Dn){const u=o.databaseId,f=s.firestore._databaseId;if(!f.isEqual(u))throw o.Wu(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Wm(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof _p)return function(f,m){return{mapValue:{fields:{[F0]:{stringValue:G0},[eh]:{arrayValue:{values:f.toArray().map(y=>{if(typeof y!="number")throw m.Wu("VectorValues must only contain numeric values.");return Ym(m.serializer,y)})}}}}}}(s,o);throw o.Wu(`Unsupported field value: ${hp(s)}`)}(r,e)}function XT(r,e){const n={};return U0(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):zs(r,(s,o)=>{const u=YT(o,e.qu(s));u!=null&&(n[s]=u)}),{mapValue:{fields:n}}}function $T(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof wt||r instanceof yp||r instanceof $a||r instanceof Dn||r instanceof QT||r instanceof _p)}function WT(r,e,n){if(!$T(n)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(n)){const s=hp(n);throw s==="an object"?e.Wu(r+" a custom object"):e.Wu(r+" "+s)}}function ON(r,e,n){if((e=Nn(e))instanceof gp)return e._internalPath;if(typeof e=="string")return ZT(r,e);throw uh("Field path arguments must be of type string or ",r,!1,void 0,n)}const xN=new RegExp("[~\\*/\\[\\]]");function ZT(r,e,n){if(e.search(xN)>=0)throw uh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new gp(...e.split("."))._internalPath}catch{throw uh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function uh(r,e,n,s,o){const u=s&&!s.isEmpty(),f=o!==void 0;let m=`Function ${e}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(u||f)&&(p+=" (found",u&&(p+=` in field ${s}`),f&&(p+=` in document ${o}`),p+=")"),new ge(ne.INVALID_ARGUMENT,m+r+p)}function MN(r,e){return r.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JT{constructor(e,n,s,o,u){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Dn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new VN(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(eA("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class VN extends JT{data(){return super.data()}}function eA(r,e){return typeof e=="string"?ZT(r,e):e instanceof gp?e._internalPath:e._delegate._internalPath}class kN{convertValue(e,n="none"){switch(Br(e)){case 0:return null;case 1:return e.booleanValue;case 2:return dt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(jr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Te()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return zs(e,(o,u)=>{s[o]=this.convertValue(u,n)}),s}convertVectorValue(e){var n,s,o;const u=(o=(s=(n=e.fields)===null||n===void 0?void 0:n[eh].arrayValue)===null||s===void 0?void 0:s.values)===null||o===void 0?void 0:o.map(f=>dt(f.doubleValue));return new _p(u)}convertGeoPoint(e){return new yp(dt(e.latitude),dt(e.longitude))}convertArray(e,n){return(e.values||[]).map(s=>this.convertValue(s,n))}convertServerTimestamp(e,n){switch(n){case"previous":const s=_h(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(kl(e));default:return null}}convertTimestamp(e){const n=zr(e);return new wt(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=ut.fromString(e);qe(TT(s));const o=new Pl(s.get(1),s.get(3)),u=new ye(s.popFirst(5));return o.isEqual(n)||Yi(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PN(r,e,n){let s;return s=r?r.toFirestore(e):e,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LN{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class tA extends JT{constructor(e,n,s,o,u,f){super(e,n,s,o,f),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new UN(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(eA("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}}class UN extends tA{data(e={}){return super.data(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ep(r){r=jl(r,Dn);const e=jl(r.firestore,pp);return EN(GT(e),r._key).then(n=>HN(e,r,n))}class zN extends kN{constructor(e){super(),this.firestore=e}convertBytes(e){return new $a(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Dn(this.firestore,null,n)}}function jN(r,e,n){r=jl(r,Dn);const s=jl(r.firestore,pp),o=PN(r.converter,e);return BN(s,[NN(DN(s),"setDoc",r._key,o,r.converter!==null,n).toMutation(r._key,Fi.none())])}function BN(r,e){return function(s,o){const u=new Lr;return s.asyncQueue.enqueueAndForget(async()=>aN(await _N(s),o,u)),u.promise}(GT(r),e)}function HN(r,e,n){const s=n.docs.get(e._key),o=new zN(r);return new tA(r,o,e._key,s,new LN(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(o){to=o})(Ja),qa(new Vs("firestore",(s,{instanceIdentifier:o,options:u})=>{const f=s.getProvider("app").getImmediate(),m=new pp(new RI(s.getProvider("auth-internal")),new DI(f,s.getProvider("app-check-internal")),function(y,E){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new ge(ne.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Pl(y.options.projectId,E)}(f,o),f);return u=Object.assign({useFetchStreams:n},u),m._setSettings(u),m},"PUBLIC").setMultipleInstances(!0)),kr(bv,wv,e),kr(bv,wv,"esm2017")})();const qN={apiKey:"AIzaSyCBWTWgBgUK6W63rm2FQHeIyKBuQtk-0jE",authDomain:"hytteleie-d9ee4.firebaseapp.com",projectId:"hytteleie-d9ee4",storageBucket:"hytteleie-d9ee4.firebasestorage.app",messagingSenderId:"317187915570",appId:"1:317187915570:web:6ab3e00687dd257ca7612b"},nA=FE(qN),so=AI(nA),Tp=bN(nA);async function FN(r,e){return(await uC(so,r,e)).user}async function GN(r,e){return(await lC(so,r,e)).user}async function QN(){const r=new si,n=(await R0(so,r)).user,s=mp(Tp,"users",n.uid),o=await Ep(s);if(!o.exists()||!o.data()){window.alert("Brukeren finnes ikke");return}else return n}async function KN(){const r=new si,n=(await R0(so,r)).user,s=mp(Tp,"users",n.uid);return(await Ep(s)).exists()||await jN(s,{uid:n.uid,name:n.displayName,email:n.email,photoURL:n.photoURL,createdAt:new Date}),console.log(n),n}function YN(){return fC(so)}function XN({props:r}){const[e,n]=Q.useState(!1),u=$i().pathname==="/"?"#fff":"#000",f=()=>window.location.assign("/profil");return k.jsxs("div",{className:"user-block-container",onMouseEnter:()=>n(!0),onMouseLeave:()=>n(!1),children:[k.jsxs("div",{className:"user-block",children:[k.jsx("img",{src:r.photoURL,alt:r.displayName,className:"user-block-image"}),k.jsx("h3",{style:{color:u},className:"user-block-name",children:r.displayName})]}),e&&k.jsx("div",{className:"dropdown-menu",children:k.jsxs("div",{className:"dropdown-content",children:[k.jsx("button",{className:"dropdown-button",onClick:f,children:"Profile"}),k.jsx("button",{className:"dropdown-button",onClick:YN,children:"Logout"})]})})]})}function $N(){const e=$i().pathname==="/",{user:n}=Q.useContext(kE),s=e?"#fff":"#000",o=e?"rgba(255, 255, 255, .1) solid 1px":"rgba(0, 0, 0, .1) solid 1px",u=e?"transparent":"#fff";return k.jsx("div",{className:"header-container",style:{borderBottom:o,backgroundColor:u},children:k.jsxs("div",{className:"header-content",children:[k.jsx("a",{href:"/",className:"header-logo",style:{color:s},children:"Hytte Leie"}),k.jsxs("div",{className:"header-dock",children:[k.jsx("a",{style:{color:s},href:"/hytter",children:"Hytter"}),k.jsx("a",{style:{color:s},href:"/omoss",children:"Om oss"}),n?k.jsx(k.Fragment,{children:k.jsx(XN,{props:n},1)}):k.jsxs(k.Fragment,{children:[k.jsx("a",{style:{color:s},href:"/register",children:"Registrer"}),k.jsx("a",{style:{color:s},href:"/login",children:"Logg inn"})]})]})]})})}const WN="/assets/notfound-Bxuhigpu.png";function ZN(){return k.jsx("div",{className:"nf-page",children:k.jsxs("div",{className:"nf-content",children:[k.jsx("img",{src:WN,alt:"404 not found."}),k.jsx("h3",{children:"Feilmelding 404 - Siden ble ikke funnet"}),k.jsxs("p",{children:["Denne hytta fant vi ikke dessverre... Har du lyst til å se på de andre ",k.jsx("a",{href:"/hytter",children:"hyttene våre"}),"?"]})]})})}function JN(){return k.jsx("div",{className:"about-page-container",children:k.jsxs("div",{className:"about-page-content",children:[k.jsx("h3",{children:"Om oss"}),k.jsxs("p",{children:["Hytte Leie er et personlig prosjekt til ",k.jsx("a",{href:"https://wesseldalen.eu",target:"_blank",children:"Wessel van Dalen"}),", for å vise frem ferdighetene sine med React TypeScript, Firebase og Firestore."]}),k.jsx("p",{children:"Hos Hytte Leie kan du opprette en konto, utforske alle tilgjengelige hytter og leie dem for ønsket periode. Ta en pause fra hverdagen, slapp av i naturen og finn roen i vakre omgivelser."}),k.jsxs("p",{children:["Hvis du har noen spørsmål, kan du alltid sende en e-post til ",k.jsx("a",{href:"mailto:wesselvandalen@gmail.com",children:"wesselvandalen@gmail.com"})]})]})})}const iA=r=>{switch(r.toLowerCase()){case"skog":return"#80cc91";case"fjell":return"#c8d2d0";case"avsides":return"#de9370";case"familie":return"#d6de93";case"innsjø":return"#6dd7c9";case"romantisk":return"#e5b4e7";case"luksus":return"#ccaf80";case"enkel":return"#a7b0a4";default:return"#e7e7e8"}};function eO({cabin:r}){return k.jsxs("a",{className:"cabin-container",href:`/hytter/${r.id}`,children:[k.jsx("img",{src:r.images[0],alt:r.title}),k.jsxs("div",{className:"cabin-info",children:[k.jsxs("div",{className:"title-tags-container",children:[k.jsx("h3",{className:"cabin-title",children:r.title}),k.jsx("div",{className:"cabin-tags",children:r.categories.map((e,n)=>k.jsx("p",{style:{backgroundColor:iA(e)},children:e},n))})]}),k.jsxs("div",{className:"cabin-location",children:[k.jsx("svg",{width:"100%",height:"100%",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:k.jsx("path",{d:"M9 18L2 22V6L9 2M9 18L16 22M9 18V2M16 22L22 18V2L16 6M16 22V6M16 6L9 2",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}),k.jsx("p",{children:r.location})]}),k.jsx("p",{className:"cabin-description",children:r.description}),k.jsx("div",{className:"cabin-amenities",children:r.amenities.map((e,n)=>k.jsx("p",{children:e},n))}),k.jsxs("p",{className:"cabin-max-guests",children:["Maks. antall gjester: ",r.maxGuests]})]}),k.jsxs("p",{className:"cabin-price",children:["Pris per natt: ",r.pricePerNight," kr"]})]})}const tO="/assets/logo-B7rzZeaL.png";function rA(){return k.jsx("div",{className:"footer-container",children:k.jsx("div",{className:"footer-content",children:k.jsxs("div",{className:"footer-part footer-bottom",children:[k.jsxs("div",{className:"footer-row",children:[k.jsx("a",{href:"/",children:k.jsx("img",{src:tO,alt:"Hyttte Leie logo",className:"footer-logo"})}),k.jsxs("p",{children:["Hytte Leie © ",new Date().getFullYear()]}),k.jsx("p",{children:"Alle rettigheter reservert."})]}),k.jsx("div",{className:"footer-column",children:k.jsxs("div",{className:"footer-row",children:[k.jsx("h3",{children:"Sider"}),k.jsxs("div",{className:"footer-column-2",children:[k.jsxs("div",{className:"footer-row",children:[k.jsx("a",{href:"/",children:"Hjem"}),k.jsx("a",{href:"/hytter",children:"Hytter"}),k.jsx("a",{href:"/omoss",children:"Om oss"})]}),k.jsxs("div",{className:"footer-row",children:[k.jsx("a",{href:"/register",children:"Registrer"}),k.jsx("a",{href:"/login",children:"Logg inn"})]})]})]})})]})})})}function nO(){const[r,e]=Q.useState([]);return Q.useEffect(()=>{e(Nl)},[]),k.jsxs("div",{className:"cabins-page-container",children:[k.jsxs("div",{className:"cabins-page-content",children:[k.jsx("h3",{className:"cp-title",children:"Fantastiske hytter, rimelige priser"}),k.jsx("p",{className:"cp-description",children:"Unn deg en pause – naturen er bare et klikk unna."}),k.jsx("div",{className:"cabins-list",children:r.map(n=>k.jsx(eO,{cabin:n},n.id))})]}),k.jsx(rA,{})]})}function iO(){const{cabinId:r}=gb(),[e,n]=Q.useState();Q.useEffect(()=>{r&&s(r)},[]);const s=o=>n(Sw(o));return e?k.jsxs("div",{className:"cabin-info-container",children:[k.jsxs("div",{className:"cabin-info-content",children:[k.jsxs("div",{className:"cabin-info-top",children:[k.jsx("img",{src:e.images[0],alt:e.title,className:"cabin-image"}),k.jsxs("div",{className:"cabin-info-top-right",children:[k.jsxs("div",{className:"cabin-info-top-title-tags",children:[k.jsx("h3",{children:e.title}),k.jsx("div",{className:"cabin-tags",children:e.categories.map((o,u)=>k.jsx("p",{style:{backgroundColor:iA(o)},children:o},u))})]}),k.jsxs("div",{className:"cabin-location",children:[k.jsx("svg",{width:"100%",height:"100%",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:k.jsx("path",{d:"M9 18L2 22V6L9 2M9 18L16 22M9 18V2M16 22L22 18V2L16 6M16 22V6M16 6L9 2",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}),k.jsx("p",{children:e.location})]}),k.jsx("p",{className:"cabin-description",children:e.description}),k.jsx("h4",{children:"Fasiliteter"}),k.jsx("div",{className:"cabin-amenities",children:e.amenities.map((o,u)=>k.jsx("p",{children:o},u))}),k.jsxs("p",{className:"cabin-info-max-guests",children:["Maks. antall gjester: ",e.maxGuests]}),k.jsxs("p",{className:"cabin-info-price",children:["Pris per natt: ",e.pricePerNight," kr"]})]})]}),k.jsx("div",{className:"cabin-calender",children:k.jsx("h3",{className:"cabin-calender-title",children:"Lyst til å leie denne hytta?"})})]}),k.jsx(rA,{})]}):k.jsxs("p",{className:"no-cabin-found",children:["Det finnes ingen hytte med id ",r]})}const sA="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEgAAABJCAMAAACpb5DQAAAA7VBMVEVHcExChfRChfRChfTsRDRChfTrQzU2qFI0qFbrQzU5pGvwZio8lLY0qFPrQzVChfTrQzU0qFM/jNfrQzU0qFLrQzU0qFPrQzUzqFM0qFOVsTVChfTrQzXrQzVChfTrQzU0qFP4ugc0qFTrQzXrQzXrQzU0qFP7vAU0qFPrQzX7vAU0qFNChfTrQzX7vAX7vAX7vAVChfQ0qFP1uAn7vAX8vQT7vAV9rzbydiH7vAVChfRChfRChfRChfQ0qFPrQzVChfT7vAX+vAQ7lqf1jhfJtxg+jsxQq0igsyn4pw03oHfvXipAieQ1pWDtSzFLx1luAAAAPnRSTlMA8DP66mT27bJECQUFyNpLHPQSy0RXmGk4JhufDil/qeGyhruXN/z4dYI6akJ469iOxlNNDmvF/Pyd3rshTVS2SDwAAAMpSURBVFjDrZd7W6JAFMbHJO6wIjdRURIlzNw2u+5Wo1R229rv/3EWUZPLDAw8vn/C42/Oec9lEAC8hAZnDl1VpkLJan9sjrqgvLqjaV+m53HRlDrUbaEUxp66Sci3qL5OHJcwGlJzvGjVbBBx8jGRVLM4qsa4ELOSyxVwOHVOJmqcF1R3Ss2J5dr4tPrzMlJx6dnuvJxkdPVstSSHMoW9cGgd7U/ZvCg0p5vjMx2KlAPGmGPdoalzI47TUyOM4+ioEaVd0451XYMbyt/1wlS+gTCa7nOZ3m1M5VwOGCK6TUfUVgB2n87hcJnBoIe4TSGYlDzCvctUjJ7m7EEOxwEXt2mOCapIOAqe/+2BA05+BsH73xhoLFQD/QpCve/Sc7vVOO2zINLtJj1qVI0DLo7XoOB5nd64ImedWaTIKLlRkXN5HewUplc5oFXNdnqm7Kqgq+M4KDhClb55UKhmzKJIV6jDftQKdQiOEpzjExToob4oUgecJUBnbWRExaBzkPA6uL6sCPoDCLwmAdVA0uvfoCKovi/QYn+gPXlU31fV6vvqoxpRZxP1EdGskXR2evp5BOj+MKteLTVryX20ZFqE6+c0GWUvuSHfIBwQgnpJrx9iO/txeQMhdCwiDn+X9Po+dossX0MO9MhCOk1adMdv77XH4C3iQEjkkthZpCz6vo9u4FZssxj0kAyodrq9R5avcKeBWMRpnqe6qLn5GnmLc6AyKZnYOrPQ7huYFJNPEnupTq8dbErJpkBQ8fkSnEVn64XGpEme0cb600lz1lZHMmBG0gwZlKixLwtcQGEvSVmSwmoZlNgyGPj1gnYo0kyBKNTEirF4a8KuPXj6RJRsowFEipGMyUxrtbSZb0gO9DaPPz7TPbQ7jkWTwp96iqJ4HvS82OOPF4TTeJty9PW0WfqHmXpY5Ugbo3qIcSpLWqXXQQ64xcKS6XUwi6JteGVA3gC3cETeZ8g5TN5AAo3YKEkr2FkDhyicQbtwja7mqUAKS3T9haOZGxWDGGecLF/ChKVIg5ZY5h8B3/JZR0m0g6c4rK81QWmJluYbrOQwDOM4EmtMNAuf0n83dnJkDvHj1wAAAABJRU5ErkJggg==";function rO(){const[r,e]=Q.useState(""),[n,s]=Q.useState(""),[o,u]=Q.useState(!1);function f(y){if(y.preventDefault(),!o){window.alert("Du må akseptere vilkårene.");return}GN(r,n).then(()=>{window.location.assign("/")}).catch(E=>{console.warn(E)})}const m=async y=>{if(y.preventDefault(),!o){window.alert("Du må akseptere vilkårene.");return}try{await KN()}catch(E){console.warn(E)}},p=()=>u(!o);return k.jsx("div",{className:"auth-page-container",children:k.jsxs("div",{className:"auth-page-content",children:[k.jsxs("div",{className:"auth-top",children:[k.jsxs("div",{className:"auth-title",children:[k.jsx("svg",{width:"100%",height:"100%",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:k.jsx("path",{d:"M20 21C20 19.6044 20 18.9067 19.8278 18.3389C19.44 17.0605 18.4395 16.06 17.1611 15.6722C16.5933 15.5 15.8956 15.5 14.5 15.5H9.5C8.10444 15.5 7.40665 15.5 6.83886 15.6722C5.56045 16.06 4.56004 17.0605 4.17224 18.3389C4 18.9067 4 19.6044 4 21M16.5 7.5C16.5 9.98528 14.4853 12 12 12C9.51472 12 7.5 9.98528 7.5 7.5C7.5 5.01472 9.51472 3 12 3C14.4853 3 16.5 5.01472 16.5 7.5Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}),k.jsx("h3",{children:"Registrer deg"})]}),k.jsx("p",{children:"Opprett konto og kom deg ut i naturen."})]}),k.jsxs("form",{className:"auth-form",onSubmit:f,children:[k.jsx("input",{className:"input-text",type:"email",name:"email",placeholder:"E-post",required:!0,onChange:y=>e(y.target.value)}),k.jsx("input",{type:"password",className:"input-text",name:"password",placeholder:"Passord",required:!0,onChange:y=>s(y.target.value)}),k.jsxs("div",{className:"terms-container",children:[k.jsx("input",{type:"checkbox",className:"input-checkbox",onChange:p}),k.jsxs("span",{children:["Ved å registrere deg bekrefter du at du har lest og akseptert ",k.jsx("a",{className:"terms-a",href:"/vilkår",target:"_blank",children:"våre vilkår og betingelser"}),"."]})]}),k.jsx("button",{className:"auth-button",type:"submit",children:"Registrer deg"})]}),k.jsx("p",{className:"or-line",children:"ELLER"}),k.jsx("div",{className:"providers-container",children:k.jsxs("button",{onClick:m,children:[k.jsx("img",{src:sA,alt:"Google ikon"}),"Registrer deg med Google"]})})]})})}function sO(){const[r,e]=Q.useState(""),[n,s]=Q.useState("");async function o(f){f.preventDefault();try{await FN(r,n),window.location.assign("/")}catch(m){console.warn(m)}}async function u(f){f.preventDefault();try{await QN(),window.location.assign("/")}catch(m){console.warn(m)}}return k.jsx("div",{className:"auth-page-container",children:k.jsxs("div",{className:"auth-page-content",children:[k.jsxs("div",{className:"auth-top",children:[k.jsxs("div",{className:"auth-title",children:[k.jsx("svg",{width:"100%",height:"100%",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:k.jsx("path",{d:"M20 21C20 19.6044 20 18.9067 19.8278 18.3389C19.44 17.0605 18.4395 16.06 17.1611 15.6722C16.5933 15.5 15.8956 15.5 14.5 15.5H9.5C8.10444 15.5 7.40665 15.5 6.83886 15.6722C5.56045 16.06 4.56004 17.0605 4.17224 18.3389C4 18.9067 4 19.6044 4 21M16.5 7.5C16.5 9.98528 14.4853 12 12 12C9.51472 12 7.5 9.98528 7.5 7.5C7.5 5.01472 9.51472 3 12 3C14.4853 3 16.5 5.01472 16.5 7.5Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}),k.jsx("h3",{children:"Logg inn"})]}),k.jsx("p",{children:"Velkommen tilbake! Klar for et nytt eventyr i naturen?"})]}),k.jsxs("form",{className:"auth-form",onSubmit:o,children:[k.jsx("input",{className:"input-text",type:"email",name:"email",placeholder:"E-post",required:!0,onChange:f=>e(f.target.value)}),k.jsx("input",{type:"password",className:"input-text",name:"password",placeholder:"Passord",required:!0,onChange:f=>s(f.target.value)}),k.jsx("button",{className:"auth-button",type:"submit",children:"Logg på"})]}),k.jsx("p",{className:"or-line",children:"ELLER"}),k.jsx("div",{className:"providers-container",children:k.jsxs("button",{onClick:u,children:[k.jsx("img",{src:sA,alt:"Google ikon"}),"Logg på med Google"]})})]})})}function aO(){return k.jsx(tw,{children:k.jsx("div",{className:"app-container",children:k.jsx("div",{className:"app-wrapper",children:k.jsxs("div",{className:"app-innhold",children:[k.jsx($N,{}),k.jsx("div",{className:"main-content",children:k.jsxs(Ob,{children:[k.jsx(Ir,{path:"/",element:k.jsx(ww,{})}),k.jsx(Ir,{path:"/omoss",element:k.jsx(JN,{})}),k.jsx(Ir,{path:"/hytter",element:k.jsx(nO,{})}),k.jsx(Ir,{path:"/hytter/:cabinId",element:k.jsx(iO,{})}),k.jsx(Ir,{path:"/register",element:k.jsx(rO,{})}),k.jsx(Ir,{path:"/login",element:k.jsx(sO,{})}),k.jsx(Ir,{path:"*",element:k.jsx(ZN,{})})]})})]})})})})}const oO=({children:r})=>{const[e,n]=Q.useState(null);return Q.useEffect(()=>{const s=so.onAuthStateChanged(async o=>{if(o){const u=mp(Tp,"users",o.uid);(await Ep(u)).exists()?n(o):console.warn("Brukeren finnes ikke.")}else n(null)});return()=>s()},[]),k.jsx(kE.Provider,{value:{user:e},children:r})};zS.createRoot(document.getElementById("root")).render(k.jsx(Q.StrictMode,{children:k.jsx(oO,{children:k.jsx(aO,{})})}));
