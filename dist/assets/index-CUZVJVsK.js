(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();var Sd={exports:{}},fl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var E_;function gS(){if(E_)return fl;E_=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:r,type:s,key:f,ref:o!==void 0?o:null,props:u}}return fl.Fragment=e,fl.jsx=n,fl.jsxs=n,fl}var T_;function yS(){return T_||(T_=1,Sd.exports=gS()),Sd.exports}var q=yS(),bd={exports:{}},Re={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var A_;function _S(){if(A_)return Re;A_=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),b=Symbol.iterator;function C(D){return D===null||typeof D!="object"?null:(D=b&&D[b]||D["@@iterator"],typeof D=="function"?D:null)}var P={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},L=Object.assign,Z={};function F(D,ee,oe){this.props=D,this.context=ee,this.refs=Z,this.updater=oe||P}F.prototype.isReactComponent={},F.prototype.setState=function(D,ee){if(typeof D!="object"&&typeof D!="function"&&D!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,D,ee,"setState")},F.prototype.forceUpdate=function(D){this.updater.enqueueForceUpdate(this,D,"forceUpdate")};function $(){}$.prototype=F.prototype;function se(D,ee,oe){this.props=D,this.context=ee,this.refs=Z,this.updater=oe||P}var te=se.prototype=new $;te.constructor=se,L(te,F.prototype),te.isPureReactComponent=!0;var fe=Array.isArray,ce={H:null,A:null,T:null,S:null,V:null},we=Object.prototype.hasOwnProperty;function M(D,ee,oe,ie,me,De){return oe=De.ref,{$$typeof:r,type:D,key:ee,ref:oe!==void 0?oe:null,props:De}}function S(D,ee){return M(D.type,ee,void 0,void 0,void 0,D.props)}function w(D){return typeof D=="object"&&D!==null&&D.$$typeof===r}function N(D){var ee={"=":"=0",":":"=2"};return"$"+D.replace(/[=:]/g,function(oe){return ee[oe]})}var x=/\/+/g;function k(D,ee){return typeof D=="object"&&D!==null&&D.key!=null?N(""+D.key):ee.toString(36)}function I(){}function Vt(D){switch(D.status){case"fulfilled":return D.value;case"rejected":throw D.reason;default:switch(typeof D.status=="string"?D.then(I,I):(D.status="pending",D.then(function(ee){D.status==="pending"&&(D.status="fulfilled",D.value=ee)},function(ee){D.status==="pending"&&(D.status="rejected",D.reason=ee)})),D.status){case"fulfilled":return D.value;case"rejected":throw D.reason}}throw D}function st(D,ee,oe,ie,me){var De=typeof D;(De==="undefined"||De==="boolean")&&(D=null);var Ae=!1;if(D===null)Ae=!0;else switch(De){case"bigint":case"string":case"number":Ae=!0;break;case"object":switch(D.$$typeof){case r:case e:Ae=!0;break;case E:return Ae=D._init,st(Ae(D._payload),ee,oe,ie,me)}}if(Ae)return me=me(D),Ae=ie===""?"."+k(D,0):ie,fe(me)?(oe="",Ae!=null&&(oe=Ae.replace(x,"$&/")+"/"),st(me,ee,oe,"",function(zn){return zn})):me!=null&&(w(me)&&(me=S(me,oe+(me.key==null||D&&D.key===me.key?"":(""+me.key).replace(x,"$&/")+"/")+Ae)),ee.push(me)),1;Ae=0;var Ct=ie===""?".":ie+":";if(fe(D))for(var We=0;We<D.length;We++)ie=D[We],De=Ct+k(ie,We),Ae+=st(ie,ee,oe,De,me);else if(We=C(D),typeof We=="function")for(D=We.call(D),We=0;!(ie=D.next()).done;)ie=ie.value,De=Ct+k(ie,We++),Ae+=st(ie,ee,oe,De,me);else if(De==="object"){if(typeof D.then=="function")return st(Vt(D),ee,oe,ie,me);throw ee=String(D),Error("Objects are not valid as a React child (found: "+(ee==="[object Object]"?"object with keys {"+Object.keys(D).join(", ")+"}":ee)+"). If you meant to render a collection of children, use an array instead.")}return Ae}function Q(D,ee,oe){if(D==null)return D;var ie=[],me=0;return st(D,ie,"","",function(De){return ee.call(oe,De,me++)}),ie}function ae(D){if(D._status===-1){var ee=D._result;ee=ee(),ee.then(function(oe){(D._status===0||D._status===-1)&&(D._status=1,D._result=oe)},function(oe){(D._status===0||D._status===-1)&&(D._status=2,D._result=oe)}),D._status===-1&&(D._status=0,D._result=ee)}if(D._status===1)return D._result.default;throw D._result}var de=typeof reportError=="function"?reportError:function(D){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ee=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof D=="object"&&D!==null&&typeof D.message=="string"?String(D.message):String(D),error:D});if(!window.dispatchEvent(ee))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",D);return}console.error(D)};function je(){}return Re.Children={map:Q,forEach:function(D,ee,oe){Q(D,function(){ee.apply(this,arguments)},oe)},count:function(D){var ee=0;return Q(D,function(){ee++}),ee},toArray:function(D){return Q(D,function(ee){return ee})||[]},only:function(D){if(!w(D))throw Error("React.Children.only expected to receive a single React element child.");return D}},Re.Component=F,Re.Fragment=n,Re.Profiler=o,Re.PureComponent=se,Re.StrictMode=s,Re.Suspense=g,Re.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ce,Re.__COMPILER_RUNTIME={__proto__:null,c:function(D){return ce.H.useMemoCache(D)}},Re.cache=function(D){return function(){return D.apply(null,arguments)}},Re.cloneElement=function(D,ee,oe){if(D==null)throw Error("The argument must be a React element, but you passed "+D+".");var ie=L({},D.props),me=D.key,De=void 0;if(ee!=null)for(Ae in ee.ref!==void 0&&(De=void 0),ee.key!==void 0&&(me=""+ee.key),ee)!we.call(ee,Ae)||Ae==="key"||Ae==="__self"||Ae==="__source"||Ae==="ref"&&ee.ref===void 0||(ie[Ae]=ee[Ae]);var Ae=arguments.length-2;if(Ae===1)ie.children=oe;else if(1<Ae){for(var Ct=Array(Ae),We=0;We<Ae;We++)Ct[We]=arguments[We+2];ie.children=Ct}return M(D.type,me,void 0,void 0,De,ie)},Re.createContext=function(D){return D={$$typeof:f,_currentValue:D,_currentValue2:D,_threadCount:0,Provider:null,Consumer:null},D.Provider=D,D.Consumer={$$typeof:u,_context:D},D},Re.createElement=function(D,ee,oe){var ie,me={},De=null;if(ee!=null)for(ie in ee.key!==void 0&&(De=""+ee.key),ee)we.call(ee,ie)&&ie!=="key"&&ie!=="__self"&&ie!=="__source"&&(me[ie]=ee[ie]);var Ae=arguments.length-2;if(Ae===1)me.children=oe;else if(1<Ae){for(var Ct=Array(Ae),We=0;We<Ae;We++)Ct[We]=arguments[We+2];me.children=Ct}if(D&&D.defaultProps)for(ie in Ae=D.defaultProps,Ae)me[ie]===void 0&&(me[ie]=Ae[ie]);return M(D,De,void 0,void 0,null,me)},Re.createRef=function(){return{current:null}},Re.forwardRef=function(D){return{$$typeof:m,render:D}},Re.isValidElement=w,Re.lazy=function(D){return{$$typeof:E,_payload:{_status:-1,_result:D},_init:ae}},Re.memo=function(D,ee){return{$$typeof:y,type:D,compare:ee===void 0?null:ee}},Re.startTransition=function(D){var ee=ce.T,oe={};ce.T=oe;try{var ie=D(),me=ce.S;me!==null&&me(oe,ie),typeof ie=="object"&&ie!==null&&typeof ie.then=="function"&&ie.then(je,de)}catch(De){de(De)}finally{ce.T=ee}},Re.unstable_useCacheRefresh=function(){return ce.H.useCacheRefresh()},Re.use=function(D){return ce.H.use(D)},Re.useActionState=function(D,ee,oe){return ce.H.useActionState(D,ee,oe)},Re.useCallback=function(D,ee){return ce.H.useCallback(D,ee)},Re.useContext=function(D){return ce.H.useContext(D)},Re.useDebugValue=function(){},Re.useDeferredValue=function(D,ee){return ce.H.useDeferredValue(D,ee)},Re.useEffect=function(D,ee,oe){var ie=ce.H;if(typeof oe=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return ie.useEffect(D,ee)},Re.useId=function(){return ce.H.useId()},Re.useImperativeHandle=function(D,ee,oe){return ce.H.useImperativeHandle(D,ee,oe)},Re.useInsertionEffect=function(D,ee){return ce.H.useInsertionEffect(D,ee)},Re.useLayoutEffect=function(D,ee){return ce.H.useLayoutEffect(D,ee)},Re.useMemo=function(D,ee){return ce.H.useMemo(D,ee)},Re.useOptimistic=function(D,ee){return ce.H.useOptimistic(D,ee)},Re.useReducer=function(D,ee,oe){return ce.H.useReducer(D,ee,oe)},Re.useRef=function(D){return ce.H.useRef(D)},Re.useState=function(D){return ce.H.useState(D)},Re.useSyncExternalStore=function(D,ee,oe){return ce.H.useSyncExternalStore(D,ee,oe)},Re.useTransition=function(){return ce.H.useTransition()},Re.version="19.1.0",Re}var S_;function mm(){return S_||(S_=1,bd.exports=_S()),bd.exports}var Y=mm(),wd={exports:{}},dl={},Rd={exports:{}},Cd={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var b_;function vS(){return b_||(b_=1,function(r){function e(Q,ae){var de=Q.length;Q.push(ae);e:for(;0<de;){var je=de-1>>>1,D=Q[je];if(0<o(D,ae))Q[je]=ae,Q[de]=D,de=je;else break e}}function n(Q){return Q.length===0?null:Q[0]}function s(Q){if(Q.length===0)return null;var ae=Q[0],de=Q.pop();if(de!==ae){Q[0]=de;e:for(var je=0,D=Q.length,ee=D>>>1;je<ee;){var oe=2*(je+1)-1,ie=Q[oe],me=oe+1,De=Q[me];if(0>o(ie,de))me<D&&0>o(De,ie)?(Q[je]=De,Q[me]=de,je=me):(Q[je]=ie,Q[oe]=de,je=oe);else if(me<D&&0>o(De,de))Q[je]=De,Q[me]=de,je=me;else break e}}return ae}function o(Q,ae){var de=Q.sortIndex-ae.sortIndex;return de!==0?de:Q.id-ae.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var f=Date,m=f.now();r.unstable_now=function(){return f.now()-m}}var g=[],y=[],E=1,b=null,C=3,P=!1,L=!1,Z=!1,F=!1,$=typeof setTimeout=="function"?setTimeout:null,se=typeof clearTimeout=="function"?clearTimeout:null,te=typeof setImmediate<"u"?setImmediate:null;function fe(Q){for(var ae=n(y);ae!==null;){if(ae.callback===null)s(y);else if(ae.startTime<=Q)s(y),ae.sortIndex=ae.expirationTime,e(g,ae);else break;ae=n(y)}}function ce(Q){if(Z=!1,fe(Q),!L)if(n(g)!==null)L=!0,we||(we=!0,k());else{var ae=n(y);ae!==null&&st(ce,ae.startTime-Q)}}var we=!1,M=-1,S=5,w=-1;function N(){return F?!0:!(r.unstable_now()-w<S)}function x(){if(F=!1,we){var Q=r.unstable_now();w=Q;var ae=!0;try{e:{L=!1,Z&&(Z=!1,se(M),M=-1),P=!0;var de=C;try{t:{for(fe(Q),b=n(g);b!==null&&!(b.expirationTime>Q&&N());){var je=b.callback;if(typeof je=="function"){b.callback=null,C=b.priorityLevel;var D=je(b.expirationTime<=Q);if(Q=r.unstable_now(),typeof D=="function"){b.callback=D,fe(Q),ae=!0;break t}b===n(g)&&s(g),fe(Q)}else s(g);b=n(g)}if(b!==null)ae=!0;else{var ee=n(y);ee!==null&&st(ce,ee.startTime-Q),ae=!1}}break e}finally{b=null,C=de,P=!1}ae=void 0}}finally{ae?k():we=!1}}}var k;if(typeof te=="function")k=function(){te(x)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,Vt=I.port2;I.port1.onmessage=x,k=function(){Vt.postMessage(null)}}else k=function(){$(x,0)};function st(Q,ae){M=$(function(){Q(r.unstable_now())},ae)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(Q){Q.callback=null},r.unstable_forceFrameRate=function(Q){0>Q||125<Q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<Q?Math.floor(1e3/Q):5},r.unstable_getCurrentPriorityLevel=function(){return C},r.unstable_next=function(Q){switch(C){case 1:case 2:case 3:var ae=3;break;default:ae=C}var de=C;C=ae;try{return Q()}finally{C=de}},r.unstable_requestPaint=function(){F=!0},r.unstable_runWithPriority=function(Q,ae){switch(Q){case 1:case 2:case 3:case 4:case 5:break;default:Q=3}var de=C;C=Q;try{return ae()}finally{C=de}},r.unstable_scheduleCallback=function(Q,ae,de){var je=r.unstable_now();switch(typeof de=="object"&&de!==null?(de=de.delay,de=typeof de=="number"&&0<de?je+de:je):de=je,Q){case 1:var D=-1;break;case 2:D=250;break;case 5:D=1073741823;break;case 4:D=1e4;break;default:D=5e3}return D=de+D,Q={id:E++,callback:ae,priorityLevel:Q,startTime:de,expirationTime:D,sortIndex:-1},de>je?(Q.sortIndex=de,e(y,Q),n(g)===null&&Q===n(y)&&(Z?(se(M),M=-1):Z=!0,st(ce,de-je))):(Q.sortIndex=D,e(g,Q),L||P||(L=!0,we||(we=!0,k()))),Q},r.unstable_shouldYield=N,r.unstable_wrapCallback=function(Q){var ae=C;return function(){var de=C;C=ae;try{return Q.apply(this,arguments)}finally{C=de}}}}(Cd)),Cd}var w_;function ES(){return w_||(w_=1,Rd.exports=vS()),Rd.exports}var Id={exports:{}},Gt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var R_;function TS(){if(R_)return Gt;R_=1;var r=mm();function e(g){var y="https://react.dev/errors/"+g;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)y+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+g+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(g,y,E){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:b==null?null:""+b,children:g,containerInfo:y,implementation:E}}var f=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(g,y){if(g==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return Gt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Gt.createPortal=function(g,y){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(e(299));return u(g,y,null,E)},Gt.flushSync=function(g){var y=f.T,E=s.p;try{if(f.T=null,s.p=2,g)return g()}finally{f.T=y,s.p=E,s.d.f()}},Gt.preconnect=function(g,y){typeof g=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,s.d.C(g,y))},Gt.prefetchDNS=function(g){typeof g=="string"&&s.d.D(g)},Gt.preinit=function(g,y){if(typeof g=="string"&&y&&typeof y.as=="string"){var E=y.as,b=m(E,y.crossOrigin),C=typeof y.integrity=="string"?y.integrity:void 0,P=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;E==="style"?s.d.S(g,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:b,integrity:C,fetchPriority:P}):E==="script"&&s.d.X(g,{crossOrigin:b,integrity:C,fetchPriority:P,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},Gt.preinitModule=function(g,y){if(typeof g=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var E=m(y.as,y.crossOrigin);s.d.M(g,{crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&s.d.M(g)},Gt.preload=function(g,y){if(typeof g=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var E=y.as,b=m(E,y.crossOrigin);s.d.L(g,E,{crossOrigin:b,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},Gt.preloadModule=function(g,y){if(typeof g=="string")if(y){var E=m(y.as,y.crossOrigin);s.d.m(g,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else s.d.m(g)},Gt.requestFormReset=function(g){s.d.r(g)},Gt.unstable_batchedUpdates=function(g,y){return g(y)},Gt.useFormState=function(g,y,E){return f.H.useFormState(g,y,E)},Gt.useFormStatus=function(){return f.H.useHostTransitionStatus()},Gt.version="19.1.0",Gt}var C_;function AS(){if(C_)return Id.exports;C_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Id.exports=TS(),Id.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var I_;function SS(){if(I_)return dl;I_=1;var r=ES(),e=mm(),n=AS();function s(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var i=t,a=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(a=i.return),t=i.return;while(t)}return i.tag===3?a:null}function f(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function m(t){if(u(t)!==t)throw Error(s(188))}function g(t){var i=t.alternate;if(!i){if(i=u(t),i===null)throw Error(s(188));return i!==t?null:t}for(var a=t,l=i;;){var h=a.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===a)return m(h),t;if(d===l)return m(h),i;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=h,l=d;else{for(var v=!1,T=h.child;T;){if(T===a){v=!0,a=h,l=d;break}if(T===l){v=!0,l=h,a=d;break}T=T.sibling}if(!v){for(T=d.child;T;){if(T===a){v=!0,a=d,l=h;break}if(T===l){v=!0,l=d,a=h;break}T=T.sibling}if(!v)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:i}function y(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=y(t),i!==null)return i;t=t.sibling}return null}var E=Object.assign,b=Symbol.for("react.element"),C=Symbol.for("react.transitional.element"),P=Symbol.for("react.portal"),L=Symbol.for("react.fragment"),Z=Symbol.for("react.strict_mode"),F=Symbol.for("react.profiler"),$=Symbol.for("react.provider"),se=Symbol.for("react.consumer"),te=Symbol.for("react.context"),fe=Symbol.for("react.forward_ref"),ce=Symbol.for("react.suspense"),we=Symbol.for("react.suspense_list"),M=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),w=Symbol.for("react.activity"),N=Symbol.for("react.memo_cache_sentinel"),x=Symbol.iterator;function k(t){return t===null||typeof t!="object"?null:(t=x&&t[x]||t["@@iterator"],typeof t=="function"?t:null)}var I=Symbol.for("react.client.reference");function Vt(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===I?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case L:return"Fragment";case F:return"Profiler";case Z:return"StrictMode";case ce:return"Suspense";case we:return"SuspenseList";case w:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case P:return"Portal";case te:return(t.displayName||"Context")+".Provider";case se:return(t._context.displayName||"Context")+".Consumer";case fe:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case M:return i=t.displayName||null,i!==null?i:Vt(t.type)||"Memo";case S:i=t._payload,t=t._init;try{return Vt(t(i))}catch{}}return null}var st=Array.isArray,Q=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ae=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,de={pending:!1,data:null,method:null,action:null},je=[],D=-1;function ee(t){return{current:t}}function oe(t){0>D||(t.current=je[D],je[D]=null,D--)}function ie(t,i){D++,je[D]=t.current,t.current=i}var me=ee(null),De=ee(null),Ae=ee(null),Ct=ee(null);function We(t,i){switch(ie(Ae,i),ie(De,t),ie(me,null),i.nodeType){case 9:case 11:t=(t=i.documentElement)&&(t=t.namespaceURI)?Yy(t):0;break;default:if(t=i.tagName,i=i.namespaceURI)i=Yy(i),t=Xy(i,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}oe(me),ie(me,t)}function zn(){oe(me),oe(De),oe(Ae)}function $i(t){t.memoizedState!==null&&ie(Ct,t);var i=me.current,a=Xy(i,t.type);i!==a&&(ie(De,t),ie(me,a))}function di(t){De.current===t&&(oe(me),oe(De)),Ct.current===t&&(oe(Ct),ol._currentValue=de)}var qr=Object.prototype.hasOwnProperty,Fr=r.unstable_scheduleCallback,Gr=r.unstable_cancelCallback,io=r.unstable_shouldYield,Xl=r.unstable_requestPaint,mn=r.unstable_now,Ah=r.unstable_getCurrentPriorityLevel,ro=r.unstable_ImmediatePriority,Hs=r.unstable_UserBlockingPriority,Qr=r.unstable_NormalPriority,Sh=r.unstable_LowPriority,qs=r.unstable_IdlePriority,so=r.log,$l=r.unstable_setDisableYieldValue,at=null,Fe=null;function sn(t){if(typeof so=="function"&&$l(t),Fe&&typeof Fe.setStrictMode=="function")try{Fe.setStrictMode(at,t)}catch{}}var qt=Math.clz32?Math.clz32:Kr,Zl=Math.log,bh=Math.LN2;function Kr(t){return t>>>=0,t===0?32:31-(Zl(t)/bh|0)|0}var Yr=256,Xr=4194304;function Nn(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Fs(t,i,a){var l=t.pendingLanes;if(l===0)return 0;var h=0,d=t.suspendedLanes,v=t.pingedLanes;t=t.warmLanes;var T=l&134217727;return T!==0?(l=T&~d,l!==0?h=Nn(l):(v&=T,v!==0?h=Nn(v):a||(a=T&~t,a!==0&&(h=Nn(a))))):(T=l&~d,T!==0?h=Nn(T):v!==0?h=Nn(v):a||(a=l&~t,a!==0&&(h=Nn(a)))),h===0?0:i!==0&&i!==h&&(i&d)===0&&(d=h&-h,a=i&-i,d>=a||d===32&&(a&4194048)!==0)?i:h}function $r(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function ao(t,i){switch(t){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function oo(){var t=Yr;return Yr<<=1,(Yr&4194048)===0&&(Yr=256),t}function lo(){var t=Xr;return Xr<<=1,(Xr&62914560)===0&&(Xr=4194304),t}function mi(t){for(var i=[],a=0;31>a;a++)i.push(t);return i}function pi(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function uo(t,i,a,l,h,d){var v=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var T=t.entanglements,R=t.expirationTimes,j=t.hiddenUpdates;for(a=v&~a;0<a;){var K=31-qt(a),W=1<<K;T[K]=0,R[K]=-1;var B=j[K];if(B!==null)for(j[K]=null,K=0;K<B.length;K++){var H=B[K];H!==null&&(H.lane&=-536870913)}a&=~W}l!==0&&jn(t,l,0),d!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=d&~(v&~i))}function jn(t,i,a){t.pendingLanes|=i,t.suspendedLanes&=~i;var l=31-qt(i);t.entangledLanes|=i,t.entanglements[l]=t.entanglements[l]|1073741824|a&4194090}function co(t,i){var a=t.entangledLanes|=i;for(t=t.entanglements;a;){var l=31-qt(a),h=1<<l;h&i|t[l]&i&&(t[l]|=i),a&=~h}}function Zi(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Gs(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Wi(){var t=ae.p;return t!==0?t:(t=window.event,t===void 0?32:m_(t.type))}function Wl(t,i){var a=ae.p;try{return ae.p=t,i()}finally{ae.p=a}}var et=Math.random().toString(36).slice(2),vt="__reactFiber$"+et,mt="__reactProps$"+et,pn="__reactContainer$"+et,ho="__reactEvents$"+et,wh="__reactListeners$"+et,Ji="__reactHandles$"+et,Jl="__reactResources$"+et,Zr="__reactMarker$"+et;function er(t){delete t[vt],delete t[mt],delete t[ho],delete t[wh],delete t[Ji]}function gi(t){var i=t[vt];if(i)return i;for(var a=t.parentNode;a;){if(i=a[pn]||a[vt]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(t=Jy(t);t!==null;){if(a=t[vt])return a;t=Jy(t)}return i}t=a,a=t.parentNode}return null}function Bn(t){if(t=t[vt]||t[pn]){var i=t.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return t}return null}function Hn(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(s(33))}function $t(t){var i=t[Jl];return i||(i=t[Jl]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function ct(t){t[Zr]=!0}var fo=new Set,Qs={};function On(t,i){yi(t,i),yi(t+"Capture",i)}function yi(t,i){for(Qs[t]=i,t=0;t<i.length;t++)fo.add(i[t])}var eu=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),tu={},Wr={};function nu(t){return qr.call(Wr,t)?!0:qr.call(tu,t)?!1:eu.test(t)?Wr[t]=!0:(tu[t]=!0,!1)}function tr(t,i,a){if(nu(i))if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+a)}}function qn(t,i,a){if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+a)}}function kt(t,i,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(i,a,""+l)}}var Jr,iu;function _i(t){if(Jr===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);Jr=i&&i[1]||"",iu=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Jr+t+iu}var Ks=!1;function Ys(t,i){if(!t||Ks)return"";Ks=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var W=function(){throw Error()};if(Object.defineProperty(W.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(W,[])}catch(H){var B=H}Reflect.construct(t,[],W)}else{try{W.call()}catch(H){B=H}t.call(W.prototype)}}else{try{throw Error()}catch(H){B=H}(W=t())&&typeof W.catch=="function"&&W.catch(function(){})}}catch(H){if(H&&B&&typeof H.stack=="string")return[H.stack,B.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),v=d[0],T=d[1];if(v&&T){var R=v.split(`
`),j=T.split(`
`);for(h=l=0;l<R.length&&!R[l].includes("DetermineComponentFrameRoot");)l++;for(;h<j.length&&!j[h].includes("DetermineComponentFrameRoot");)h++;if(l===R.length||h===j.length)for(l=R.length-1,h=j.length-1;1<=l&&0<=h&&R[l]!==j[h];)h--;for(;1<=l&&0<=h;l--,h--)if(R[l]!==j[h]){if(l!==1||h!==1)do if(l--,h--,0>h||R[l]!==j[h]){var K=`
`+R[l].replace(" at new "," at ");return t.displayName&&K.includes("<anonymous>")&&(K=K.replace("<anonymous>",t.displayName)),K}while(1<=l&&0<=h);break}}}finally{Ks=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?_i(a):""}function mo(t){switch(t.tag){case 26:case 27:case 5:return _i(t.type);case 16:return _i("Lazy");case 13:return _i("Suspense");case 19:return _i("SuspenseList");case 0:case 15:return Ys(t.type,!1);case 11:return Ys(t.type.render,!1);case 1:return Ys(t.type,!0);case 31:return _i("Activity");default:return""}}function Xs(t){try{var i="";do i+=mo(t),t=t.return;while(t);return i}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function Zt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function po(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Rh(t){var i=po(t)?"checked":"value",a=Object.getOwnPropertyDescriptor(t.constructor.prototype,i),l=""+t[i];if(!t.hasOwnProperty(i)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var h=a.get,d=a.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return h.call(this)},set:function(v){l=""+v,d.call(this,v)}}),Object.defineProperty(t,i,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(v){l=""+v},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function $s(t){t._valueTracker||(t._valueTracker=Rh(t))}function go(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var a=i.getValue(),l="";return t&&(l=po(t)?t.checked?"true":"false":t.value),t=l,t!==a?(i.setValue(t),!0):!1}function es(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Ch=/[\n"\\]/g;function pt(t){return t.replace(Ch,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function an(t,i,a,l,h,d,v,T){t.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?t.type=v:t.removeAttribute("type"),i!=null?v==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+Zt(i)):t.value!==""+Zt(i)&&(t.value=""+Zt(i)):v!=="submit"&&v!=="reset"||t.removeAttribute("value"),i!=null?nr(t,v,Zt(i)):a!=null?nr(t,v,Zt(a)):l!=null&&t.removeAttribute("value"),h==null&&d!=null&&(t.defaultChecked=!!d),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?t.name=""+Zt(T):t.removeAttribute("name")}function ts(t,i,a,l,h,d,v,T){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),i!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||i!=null))return;a=a!=null?""+Zt(a):"",i=i!=null?""+Zt(i):a,T||i===t.value||(t.value=i),t.defaultValue=i}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=T?t.checked:!!l,t.defaultChecked=!!l,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(t.name=v)}function nr(t,i,a){i==="number"&&es(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function vi(t,i,a,l){if(t=t.options,i){i={};for(var h=0;h<a.length;h++)i["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=i.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&l&&(t[a].defaultSelected=!0)}else{for(a=""+Zt(a),i=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}i!==null||t[h].disabled||(i=t[h])}i!==null&&(i.selected=!0)}}function Ke(t,i,a){if(i!=null&&(i=""+Zt(i),i!==t.value&&(t.value=i),a==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=a!=null?""+Zt(a):""}function ns(t,i,a,l){if(i==null){if(l!=null){if(a!=null)throw Error(s(92));if(st(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),i=a}a=Zt(i),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l)}function gn(t,i){if(i){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=i;return}}t.textContent=i}var is=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ru(t,i,a){var l=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":l?t.setProperty(i,a):typeof a!="number"||a===0||is.has(i)?i==="float"?t.cssFloat=a:t[i]=(""+a).trim():t[i]=a+"px"}function yo(t,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in i)l=i[h],i.hasOwnProperty(h)&&a[h]!==l&&ru(t,h,l)}else for(var d in i)i.hasOwnProperty(d)&&ru(t,d,i[d])}function _o(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ih=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Dh=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Zs(t){return Dh.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var Ei=null;function yn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ti=null,Ai=null;function vo(t){var i=Bn(t);if(i&&(t=i.stateNode)){var a=t[mt]||null;e:switch(t=i.stateNode,i.type){case"input":if(an(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+pt(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var l=a[i];if(l!==t&&l.form===t.form){var h=l[mt]||null;if(!h)throw Error(s(90));an(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<a.length;i++)l=a[i],l.form===t.form&&go(l)}break e;case"textarea":Ke(t,a.value,a.defaultValue);break e;case"select":i=a.value,i!=null&&vi(t,!!a.multiple,i,!1)}}}var Fn=!1;function su(t,i,a){if(Fn)return t(i,a);Fn=!0;try{var l=t(i);return l}finally{if(Fn=!1,(Ti!==null||Ai!==null)&&(Wu(),Ti&&(i=Ti,t=Ai,Ai=Ti=null,vo(i),t)))for(i=0;i<t.length;i++)vo(t[i])}}function rs(t,i){var a=t.stateNode;if(a===null)return null;var l=a[mt]||null;if(l===null)return null;a=l[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var Mn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),_n=!1;if(Mn)try{var ss={};Object.defineProperty(ss,"passive",{get:function(){_n=!0}}),window.addEventListener("test",ss,ss),window.removeEventListener("test",ss,ss)}catch{_n=!1}var Gn=null,ir=null,Si=null;function Eo(){if(Si)return Si;var t,i=ir,a=i.length,l,h="value"in Gn?Gn.value:Gn.textContent,d=h.length;for(t=0;t<a&&i[t]===h[t];t++);var v=a-t;for(l=1;l<=v&&i[a-l]===h[d-l];l++);return Si=h.slice(t,1<l?1-l:void 0)}function Qn(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function Kn(){return!0}function To(){return!1}function It(t){function i(a,l,h,d,v){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=v,this.currentTarget=null;for(var T in t)t.hasOwnProperty(T)&&(a=t[T],this[T]=a?a(d):d[T]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Kn:To,this.isPropagationStopped=To,this}return E(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Kn)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Kn)},persist:function(){},isPersistent:Kn}),i}var He={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ws=It(He),as=E({},He,{view:0,detail:0}),au=It(as),Js,ea,Yn,os=E({},as,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:cs,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Yn&&(Yn&&t.type==="mousemove"?(Js=t.screenX-Yn.screenX,ea=t.screenY-Yn.screenY):ea=Js=0,Yn=t),Js)},movementY:function(t){return"movementY"in t?t.movementY:ea}}),vn=It(os),ou=E({},os,{dataTransfer:0}),Nh=It(ou),ls=E({},as,{relatedTarget:0}),ta=It(ls),Ao=E({},He,{animationName:0,elapsedTime:0,pseudoElement:0}),na=It(Ao),lu=E({},He,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),ia=It(lu),Oh=E({},He,{data:0}),So=It(Oh),us={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},uu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},cu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function bo(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=cu[t])?!!i[t]:!1}function cs(){return bo}var hu=E({},as,{key:function(t){if(t.key){var i=us[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=Qn(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?uu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:cs,charCode:function(t){return t.type==="keypress"?Qn(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Qn(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),ra=It(hu),fu=E({},os,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),wo=It(fu),bi=E({},as,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:cs}),du=It(bi),mu=E({},He,{propertyName:0,elapsedTime:0,pseudoElement:0}),pu=It(mu),gu=E({},os,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),sa=It(gu),Wt=E({},He,{newState:0,oldState:0}),yu=It(Wt),_u=[9,13,27,32],Xn=Mn&&"CompositionEvent"in window,c=null;Mn&&"documentMode"in document&&(c=document.documentMode);var p=Mn&&"TextEvent"in window&&!c,_=Mn&&(!Xn||c&&8<c&&11>=c),A=" ",U=!1;function G(t,i){switch(t){case"keyup":return _u.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function re(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ke=!1;function Et(t,i){switch(t){case"compositionend":return re(i);case"keypress":return i.which!==32?null:(U=!0,A);case"textInput":return t=i.data,t===A&&U?null:t;default:return null}}function Pe(t,i){if(ke)return t==="compositionend"||!Xn&&G(t,i)?(t=Eo(),Si=ir=Gn=null,ke=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return _&&i.locale!=="ko"?null:i.data;default:return null}}var Dt={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Tt(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!Dt[t.type]:i==="textarea"}function wi(t,i,a,l){Ti?Ai?Ai.push(l):Ai=[l]:Ti=l,i=rc(i,"onChange"),0<i.length&&(a=new Ws("onChange","change",null,a,l),t.push({event:a,listeners:i}))}var Pt=null,$n=null;function Ro(t){qy(t,0)}function vu(t){var i=Hn(t);if(go(i))return t}function cp(t,i){if(t==="change")return i}var hp=!1;if(Mn){var Mh;if(Mn){var xh="oninput"in document;if(!xh){var fp=document.createElement("div");fp.setAttribute("oninput","return;"),xh=typeof fp.oninput=="function"}Mh=xh}else Mh=!1;hp=Mh&&(!document.documentMode||9<document.documentMode)}function dp(){Pt&&(Pt.detachEvent("onpropertychange",mp),$n=Pt=null)}function mp(t){if(t.propertyName==="value"&&vu($n)){var i=[];wi(i,$n,t,yn(t)),su(Ro,i)}}function QT(t,i,a){t==="focusin"?(dp(),Pt=i,$n=a,Pt.attachEvent("onpropertychange",mp)):t==="focusout"&&dp()}function KT(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return vu($n)}function YT(t,i){if(t==="click")return vu(i)}function XT(t,i){if(t==="input"||t==="change")return vu(i)}function $T(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var on=typeof Object.is=="function"?Object.is:$T;function Co(t,i){if(on(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var a=Object.keys(t),l=Object.keys(i);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!qr.call(i,h)||!on(t[h],i[h]))return!1}return!0}function pp(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function gp(t,i){var a=pp(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=i&&l>=i)return{node:a,offset:i-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=pp(a)}}function yp(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?yp(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function _p(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=es(t.document);i instanceof t.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)t=i.contentWindow;else break;i=es(t.document)}return i}function Vh(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}var ZT=Mn&&"documentMode"in document&&11>=document.documentMode,aa=null,kh=null,Io=null,Ph=!1;function vp(t,i,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Ph||aa==null||aa!==es(l)||(l=aa,"selectionStart"in l&&Vh(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Io&&Co(Io,l)||(Io=l,l=rc(kh,"onSelect"),0<l.length&&(i=new Ws("onSelect","select",null,i,a),t.push({event:i,listeners:l}),i.target=aa)))}function hs(t,i){var a={};return a[t.toLowerCase()]=i.toLowerCase(),a["Webkit"+t]="webkit"+i,a["Moz"+t]="moz"+i,a}var oa={animationend:hs("Animation","AnimationEnd"),animationiteration:hs("Animation","AnimationIteration"),animationstart:hs("Animation","AnimationStart"),transitionrun:hs("Transition","TransitionRun"),transitionstart:hs("Transition","TransitionStart"),transitioncancel:hs("Transition","TransitionCancel"),transitionend:hs("Transition","TransitionEnd")},Uh={},Ep={};Mn&&(Ep=document.createElement("div").style,"AnimationEvent"in window||(delete oa.animationend.animation,delete oa.animationiteration.animation,delete oa.animationstart.animation),"TransitionEvent"in window||delete oa.transitionend.transition);function fs(t){if(Uh[t])return Uh[t];if(!oa[t])return t;var i=oa[t],a;for(a in i)if(i.hasOwnProperty(a)&&a in Ep)return Uh[t]=i[a];return t}var Tp=fs("animationend"),Ap=fs("animationiteration"),Sp=fs("animationstart"),WT=fs("transitionrun"),JT=fs("transitionstart"),eA=fs("transitioncancel"),bp=fs("transitionend"),wp=new Map,Lh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Lh.push("scrollEnd");function xn(t,i){wp.set(t,i),On(i,[t])}var Rp=new WeakMap;function En(t,i){if(typeof t=="object"&&t!==null){var a=Rp.get(t);return a!==void 0?a:(i={value:t,source:i,stack:Xs(i)},Rp.set(t,i),i)}return{value:t,source:i,stack:Xs(i)}}var Tn=[],la=0,zh=0;function Eu(){for(var t=la,i=zh=la=0;i<t;){var a=Tn[i];Tn[i++]=null;var l=Tn[i];Tn[i++]=null;var h=Tn[i];Tn[i++]=null;var d=Tn[i];if(Tn[i++]=null,l!==null&&h!==null){var v=l.pending;v===null?h.next=h:(h.next=v.next,v.next=h),l.pending=h}d!==0&&Cp(a,h,d)}}function Tu(t,i,a,l){Tn[la++]=t,Tn[la++]=i,Tn[la++]=a,Tn[la++]=l,zh|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function jh(t,i,a,l){return Tu(t,i,a,l),Au(t)}function ua(t,i){return Tu(t,null,null,i),Au(t)}function Cp(t,i,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var h=!1,d=t.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(h=!0)),t=d,d=d.return;return t.tag===3?(d=t.stateNode,h&&i!==null&&(h=31-qt(a),t=d.hiddenUpdates,l=t[h],l===null?t[h]=[i]:l.push(i),i.lane=a|536870912),d):null}function Au(t){if(50<Jo)throw Jo=0,Kf=null,Error(s(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var ca={};function tA(t,i,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ln(t,i,a,l){return new tA(t,i,a,l)}function Bh(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Ri(t,i){var a=t.alternate;return a===null?(a=ln(t.tag,i,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=i,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,i=t.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function Ip(t,i){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,i=a.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function Su(t,i,a,l,h,d){var v=0;if(l=t,typeof t=="function")Bh(t)&&(v=1);else if(typeof t=="string")v=iS(t,a,me.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case w:return t=ln(31,a,i,h),t.elementType=w,t.lanes=d,t;case L:return ds(a.children,h,d,i);case Z:v=8,h|=24;break;case F:return t=ln(12,a,i,h|2),t.elementType=F,t.lanes=d,t;case ce:return t=ln(13,a,i,h),t.elementType=ce,t.lanes=d,t;case we:return t=ln(19,a,i,h),t.elementType=we,t.lanes=d,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case $:case te:v=10;break e;case se:v=9;break e;case fe:v=11;break e;case M:v=14;break e;case S:v=16,l=null;break e}v=29,a=Error(s(130,t===null?"null":typeof t,"")),l=null}return i=ln(v,a,i,h),i.elementType=t,i.type=l,i.lanes=d,i}function ds(t,i,a,l){return t=ln(7,t,l,i),t.lanes=a,t}function Hh(t,i,a){return t=ln(6,t,null,i),t.lanes=a,t}function qh(t,i,a){return i=ln(4,t.children!==null?t.children:[],t.key,i),i.lanes=a,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}var ha=[],fa=0,bu=null,wu=0,An=[],Sn=0,ms=null,Ci=1,Ii="";function ps(t,i){ha[fa++]=wu,ha[fa++]=bu,bu=t,wu=i}function Dp(t,i,a){An[Sn++]=Ci,An[Sn++]=Ii,An[Sn++]=ms,ms=t;var l=Ci;t=Ii;var h=32-qt(l)-1;l&=~(1<<h),a+=1;var d=32-qt(i)+h;if(30<d){var v=h-h%5;d=(l&(1<<v)-1).toString(32),l>>=v,h-=v,Ci=1<<32-qt(i)+h|a<<h|l,Ii=d+t}else Ci=1<<d|a<<h|l,Ii=t}function Fh(t){t.return!==null&&(ps(t,1),Dp(t,1,0))}function Gh(t){for(;t===bu;)bu=ha[--fa],ha[fa]=null,wu=ha[--fa],ha[fa]=null;for(;t===ms;)ms=An[--Sn],An[Sn]=null,Ii=An[--Sn],An[Sn]=null,Ci=An[--Sn],An[Sn]=null}var Jt=null,ot=null,Be=!1,gs=null,Zn=!1,Qh=Error(s(519));function ys(t){var i=Error(s(418,""));throw Oo(En(i,t)),Qh}function Np(t){var i=t.stateNode,a=t.type,l=t.memoizedProps;switch(i[vt]=t,i[mt]=l,a){case"dialog":Me("cancel",i),Me("close",i);break;case"iframe":case"object":case"embed":Me("load",i);break;case"video":case"audio":for(a=0;a<tl.length;a++)Me(tl[a],i);break;case"source":Me("error",i);break;case"img":case"image":case"link":Me("error",i),Me("load",i);break;case"details":Me("toggle",i);break;case"input":Me("invalid",i),ts(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),$s(i);break;case"select":Me("invalid",i);break;case"textarea":Me("invalid",i),ns(i,l.value,l.defaultValue,l.children),$s(i)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||l.suppressHydrationWarning===!0||Ky(i.textContent,a)?(l.popover!=null&&(Me("beforetoggle",i),Me("toggle",i)),l.onScroll!=null&&Me("scroll",i),l.onScrollEnd!=null&&Me("scrollend",i),l.onClick!=null&&(i.onclick=sc),i=!0):i=!1,i||ys(t)}function Op(t){for(Jt=t.return;Jt;)switch(Jt.tag){case 5:case 13:Zn=!1;return;case 27:case 3:Zn=!0;return;default:Jt=Jt.return}}function Do(t){if(t!==Jt)return!1;if(!Be)return Op(t),Be=!0,!1;var i=t.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||ud(t.type,t.memoizedProps)),a=!a),a&&ot&&ys(t),Op(t),i===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));e:{for(t=t.nextSibling,i=0;t;){if(t.nodeType===8)if(a=t.data,a==="/$"){if(i===0){ot=kn(t.nextSibling);break e}i--}else a!=="$"&&a!=="$!"&&a!=="$?"||i++;t=t.nextSibling}ot=null}}else i===27?(i=ot,vr(t.type)?(t=dd,dd=null,ot=t):ot=i):ot=Jt?kn(t.stateNode.nextSibling):null;return!0}function No(){ot=Jt=null,Be=!1}function Mp(){var t=gs;return t!==null&&(nn===null?nn=t:nn.push.apply(nn,t),gs=null),t}function Oo(t){gs===null?gs=[t]:gs.push(t)}var Kh=ee(null),_s=null,Di=null;function rr(t,i,a){ie(Kh,i._currentValue),i._currentValue=a}function Ni(t){t._currentValue=Kh.current,oe(Kh)}function Yh(t,i,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),t===a)break;t=t.return}}function Xh(t,i,a,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var d=h.dependencies;if(d!==null){var v=h.child;d=d.firstContext;e:for(;d!==null;){var T=d;d=h;for(var R=0;R<i.length;R++)if(T.context===i[R]){d.lanes|=a,T=d.alternate,T!==null&&(T.lanes|=a),Yh(d.return,a,t),l||(v=null);break e}d=T.next}}else if(h.tag===18){if(v=h.return,v===null)throw Error(s(341));v.lanes|=a,d=v.alternate,d!==null&&(d.lanes|=a),Yh(v,a,t),v=null}else v=h.child;if(v!==null)v.return=h;else for(v=h;v!==null;){if(v===t){v=null;break}if(h=v.sibling,h!==null){h.return=v.return,v=h;break}v=v.return}h=v}}function Mo(t,i,a,l){t=null;for(var h=i,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var v=h.alternate;if(v===null)throw Error(s(387));if(v=v.memoizedProps,v!==null){var T=h.type;on(h.pendingProps.value,v.value)||(t!==null?t.push(T):t=[T])}}else if(h===Ct.current){if(v=h.alternate,v===null)throw Error(s(387));v.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(ol):t=[ol])}h=h.return}t!==null&&Xh(i,t,a,l),i.flags|=262144}function Ru(t){for(t=t.firstContext;t!==null;){if(!on(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function vs(t){_s=t,Di=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Ft(t){return xp(_s,t)}function Cu(t,i){return _s===null&&vs(t),xp(t,i)}function xp(t,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},Di===null){if(t===null)throw Error(s(308));Di=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else Di=Di.next=i;return a}var nA=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){i.aborted=!0,t.forEach(function(a){return a()})}},iA=r.unstable_scheduleCallback,rA=r.unstable_NormalPriority,At={$$typeof:te,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function $h(){return{controller:new nA,data:new Map,refCount:0}}function xo(t){t.refCount--,t.refCount===0&&iA(rA,function(){t.controller.abort()})}var Vo=null,Zh=0,da=0,ma=null;function sA(t,i){if(Vo===null){var a=Vo=[];Zh=0,da=ed(),ma={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Zh++,i.then(Vp,Vp),i}function Vp(){if(--Zh===0&&Vo!==null){ma!==null&&(ma.status="fulfilled");var t=Vo;Vo=null,da=0,ma=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function aA(t,i){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return t.then(function(){l.status="fulfilled",l.value=i;for(var h=0;h<a.length;h++)(0,a[h])(i)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var kp=Q.S;Q.S=function(t,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&sA(t,i),kp!==null&&kp(t,i)};var Es=ee(null);function Wh(){var t=Es.current;return t!==null?t:Je.pooledCache}function Iu(t,i){i===null?ie(Es,Es.current):ie(Es,i.pool)}function Pp(){var t=Wh();return t===null?null:{parent:At._currentValue,pool:t}}var ko=Error(s(460)),Up=Error(s(474)),Du=Error(s(542)),Jh={then:function(){}};function Lp(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Nu(){}function zp(t,i,a){switch(a=t[a],a===void 0?t.push(i):a!==i&&(i.then(Nu,Nu),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,Bp(t),t;default:if(typeof i.status=="string")i.then(Nu,Nu);else{if(t=Je,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=i,t.status="pending",t.then(function(l){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=l}},function(l){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,Bp(t),t}throw Po=i,ko}}var Po=null;function jp(){if(Po===null)throw Error(s(459));var t=Po;return Po=null,t}function Bp(t){if(t===ko||t===Du)throw Error(s(483))}var sr=!1;function ef(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function tf(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function ar(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function or(t,i,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Ge&2)!==0){var h=l.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),l.pending=i,i=Au(t),Cp(t,null,a),i}return Tu(t,l,i,a),Au(t)}function Uo(t,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,co(t,a)}}function nf(t,i){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var v={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?h=d=v:d=d.next=v,a=a.next}while(a!==null);d===null?h=d=i:d=d.next=i}else h=d=i;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=i:t.next=i,a.lastBaseUpdate=i}var rf=!1;function Lo(){if(rf){var t=ma;if(t!==null)throw t}}function zo(t,i,a,l){rf=!1;var h=t.updateQueue;sr=!1;var d=h.firstBaseUpdate,v=h.lastBaseUpdate,T=h.shared.pending;if(T!==null){h.shared.pending=null;var R=T,j=R.next;R.next=null,v===null?d=j:v.next=j,v=R;var K=t.alternate;K!==null&&(K=K.updateQueue,T=K.lastBaseUpdate,T!==v&&(T===null?K.firstBaseUpdate=j:T.next=j,K.lastBaseUpdate=R))}if(d!==null){var W=h.baseState;v=0,K=j=R=null,T=d;do{var B=T.lane&-536870913,H=B!==T.lane;if(H?(Ue&B)===B:(l&B)===B){B!==0&&B===da&&(rf=!0),K!==null&&(K=K.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});e:{var ve=t,pe=T;B=i;var $e=a;switch(pe.tag){case 1:if(ve=pe.payload,typeof ve=="function"){W=ve.call($e,W,B);break e}W=ve;break e;case 3:ve.flags=ve.flags&-65537|128;case 0:if(ve=pe.payload,B=typeof ve=="function"?ve.call($e,W,B):ve,B==null)break e;W=E({},W,B);break e;case 2:sr=!0}}B=T.callback,B!==null&&(t.flags|=64,H&&(t.flags|=8192),H=h.callbacks,H===null?h.callbacks=[B]:H.push(B))}else H={lane:B,tag:T.tag,payload:T.payload,callback:T.callback,next:null},K===null?(j=K=H,R=W):K=K.next=H,v|=B;if(T=T.next,T===null){if(T=h.shared.pending,T===null)break;H=T,T=H.next,H.next=null,h.lastBaseUpdate=H,h.shared.pending=null}}while(!0);K===null&&(R=W),h.baseState=R,h.firstBaseUpdate=j,h.lastBaseUpdate=K,d===null&&(h.shared.lanes=0),pr|=v,t.lanes=v,t.memoizedState=W}}function Hp(t,i){if(typeof t!="function")throw Error(s(191,t));t.call(i)}function qp(t,i){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)Hp(a[t],i)}var pa=ee(null),Ou=ee(0);function Fp(t,i){t=Ui,ie(Ou,t),ie(pa,i),Ui=t|i.baseLanes}function sf(){ie(Ou,Ui),ie(pa,pa.current)}function af(){Ui=Ou.current,oe(pa),oe(Ou)}var lr=0,Ce=null,Ye=null,gt=null,Mu=!1,ga=!1,Ts=!1,xu=0,jo=0,ya=null,oA=0;function ht(){throw Error(s(321))}function of(t,i){if(i===null)return!1;for(var a=0;a<i.length&&a<t.length;a++)if(!on(t[a],i[a]))return!1;return!0}function lf(t,i,a,l,h,d){return lr=d,Ce=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,Q.H=t===null||t.memoizedState===null?Cg:Ig,Ts=!1,d=a(l,h),Ts=!1,ga&&(d=Qp(i,a,l,h)),Gp(t),d}function Gp(t){Q.H=zu;var i=Ye!==null&&Ye.next!==null;if(lr=0,gt=Ye=Ce=null,Mu=!1,jo=0,ya=null,i)throw Error(s(300));t===null||Nt||(t=t.dependencies,t!==null&&Ru(t)&&(Nt=!0))}function Qp(t,i,a,l){Ce=t;var h=0;do{if(ga&&(ya=null),jo=0,ga=!1,25<=h)throw Error(s(301));if(h+=1,gt=Ye=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}Q.H=mA,d=i(a,l)}while(ga);return d}function lA(){var t=Q.H,i=t.useState()[0];return i=typeof i.then=="function"?Bo(i):i,t=t.useState()[0],(Ye!==null?Ye.memoizedState:null)!==t&&(Ce.flags|=1024),i}function uf(){var t=xu!==0;return xu=0,t}function cf(t,i,a){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~a}function hf(t){if(Mu){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}Mu=!1}lr=0,gt=Ye=Ce=null,ga=!1,jo=xu=0,ya=null}function en(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return gt===null?Ce.memoizedState=gt=t:gt=gt.next=t,gt}function yt(){if(Ye===null){var t=Ce.alternate;t=t!==null?t.memoizedState:null}else t=Ye.next;var i=gt===null?Ce.memoizedState:gt.next;if(i!==null)gt=i,Ye=t;else{if(t===null)throw Ce.alternate===null?Error(s(467)):Error(s(310));Ye=t,t={memoizedState:Ye.memoizedState,baseState:Ye.baseState,baseQueue:Ye.baseQueue,queue:Ye.queue,next:null},gt===null?Ce.memoizedState=gt=t:gt=gt.next=t}return gt}function ff(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Bo(t){var i=jo;return jo+=1,ya===null&&(ya=[]),t=zp(ya,t,i),i=Ce,(gt===null?i.memoizedState:gt.next)===null&&(i=i.alternate,Q.H=i===null||i.memoizedState===null?Cg:Ig),t}function Vu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Bo(t);if(t.$$typeof===te)return Ft(t)}throw Error(s(438,String(t)))}function df(t){var i=null,a=Ce.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var l=Ce.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=ff(),Ce.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(t),l=0;l<t;l++)a[l]=N;return i.index++,a}function Oi(t,i){return typeof i=="function"?i(t):i}function ku(t){var i=yt();return mf(i,Ye,t)}function mf(t,i,a){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var h=t.baseQueue,d=l.pending;if(d!==null){if(h!==null){var v=h.next;h.next=d.next,d.next=v}i.baseQueue=h=d,l.pending=null}if(d=t.baseState,h===null)t.memoizedState=d;else{i=h.next;var T=v=null,R=null,j=i,K=!1;do{var W=j.lane&-536870913;if(W!==j.lane?(Ue&W)===W:(lr&W)===W){var B=j.revertLane;if(B===0)R!==null&&(R=R.next={lane:0,revertLane:0,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null}),W===da&&(K=!0);else if((lr&B)===B){j=j.next,B===da&&(K=!0);continue}else W={lane:0,revertLane:j.revertLane,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},R===null?(T=R=W,v=d):R=R.next=W,Ce.lanes|=B,pr|=B;W=j.action,Ts&&a(d,W),d=j.hasEagerState?j.eagerState:a(d,W)}else B={lane:W,revertLane:j.revertLane,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},R===null?(T=R=B,v=d):R=R.next=B,Ce.lanes|=W,pr|=W;j=j.next}while(j!==null&&j!==i);if(R===null?v=d:R.next=T,!on(d,t.memoizedState)&&(Nt=!0,K&&(a=ma,a!==null)))throw a;t.memoizedState=d,t.baseState=v,t.baseQueue=R,l.lastRenderedState=d}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function pf(t){var i=yt(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var l=a.dispatch,h=a.pending,d=i.memoizedState;if(h!==null){a.pending=null;var v=h=h.next;do d=t(d,v.action),v=v.next;while(v!==h);on(d,i.memoizedState)||(Nt=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),a.lastRenderedState=d}return[d,l]}function Kp(t,i,a){var l=Ce,h=yt(),d=Be;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=i();var v=!on((Ye||h).memoizedState,a);v&&(h.memoizedState=a,Nt=!0),h=h.queue;var T=$p.bind(null,l,h,t);if(Ho(2048,8,T,[t]),h.getSnapshot!==i||v||gt!==null&&gt.memoizedState.tag&1){if(l.flags|=2048,_a(9,Pu(),Xp.bind(null,l,h,a,i),null),Je===null)throw Error(s(349));d||(lr&124)!==0||Yp(l,i,a)}return a}function Yp(t,i,a){t.flags|=16384,t={getSnapshot:i,value:a},i=Ce.updateQueue,i===null?(i=ff(),Ce.updateQueue=i,i.stores=[t]):(a=i.stores,a===null?i.stores=[t]:a.push(t))}function Xp(t,i,a,l){i.value=a,i.getSnapshot=l,Zp(i)&&Wp(t)}function $p(t,i,a){return a(function(){Zp(i)&&Wp(t)})}function Zp(t){var i=t.getSnapshot;t=t.value;try{var a=i();return!on(t,a)}catch{return!0}}function Wp(t){var i=ua(t,2);i!==null&&dn(i,t,2)}function gf(t){var i=en();if(typeof t=="function"){var a=t;if(t=a(),Ts){sn(!0);try{a()}finally{sn(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Oi,lastRenderedState:t},i}function Jp(t,i,a,l){return t.baseState=a,mf(t,Ye,typeof l=="function"?l:Oi)}function uA(t,i,a,l,h){if(Lu(t))throw Error(s(485));if(t=i.action,t!==null){var d={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){d.listeners.push(v)}};Q.T!==null?a(!0):d.isTransition=!1,l(d),a=i.pending,a===null?(d.next=i.pending=d,eg(i,d)):(d.next=a.next,i.pending=a.next=d)}}function eg(t,i){var a=i.action,l=i.payload,h=t.state;if(i.isTransition){var d=Q.T,v={};Q.T=v;try{var T=a(h,l),R=Q.S;R!==null&&R(v,T),tg(t,i,T)}catch(j){yf(t,i,j)}finally{Q.T=d}}else try{d=a(h,l),tg(t,i,d)}catch(j){yf(t,i,j)}}function tg(t,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){ng(t,i,l)},function(l){return yf(t,i,l)}):ng(t,i,a)}function ng(t,i,a){i.status="fulfilled",i.value=a,ig(i),t.state=a,i=t.pending,i!==null&&(a=i.next,a===i?t.pending=null:(a=a.next,i.next=a,eg(t,a)))}function yf(t,i,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=a,ig(i),i=i.next;while(i!==l)}t.action=null}function ig(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function rg(t,i){return i}function sg(t,i){if(Be){var a=Je.formState;if(a!==null){e:{var l=Ce;if(Be){if(ot){t:{for(var h=ot,d=Zn;h.nodeType!==8;){if(!d){h=null;break t}if(h=kn(h.nextSibling),h===null){h=null;break t}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){ot=kn(h.nextSibling),l=h.data==="F!";break e}}ys(l)}l=!1}l&&(i=a[0])}}return a=en(),a.memoizedState=a.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:rg,lastRenderedState:i},a.queue=l,a=bg.bind(null,Ce,l),l.dispatch=a,l=gf(!1),d=Af.bind(null,Ce,!1,l.queue),l=en(),h={state:i,dispatch:null,action:t,pending:null},l.queue=h,a=uA.bind(null,Ce,h,d,a),h.dispatch=a,l.memoizedState=t,[i,a,!1]}function ag(t){var i=yt();return og(i,Ye,t)}function og(t,i,a){if(i=mf(t,i,rg)[0],t=ku(Oi)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=Bo(i)}catch(v){throw v===ko?Du:v}else l=i;i=yt();var h=i.queue,d=h.dispatch;return a!==i.memoizedState&&(Ce.flags|=2048,_a(9,Pu(),cA.bind(null,h,a),null)),[l,d,t]}function cA(t,i){t.action=i}function lg(t){var i=yt(),a=Ye;if(a!==null)return og(i,a,t);yt(),i=i.memoizedState,a=yt();var l=a.queue.dispatch;return a.memoizedState=t,[i,l,!1]}function _a(t,i,a,l){return t={tag:t,create:a,deps:l,inst:i,next:null},i=Ce.updateQueue,i===null&&(i=ff(),Ce.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,i.lastEffect=t),t}function Pu(){return{destroy:void 0,resource:void 0}}function ug(){return yt().memoizedState}function Uu(t,i,a,l){var h=en();l=l===void 0?null:l,Ce.flags|=t,h.memoizedState=_a(1|i,Pu(),a,l)}function Ho(t,i,a,l){var h=yt();l=l===void 0?null:l;var d=h.memoizedState.inst;Ye!==null&&l!==null&&of(l,Ye.memoizedState.deps)?h.memoizedState=_a(i,d,a,l):(Ce.flags|=t,h.memoizedState=_a(1|i,d,a,l))}function cg(t,i){Uu(8390656,8,t,i)}function hg(t,i){Ho(2048,8,t,i)}function fg(t,i){return Ho(4,2,t,i)}function dg(t,i){return Ho(4,4,t,i)}function mg(t,i){if(typeof i=="function"){t=t();var a=i(t);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function pg(t,i,a){a=a!=null?a.concat([t]):null,Ho(4,4,mg.bind(null,i,t),a)}function _f(){}function gg(t,i){var a=yt();i=i===void 0?null:i;var l=a.memoizedState;return i!==null&&of(i,l[1])?l[0]:(a.memoizedState=[t,i],t)}function yg(t,i){var a=yt();i=i===void 0?null:i;var l=a.memoizedState;if(i!==null&&of(i,l[1]))return l[0];if(l=t(),Ts){sn(!0);try{t()}finally{sn(!1)}}return a.memoizedState=[l,i],l}function vf(t,i,a){return a===void 0||(lr&1073741824)!==0?t.memoizedState=i:(t.memoizedState=a,t=Ey(),Ce.lanes|=t,pr|=t,a)}function _g(t,i,a,l){return on(a,i)?a:pa.current!==null?(t=vf(t,a,l),on(t,i)||(Nt=!0),t):(lr&42)===0?(Nt=!0,t.memoizedState=a):(t=Ey(),Ce.lanes|=t,pr|=t,i)}function vg(t,i,a,l,h){var d=ae.p;ae.p=d!==0&&8>d?d:8;var v=Q.T,T={};Q.T=T,Af(t,!1,i,a);try{var R=h(),j=Q.S;if(j!==null&&j(T,R),R!==null&&typeof R=="object"&&typeof R.then=="function"){var K=aA(R,l);qo(t,i,K,fn(t))}else qo(t,i,l,fn(t))}catch(W){qo(t,i,{then:function(){},status:"rejected",reason:W},fn())}finally{ae.p=d,Q.T=v}}function hA(){}function Ef(t,i,a,l){if(t.tag!==5)throw Error(s(476));var h=Eg(t).queue;vg(t,h,i,de,a===null?hA:function(){return Tg(t),a(l)})}function Eg(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:de,baseState:de,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Oi,lastRenderedState:de},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Oi,lastRenderedState:a},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function Tg(t){var i=Eg(t).next.queue;qo(t,i,{},fn())}function Tf(){return Ft(ol)}function Ag(){return yt().memoizedState}function Sg(){return yt().memoizedState}function fA(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var a=fn();t=ar(a);var l=or(i,t,a);l!==null&&(dn(l,i,a),Uo(l,i,a)),i={cache:$h()},t.payload=i;return}i=i.return}}function dA(t,i,a){var l=fn();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},Lu(t)?wg(i,a):(a=jh(t,i,a,l),a!==null&&(dn(a,t,l),Rg(a,i,l)))}function bg(t,i,a){var l=fn();qo(t,i,a,l)}function qo(t,i,a,l){var h={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(Lu(t))wg(i,h);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var v=i.lastRenderedState,T=d(v,a);if(h.hasEagerState=!0,h.eagerState=T,on(T,v))return Tu(t,i,h,0),Je===null&&Eu(),!1}catch{}finally{}if(a=jh(t,i,h,l),a!==null)return dn(a,t,l),Rg(a,i,l),!0}return!1}function Af(t,i,a,l){if(l={lane:2,revertLane:ed(),action:l,hasEagerState:!1,eagerState:null,next:null},Lu(t)){if(i)throw Error(s(479))}else i=jh(t,a,l,2),i!==null&&dn(i,t,2)}function Lu(t){var i=t.alternate;return t===Ce||i!==null&&i===Ce}function wg(t,i){ga=Mu=!0;var a=t.pending;a===null?i.next=i:(i.next=a.next,a.next=i),t.pending=i}function Rg(t,i,a){if((a&4194048)!==0){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,co(t,a)}}var zu={readContext:Ft,use:Vu,useCallback:ht,useContext:ht,useEffect:ht,useImperativeHandle:ht,useLayoutEffect:ht,useInsertionEffect:ht,useMemo:ht,useReducer:ht,useRef:ht,useState:ht,useDebugValue:ht,useDeferredValue:ht,useTransition:ht,useSyncExternalStore:ht,useId:ht,useHostTransitionStatus:ht,useFormState:ht,useActionState:ht,useOptimistic:ht,useMemoCache:ht,useCacheRefresh:ht},Cg={readContext:Ft,use:Vu,useCallback:function(t,i){return en().memoizedState=[t,i===void 0?null:i],t},useContext:Ft,useEffect:cg,useImperativeHandle:function(t,i,a){a=a!=null?a.concat([t]):null,Uu(4194308,4,mg.bind(null,i,t),a)},useLayoutEffect:function(t,i){return Uu(4194308,4,t,i)},useInsertionEffect:function(t,i){Uu(4,2,t,i)},useMemo:function(t,i){var a=en();i=i===void 0?null:i;var l=t();if(Ts){sn(!0);try{t()}finally{sn(!1)}}return a.memoizedState=[l,i],l},useReducer:function(t,i,a){var l=en();if(a!==void 0){var h=a(i);if(Ts){sn(!0);try{a(i)}finally{sn(!1)}}}else h=i;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=dA.bind(null,Ce,t),[l.memoizedState,t]},useRef:function(t){var i=en();return t={current:t},i.memoizedState=t},useState:function(t){t=gf(t);var i=t.queue,a=bg.bind(null,Ce,i);return i.dispatch=a,[t.memoizedState,a]},useDebugValue:_f,useDeferredValue:function(t,i){var a=en();return vf(a,t,i)},useTransition:function(){var t=gf(!1);return t=vg.bind(null,Ce,t.queue,!0,!1),en().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,a){var l=Ce,h=en();if(Be){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),Je===null)throw Error(s(349));(Ue&124)!==0||Yp(l,i,a)}h.memoizedState=a;var d={value:a,getSnapshot:i};return h.queue=d,cg($p.bind(null,l,d,t),[t]),l.flags|=2048,_a(9,Pu(),Xp.bind(null,l,d,a,i),null),a},useId:function(){var t=en(),i=Je.identifierPrefix;if(Be){var a=Ii,l=Ci;a=(l&~(1<<32-qt(l)-1)).toString(32)+a,i="«"+i+"R"+a,a=xu++,0<a&&(i+="H"+a.toString(32)),i+="»"}else a=oA++,i="«"+i+"r"+a.toString(32)+"»";return t.memoizedState=i},useHostTransitionStatus:Tf,useFormState:sg,useActionState:sg,useOptimistic:function(t){var i=en();i.memoizedState=i.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=Af.bind(null,Ce,!0,a),a.dispatch=i,[t,i]},useMemoCache:df,useCacheRefresh:function(){return en().memoizedState=fA.bind(null,Ce)}},Ig={readContext:Ft,use:Vu,useCallback:gg,useContext:Ft,useEffect:hg,useImperativeHandle:pg,useInsertionEffect:fg,useLayoutEffect:dg,useMemo:yg,useReducer:ku,useRef:ug,useState:function(){return ku(Oi)},useDebugValue:_f,useDeferredValue:function(t,i){var a=yt();return _g(a,Ye.memoizedState,t,i)},useTransition:function(){var t=ku(Oi)[0],i=yt().memoizedState;return[typeof t=="boolean"?t:Bo(t),i]},useSyncExternalStore:Kp,useId:Ag,useHostTransitionStatus:Tf,useFormState:ag,useActionState:ag,useOptimistic:function(t,i){var a=yt();return Jp(a,Ye,t,i)},useMemoCache:df,useCacheRefresh:Sg},mA={readContext:Ft,use:Vu,useCallback:gg,useContext:Ft,useEffect:hg,useImperativeHandle:pg,useInsertionEffect:fg,useLayoutEffect:dg,useMemo:yg,useReducer:pf,useRef:ug,useState:function(){return pf(Oi)},useDebugValue:_f,useDeferredValue:function(t,i){var a=yt();return Ye===null?vf(a,t,i):_g(a,Ye.memoizedState,t,i)},useTransition:function(){var t=pf(Oi)[0],i=yt().memoizedState;return[typeof t=="boolean"?t:Bo(t),i]},useSyncExternalStore:Kp,useId:Ag,useHostTransitionStatus:Tf,useFormState:lg,useActionState:lg,useOptimistic:function(t,i){var a=yt();return Ye!==null?Jp(a,Ye,t,i):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:df,useCacheRefresh:Sg},va=null,Fo=0;function ju(t){var i=Fo;return Fo+=1,va===null&&(va=[]),zp(va,t,i)}function Go(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function Bu(t,i){throw i.$$typeof===b?Error(s(525)):(t=Object.prototype.toString.call(i),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function Dg(t){var i=t._init;return i(t._payload)}function Ng(t){function i(V,O){if(t){var z=V.deletions;z===null?(V.deletions=[O],V.flags|=16):z.push(O)}}function a(V,O){if(!t)return null;for(;O!==null;)i(V,O),O=O.sibling;return null}function l(V){for(var O=new Map;V!==null;)V.key!==null?O.set(V.key,V):O.set(V.index,V),V=V.sibling;return O}function h(V,O){return V=Ri(V,O),V.index=0,V.sibling=null,V}function d(V,O,z){return V.index=z,t?(z=V.alternate,z!==null?(z=z.index,z<O?(V.flags|=67108866,O):z):(V.flags|=67108866,O)):(V.flags|=1048576,O)}function v(V){return t&&V.alternate===null&&(V.flags|=67108866),V}function T(V,O,z,X){return O===null||O.tag!==6?(O=Hh(z,V.mode,X),O.return=V,O):(O=h(O,z),O.return=V,O)}function R(V,O,z,X){var ue=z.type;return ue===L?K(V,O,z.props.children,X,z.key):O!==null&&(O.elementType===ue||typeof ue=="object"&&ue!==null&&ue.$$typeof===S&&Dg(ue)===O.type)?(O=h(O,z.props),Go(O,z),O.return=V,O):(O=Su(z.type,z.key,z.props,null,V.mode,X),Go(O,z),O.return=V,O)}function j(V,O,z,X){return O===null||O.tag!==4||O.stateNode.containerInfo!==z.containerInfo||O.stateNode.implementation!==z.implementation?(O=qh(z,V.mode,X),O.return=V,O):(O=h(O,z.children||[]),O.return=V,O)}function K(V,O,z,X,ue){return O===null||O.tag!==7?(O=ds(z,V.mode,X,ue),O.return=V,O):(O=h(O,z),O.return=V,O)}function W(V,O,z){if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return O=Hh(""+O,V.mode,z),O.return=V,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case C:return z=Su(O.type,O.key,O.props,null,V.mode,z),Go(z,O),z.return=V,z;case P:return O=qh(O,V.mode,z),O.return=V,O;case S:var X=O._init;return O=X(O._payload),W(V,O,z)}if(st(O)||k(O))return O=ds(O,V.mode,z,null),O.return=V,O;if(typeof O.then=="function")return W(V,ju(O),z);if(O.$$typeof===te)return W(V,Cu(V,O),z);Bu(V,O)}return null}function B(V,O,z,X){var ue=O!==null?O.key:null;if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return ue!==null?null:T(V,O,""+z,X);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case C:return z.key===ue?R(V,O,z,X):null;case P:return z.key===ue?j(V,O,z,X):null;case S:return ue=z._init,z=ue(z._payload),B(V,O,z,X)}if(st(z)||k(z))return ue!==null?null:K(V,O,z,X,null);if(typeof z.then=="function")return B(V,O,ju(z),X);if(z.$$typeof===te)return B(V,O,Cu(V,z),X);Bu(V,z)}return null}function H(V,O,z,X,ue){if(typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint")return V=V.get(z)||null,T(O,V,""+X,ue);if(typeof X=="object"&&X!==null){switch(X.$$typeof){case C:return V=V.get(X.key===null?z:X.key)||null,R(O,V,X,ue);case P:return V=V.get(X.key===null?z:X.key)||null,j(O,V,X,ue);case S:var Ne=X._init;return X=Ne(X._payload),H(V,O,z,X,ue)}if(st(X)||k(X))return V=V.get(z)||null,K(O,V,X,ue,null);if(typeof X.then=="function")return H(V,O,z,ju(X),ue);if(X.$$typeof===te)return H(V,O,z,Cu(O,X),ue);Bu(O,X)}return null}function ve(V,O,z,X){for(var ue=null,Ne=null,he=O,_e=O=0,Mt=null;he!==null&&_e<z.length;_e++){he.index>_e?(Mt=he,he=null):Mt=he.sibling;var ze=B(V,he,z[_e],X);if(ze===null){he===null&&(he=Mt);break}t&&he&&ze.alternate===null&&i(V,he),O=d(ze,O,_e),Ne===null?ue=ze:Ne.sibling=ze,Ne=ze,he=Mt}if(_e===z.length)return a(V,he),Be&&ps(V,_e),ue;if(he===null){for(;_e<z.length;_e++)he=W(V,z[_e],X),he!==null&&(O=d(he,O,_e),Ne===null?ue=he:Ne.sibling=he,Ne=he);return Be&&ps(V,_e),ue}for(he=l(he);_e<z.length;_e++)Mt=H(he,V,_e,z[_e],X),Mt!==null&&(t&&Mt.alternate!==null&&he.delete(Mt.key===null?_e:Mt.key),O=d(Mt,O,_e),Ne===null?ue=Mt:Ne.sibling=Mt,Ne=Mt);return t&&he.forEach(function(br){return i(V,br)}),Be&&ps(V,_e),ue}function pe(V,O,z,X){if(z==null)throw Error(s(151));for(var ue=null,Ne=null,he=O,_e=O=0,Mt=null,ze=z.next();he!==null&&!ze.done;_e++,ze=z.next()){he.index>_e?(Mt=he,he=null):Mt=he.sibling;var br=B(V,he,ze.value,X);if(br===null){he===null&&(he=Mt);break}t&&he&&br.alternate===null&&i(V,he),O=d(br,O,_e),Ne===null?ue=br:Ne.sibling=br,Ne=br,he=Mt}if(ze.done)return a(V,he),Be&&ps(V,_e),ue;if(he===null){for(;!ze.done;_e++,ze=z.next())ze=W(V,ze.value,X),ze!==null&&(O=d(ze,O,_e),Ne===null?ue=ze:Ne.sibling=ze,Ne=ze);return Be&&ps(V,_e),ue}for(he=l(he);!ze.done;_e++,ze=z.next())ze=H(he,V,_e,ze.value,X),ze!==null&&(t&&ze.alternate!==null&&he.delete(ze.key===null?_e:ze.key),O=d(ze,O,_e),Ne===null?ue=ze:Ne.sibling=ze,Ne=ze);return t&&he.forEach(function(pS){return i(V,pS)}),Be&&ps(V,_e),ue}function $e(V,O,z,X){if(typeof z=="object"&&z!==null&&z.type===L&&z.key===null&&(z=z.props.children),typeof z=="object"&&z!==null){switch(z.$$typeof){case C:e:{for(var ue=z.key;O!==null;){if(O.key===ue){if(ue=z.type,ue===L){if(O.tag===7){a(V,O.sibling),X=h(O,z.props.children),X.return=V,V=X;break e}}else if(O.elementType===ue||typeof ue=="object"&&ue!==null&&ue.$$typeof===S&&Dg(ue)===O.type){a(V,O.sibling),X=h(O,z.props),Go(X,z),X.return=V,V=X;break e}a(V,O);break}else i(V,O);O=O.sibling}z.type===L?(X=ds(z.props.children,V.mode,X,z.key),X.return=V,V=X):(X=Su(z.type,z.key,z.props,null,V.mode,X),Go(X,z),X.return=V,V=X)}return v(V);case P:e:{for(ue=z.key;O!==null;){if(O.key===ue)if(O.tag===4&&O.stateNode.containerInfo===z.containerInfo&&O.stateNode.implementation===z.implementation){a(V,O.sibling),X=h(O,z.children||[]),X.return=V,V=X;break e}else{a(V,O);break}else i(V,O);O=O.sibling}X=qh(z,V.mode,X),X.return=V,V=X}return v(V);case S:return ue=z._init,z=ue(z._payload),$e(V,O,z,X)}if(st(z))return ve(V,O,z,X);if(k(z)){if(ue=k(z),typeof ue!="function")throw Error(s(150));return z=ue.call(z),pe(V,O,z,X)}if(typeof z.then=="function")return $e(V,O,ju(z),X);if(z.$$typeof===te)return $e(V,O,Cu(V,z),X);Bu(V,z)}return typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint"?(z=""+z,O!==null&&O.tag===6?(a(V,O.sibling),X=h(O,z),X.return=V,V=X):(a(V,O),X=Hh(z,V.mode,X),X.return=V,V=X),v(V)):a(V,O)}return function(V,O,z,X){try{Fo=0;var ue=$e(V,O,z,X);return va=null,ue}catch(he){if(he===ko||he===Du)throw he;var Ne=ln(29,he,null,V.mode);return Ne.lanes=X,Ne.return=V,Ne}finally{}}}var Ea=Ng(!0),Og=Ng(!1),bn=ee(null),Wn=null;function ur(t){var i=t.alternate;ie(St,St.current&1),ie(bn,t),Wn===null&&(i===null||pa.current!==null||i.memoizedState!==null)&&(Wn=t)}function Mg(t){if(t.tag===22){if(ie(St,St.current),ie(bn,t),Wn===null){var i=t.alternate;i!==null&&i.memoizedState!==null&&(Wn=t)}}else cr()}function cr(){ie(St,St.current),ie(bn,bn.current)}function Mi(t){oe(bn),Wn===t&&(Wn=null),oe(St)}var St=ee(0);function Hu(t){for(var i=t;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||fd(a)))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}function Sf(t,i,a,l){i=t.memoizedState,a=a(l,i),a=a==null?i:E({},i,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var bf={enqueueSetState:function(t,i,a){t=t._reactInternals;var l=fn(),h=ar(l);h.payload=i,a!=null&&(h.callback=a),i=or(t,h,l),i!==null&&(dn(i,t,l),Uo(i,t,l))},enqueueReplaceState:function(t,i,a){t=t._reactInternals;var l=fn(),h=ar(l);h.tag=1,h.payload=i,a!=null&&(h.callback=a),i=or(t,h,l),i!==null&&(dn(i,t,l),Uo(i,t,l))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var a=fn(),l=ar(a);l.tag=2,i!=null&&(l.callback=i),i=or(t,l,a),i!==null&&(dn(i,t,a),Uo(i,t,a))}};function xg(t,i,a,l,h,d,v){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,d,v):i.prototype&&i.prototype.isPureReactComponent?!Co(a,l)||!Co(h,d):!0}function Vg(t,i,a,l){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,l),i.state!==t&&bf.enqueueReplaceState(i,i.state,null)}function As(t,i){var a=i;if("ref"in i){a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}if(t=t.defaultProps){a===i&&(a=E({},a));for(var h in t)a[h]===void 0&&(a[h]=t[h])}return a}var qu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function kg(t){qu(t)}function Pg(t){console.error(t)}function Ug(t){qu(t)}function Fu(t,i){try{var a=t.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function Lg(t,i,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function wf(t,i,a){return a=ar(a),a.tag=3,a.payload={element:null},a.callback=function(){Fu(t,i)},a}function zg(t){return t=ar(t),t.tag=3,t}function jg(t,i,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;t.payload=function(){return h(d)},t.callback=function(){Lg(i,a,l)}}var v=a.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(t.callback=function(){Lg(i,a,l),typeof h!="function"&&(gr===null?gr=new Set([this]):gr.add(this));var T=l.stack;this.componentDidCatch(l.value,{componentStack:T!==null?T:""})})}function pA(t,i,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=a.alternate,i!==null&&Mo(i,a,h,!0),a=bn.current,a!==null){switch(a.tag){case 13:return Wn===null?Xf():a.alternate===null&&lt===0&&(lt=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===Jh?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([l]):i.add(l),Zf(t,l,h)),!1;case 22:return a.flags|=65536,l===Jh?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([l]):a.add(l)),Zf(t,l,h)),!1}throw Error(s(435,a.tag))}return Zf(t,l,h),Xf(),!1}if(Be)return i=bn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,l!==Qh&&(t=Error(s(422),{cause:l}),Oo(En(t,a)))):(l!==Qh&&(i=Error(s(423),{cause:l}),Oo(En(i,a))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=En(l,a),h=wf(t.stateNode,l,h),nf(t,h),lt!==4&&(lt=2)),!1;var d=Error(s(520),{cause:l});if(d=En(d,a),Wo===null?Wo=[d]:Wo.push(d),lt!==4&&(lt=2),i===null)return!0;l=En(l,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,t=h&-h,a.lanes|=t,t=wf(a.stateNode,l,t),nf(a,t),!1;case 1:if(i=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(gr===null||!gr.has(d))))return a.flags|=65536,h&=-h,a.lanes|=h,h=zg(h),jg(h,t,a,l),nf(a,h),!1}a=a.return}while(a!==null);return!1}var Bg=Error(s(461)),Nt=!1;function Ut(t,i,a,l){i.child=t===null?Og(i,null,a,l):Ea(i,t.child,a,l)}function Hg(t,i,a,l,h){a=a.render;var d=i.ref;if("ref"in l){var v={};for(var T in l)T!=="ref"&&(v[T]=l[T])}else v=l;return vs(i),l=lf(t,i,a,v,d,h),T=uf(),t!==null&&!Nt?(cf(t,i,h),xi(t,i,h)):(Be&&T&&Fh(i),i.flags|=1,Ut(t,i,l,h),i.child)}function qg(t,i,a,l,h){if(t===null){var d=a.type;return typeof d=="function"&&!Bh(d)&&d.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=d,Fg(t,i,d,l,h)):(t=Su(a.type,null,l,i,i.mode,h),t.ref=i.ref,t.return=i,i.child=t)}if(d=t.child,!xf(t,h)){var v=d.memoizedProps;if(a=a.compare,a=a!==null?a:Co,a(v,l)&&t.ref===i.ref)return xi(t,i,h)}return i.flags|=1,t=Ri(d,l),t.ref=i.ref,t.return=i,i.child=t}function Fg(t,i,a,l,h){if(t!==null){var d=t.memoizedProps;if(Co(d,l)&&t.ref===i.ref)if(Nt=!1,i.pendingProps=l=d,xf(t,h))(t.flags&131072)!==0&&(Nt=!0);else return i.lanes=t.lanes,xi(t,i,h)}return Rf(t,i,a,l,h)}function Gg(t,i,a){var l=i.pendingProps,h=l.children,d=t!==null?t.memoizedState:null;if(l.mode==="hidden"){if((i.flags&128)!==0){if(l=d!==null?d.baseLanes|a:a,t!==null){for(h=i.child=t.child,d=0;h!==null;)d=d|h.lanes|h.childLanes,h=h.sibling;i.childLanes=d&~l}else i.childLanes=0,i.child=null;return Qg(t,i,l,a)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&Iu(i,d!==null?d.cachePool:null),d!==null?Fp(i,d):sf(),Mg(i);else return i.lanes=i.childLanes=536870912,Qg(t,i,d!==null?d.baseLanes|a:a,a)}else d!==null?(Iu(i,d.cachePool),Fp(i,d),cr(),i.memoizedState=null):(t!==null&&Iu(i,null),sf(),cr());return Ut(t,i,h,a),i.child}function Qg(t,i,a,l){var h=Wh();return h=h===null?null:{parent:At._currentValue,pool:h},i.memoizedState={baseLanes:a,cachePool:h},t!==null&&Iu(i,null),sf(),Mg(i),t!==null&&Mo(t,i,l,!0),null}function Gu(t,i){var a=i.ref;if(a===null)t!==null&&t.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(i.flags|=4194816)}}function Rf(t,i,a,l,h){return vs(i),a=lf(t,i,a,l,void 0,h),l=uf(),t!==null&&!Nt?(cf(t,i,h),xi(t,i,h)):(Be&&l&&Fh(i),i.flags|=1,Ut(t,i,a,h),i.child)}function Kg(t,i,a,l,h,d){return vs(i),i.updateQueue=null,a=Qp(i,l,a,h),Gp(t),l=uf(),t!==null&&!Nt?(cf(t,i,d),xi(t,i,d)):(Be&&l&&Fh(i),i.flags|=1,Ut(t,i,a,d),i.child)}function Yg(t,i,a,l,h){if(vs(i),i.stateNode===null){var d=ca,v=a.contextType;typeof v=="object"&&v!==null&&(d=Ft(v)),d=new a(l,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=bf,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=l,d.state=i.memoizedState,d.refs={},ef(i),v=a.contextType,d.context=typeof v=="object"&&v!==null?Ft(v):ca,d.state=i.memoizedState,v=a.getDerivedStateFromProps,typeof v=="function"&&(Sf(i,a,v,l),d.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(v=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),v!==d.state&&bf.enqueueReplaceState(d,d.state,null),zo(i,l,d,h),Lo(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(t===null){d=i.stateNode;var T=i.memoizedProps,R=As(a,T);d.props=R;var j=d.context,K=a.contextType;v=ca,typeof K=="object"&&K!==null&&(v=Ft(K));var W=a.getDerivedStateFromProps;K=typeof W=="function"||typeof d.getSnapshotBeforeUpdate=="function",T=i.pendingProps!==T,K||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(T||j!==v)&&Vg(i,d,l,v),sr=!1;var B=i.memoizedState;d.state=B,zo(i,l,d,h),Lo(),j=i.memoizedState,T||B!==j||sr?(typeof W=="function"&&(Sf(i,a,W,l),j=i.memoizedState),(R=sr||xg(i,a,R,l,B,j,v))?(K||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=j),d.props=l,d.state=j,d.context=v,l=R):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{d=i.stateNode,tf(t,i),v=i.memoizedProps,K=As(a,v),d.props=K,W=i.pendingProps,B=d.context,j=a.contextType,R=ca,typeof j=="object"&&j!==null&&(R=Ft(j)),T=a.getDerivedStateFromProps,(j=typeof T=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(v!==W||B!==R)&&Vg(i,d,l,R),sr=!1,B=i.memoizedState,d.state=B,zo(i,l,d,h),Lo();var H=i.memoizedState;v!==W||B!==H||sr||t!==null&&t.dependencies!==null&&Ru(t.dependencies)?(typeof T=="function"&&(Sf(i,a,T,l),H=i.memoizedState),(K=sr||xg(i,a,K,l,B,H,R)||t!==null&&t.dependencies!==null&&Ru(t.dependencies))?(j||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,H,R),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,H,R)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||v===t.memoizedProps&&B===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&B===t.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=H),d.props=l,d.state=H,d.context=R,l=K):(typeof d.componentDidUpdate!="function"||v===t.memoizedProps&&B===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&B===t.memoizedState||(i.flags|=1024),l=!1)}return d=l,Gu(t,i),l=(i.flags&128)!==0,d||l?(d=i.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,t!==null&&l?(i.child=Ea(i,t.child,null,h),i.child=Ea(i,null,a,h)):Ut(t,i,a,h),i.memoizedState=d.state,t=i.child):t=xi(t,i,h),t}function Xg(t,i,a,l){return No(),i.flags|=256,Ut(t,i,a,l),i.child}var Cf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function If(t){return{baseLanes:t,cachePool:Pp()}}function Df(t,i,a){return t=t!==null?t.childLanes&~a:0,i&&(t|=wn),t}function $g(t,i,a){var l=i.pendingProps,h=!1,d=(i.flags&128)!==0,v;if((v=d)||(v=t!==null&&t.memoizedState===null?!1:(St.current&2)!==0),v&&(h=!0,i.flags&=-129),v=(i.flags&32)!==0,i.flags&=-33,t===null){if(Be){if(h?ur(i):cr(),Be){var T=ot,R;if(R=T){e:{for(R=T,T=Zn;R.nodeType!==8;){if(!T){T=null;break e}if(R=kn(R.nextSibling),R===null){T=null;break e}}T=R}T!==null?(i.memoizedState={dehydrated:T,treeContext:ms!==null?{id:Ci,overflow:Ii}:null,retryLane:536870912,hydrationErrors:null},R=ln(18,null,null,0),R.stateNode=T,R.return=i,i.child=R,Jt=i,ot=null,R=!0):R=!1}R||ys(i)}if(T=i.memoizedState,T!==null&&(T=T.dehydrated,T!==null))return fd(T)?i.lanes=32:i.lanes=536870912,null;Mi(i)}return T=l.children,l=l.fallback,h?(cr(),h=i.mode,T=Qu({mode:"hidden",children:T},h),l=ds(l,h,a,null),T.return=i,l.return=i,T.sibling=l,i.child=T,h=i.child,h.memoizedState=If(a),h.childLanes=Df(t,v,a),i.memoizedState=Cf,l):(ur(i),Nf(i,T))}if(R=t.memoizedState,R!==null&&(T=R.dehydrated,T!==null)){if(d)i.flags&256?(ur(i),i.flags&=-257,i=Of(t,i,a)):i.memoizedState!==null?(cr(),i.child=t.child,i.flags|=128,i=null):(cr(),h=l.fallback,T=i.mode,l=Qu({mode:"visible",children:l.children},T),h=ds(h,T,a,null),h.flags|=2,l.return=i,h.return=i,l.sibling=h,i.child=l,Ea(i,t.child,null,a),l=i.child,l.memoizedState=If(a),l.childLanes=Df(t,v,a),i.memoizedState=Cf,i=h);else if(ur(i),fd(T)){if(v=T.nextSibling&&T.nextSibling.dataset,v)var j=v.dgst;v=j,l=Error(s(419)),l.stack="",l.digest=v,Oo({value:l,source:null,stack:null}),i=Of(t,i,a)}else if(Nt||Mo(t,i,a,!1),v=(a&t.childLanes)!==0,Nt||v){if(v=Je,v!==null&&(l=a&-a,l=(l&42)!==0?1:Zi(l),l=(l&(v.suspendedLanes|a))!==0?0:l,l!==0&&l!==R.retryLane))throw R.retryLane=l,ua(t,l),dn(v,t,l),Bg;T.data==="$?"||Xf(),i=Of(t,i,a)}else T.data==="$?"?(i.flags|=192,i.child=t.child,i=null):(t=R.treeContext,ot=kn(T.nextSibling),Jt=i,Be=!0,gs=null,Zn=!1,t!==null&&(An[Sn++]=Ci,An[Sn++]=Ii,An[Sn++]=ms,Ci=t.id,Ii=t.overflow,ms=i),i=Nf(i,l.children),i.flags|=4096);return i}return h?(cr(),h=l.fallback,T=i.mode,R=t.child,j=R.sibling,l=Ri(R,{mode:"hidden",children:l.children}),l.subtreeFlags=R.subtreeFlags&65011712,j!==null?h=Ri(j,h):(h=ds(h,T,a,null),h.flags|=2),h.return=i,l.return=i,l.sibling=h,i.child=l,l=h,h=i.child,T=t.child.memoizedState,T===null?T=If(a):(R=T.cachePool,R!==null?(j=At._currentValue,R=R.parent!==j?{parent:j,pool:j}:R):R=Pp(),T={baseLanes:T.baseLanes|a,cachePool:R}),h.memoizedState=T,h.childLanes=Df(t,v,a),i.memoizedState=Cf,l):(ur(i),a=t.child,t=a.sibling,a=Ri(a,{mode:"visible",children:l.children}),a.return=i,a.sibling=null,t!==null&&(v=i.deletions,v===null?(i.deletions=[t],i.flags|=16):v.push(t)),i.child=a,i.memoizedState=null,a)}function Nf(t,i){return i=Qu({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function Qu(t,i){return t=ln(22,t,null,i),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function Of(t,i,a){return Ea(i,t.child,null,a),t=Nf(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function Zg(t,i,a){t.lanes|=i;var l=t.alternate;l!==null&&(l.lanes|=i),Yh(t.return,i,a)}function Mf(t,i,a,l,h){var d=t.memoizedState;d===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h}:(d.isBackwards=i,d.rendering=null,d.renderingStartTime=0,d.last=l,d.tail=a,d.tailMode=h)}function Wg(t,i,a){var l=i.pendingProps,h=l.revealOrder,d=l.tail;if(Ut(t,i,l.children,a),l=St.current,(l&2)!==0)l=l&1|2,i.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Zg(t,a,i);else if(t.tag===19)Zg(t,a,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch(ie(St,l),h){case"forwards":for(a=i.child,h=null;a!==null;)t=a.alternate,t!==null&&Hu(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=i.child,i.child=null):(h=a.sibling,a.sibling=null),Mf(i,!1,h,a,d);break;case"backwards":for(a=null,h=i.child,i.child=null;h!==null;){if(t=h.alternate,t!==null&&Hu(t)===null){i.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}Mf(i,!0,a,null,d);break;case"together":Mf(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function xi(t,i,a){if(t!==null&&(i.dependencies=t.dependencies),pr|=i.lanes,(a&i.childLanes)===0)if(t!==null){if(Mo(t,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(s(153));if(i.child!==null){for(t=i.child,a=Ri(t,t.pendingProps),i.child=a,a.return=i;t.sibling!==null;)t=t.sibling,a=a.sibling=Ri(t,t.pendingProps),a.return=i;a.sibling=null}return i.child}function xf(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&Ru(t)))}function gA(t,i,a){switch(i.tag){case 3:We(i,i.stateNode.containerInfo),rr(i,At,t.memoizedState.cache),No();break;case 27:case 5:$i(i);break;case 4:We(i,i.stateNode.containerInfo);break;case 10:rr(i,i.type,i.memoizedProps.value);break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(ur(i),i.flags|=128,null):(a&i.child.childLanes)!==0?$g(t,i,a):(ur(i),t=xi(t,i,a),t!==null?t.sibling:null);ur(i);break;case 19:var h=(t.flags&128)!==0;if(l=(a&i.childLanes)!==0,l||(Mo(t,i,a,!1),l=(a&i.childLanes)!==0),h){if(l)return Wg(t,i,a);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),ie(St,St.current),l)break;return null;case 22:case 23:return i.lanes=0,Gg(t,i,a);case 24:rr(i,At,t.memoizedState.cache)}return xi(t,i,a)}function Jg(t,i,a){if(t!==null)if(t.memoizedProps!==i.pendingProps)Nt=!0;else{if(!xf(t,a)&&(i.flags&128)===0)return Nt=!1,gA(t,i,a);Nt=(t.flags&131072)!==0}else Nt=!1,Be&&(i.flags&1048576)!==0&&Dp(i,wu,i.index);switch(i.lanes=0,i.tag){case 16:e:{t=i.pendingProps;var l=i.elementType,h=l._init;if(l=h(l._payload),i.type=l,typeof l=="function")Bh(l)?(t=As(l,t),i.tag=1,i=Yg(null,i,l,t,a)):(i.tag=0,i=Rf(null,i,l,t,a));else{if(l!=null){if(h=l.$$typeof,h===fe){i.tag=11,i=Hg(null,i,l,t,a);break e}else if(h===M){i.tag=14,i=qg(null,i,l,t,a);break e}}throw i=Vt(l)||l,Error(s(306,i,""))}}return i;case 0:return Rf(t,i,i.type,i.pendingProps,a);case 1:return l=i.type,h=As(l,i.pendingProps),Yg(t,i,l,h,a);case 3:e:{if(We(i,i.stateNode.containerInfo),t===null)throw Error(s(387));l=i.pendingProps;var d=i.memoizedState;h=d.element,tf(t,i),zo(i,l,null,a);var v=i.memoizedState;if(l=v.cache,rr(i,At,l),l!==d.cache&&Xh(i,[At],a,!0),Lo(),l=v.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:v.cache},i.updateQueue.baseState=d,i.memoizedState=d,i.flags&256){i=Xg(t,i,l,a);break e}else if(l!==h){h=En(Error(s(424)),i),Oo(h),i=Xg(t,i,l,a);break e}else{switch(t=i.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(ot=kn(t.firstChild),Jt=i,Be=!0,gs=null,Zn=!0,a=Og(i,null,l,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(No(),l===h){i=xi(t,i,a);break e}Ut(t,i,l,a)}i=i.child}return i;case 26:return Gu(t,i),t===null?(a=i_(i.type,null,i.pendingProps,null))?i.memoizedState=a:Be||(a=i.type,t=i.pendingProps,l=ac(Ae.current).createElement(a),l[vt]=i,l[mt]=t,zt(l,a,t),ct(l),i.stateNode=l):i.memoizedState=i_(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return $i(i),t===null&&Be&&(l=i.stateNode=e_(i.type,i.pendingProps,Ae.current),Jt=i,Zn=!0,h=ot,vr(i.type)?(dd=h,ot=kn(l.firstChild)):ot=h),Ut(t,i,i.pendingProps.children,a),Gu(t,i),t===null&&(i.flags|=4194304),i.child;case 5:return t===null&&Be&&((h=l=ot)&&(l=FA(l,i.type,i.pendingProps,Zn),l!==null?(i.stateNode=l,Jt=i,ot=kn(l.firstChild),Zn=!1,h=!0):h=!1),h||ys(i)),$i(i),h=i.type,d=i.pendingProps,v=t!==null?t.memoizedProps:null,l=d.children,ud(h,d)?l=null:v!==null&&ud(h,v)&&(i.flags|=32),i.memoizedState!==null&&(h=lf(t,i,lA,null,null,a),ol._currentValue=h),Gu(t,i),Ut(t,i,l,a),i.child;case 6:return t===null&&Be&&((t=a=ot)&&(a=GA(a,i.pendingProps,Zn),a!==null?(i.stateNode=a,Jt=i,ot=null,t=!0):t=!1),t||ys(i)),null;case 13:return $g(t,i,a);case 4:return We(i,i.stateNode.containerInfo),l=i.pendingProps,t===null?i.child=Ea(i,null,l,a):Ut(t,i,l,a),i.child;case 11:return Hg(t,i,i.type,i.pendingProps,a);case 7:return Ut(t,i,i.pendingProps,a),i.child;case 8:return Ut(t,i,i.pendingProps.children,a),i.child;case 12:return Ut(t,i,i.pendingProps.children,a),i.child;case 10:return l=i.pendingProps,rr(i,i.type,l.value),Ut(t,i,l.children,a),i.child;case 9:return h=i.type._context,l=i.pendingProps.children,vs(i),h=Ft(h),l=l(h),i.flags|=1,Ut(t,i,l,a),i.child;case 14:return qg(t,i,i.type,i.pendingProps,a);case 15:return Fg(t,i,i.type,i.pendingProps,a);case 19:return Wg(t,i,a);case 31:return l=i.pendingProps,a=i.mode,l={mode:l.mode,children:l.children},t===null?(a=Qu(l,a),a.ref=i.ref,i.child=a,a.return=i,i=a):(a=Ri(t.child,l),a.ref=i.ref,i.child=a,a.return=i,i=a),i;case 22:return Gg(t,i,a);case 24:return vs(i),l=Ft(At),t===null?(h=Wh(),h===null&&(h=Je,d=$h(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=a),h=d),i.memoizedState={parent:l,cache:h},ef(i),rr(i,At,h)):((t.lanes&a)!==0&&(tf(t,i),zo(i,null,null,a),Lo()),h=t.memoizedState,d=i.memoizedState,h.parent!==l?(h={parent:l,cache:l},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),rr(i,At,l)):(l=d.cache,rr(i,At,l),l!==h.cache&&Xh(i,[At],a,!0))),Ut(t,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function Vi(t){t.flags|=4}function ey(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!l_(i)){if(i=bn.current,i!==null&&((Ue&4194048)===Ue?Wn!==null:(Ue&62914560)!==Ue&&(Ue&536870912)===0||i!==Wn))throw Po=Jh,Up;t.flags|=8192}}function Ku(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?lo():536870912,t.lanes|=i,ba|=i)}function Qo(t,i){if(!Be)switch(t.tailMode){case"hidden":i=t.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function nt(t){var i=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(i)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=a,i}function yA(t,i,a){var l=i.pendingProps;switch(Gh(i),i.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return nt(i),null;case 1:return nt(i),null;case 3:return a=i.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),Ni(At),zn(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Do(i)?Vi(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Mp())),nt(i),null;case 26:return a=i.memoizedState,t===null?(Vi(i),a!==null?(nt(i),ey(i,a)):(nt(i),i.flags&=-16777217)):a?a!==t.memoizedState?(Vi(i),nt(i),ey(i,a)):(nt(i),i.flags&=-16777217):(t.memoizedProps!==l&&Vi(i),nt(i),i.flags&=-16777217),null;case 27:di(i),a=Ae.current;var h=i.type;if(t!==null&&i.stateNode!=null)t.memoizedProps!==l&&Vi(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return nt(i),null}t=me.current,Do(i)?Np(i):(t=e_(h,l,a),i.stateNode=t,Vi(i))}return nt(i),null;case 5:if(di(i),a=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&Vi(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return nt(i),null}if(t=me.current,Do(i))Np(i);else{switch(h=ac(Ae.current),t){case 1:t=h.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:t=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":t=h.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":t=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":t=h.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?h.createElement("select",{is:l.is}):h.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?h.createElement(a,{is:l.is}):h.createElement(a)}}t[vt]=i,t[mt]=l;e:for(h=i.child;h!==null;){if(h.tag===5||h.tag===6)t.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===i)break e;for(;h.sibling===null;){if(h.return===null||h.return===i)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}i.stateNode=t;e:switch(zt(t,a,l),a){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&Vi(i)}}return nt(i),i.flags&=-16777217,null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==l&&Vi(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(s(166));if(t=Ae.current,Do(i)){if(t=i.stateNode,a=i.memoizedProps,l=null,h=Jt,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[vt]=i,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||Ky(t.nodeValue,a)),t||ys(i)}else t=ac(t).createTextNode(l),t[vt]=i,i.stateNode=t}return nt(i),null;case 13:if(l=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=Do(i),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(s(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[vt]=i}else No(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;nt(i),h=!1}else h=Mp(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return i.flags&256?(Mi(i),i):(Mi(i),null)}if(Mi(i),(i.flags&128)!==0)return i.lanes=a,i;if(a=l!==null,t=t!==null&&t.memoizedState!==null,a){l=i.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool);var d=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)}return a!==t&&a&&(i.child.flags|=8192),Ku(i,i.updateQueue),nt(i),null;case 4:return zn(),t===null&&rd(i.stateNode.containerInfo),nt(i),null;case 10:return Ni(i.type),nt(i),null;case 19:if(oe(St),h=i.memoizedState,h===null)return nt(i),null;if(l=(i.flags&128)!==0,d=h.rendering,d===null)if(l)Qo(h,!1);else{if(lt!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(d=Hu(t),d!==null){for(i.flags|=128,Qo(h,!1),t=d.updateQueue,i.updateQueue=t,Ku(i,t),i.subtreeFlags=0,t=a,a=i.child;a!==null;)Ip(a,t),a=a.sibling;return ie(St,St.current&1|2),i.child}t=t.sibling}h.tail!==null&&mn()>$u&&(i.flags|=128,l=!0,Qo(h,!1),i.lanes=4194304)}else{if(!l)if(t=Hu(d),t!==null){if(i.flags|=128,l=!0,t=t.updateQueue,i.updateQueue=t,Ku(i,t),Qo(h,!0),h.tail===null&&h.tailMode==="hidden"&&!d.alternate&&!Be)return nt(i),null}else 2*mn()-h.renderingStartTime>$u&&a!==536870912&&(i.flags|=128,l=!0,Qo(h,!1),i.lanes=4194304);h.isBackwards?(d.sibling=i.child,i.child=d):(t=h.last,t!==null?t.sibling=d:i.child=d,h.last=d)}return h.tail!==null?(i=h.tail,h.rendering=i,h.tail=i.sibling,h.renderingStartTime=mn(),i.sibling=null,t=St.current,ie(St,l?t&1|2:t&1),i):(nt(i),null);case 22:case 23:return Mi(i),af(),l=i.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(a&536870912)!==0&&(i.flags&128)===0&&(nt(i),i.subtreeFlags&6&&(i.flags|=8192)):nt(i),a=i.updateQueue,a!==null&&Ku(i,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==a&&(i.flags|=2048),t!==null&&oe(Es),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),Ni(At),nt(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function _A(t,i){switch(Gh(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return Ni(At),zn(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return di(i),null;case 13:if(Mi(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(s(340));No()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return oe(St),null;case 4:return zn(),null;case 10:return Ni(i.type),null;case 22:case 23:return Mi(i),af(),t!==null&&oe(Es),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return Ni(At),null;case 25:return null;default:return null}}function ty(t,i){switch(Gh(i),i.tag){case 3:Ni(At),zn();break;case 26:case 27:case 5:di(i);break;case 4:zn();break;case 13:Mi(i);break;case 19:oe(St);break;case 10:Ni(i.type);break;case 22:case 23:Mi(i),af(),t!==null&&oe(Es);break;case 24:Ni(At)}}function Ko(t,i){try{var a=i.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&t)===t){l=void 0;var d=a.create,v=a.inst;l=d(),v.destroy=l}a=a.next}while(a!==h)}}catch(T){Ze(i,i.return,T)}}function hr(t,i,a){try{var l=i.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&t)===t){var v=l.inst,T=v.destroy;if(T!==void 0){v.destroy=void 0,h=i;var R=a,j=T;try{j()}catch(K){Ze(h,R,K)}}}l=l.next}while(l!==d)}}catch(K){Ze(i,i.return,K)}}function ny(t){var i=t.updateQueue;if(i!==null){var a=t.stateNode;try{qp(i,a)}catch(l){Ze(t,t.return,l)}}}function iy(t,i,a){a.props=As(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){Ze(t,i,l)}}function Yo(t,i){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(h){Ze(t,i,h)}}function Jn(t,i){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){Ze(t,i,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){Ze(t,i,h)}else a.current=null}function ry(t){var i=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){Ze(t,t.return,h)}}function Vf(t,i,a){try{var l=t.stateNode;zA(l,t.type,a,i),l[mt]=i}catch(h){Ze(t,t.return,h)}}function sy(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&vr(t.type)||t.tag===4}function kf(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||sy(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&vr(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Pf(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(t),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=sc));else if(l!==4&&(l===27&&vr(t.type)&&(a=t.stateNode,i=null),t=t.child,t!==null))for(Pf(t,i,a),t=t.sibling;t!==null;)Pf(t,i,a),t=t.sibling}function Yu(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?a.insertBefore(t,i):a.appendChild(t);else if(l!==4&&(l===27&&vr(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(Yu(t,i,a),t=t.sibling;t!==null;)Yu(t,i,a),t=t.sibling}function ay(t){var i=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);zt(i,l,a),i[vt]=t,i[mt]=a}catch(d){Ze(t,t.return,d)}}var ki=!1,ft=!1,Uf=!1,oy=typeof WeakSet=="function"?WeakSet:Set,Ot=null;function vA(t,i){if(t=t.containerInfo,od=fc,t=_p(t),Vh(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var v=0,T=-1,R=-1,j=0,K=0,W=t,B=null;t:for(;;){for(var H;W!==a||h!==0&&W.nodeType!==3||(T=v+h),W!==d||l!==0&&W.nodeType!==3||(R=v+l),W.nodeType===3&&(v+=W.nodeValue.length),(H=W.firstChild)!==null;)B=W,W=H;for(;;){if(W===t)break t;if(B===a&&++j===h&&(T=v),B===d&&++K===l&&(R=v),(H=W.nextSibling)!==null)break;W=B,B=W.parentNode}W=H}a=T===-1||R===-1?null:{start:T,end:R}}else a=null}a=a||{start:0,end:0}}else a=null;for(ld={focusedElem:t,selectionRange:a},fc=!1,Ot=i;Ot!==null;)if(i=Ot,t=i.child,(i.subtreeFlags&1024)!==0&&t!==null)t.return=i,Ot=t;else for(;Ot!==null;){switch(i=Ot,d=i.alternate,t=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,a=i,h=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var ve=As(a.type,h,a.elementType===a.type);t=l.getSnapshotBeforeUpdate(ve,d),l.__reactInternalSnapshotBeforeUpdate=t}catch(pe){Ze(a,a.return,pe)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,a=t.nodeType,a===9)hd(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":hd(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=i.sibling,t!==null){t.return=i.return,Ot=t;break}Ot=i.return}}function ly(t,i,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:fr(t,a),l&4&&Ko(5,a);break;case 1:if(fr(t,a),l&4)if(t=a.stateNode,i===null)try{t.componentDidMount()}catch(v){Ze(a,a.return,v)}else{var h=As(a.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(h,i,t.__reactInternalSnapshotBeforeUpdate)}catch(v){Ze(a,a.return,v)}}l&64&&ny(a),l&512&&Yo(a,a.return);break;case 3:if(fr(t,a),l&64&&(t=a.updateQueue,t!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{qp(t,i)}catch(v){Ze(a,a.return,v)}}break;case 27:i===null&&l&4&&ay(a);case 26:case 5:fr(t,a),i===null&&l&4&&ry(a),l&512&&Yo(a,a.return);break;case 12:fr(t,a);break;case 13:fr(t,a),l&4&&hy(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=IA.bind(null,a),QA(t,a))));break;case 22:if(l=a.memoizedState!==null||ki,!l){i=i!==null&&i.memoizedState!==null||ft,h=ki;var d=ft;ki=l,(ft=i)&&!d?dr(t,a,(a.subtreeFlags&8772)!==0):fr(t,a),ki=h,ft=d}break;case 30:break;default:fr(t,a)}}function uy(t){var i=t.alternate;i!==null&&(t.alternate=null,uy(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&er(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var tt=null,tn=!1;function Pi(t,i,a){for(a=a.child;a!==null;)cy(t,i,a),a=a.sibling}function cy(t,i,a){if(Fe&&typeof Fe.onCommitFiberUnmount=="function")try{Fe.onCommitFiberUnmount(at,a)}catch{}switch(a.tag){case 26:ft||Jn(a,i),Pi(t,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:ft||Jn(a,i);var l=tt,h=tn;vr(a.type)&&(tt=a.stateNode,tn=!1),Pi(t,i,a),il(a.stateNode),tt=l,tn=h;break;case 5:ft||Jn(a,i);case 6:if(l=tt,h=tn,tt=null,Pi(t,i,a),tt=l,tn=h,tt!==null)if(tn)try{(tt.nodeType===9?tt.body:tt.nodeName==="HTML"?tt.ownerDocument.body:tt).removeChild(a.stateNode)}catch(d){Ze(a,i,d)}else try{tt.removeChild(a.stateNode)}catch(d){Ze(a,i,d)}break;case 18:tt!==null&&(tn?(t=tt,Wy(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),hl(t)):Wy(tt,a.stateNode));break;case 4:l=tt,h=tn,tt=a.stateNode.containerInfo,tn=!0,Pi(t,i,a),tt=l,tn=h;break;case 0:case 11:case 14:case 15:ft||hr(2,a,i),ft||hr(4,a,i),Pi(t,i,a);break;case 1:ft||(Jn(a,i),l=a.stateNode,typeof l.componentWillUnmount=="function"&&iy(a,i,l)),Pi(t,i,a);break;case 21:Pi(t,i,a);break;case 22:ft=(l=ft)||a.memoizedState!==null,Pi(t,i,a),ft=l;break;default:Pi(t,i,a)}}function hy(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{hl(t)}catch(a){Ze(i,i.return,a)}}function EA(t){switch(t.tag){case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new oy),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new oy),i;default:throw Error(s(435,t.tag))}}function Lf(t,i){var a=EA(t);i.forEach(function(l){var h=DA.bind(null,t,l);a.has(l)||(a.add(l),l.then(h,h))})}function un(t,i){var a=i.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],d=t,v=i,T=v;e:for(;T!==null;){switch(T.tag){case 27:if(vr(T.type)){tt=T.stateNode,tn=!1;break e}break;case 5:tt=T.stateNode,tn=!1;break e;case 3:case 4:tt=T.stateNode.containerInfo,tn=!0;break e}T=T.return}if(tt===null)throw Error(s(160));cy(d,v,h),tt=null,tn=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)fy(i,t),i=i.sibling}var Vn=null;function fy(t,i){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:un(i,t),cn(t),l&4&&(hr(3,t,t.return),Ko(3,t),hr(5,t,t.return));break;case 1:un(i,t),cn(t),l&512&&(ft||a===null||Jn(a,a.return)),l&64&&ki&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=Vn;if(un(i,t),cn(t),l&512&&(ft||a===null||Jn(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[Zr]||d[vt]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),zt(d,l,a),d[vt]=t,ct(d),l=d;break e;case"link":var v=a_("link","href",h).get(l+(a.href||""));if(v){for(var T=0;T<v.length;T++)if(d=v[T],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){v.splice(T,1);break t}}d=h.createElement(l),zt(d,l,a),h.head.appendChild(d);break;case"meta":if(v=a_("meta","content",h).get(l+(a.content||""))){for(T=0;T<v.length;T++)if(d=v[T],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){v.splice(T,1);break t}}d=h.createElement(l),zt(d,l,a),h.head.appendChild(d);break;default:throw Error(s(468,l))}d[vt]=t,ct(d),l=d}t.stateNode=l}else o_(h,t.type,t.stateNode);else t.stateNode=s_(h,l,t.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?o_(h,t.type,t.stateNode):s_(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Vf(t,t.memoizedProps,a.memoizedProps)}break;case 27:un(i,t),cn(t),l&512&&(ft||a===null||Jn(a,a.return)),a!==null&&l&4&&Vf(t,t.memoizedProps,a.memoizedProps);break;case 5:if(un(i,t),cn(t),l&512&&(ft||a===null||Jn(a,a.return)),t.flags&32){h=t.stateNode;try{gn(h,"")}catch(H){Ze(t,t.return,H)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,Vf(t,h,a!==null?a.memoizedProps:h)),l&1024&&(Uf=!0);break;case 6:if(un(i,t),cn(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(H){Ze(t,t.return,H)}}break;case 3:if(uc=null,h=Vn,Vn=oc(i.containerInfo),un(i,t),Vn=h,cn(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{hl(i.containerInfo)}catch(H){Ze(t,t.return,H)}Uf&&(Uf=!1,dy(t));break;case 4:l=Vn,Vn=oc(t.stateNode.containerInfo),un(i,t),cn(t),Vn=l;break;case 12:un(i,t),cn(t);break;case 13:un(i,t),cn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Ff=mn()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Lf(t,l)));break;case 22:h=t.memoizedState!==null;var R=a!==null&&a.memoizedState!==null,j=ki,K=ft;if(ki=j||h,ft=K||R,un(i,t),ft=K,ki=j,cn(t),l&8192)e:for(i=t.stateNode,i._visibility=h?i._visibility&-2:i._visibility|1,h&&(a===null||R||ki||ft||Ss(t)),a=null,i=t;;){if(i.tag===5||i.tag===26){if(a===null){R=a=i;try{if(d=R.stateNode,h)v=d.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{T=R.stateNode;var W=R.memoizedProps.style,B=W!=null&&W.hasOwnProperty("display")?W.display:null;T.style.display=B==null||typeof B=="boolean"?"":(""+B).trim()}}catch(H){Ze(R,R.return,H)}}}else if(i.tag===6){if(a===null){R=i;try{R.stateNode.nodeValue=h?"":R.memoizedProps}catch(H){Ze(R,R.return,H)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Lf(t,a))));break;case 19:un(i,t),cn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Lf(t,l)));break;case 30:break;case 21:break;default:un(i,t),cn(t)}}function cn(t){var i=t.flags;if(i&2){try{for(var a,l=t.return;l!==null;){if(sy(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var h=a.stateNode,d=kf(t);Yu(t,d,h);break;case 5:var v=a.stateNode;a.flags&32&&(gn(v,""),a.flags&=-33);var T=kf(t);Yu(t,T,v);break;case 3:case 4:var R=a.stateNode.containerInfo,j=kf(t);Pf(t,j,R);break;default:throw Error(s(161))}}catch(K){Ze(t,t.return,K)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function dy(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;dy(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function fr(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)ly(t,i.alternate,i),i=i.sibling}function Ss(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:hr(4,i,i.return),Ss(i);break;case 1:Jn(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&iy(i,i.return,a),Ss(i);break;case 27:il(i.stateNode);case 26:case 5:Jn(i,i.return),Ss(i);break;case 22:i.memoizedState===null&&Ss(i);break;case 30:Ss(i);break;default:Ss(i)}t=t.sibling}}function dr(t,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,h=t,d=i,v=d.flags;switch(d.tag){case 0:case 11:case 15:dr(h,d,a),Ko(4,d);break;case 1:if(dr(h,d,a),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(j){Ze(l,l.return,j)}if(l=d,h=l.updateQueue,h!==null){var T=l.stateNode;try{var R=h.shared.hiddenCallbacks;if(R!==null)for(h.shared.hiddenCallbacks=null,h=0;h<R.length;h++)Hp(R[h],T)}catch(j){Ze(l,l.return,j)}}a&&v&64&&ny(d),Yo(d,d.return);break;case 27:ay(d);case 26:case 5:dr(h,d,a),a&&l===null&&v&4&&ry(d),Yo(d,d.return);break;case 12:dr(h,d,a);break;case 13:dr(h,d,a),a&&v&4&&hy(h,d);break;case 22:d.memoizedState===null&&dr(h,d,a),Yo(d,d.return);break;case 30:break;default:dr(h,d,a)}i=i.sibling}}function zf(t,i){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&xo(a))}function jf(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&xo(t))}function ei(t,i,a,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)my(t,i,a,l),i=i.sibling}function my(t,i,a,l){var h=i.flags;switch(i.tag){case 0:case 11:case 15:ei(t,i,a,l),h&2048&&Ko(9,i);break;case 1:ei(t,i,a,l);break;case 3:ei(t,i,a,l),h&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&xo(t)));break;case 12:if(h&2048){ei(t,i,a,l),t=i.stateNode;try{var d=i.memoizedProps,v=d.id,T=d.onPostCommit;typeof T=="function"&&T(v,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(R){Ze(i,i.return,R)}}else ei(t,i,a,l);break;case 13:ei(t,i,a,l);break;case 23:break;case 22:d=i.stateNode,v=i.alternate,i.memoizedState!==null?d._visibility&2?ei(t,i,a,l):Xo(t,i):d._visibility&2?ei(t,i,a,l):(d._visibility|=2,Ta(t,i,a,l,(i.subtreeFlags&10256)!==0)),h&2048&&zf(v,i);break;case 24:ei(t,i,a,l),h&2048&&jf(i.alternate,i);break;default:ei(t,i,a,l)}}function Ta(t,i,a,l,h){for(h=h&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var d=t,v=i,T=a,R=l,j=v.flags;switch(v.tag){case 0:case 11:case 15:Ta(d,v,T,R,h),Ko(8,v);break;case 23:break;case 22:var K=v.stateNode;v.memoizedState!==null?K._visibility&2?Ta(d,v,T,R,h):Xo(d,v):(K._visibility|=2,Ta(d,v,T,R,h)),h&&j&2048&&zf(v.alternate,v);break;case 24:Ta(d,v,T,R,h),h&&j&2048&&jf(v.alternate,v);break;default:Ta(d,v,T,R,h)}i=i.sibling}}function Xo(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=t,l=i,h=l.flags;switch(l.tag){case 22:Xo(a,l),h&2048&&zf(l.alternate,l);break;case 24:Xo(a,l),h&2048&&jf(l.alternate,l);break;default:Xo(a,l)}i=i.sibling}}var $o=8192;function Aa(t){if(t.subtreeFlags&$o)for(t=t.child;t!==null;)py(t),t=t.sibling}function py(t){switch(t.tag){case 26:Aa(t),t.flags&$o&&t.memoizedState!==null&&sS(Vn,t.memoizedState,t.memoizedProps);break;case 5:Aa(t);break;case 3:case 4:var i=Vn;Vn=oc(t.stateNode.containerInfo),Aa(t),Vn=i;break;case 22:t.memoizedState===null&&(i=t.alternate,i!==null&&i.memoizedState!==null?(i=$o,$o=16777216,Aa(t),$o=i):Aa(t));break;default:Aa(t)}}function gy(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function Zo(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Ot=l,_y(l,t)}gy(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)yy(t),t=t.sibling}function yy(t){switch(t.tag){case 0:case 11:case 15:Zo(t),t.flags&2048&&hr(9,t,t.return);break;case 3:Zo(t);break;case 12:Zo(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&2&&(t.return===null||t.return.tag!==13)?(i._visibility&=-3,Xu(t)):Zo(t);break;default:Zo(t)}}function Xu(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Ot=l,_y(l,t)}gy(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:hr(8,i,i.return),Xu(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,Xu(i));break;default:Xu(i)}t=t.sibling}}function _y(t,i){for(;Ot!==null;){var a=Ot;switch(a.tag){case 0:case 11:case 15:hr(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:xo(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Ot=l;else e:for(a=t;Ot!==null;){l=Ot;var h=l.sibling,d=l.return;if(uy(l),l===a){Ot=null;break e}if(h!==null){h.return=d,Ot=h;break e}Ot=d}}}var TA={getCacheForType:function(t){var i=Ft(At),a=i.data.get(t);return a===void 0&&(a=t(),i.data.set(t,a)),a}},AA=typeof WeakMap=="function"?WeakMap:Map,Ge=0,Je=null,Oe=null,Ue=0,Qe=0,hn=null,mr=!1,Sa=!1,Bf=!1,Ui=0,lt=0,pr=0,bs=0,Hf=0,wn=0,ba=0,Wo=null,nn=null,qf=!1,Ff=0,$u=1/0,Zu=null,gr=null,Lt=0,yr=null,wa=null,Ra=0,Gf=0,Qf=null,vy=null,Jo=0,Kf=null;function fn(){if((Ge&2)!==0&&Ue!==0)return Ue&-Ue;if(Q.T!==null){var t=da;return t!==0?t:ed()}return Wi()}function Ey(){wn===0&&(wn=(Ue&536870912)===0||Be?oo():536870912);var t=bn.current;return t!==null&&(t.flags|=32),wn}function dn(t,i,a){(t===Je&&(Qe===2||Qe===9)||t.cancelPendingCommit!==null)&&(Ca(t,0),_r(t,Ue,wn,!1)),pi(t,a),((Ge&2)===0||t!==Je)&&(t===Je&&((Ge&2)===0&&(bs|=a),lt===4&&_r(t,Ue,wn,!1)),ti(t))}function Ty(t,i,a){if((Ge&6)!==0)throw Error(s(327));var l=!a&&(i&124)===0&&(i&t.expiredLanes)===0||$r(t,i),h=l?wA(t,i):$f(t,i,!0),d=l;do{if(h===0){Sa&&!l&&_r(t,i,0,!1);break}else{if(a=t.current.alternate,d&&!SA(a)){h=$f(t,i,!1),d=!1;continue}if(h===2){if(d=i,t.errorRecoveryDisabledLanes&d)var v=0;else v=t.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){i=v;e:{var T=t;h=Wo;var R=T.current.memoizedState.isDehydrated;if(R&&(Ca(T,v).flags|=256),v=$f(T,v,!1),v!==2){if(Bf&&!R){T.errorRecoveryDisabledLanes|=d,bs|=d,h=4;break e}d=nn,nn=h,d!==null&&(nn===null?nn=d:nn.push.apply(nn,d))}h=v}if(d=!1,h!==2)continue}}if(h===1){Ca(t,0),_r(t,i,0,!0);break}e:{switch(l=t,d=h,d){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:_r(l,i,wn,!mr);break e;case 2:nn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(h=Ff+300-mn(),10<h)){if(_r(l,i,wn,!mr),Fs(l,0,!0)!==0)break e;l.timeoutHandle=$y(Ay.bind(null,l,a,nn,Zu,qf,i,wn,bs,ba,mr,d,2,-0,0),h);break e}Ay(l,a,nn,Zu,qf,i,wn,bs,ba,mr,d,0,-0,0)}}break}while(!0);ti(t)}function Ay(t,i,a,l,h,d,v,T,R,j,K,W,B,H){if(t.timeoutHandle=-1,W=i.subtreeFlags,(W&8192||(W&16785408)===16785408)&&(al={stylesheets:null,count:0,unsuspend:rS},py(i),W=aS(),W!==null)){t.cancelPendingCommit=W(Dy.bind(null,t,i,d,a,l,h,v,T,R,K,1,B,H)),_r(t,d,v,!j);return}Dy(t,i,d,a,l,h,v,T,R)}function SA(t){for(var i=t;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],d=h.getSnapshot;h=h.value;try{if(!on(d(),h))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function _r(t,i,a,l){i&=~Hf,i&=~bs,t.suspendedLanes|=i,t.pingedLanes&=~i,l&&(t.warmLanes|=i),l=t.expirationTimes;for(var h=i;0<h;){var d=31-qt(h),v=1<<d;l[d]=-1,h&=~v}a!==0&&jn(t,a,i)}function Wu(){return(Ge&6)===0?(el(0),!1):!0}function Yf(){if(Oe!==null){if(Qe===0)var t=Oe.return;else t=Oe,Di=_s=null,hf(t),va=null,Fo=0,t=Oe;for(;t!==null;)ty(t.alternate,t),t=t.return;Oe=null}}function Ca(t,i){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,BA(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),Yf(),Je=t,Oe=a=Ri(t.current,null),Ue=i,Qe=0,hn=null,mr=!1,Sa=$r(t,i),Bf=!1,ba=wn=Hf=bs=pr=lt=0,nn=Wo=null,qf=!1,(i&8)!==0&&(i|=i&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=i;0<l;){var h=31-qt(l),d=1<<h;i|=t[h],l&=~d}return Ui=i,Eu(),a}function Sy(t,i){Ce=null,Q.H=zu,i===ko||i===Du?(i=jp(),Qe=3):i===Up?(i=jp(),Qe=4):Qe=i===Bg?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,hn=i,Oe===null&&(lt=1,Fu(t,En(i,t.current)))}function by(){var t=Q.H;return Q.H=zu,t===null?zu:t}function wy(){var t=Q.A;return Q.A=TA,t}function Xf(){lt=4,mr||(Ue&4194048)!==Ue&&bn.current!==null||(Sa=!0),(pr&134217727)===0&&(bs&134217727)===0||Je===null||_r(Je,Ue,wn,!1)}function $f(t,i,a){var l=Ge;Ge|=2;var h=by(),d=wy();(Je!==t||Ue!==i)&&(Zu=null,Ca(t,i)),i=!1;var v=lt;e:do try{if(Qe!==0&&Oe!==null){var T=Oe,R=hn;switch(Qe){case 8:Yf(),v=6;break e;case 3:case 2:case 9:case 6:bn.current===null&&(i=!0);var j=Qe;if(Qe=0,hn=null,Ia(t,T,R,j),a&&Sa){v=0;break e}break;default:j=Qe,Qe=0,hn=null,Ia(t,T,R,j)}}bA(),v=lt;break}catch(K){Sy(t,K)}while(!0);return i&&t.shellSuspendCounter++,Di=_s=null,Ge=l,Q.H=h,Q.A=d,Oe===null&&(Je=null,Ue=0,Eu()),v}function bA(){for(;Oe!==null;)Ry(Oe)}function wA(t,i){var a=Ge;Ge|=2;var l=by(),h=wy();Je!==t||Ue!==i?(Zu=null,$u=mn()+500,Ca(t,i)):Sa=$r(t,i);e:do try{if(Qe!==0&&Oe!==null){i=Oe;var d=hn;t:switch(Qe){case 1:Qe=0,hn=null,Ia(t,i,d,1);break;case 2:case 9:if(Lp(d)){Qe=0,hn=null,Cy(i);break}i=function(){Qe!==2&&Qe!==9||Je!==t||(Qe=7),ti(t)},d.then(i,i);break e;case 3:Qe=7;break e;case 4:Qe=5;break e;case 7:Lp(d)?(Qe=0,hn=null,Cy(i)):(Qe=0,hn=null,Ia(t,i,d,7));break;case 5:var v=null;switch(Oe.tag){case 26:v=Oe.memoizedState;case 5:case 27:var T=Oe;if(!v||l_(v)){Qe=0,hn=null;var R=T.sibling;if(R!==null)Oe=R;else{var j=T.return;j!==null?(Oe=j,Ju(j)):Oe=null}break t}}Qe=0,hn=null,Ia(t,i,d,5);break;case 6:Qe=0,hn=null,Ia(t,i,d,6);break;case 8:Yf(),lt=6;break e;default:throw Error(s(462))}}RA();break}catch(K){Sy(t,K)}while(!0);return Di=_s=null,Q.H=l,Q.A=h,Ge=a,Oe!==null?0:(Je=null,Ue=0,Eu(),lt)}function RA(){for(;Oe!==null&&!io();)Ry(Oe)}function Ry(t){var i=Jg(t.alternate,t,Ui);t.memoizedProps=t.pendingProps,i===null?Ju(t):Oe=i}function Cy(t){var i=t,a=i.alternate;switch(i.tag){case 15:case 0:i=Kg(a,i,i.pendingProps,i.type,void 0,Ue);break;case 11:i=Kg(a,i,i.pendingProps,i.type.render,i.ref,Ue);break;case 5:hf(i);default:ty(a,i),i=Oe=Ip(i,Ui),i=Jg(a,i,Ui)}t.memoizedProps=t.pendingProps,i===null?Ju(t):Oe=i}function Ia(t,i,a,l){Di=_s=null,hf(i),va=null,Fo=0;var h=i.return;try{if(pA(t,h,i,a,Ue)){lt=1,Fu(t,En(a,t.current)),Oe=null;return}}catch(d){if(h!==null)throw Oe=h,d;lt=1,Fu(t,En(a,t.current)),Oe=null;return}i.flags&32768?(Be||l===1?t=!0:Sa||(Ue&536870912)!==0?t=!1:(mr=t=!0,(l===2||l===9||l===3||l===6)&&(l=bn.current,l!==null&&l.tag===13&&(l.flags|=16384))),Iy(i,t)):Ju(i)}function Ju(t){var i=t;do{if((i.flags&32768)!==0){Iy(i,mr);return}t=i.return;var a=yA(i.alternate,i,Ui);if(a!==null){Oe=a;return}if(i=i.sibling,i!==null){Oe=i;return}Oe=i=t}while(i!==null);lt===0&&(lt=5)}function Iy(t,i){do{var a=_A(t.alternate,t);if(a!==null){a.flags&=32767,Oe=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(t=t.sibling,t!==null)){Oe=t;return}Oe=t=a}while(t!==null);lt=6,Oe=null}function Dy(t,i,a,l,h,d,v,T,R){t.cancelPendingCommit=null;do ec();while(Lt!==0);if((Ge&6)!==0)throw Error(s(327));if(i!==null){if(i===t.current)throw Error(s(177));if(d=i.lanes|i.childLanes,d|=zh,uo(t,a,d,v,T,R),t===Je&&(Oe=Je=null,Ue=0),wa=i,yr=t,Ra=a,Gf=d,Qf=h,vy=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,NA(Qr,function(){return Vy(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=Q.T,Q.T=null,h=ae.p,ae.p=2,v=Ge,Ge|=4;try{vA(t,i,a)}finally{Ge=v,ae.p=h,Q.T=l}}Lt=1,Ny(),Oy(),My()}}function Ny(){if(Lt===1){Lt=0;var t=yr,i=wa,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=Q.T,Q.T=null;var l=ae.p;ae.p=2;var h=Ge;Ge|=4;try{fy(i,t);var d=ld,v=_p(t.containerInfo),T=d.focusedElem,R=d.selectionRange;if(v!==T&&T&&T.ownerDocument&&yp(T.ownerDocument.documentElement,T)){if(R!==null&&Vh(T)){var j=R.start,K=R.end;if(K===void 0&&(K=j),"selectionStart"in T)T.selectionStart=j,T.selectionEnd=Math.min(K,T.value.length);else{var W=T.ownerDocument||document,B=W&&W.defaultView||window;if(B.getSelection){var H=B.getSelection(),ve=T.textContent.length,pe=Math.min(R.start,ve),$e=R.end===void 0?pe:Math.min(R.end,ve);!H.extend&&pe>$e&&(v=$e,$e=pe,pe=v);var V=gp(T,pe),O=gp(T,$e);if(V&&O&&(H.rangeCount!==1||H.anchorNode!==V.node||H.anchorOffset!==V.offset||H.focusNode!==O.node||H.focusOffset!==O.offset)){var z=W.createRange();z.setStart(V.node,V.offset),H.removeAllRanges(),pe>$e?(H.addRange(z),H.extend(O.node,O.offset)):(z.setEnd(O.node,O.offset),H.addRange(z))}}}}for(W=[],H=T;H=H.parentNode;)H.nodeType===1&&W.push({element:H,left:H.scrollLeft,top:H.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<W.length;T++){var X=W[T];X.element.scrollLeft=X.left,X.element.scrollTop=X.top}}fc=!!od,ld=od=null}finally{Ge=h,ae.p=l,Q.T=a}}t.current=i,Lt=2}}function Oy(){if(Lt===2){Lt=0;var t=yr,i=wa,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=Q.T,Q.T=null;var l=ae.p;ae.p=2;var h=Ge;Ge|=4;try{ly(t,i.alternate,i)}finally{Ge=h,ae.p=l,Q.T=a}}Lt=3}}function My(){if(Lt===4||Lt===3){Lt=0,Xl();var t=yr,i=wa,a=Ra,l=vy;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Lt=5:(Lt=0,wa=yr=null,xy(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(gr=null),Gs(a),i=i.stateNode,Fe&&typeof Fe.onCommitFiberRoot=="function")try{Fe.onCommitFiberRoot(at,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=Q.T,h=ae.p,ae.p=2,Q.T=null;try{for(var d=t.onRecoverableError,v=0;v<l.length;v++){var T=l[v];d(T.value,{componentStack:T.stack})}}finally{Q.T=i,ae.p=h}}(Ra&3)!==0&&ec(),ti(t),h=t.pendingLanes,(a&4194090)!==0&&(h&42)!==0?t===Kf?Jo++:(Jo=0,Kf=t):Jo=0,el(0)}}function xy(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,xo(i)))}function ec(t){return Ny(),Oy(),My(),Vy()}function Vy(){if(Lt!==5)return!1;var t=yr,i=Gf;Gf=0;var a=Gs(Ra),l=Q.T,h=ae.p;try{ae.p=32>a?32:a,Q.T=null,a=Qf,Qf=null;var d=yr,v=Ra;if(Lt=0,wa=yr=null,Ra=0,(Ge&6)!==0)throw Error(s(331));var T=Ge;if(Ge|=4,yy(d.current),my(d,d.current,v,a),Ge=T,el(0,!1),Fe&&typeof Fe.onPostCommitFiberRoot=="function")try{Fe.onPostCommitFiberRoot(at,d)}catch{}return!0}finally{ae.p=h,Q.T=l,xy(t,i)}}function ky(t,i,a){i=En(a,i),i=wf(t.stateNode,i,2),t=or(t,i,2),t!==null&&(pi(t,2),ti(t))}function Ze(t,i,a){if(t.tag===3)ky(t,t,a);else for(;i!==null;){if(i.tag===3){ky(i,t,a);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(gr===null||!gr.has(l))){t=En(a,t),a=zg(2),l=or(i,a,2),l!==null&&(jg(a,l,i,t),pi(l,2),ti(l));break}}i=i.return}}function Zf(t,i,a){var l=t.pingCache;if(l===null){l=t.pingCache=new AA;var h=new Set;l.set(i,h)}else h=l.get(i),h===void 0&&(h=new Set,l.set(i,h));h.has(a)||(Bf=!0,h.add(a),t=CA.bind(null,t,i,a),i.then(t,t))}function CA(t,i,a){var l=t.pingCache;l!==null&&l.delete(i),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,Je===t&&(Ue&a)===a&&(lt===4||lt===3&&(Ue&62914560)===Ue&&300>mn()-Ff?(Ge&2)===0&&Ca(t,0):Hf|=a,ba===Ue&&(ba=0)),ti(t)}function Py(t,i){i===0&&(i=lo()),t=ua(t,i),t!==null&&(pi(t,i),ti(t))}function IA(t){var i=t.memoizedState,a=0;i!==null&&(a=i.retryLane),Py(t,a)}function DA(t,i){var a=0;switch(t.tag){case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(i),Py(t,a)}function NA(t,i){return Fr(t,i)}var tc=null,Da=null,Wf=!1,nc=!1,Jf=!1,ws=0;function ti(t){t!==Da&&t.next===null&&(Da===null?tc=Da=t:Da=Da.next=t),nc=!0,Wf||(Wf=!0,MA())}function el(t,i){if(!Jf&&nc){Jf=!0;do for(var a=!1,l=tc;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var v=l.suspendedLanes,T=l.pingedLanes;d=(1<<31-qt(42|t)+1)-1,d&=h&~(v&~T),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,jy(l,d))}else d=Ue,d=Fs(l,l===Je?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||$r(l,d)||(a=!0,jy(l,d));l=l.next}while(a);Jf=!1}}function OA(){Uy()}function Uy(){nc=Wf=!1;var t=0;ws!==0&&(jA()&&(t=ws),ws=0);for(var i=mn(),a=null,l=tc;l!==null;){var h=l.next,d=Ly(l,i);d===0?(l.next=null,a===null?tc=h:a.next=h,h===null&&(Da=a)):(a=l,(t!==0||(d&3)!==0)&&(nc=!0)),l=h}el(t)}function Ly(t,i){for(var a=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var v=31-qt(d),T=1<<v,R=h[v];R===-1?((T&a)===0||(T&l)!==0)&&(h[v]=ao(T,i)):R<=i&&(t.expiredLanes|=T),d&=~T}if(i=Je,a=Ue,a=Fs(t,t===i?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===i&&(Qe===2||Qe===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&Gr(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||$r(t,a)){if(i=a&-a,i===t.callbackPriority)return i;switch(l!==null&&Gr(l),Gs(a)){case 2:case 8:a=Hs;break;case 32:a=Qr;break;case 268435456:a=qs;break;default:a=Qr}return l=zy.bind(null,t),a=Fr(a,l),t.callbackPriority=i,t.callbackNode=a,i}return l!==null&&l!==null&&Gr(l),t.callbackPriority=2,t.callbackNode=null,2}function zy(t,i){if(Lt!==0&&Lt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(ec()&&t.callbackNode!==a)return null;var l=Ue;return l=Fs(t,t===Je?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(Ty(t,l,i),Ly(t,mn()),t.callbackNode!=null&&t.callbackNode===a?zy.bind(null,t):null)}function jy(t,i){if(ec())return null;Ty(t,i,!0)}function MA(){HA(function(){(Ge&6)!==0?Fr(ro,OA):Uy()})}function ed(){return ws===0&&(ws=oo()),ws}function By(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Zs(""+t)}function Hy(t,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,t.id&&a.setAttribute("form",t.id),i.parentNode.insertBefore(a,i),t=new FormData(t),a.parentNode.removeChild(a),t}function xA(t,i,a,l,h){if(i==="submit"&&a&&a.stateNode===h){var d=By((h[mt]||null).action),v=l.submitter;v&&(i=(i=v[mt]||null)?By(i.formAction):v.getAttribute("formAction"),i!==null&&(d=i,v=null));var T=new Ws("action","action",null,l,h);t.push({event:T,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(ws!==0){var R=v?Hy(h,v):new FormData(h);Ef(a,{pending:!0,data:R,method:h.method,action:d},null,R)}}else typeof d=="function"&&(T.preventDefault(),R=v?Hy(h,v):new FormData(h),Ef(a,{pending:!0,data:R,method:h.method,action:d},d,R))},currentTarget:h}]})}}for(var td=0;td<Lh.length;td++){var nd=Lh[td],VA=nd.toLowerCase(),kA=nd[0].toUpperCase()+nd.slice(1);xn(VA,"on"+kA)}xn(Tp,"onAnimationEnd"),xn(Ap,"onAnimationIteration"),xn(Sp,"onAnimationStart"),xn("dblclick","onDoubleClick"),xn("focusin","onFocus"),xn("focusout","onBlur"),xn(WT,"onTransitionRun"),xn(JT,"onTransitionStart"),xn(eA,"onTransitionCancel"),xn(bp,"onTransitionEnd"),yi("onMouseEnter",["mouseout","mouseover"]),yi("onMouseLeave",["mouseout","mouseover"]),yi("onPointerEnter",["pointerout","pointerover"]),yi("onPointerLeave",["pointerout","pointerover"]),On("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),On("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),On("onBeforeInput",["compositionend","keypress","textInput","paste"]),On("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),On("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),On("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var tl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),PA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(tl));function qy(t,i){i=(i&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],h=l.event;l=l.listeners;e:{var d=void 0;if(i)for(var v=l.length-1;0<=v;v--){var T=l[v],R=T.instance,j=T.currentTarget;if(T=T.listener,R!==d&&h.isPropagationStopped())break e;d=T,h.currentTarget=j;try{d(h)}catch(K){qu(K)}h.currentTarget=null,d=R}else for(v=0;v<l.length;v++){if(T=l[v],R=T.instance,j=T.currentTarget,T=T.listener,R!==d&&h.isPropagationStopped())break e;d=T,h.currentTarget=j;try{d(h)}catch(K){qu(K)}h.currentTarget=null,d=R}}}}function Me(t,i){var a=i[ho];a===void 0&&(a=i[ho]=new Set);var l=t+"__bubble";a.has(l)||(Fy(i,t,2,!1),a.add(l))}function id(t,i,a){var l=0;i&&(l|=4),Fy(a,t,l,i)}var ic="_reactListening"+Math.random().toString(36).slice(2);function rd(t){if(!t[ic]){t[ic]=!0,fo.forEach(function(a){a!=="selectionchange"&&(PA.has(a)||id(a,!1,t),id(a,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[ic]||(i[ic]=!0,id("selectionchange",!1,i))}}function Fy(t,i,a,l){switch(m_(i)){case 2:var h=uS;break;case 8:h=cS;break;default:h=_d}a=h.bind(null,i,a,t),h=void 0,!_n||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(i,a,{capture:!0,passive:h}):t.addEventListener(i,a,!0):h!==void 0?t.addEventListener(i,a,{passive:h}):t.addEventListener(i,a,!1)}function sd(t,i,a,l,h){var d=l;if((i&1)===0&&(i&2)===0&&l!==null)e:for(;;){if(l===null)return;var v=l.tag;if(v===3||v===4){var T=l.stateNode.containerInfo;if(T===h)break;if(v===4)for(v=l.return;v!==null;){var R=v.tag;if((R===3||R===4)&&v.stateNode.containerInfo===h)return;v=v.return}for(;T!==null;){if(v=gi(T),v===null)return;if(R=v.tag,R===5||R===6||R===26||R===27){l=d=v;continue e}T=T.parentNode}}l=l.return}su(function(){var j=d,K=yn(a),W=[];e:{var B=wp.get(t);if(B!==void 0){var H=Ws,ve=t;switch(t){case"keypress":if(Qn(a)===0)break e;case"keydown":case"keyup":H=ra;break;case"focusin":ve="focus",H=ta;break;case"focusout":ve="blur",H=ta;break;case"beforeblur":case"afterblur":H=ta;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":H=vn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":H=Nh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":H=du;break;case Tp:case Ap:case Sp:H=na;break;case bp:H=pu;break;case"scroll":case"scrollend":H=au;break;case"wheel":H=sa;break;case"copy":case"cut":case"paste":H=ia;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":H=wo;break;case"toggle":case"beforetoggle":H=yu}var pe=(i&4)!==0,$e=!pe&&(t==="scroll"||t==="scrollend"),V=pe?B!==null?B+"Capture":null:B;pe=[];for(var O=j,z;O!==null;){var X=O;if(z=X.stateNode,X=X.tag,X!==5&&X!==26&&X!==27||z===null||V===null||(X=rs(O,V),X!=null&&pe.push(nl(O,X,z))),$e)break;O=O.return}0<pe.length&&(B=new H(B,ve,null,a,K),W.push({event:B,listeners:pe}))}}if((i&7)===0){e:{if(B=t==="mouseover"||t==="pointerover",H=t==="mouseout"||t==="pointerout",B&&a!==Ei&&(ve=a.relatedTarget||a.fromElement)&&(gi(ve)||ve[pn]))break e;if((H||B)&&(B=K.window===K?K:(B=K.ownerDocument)?B.defaultView||B.parentWindow:window,H?(ve=a.relatedTarget||a.toElement,H=j,ve=ve?gi(ve):null,ve!==null&&($e=u(ve),pe=ve.tag,ve!==$e||pe!==5&&pe!==27&&pe!==6)&&(ve=null)):(H=null,ve=j),H!==ve)){if(pe=vn,X="onMouseLeave",V="onMouseEnter",O="mouse",(t==="pointerout"||t==="pointerover")&&(pe=wo,X="onPointerLeave",V="onPointerEnter",O="pointer"),$e=H==null?B:Hn(H),z=ve==null?B:Hn(ve),B=new pe(X,O+"leave",H,a,K),B.target=$e,B.relatedTarget=z,X=null,gi(K)===j&&(pe=new pe(V,O+"enter",ve,a,K),pe.target=z,pe.relatedTarget=$e,X=pe),$e=X,H&&ve)t:{for(pe=H,V=ve,O=0,z=pe;z;z=Na(z))O++;for(z=0,X=V;X;X=Na(X))z++;for(;0<O-z;)pe=Na(pe),O--;for(;0<z-O;)V=Na(V),z--;for(;O--;){if(pe===V||V!==null&&pe===V.alternate)break t;pe=Na(pe),V=Na(V)}pe=null}else pe=null;H!==null&&Gy(W,B,H,pe,!1),ve!==null&&$e!==null&&Gy(W,$e,ve,pe,!0)}}e:{if(B=j?Hn(j):window,H=B.nodeName&&B.nodeName.toLowerCase(),H==="select"||H==="input"&&B.type==="file")var ue=cp;else if(Tt(B))if(hp)ue=XT;else{ue=KT;var Ne=QT}else H=B.nodeName,!H||H.toLowerCase()!=="input"||B.type!=="checkbox"&&B.type!=="radio"?j&&_o(j.elementType)&&(ue=cp):ue=YT;if(ue&&(ue=ue(t,j))){wi(W,ue,a,K);break e}Ne&&Ne(t,B,j),t==="focusout"&&j&&B.type==="number"&&j.memoizedProps.value!=null&&nr(B,"number",B.value)}switch(Ne=j?Hn(j):window,t){case"focusin":(Tt(Ne)||Ne.contentEditable==="true")&&(aa=Ne,kh=j,Io=null);break;case"focusout":Io=kh=aa=null;break;case"mousedown":Ph=!0;break;case"contextmenu":case"mouseup":case"dragend":Ph=!1,vp(W,a,K);break;case"selectionchange":if(ZT)break;case"keydown":case"keyup":vp(W,a,K)}var he;if(Xn)e:{switch(t){case"compositionstart":var _e="onCompositionStart";break e;case"compositionend":_e="onCompositionEnd";break e;case"compositionupdate":_e="onCompositionUpdate";break e}_e=void 0}else ke?G(t,a)&&(_e="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(_e="onCompositionStart");_e&&(_&&a.locale!=="ko"&&(ke||_e!=="onCompositionStart"?_e==="onCompositionEnd"&&ke&&(he=Eo()):(Gn=K,ir="value"in Gn?Gn.value:Gn.textContent,ke=!0)),Ne=rc(j,_e),0<Ne.length&&(_e=new So(_e,t,null,a,K),W.push({event:_e,listeners:Ne}),he?_e.data=he:(he=re(a),he!==null&&(_e.data=he)))),(he=p?Et(t,a):Pe(t,a))&&(_e=rc(j,"onBeforeInput"),0<_e.length&&(Ne=new So("onBeforeInput","beforeinput",null,a,K),W.push({event:Ne,listeners:_e}),Ne.data=he)),xA(W,t,j,a,K)}qy(W,i)})}function nl(t,i,a){return{instance:t,listener:i,currentTarget:a}}function rc(t,i){for(var a=i+"Capture",l=[];t!==null;){var h=t,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=rs(t,a),h!=null&&l.unshift(nl(t,h,d)),h=rs(t,i),h!=null&&l.push(nl(t,h,d))),t.tag===3)return l;t=t.return}return[]}function Na(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Gy(t,i,a,l,h){for(var d=i._reactName,v=[];a!==null&&a!==l;){var T=a,R=T.alternate,j=T.stateNode;if(T=T.tag,R!==null&&R===l)break;T!==5&&T!==26&&T!==27||j===null||(R=j,h?(j=rs(a,d),j!=null&&v.unshift(nl(a,j,R))):h||(j=rs(a,d),j!=null&&v.push(nl(a,j,R)))),a=a.return}v.length!==0&&t.push({event:i,listeners:v})}var UA=/\r\n?/g,LA=/\u0000|\uFFFD/g;function Qy(t){return(typeof t=="string"?t:""+t).replace(UA,`
`).replace(LA,"")}function Ky(t,i){return i=Qy(i),Qy(t)===i}function sc(){}function Xe(t,i,a,l,h,d){switch(a){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||gn(t,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&gn(t,""+l);break;case"className":qn(t,"class",l);break;case"tabIndex":qn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":qn(t,a,l);break;case"style":yo(t,l,d);break;case"data":if(i!=="object"){qn(t,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Zs(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(i!=="input"&&Xe(t,i,"name",h.name,h,null),Xe(t,i,"formEncType",h.formEncType,h,null),Xe(t,i,"formMethod",h.formMethod,h,null),Xe(t,i,"formTarget",h.formTarget,h,null)):(Xe(t,i,"encType",h.encType,h,null),Xe(t,i,"method",h.method,h,null),Xe(t,i,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Zs(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=sc);break;case"onScroll":l!=null&&Me("scroll",t);break;case"onScrollEnd":l!=null&&Me("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=Zs(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":Me("beforetoggle",t),Me("toggle",t),tr(t,"popover",l);break;case"xlinkActuate":kt(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":kt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":kt(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":kt(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":kt(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":kt(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":kt(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":kt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":kt(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":tr(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Ih.get(a)||a,tr(t,a,l))}}function ad(t,i,a,l,h,d){switch(a){case"style":yo(t,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof l=="string"?gn(t,l):(typeof l=="number"||typeof l=="bigint")&&gn(t,""+l);break;case"onScroll":l!=null&&Me("scroll",t);break;case"onScrollEnd":l!=null&&Me("scrollend",t);break;case"onClick":l!=null&&(t.onclick=sc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Qs.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),i=a.slice(2,h?a.length-7:void 0),d=t[mt]||null,d=d!=null?d[a]:null,typeof d=="function"&&t.removeEventListener(i,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(i,l,h);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):tr(t,a,l)}}}function zt(t,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Me("error",t),Me("load",t);var l=!1,h=!1,d;for(d in a)if(a.hasOwnProperty(d)){var v=a[d];if(v!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Xe(t,i,d,v,a,null)}}h&&Xe(t,i,"srcSet",a.srcSet,a,null),l&&Xe(t,i,"src",a.src,a,null);return;case"input":Me("invalid",t);var T=d=v=h=null,R=null,j=null;for(l in a)if(a.hasOwnProperty(l)){var K=a[l];if(K!=null)switch(l){case"name":h=K;break;case"type":v=K;break;case"checked":R=K;break;case"defaultChecked":j=K;break;case"value":d=K;break;case"defaultValue":T=K;break;case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(s(137,i));break;default:Xe(t,i,l,K,a,null)}}ts(t,d,T,R,j,v,h,!1),$s(t);return;case"select":Me("invalid",t),l=v=d=null;for(h in a)if(a.hasOwnProperty(h)&&(T=a[h],T!=null))switch(h){case"value":d=T;break;case"defaultValue":v=T;break;case"multiple":l=T;default:Xe(t,i,h,T,a,null)}i=d,a=v,t.multiple=!!l,i!=null?vi(t,!!l,i,!1):a!=null&&vi(t,!!l,a,!0);return;case"textarea":Me("invalid",t),d=h=l=null;for(v in a)if(a.hasOwnProperty(v)&&(T=a[v],T!=null))switch(v){case"value":l=T;break;case"defaultValue":h=T;break;case"children":d=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(s(91));break;default:Xe(t,i,v,T,a,null)}ns(t,l,h,d),$s(t);return;case"option":for(R in a)if(a.hasOwnProperty(R)&&(l=a[R],l!=null))switch(R){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Xe(t,i,R,l,a,null)}return;case"dialog":Me("beforetoggle",t),Me("toggle",t),Me("cancel",t),Me("close",t);break;case"iframe":case"object":Me("load",t);break;case"video":case"audio":for(l=0;l<tl.length;l++)Me(tl[l],t);break;case"image":Me("error",t),Me("load",t);break;case"details":Me("toggle",t);break;case"embed":case"source":case"link":Me("error",t),Me("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(j in a)if(a.hasOwnProperty(j)&&(l=a[j],l!=null))switch(j){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Xe(t,i,j,l,a,null)}return;default:if(_o(i)){for(K in a)a.hasOwnProperty(K)&&(l=a[K],l!==void 0&&ad(t,i,K,l,a,void 0));return}}for(T in a)a.hasOwnProperty(T)&&(l=a[T],l!=null&&Xe(t,i,T,l,a,null))}function zA(t,i,a,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,v=null,T=null,R=null,j=null,K=null;for(H in a){var W=a[H];if(a.hasOwnProperty(H)&&W!=null)switch(H){case"checked":break;case"value":break;case"defaultValue":R=W;default:l.hasOwnProperty(H)||Xe(t,i,H,null,l,W)}}for(var B in l){var H=l[B];if(W=a[B],l.hasOwnProperty(B)&&(H!=null||W!=null))switch(B){case"type":d=H;break;case"name":h=H;break;case"checked":j=H;break;case"defaultChecked":K=H;break;case"value":v=H;break;case"defaultValue":T=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(s(137,i));break;default:H!==W&&Xe(t,i,B,H,l,W)}}an(t,v,T,R,j,K,d,h);return;case"select":H=v=T=B=null;for(d in a)if(R=a[d],a.hasOwnProperty(d)&&R!=null)switch(d){case"value":break;case"multiple":H=R;default:l.hasOwnProperty(d)||Xe(t,i,d,null,l,R)}for(h in l)if(d=l[h],R=a[h],l.hasOwnProperty(h)&&(d!=null||R!=null))switch(h){case"value":B=d;break;case"defaultValue":T=d;break;case"multiple":v=d;default:d!==R&&Xe(t,i,h,d,l,R)}i=T,a=v,l=H,B!=null?vi(t,!!a,B,!1):!!l!=!!a&&(i!=null?vi(t,!!a,i,!0):vi(t,!!a,a?[]:"",!1));return;case"textarea":H=B=null;for(T in a)if(h=a[T],a.hasOwnProperty(T)&&h!=null&&!l.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:Xe(t,i,T,null,l,h)}for(v in l)if(h=l[v],d=a[v],l.hasOwnProperty(v)&&(h!=null||d!=null))switch(v){case"value":B=h;break;case"defaultValue":H=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==d&&Xe(t,i,v,h,l,d)}Ke(t,B,H);return;case"option":for(var ve in a)if(B=a[ve],a.hasOwnProperty(ve)&&B!=null&&!l.hasOwnProperty(ve))switch(ve){case"selected":t.selected=!1;break;default:Xe(t,i,ve,null,l,B)}for(R in l)if(B=l[R],H=a[R],l.hasOwnProperty(R)&&B!==H&&(B!=null||H!=null))switch(R){case"selected":t.selected=B&&typeof B!="function"&&typeof B!="symbol";break;default:Xe(t,i,R,B,l,H)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var pe in a)B=a[pe],a.hasOwnProperty(pe)&&B!=null&&!l.hasOwnProperty(pe)&&Xe(t,i,pe,null,l,B);for(j in l)if(B=l[j],H=a[j],l.hasOwnProperty(j)&&B!==H&&(B!=null||H!=null))switch(j){case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(s(137,i));break;default:Xe(t,i,j,B,l,H)}return;default:if(_o(i)){for(var $e in a)B=a[$e],a.hasOwnProperty($e)&&B!==void 0&&!l.hasOwnProperty($e)&&ad(t,i,$e,void 0,l,B);for(K in l)B=l[K],H=a[K],!l.hasOwnProperty(K)||B===H||B===void 0&&H===void 0||ad(t,i,K,B,l,H);return}}for(var V in a)B=a[V],a.hasOwnProperty(V)&&B!=null&&!l.hasOwnProperty(V)&&Xe(t,i,V,null,l,B);for(W in l)B=l[W],H=a[W],!l.hasOwnProperty(W)||B===H||B==null&&H==null||Xe(t,i,W,B,l,H)}var od=null,ld=null;function ac(t){return t.nodeType===9?t:t.ownerDocument}function Yy(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Xy(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function ud(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var cd=null;function jA(){var t=window.event;return t&&t.type==="popstate"?t===cd?!1:(cd=t,!0):(cd=null,!1)}var $y=typeof setTimeout=="function"?setTimeout:void 0,BA=typeof clearTimeout=="function"?clearTimeout:void 0,Zy=typeof Promise=="function"?Promise:void 0,HA=typeof queueMicrotask=="function"?queueMicrotask:typeof Zy<"u"?function(t){return Zy.resolve(null).then(t).catch(qA)}:$y;function qA(t){setTimeout(function(){throw t})}function vr(t){return t==="head"}function Wy(t,i){var a=i,l=0,h=0;do{var d=a.nextSibling;if(t.removeChild(a),d&&d.nodeType===8)if(a=d.data,a==="/$"){if(0<l&&8>l){a=l;var v=t.ownerDocument;if(a&1&&il(v.documentElement),a&2&&il(v.body),a&4)for(a=v.head,il(a),v=a.firstChild;v;){var T=v.nextSibling,R=v.nodeName;v[Zr]||R==="SCRIPT"||R==="STYLE"||R==="LINK"&&v.rel.toLowerCase()==="stylesheet"||a.removeChild(v),v=T}}if(h===0){t.removeChild(d),hl(i);return}h--}else a==="$"||a==="$?"||a==="$!"?h++:l=a.charCodeAt(0)-48;else l=0;a=d}while(a);hl(i)}function hd(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":hd(a),er(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function FA(t,i,a,l){for(;t.nodeType===1;){var h=a;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[Zr])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=kn(t.nextSibling),t===null)break}return null}function GA(t,i,a){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=kn(t.nextSibling),t===null))return null;return t}function fd(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function QA(t,i){var a=t.ownerDocument;if(t.data!=="$?"||a.readyState==="complete")i();else{var l=function(){i(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function kn(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return t}var dd=null;function Jy(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"){if(i===0)return t;i--}else a==="/$"&&i++}t=t.previousSibling}return null}function e_(t,i,a){switch(i=ac(a),t){case"html":if(t=i.documentElement,!t)throw Error(s(452));return t;case"head":if(t=i.head,!t)throw Error(s(453));return t;case"body":if(t=i.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function il(t){for(var i=t.attributes;i.length;)t.removeAttributeNode(i[0]);er(t)}var Rn=new Map,t_=new Set;function oc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Li=ae.d;ae.d={f:KA,r:YA,D:XA,C:$A,L:ZA,m:WA,X:eS,S:JA,M:tS};function KA(){var t=Li.f(),i=Wu();return t||i}function YA(t){var i=Bn(t);i!==null&&i.tag===5&&i.type==="form"?Tg(i):Li.r(t)}var Oa=typeof document>"u"?null:document;function n_(t,i,a){var l=Oa;if(l&&typeof i=="string"&&i){var h=pt(i);h='link[rel="'+t+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),t_.has(h)||(t_.add(h),t={rel:t,crossOrigin:a,href:i},l.querySelector(h)===null&&(i=l.createElement("link"),zt(i,"link",t),ct(i),l.head.appendChild(i)))}}function XA(t){Li.D(t),n_("dns-prefetch",t,null)}function $A(t,i){Li.C(t,i),n_("preconnect",t,i)}function ZA(t,i,a){Li.L(t,i,a);var l=Oa;if(l&&t&&i){var h='link[rel="preload"][as="'+pt(i)+'"]';i==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+pt(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+pt(a.imageSizes)+'"]')):h+='[href="'+pt(t)+'"]';var d=h;switch(i){case"style":d=Ma(t);break;case"script":d=xa(t)}Rn.has(d)||(t=E({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:t,as:i},a),Rn.set(d,t),l.querySelector(h)!==null||i==="style"&&l.querySelector(rl(d))||i==="script"&&l.querySelector(sl(d))||(i=l.createElement("link"),zt(i,"link",t),ct(i),l.head.appendChild(i)))}}function WA(t,i){Li.m(t,i);var a=Oa;if(a&&t){var l=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+pt(l)+'"][href="'+pt(t)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=xa(t)}if(!Rn.has(d)&&(t=E({rel:"modulepreload",href:t},i),Rn.set(d,t),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(sl(d)))return}l=a.createElement("link"),zt(l,"link",t),ct(l),a.head.appendChild(l)}}}function JA(t,i,a){Li.S(t,i,a);var l=Oa;if(l&&t){var h=$t(l).hoistableStyles,d=Ma(t);i=i||"default";var v=h.get(d);if(!v){var T={loading:0,preload:null};if(v=l.querySelector(rl(d)))T.loading=5;else{t=E({rel:"stylesheet",href:t,"data-precedence":i},a),(a=Rn.get(d))&&md(t,a);var R=v=l.createElement("link");ct(R),zt(R,"link",t),R._p=new Promise(function(j,K){R.onload=j,R.onerror=K}),R.addEventListener("load",function(){T.loading|=1}),R.addEventListener("error",function(){T.loading|=2}),T.loading|=4,lc(v,i,l)}v={type:"stylesheet",instance:v,count:1,state:T},h.set(d,v)}}}function eS(t,i){Li.X(t,i);var a=Oa;if(a&&t){var l=$t(a).hoistableScripts,h=xa(t),d=l.get(h);d||(d=a.querySelector(sl(h)),d||(t=E({src:t,async:!0},i),(i=Rn.get(h))&&pd(t,i),d=a.createElement("script"),ct(d),zt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function tS(t,i){Li.M(t,i);var a=Oa;if(a&&t){var l=$t(a).hoistableScripts,h=xa(t),d=l.get(h);d||(d=a.querySelector(sl(h)),d||(t=E({src:t,async:!0,type:"module"},i),(i=Rn.get(h))&&pd(t,i),d=a.createElement("script"),ct(d),zt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function i_(t,i,a,l){var h=(h=Ae.current)?oc(h):null;if(!h)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=Ma(a.href),a=$t(h).hoistableStyles,l=a.get(i),l||(l={type:"style",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=Ma(a.href);var d=$t(h).hoistableStyles,v=d.get(t);if(v||(h=h.ownerDocument||h,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,v),(d=h.querySelector(rl(t)))&&!d._p&&(v.instance=d,v.state.loading=5),Rn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Rn.set(t,a),d||nS(h,t,a,v.state))),i&&l===null)throw Error(s(528,""));return v}if(i&&l!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=xa(a),a=$t(h).hoistableScripts,l=a.get(i),l||(l={type:"script",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function Ma(t){return'href="'+pt(t)+'"'}function rl(t){return'link[rel="stylesheet"]['+t+"]"}function r_(t){return E({},t,{"data-precedence":t.precedence,precedence:null})}function nS(t,i,a,l){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=t.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),zt(i,"link",a),ct(i),t.head.appendChild(i))}function xa(t){return'[src="'+pt(t)+'"]'}function sl(t){return"script[async]"+t}function s_(t,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var l=t.querySelector('style[data-href~="'+pt(a.href)+'"]');if(l)return i.instance=l,ct(l),l;var h=E({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),ct(l),zt(l,"style",h),lc(l,a.precedence,t),i.instance=l;case"stylesheet":h=Ma(a.href);var d=t.querySelector(rl(h));if(d)return i.state.loading|=4,i.instance=d,ct(d),d;l=r_(a),(h=Rn.get(h))&&md(l,h),d=(t.ownerDocument||t).createElement("link"),ct(d);var v=d;return v._p=new Promise(function(T,R){v.onload=T,v.onerror=R}),zt(d,"link",l),i.state.loading|=4,lc(d,a.precedence,t),i.instance=d;case"script":return d=xa(a.src),(h=t.querySelector(sl(d)))?(i.instance=h,ct(h),h):(l=a,(h=Rn.get(d))&&(l=E({},a),pd(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),ct(h),zt(h,"link",l),t.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,lc(l,a.precedence,t));return i.instance}function lc(t,i,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,v=0;v<l.length;v++){var T=l[v];if(T.dataset.precedence===i)d=T;else if(d!==h)break}d?d.parentNode.insertBefore(t,d.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(t,i.firstChild))}function md(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function pd(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var uc=null;function a_(t,i,a){if(uc===null){var l=new Map,h=uc=new Map;h.set(a,l)}else h=uc,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),h=0;h<a.length;h++){var d=a[h];if(!(d[Zr]||d[vt]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var v=d.getAttribute(i)||"";v=t+v;var T=l.get(v);T?T.push(d):l.set(v,[d])}}return l}function o_(t,i,a){t=t.ownerDocument||t,t.head.insertBefore(a,i==="title"?t.querySelector("head > title"):null)}function iS(t,i,a){if(a===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return t=i.disabled,typeof i.precedence=="string"&&t==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function l_(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var al=null;function rS(){}function sS(t,i,a){if(al===null)throw Error(s(475));var l=al;if(i.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var h=Ma(a.href),d=t.querySelector(rl(h));if(d){t=d._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=cc.bind(l),t.then(l,l)),i.state.loading|=4,i.instance=d,ct(d);return}d=t.ownerDocument||t,a=r_(a),(h=Rn.get(h))&&md(a,h),d=d.createElement("link"),ct(d);var v=d;v._p=new Promise(function(T,R){v.onload=T,v.onerror=R}),zt(d,"link",a),i.instance=d}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(i,t),(t=i.state.preload)&&(i.state.loading&3)===0&&(l.count++,i=cc.bind(l),t.addEventListener("load",i),t.addEventListener("error",i))}}function aS(){if(al===null)throw Error(s(475));var t=al;return t.stylesheets&&t.count===0&&gd(t,t.stylesheets),0<t.count?function(i){var a=setTimeout(function(){if(t.stylesheets&&gd(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=i,function(){t.unsuspend=null,clearTimeout(a)}}:null}function cc(){if(this.count--,this.count===0){if(this.stylesheets)gd(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var hc=null;function gd(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,hc=new Map,i.forEach(oS,t),hc=null,cc.call(t))}function oS(t,i){if(!(i.state.loading&4)){var a=hc.get(t);if(a)var l=a.get(null);else{a=new Map,hc.set(t,a);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var v=h[d];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(a.set(v.dataset.precedence,v),l=v)}l&&a.set(null,l)}h=i.instance,v=h.getAttribute("data-precedence"),d=a.get(v)||l,d===l&&a.set(null,h),a.set(v,h),this.count++,l=cc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),i.state.loading|=4}}var ol={$$typeof:te,Provider:null,Consumer:null,_currentValue:de,_currentValue2:de,_threadCount:0};function lS(t,i,a,l,h,d,v,T){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=mi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mi(0),this.hiddenUpdates=mi(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=T,this.incompleteTransitions=new Map}function u_(t,i,a,l,h,d,v,T,R,j,K,W){return t=new lS(t,i,a,v,T,R,j,W),i=1,d===!0&&(i|=24),d=ln(3,null,null,i),t.current=d,d.stateNode=t,i=$h(),i.refCount++,t.pooledCache=i,i.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:i},ef(d),t}function c_(t){return t?(t=ca,t):ca}function h_(t,i,a,l,h,d){h=c_(h),l.context===null?l.context=h:l.pendingContext=h,l=ar(i),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=or(t,l,i),a!==null&&(dn(a,t,i),Uo(a,t,i))}function f_(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<i?a:i}}function yd(t,i){f_(t,i),(t=t.alternate)&&f_(t,i)}function d_(t){if(t.tag===13){var i=ua(t,67108864);i!==null&&dn(i,t,67108864),yd(t,67108864)}}var fc=!0;function uS(t,i,a,l){var h=Q.T;Q.T=null;var d=ae.p;try{ae.p=2,_d(t,i,a,l)}finally{ae.p=d,Q.T=h}}function cS(t,i,a,l){var h=Q.T;Q.T=null;var d=ae.p;try{ae.p=8,_d(t,i,a,l)}finally{ae.p=d,Q.T=h}}function _d(t,i,a,l){if(fc){var h=vd(l);if(h===null)sd(t,i,l,dc,a),p_(t,l);else if(fS(h,t,i,a,l))l.stopPropagation();else if(p_(t,l),i&4&&-1<hS.indexOf(t)){for(;h!==null;){var d=Bn(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var v=Nn(d.pendingLanes);if(v!==0){var T=d;for(T.pendingLanes|=2,T.entangledLanes|=2;v;){var R=1<<31-qt(v);T.entanglements[1]|=R,v&=~R}ti(d),(Ge&6)===0&&($u=mn()+500,el(0))}}break;case 13:T=ua(d,2),T!==null&&dn(T,d,2),Wu(),yd(d,2)}if(d=vd(l),d===null&&sd(t,i,l,dc,a),d===h)break;h=d}h!==null&&l.stopPropagation()}else sd(t,i,l,null,a)}}function vd(t){return t=yn(t),Ed(t)}var dc=null;function Ed(t){if(dc=null,t=gi(t),t!==null){var i=u(t);if(i===null)t=null;else{var a=i.tag;if(a===13){if(t=f(i),t!==null)return t;t=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return dc=t,null}function m_(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ah()){case ro:return 2;case Hs:return 8;case Qr:case Sh:return 32;case qs:return 268435456;default:return 32}default:return 32}}var Td=!1,Er=null,Tr=null,Ar=null,ll=new Map,ul=new Map,Sr=[],hS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function p_(t,i){switch(t){case"focusin":case"focusout":Er=null;break;case"dragenter":case"dragleave":Tr=null;break;case"mouseover":case"mouseout":Ar=null;break;case"pointerover":case"pointerout":ll.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":ul.delete(i.pointerId)}}function cl(t,i,a,l,h,d){return t===null||t.nativeEvent!==d?(t={blockedOn:i,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},i!==null&&(i=Bn(i),i!==null&&d_(i)),t):(t.eventSystemFlags|=l,i=t.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),t)}function fS(t,i,a,l,h){switch(i){case"focusin":return Er=cl(Er,t,i,a,l,h),!0;case"dragenter":return Tr=cl(Tr,t,i,a,l,h),!0;case"mouseover":return Ar=cl(Ar,t,i,a,l,h),!0;case"pointerover":var d=h.pointerId;return ll.set(d,cl(ll.get(d)||null,t,i,a,l,h)),!0;case"gotpointercapture":return d=h.pointerId,ul.set(d,cl(ul.get(d)||null,t,i,a,l,h)),!0}return!1}function g_(t){var i=gi(t.target);if(i!==null){var a=u(i);if(a!==null){if(i=a.tag,i===13){if(i=f(a),i!==null){t.blockedOn=i,Wl(t.priority,function(){if(a.tag===13){var l=fn();l=Zi(l);var h=ua(a,l);h!==null&&dn(h,a,l),yd(a,l)}});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function mc(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var a=vd(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);Ei=l,a.target.dispatchEvent(l),Ei=null}else return i=Bn(a),i!==null&&d_(i),t.blockedOn=a,!1;i.shift()}return!0}function y_(t,i,a){mc(t)&&a.delete(i)}function dS(){Td=!1,Er!==null&&mc(Er)&&(Er=null),Tr!==null&&mc(Tr)&&(Tr=null),Ar!==null&&mc(Ar)&&(Ar=null),ll.forEach(y_),ul.forEach(y_)}function pc(t,i){t.blockedOn===i&&(t.blockedOn=null,Td||(Td=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,dS)))}var gc=null;function __(t){gc!==t&&(gc=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){gc===t&&(gc=null);for(var i=0;i<t.length;i+=3){var a=t[i],l=t[i+1],h=t[i+2];if(typeof l!="function"){if(Ed(l||a)===null)continue;break}var d=Bn(a);d!==null&&(t.splice(i,3),i-=3,Ef(d,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function hl(t){function i(R){return pc(R,t)}Er!==null&&pc(Er,t),Tr!==null&&pc(Tr,t),Ar!==null&&pc(Ar,t),ll.forEach(i),ul.forEach(i);for(var a=0;a<Sr.length;a++){var l=Sr[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<Sr.length&&(a=Sr[0],a.blockedOn===null);)g_(a),a.blockedOn===null&&Sr.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],d=a[l+1],v=h[mt]||null;if(typeof d=="function")v||__(a);else if(v){var T=null;if(d&&d.hasAttribute("formAction")){if(h=d,v=d[mt]||null)T=v.formAction;else if(Ed(h)!==null)continue}else T=v.action;typeof T=="function"?a[l+1]=T:(a.splice(l,3),l-=3),__(a)}}}function Ad(t){this._internalRoot=t}yc.prototype.render=Ad.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,l=fn();h_(a,l,t,i,null,null)},yc.prototype.unmount=Ad.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;h_(t.current,2,null,t,null,null),Wu(),i[pn]=null}};function yc(t){this._internalRoot=t}yc.prototype.unstable_scheduleHydration=function(t){if(t){var i=Wi();t={blockedOn:null,target:t,priority:i};for(var a=0;a<Sr.length&&i!==0&&i<Sr[a].priority;a++);Sr.splice(a,0,t),a===0&&g_(t)}};var v_=e.version;if(v_!=="19.1.0")throw Error(s(527,v_,"19.1.0"));ae.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=g(i),t=t!==null?y(t):null,t=t===null?null:t.stateNode,t};var mS={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:Q,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var _c=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!_c.isDisabled&&_c.supportsFiber)try{at=_c.inject(mS),Fe=_c}catch{}}return dl.createRoot=function(t,i){if(!o(t))throw Error(s(299));var a=!1,l="",h=kg,d=Pg,v=Ug,T=null;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(v=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(T=i.unstable_transitionCallbacks)),i=u_(t,1,!1,null,null,a,l,h,d,v,T,null),t[pn]=i.current,rd(t),new Ad(i)},dl.hydrateRoot=function(t,i,a){if(!o(t))throw Error(s(299));var l=!1,h="",d=kg,v=Pg,T=Ug,R=null,j=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(v=a.onCaughtError),a.onRecoverableError!==void 0&&(T=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(R=a.unstable_transitionCallbacks),a.formState!==void 0&&(j=a.formState)),i=u_(t,1,!0,i,a??null,l,h,d,v,T,R,j),i.context=c_(null),a=i.current,l=fn(),l=Zi(l),h=ar(l),h.callback=null,or(a,h,l),a=l,i.current.lanes=a,pi(i,a),ti(i),t[pn]=i.current,rd(t),new yc(i)},dl.version="19.1.0",dl}var D_;function bS(){if(D_)return wd.exports;D_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),wd.exports=SS(),wd.exports}var wS=bS(),ml={},N_;function RS(){if(N_)return ml;N_=1,Object.defineProperty(ml,"__esModule",{value:!0}),ml.parse=f,ml.serialize=y;const r=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,s=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,u=(()=>{const C=function(){};return C.prototype=Object.create(null),C})();function f(C,P){const L=new u,Z=C.length;if(Z<2)return L;const F=(P==null?void 0:P.decode)||E;let $=0;do{const se=C.indexOf("=",$);if(se===-1)break;const te=C.indexOf(";",$),fe=te===-1?Z:te;if(se>fe){$=C.lastIndexOf(";",se-1)+1;continue}const ce=m(C,$,se),we=g(C,se,ce),M=C.slice(ce,we);if(L[M]===void 0){let S=m(C,se+1,fe),w=g(C,fe,S);const N=F(C.slice(S,w));L[M]=N}$=fe+1}while($<Z);return L}function m(C,P,L){do{const Z=C.charCodeAt(P);if(Z!==32&&Z!==9)return P}while(++P<L);return L}function g(C,P,L){for(;P>L;){const Z=C.charCodeAt(--P);if(Z!==32&&Z!==9)return P+1}return L}function y(C,P,L){const Z=(L==null?void 0:L.encode)||encodeURIComponent;if(!r.test(C))throw new TypeError(`argument name is invalid: ${C}`);const F=Z(P);if(!e.test(F))throw new TypeError(`argument val is invalid: ${P}`);let $=C+"="+F;if(!L)return $;if(L.maxAge!==void 0){if(!Number.isInteger(L.maxAge))throw new TypeError(`option maxAge is invalid: ${L.maxAge}`);$+="; Max-Age="+L.maxAge}if(L.domain){if(!n.test(L.domain))throw new TypeError(`option domain is invalid: ${L.domain}`);$+="; Domain="+L.domain}if(L.path){if(!s.test(L.path))throw new TypeError(`option path is invalid: ${L.path}`);$+="; Path="+L.path}if(L.expires){if(!b(L.expires)||!Number.isFinite(L.expires.valueOf()))throw new TypeError(`option expires is invalid: ${L.expires}`);$+="; Expires="+L.expires.toUTCString()}if(L.httpOnly&&($+="; HttpOnly"),L.secure&&($+="; Secure"),L.partitioned&&($+="; Partitioned"),L.priority)switch(typeof L.priority=="string"?L.priority.toLowerCase():void 0){case"low":$+="; Priority=Low";break;case"medium":$+="; Priority=Medium";break;case"high":$+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${L.priority}`)}if(L.sameSite)switch(typeof L.sameSite=="string"?L.sameSite.toLowerCase():L.sameSite){case!0:case"strict":$+="; SameSite=Strict";break;case"lax":$+="; SameSite=Lax";break;case"none":$+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${L.sameSite}`)}return $}function E(C){if(C.indexOf("%")===-1)return C;try{return decodeURIComponent(C)}catch{return C}}function b(C){return o.call(C)==="[object Date]"}return ml}RS();/**
 * react-router v7.5.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var O_="popstate";function CS(r={}){function e(s,o){let{pathname:u,search:f,hash:m}=s.location;return Hd("",{pathname:u,search:f,hash:m},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(s,o){return typeof o=="string"?o:bl(o)}return DS(e,n,null,r)}function it(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function ai(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function IS(){return Math.random().toString(36).substring(2,10)}function M_(r,e){return{usr:r.state,key:r.key,idx:e}}function Hd(r,e,n=null,s){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?$a(e):e,state:n,key:e&&e.key||s||IS()}}function bl({pathname:r="/",search:e="",hash:n=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(r+=n.charAt(0)==="#"?n:"#"+n),r}function $a(r){let e={};if(r){let n=r.indexOf("#");n>=0&&(e.hash=r.substring(n),r=r.substring(0,n));let s=r.indexOf("?");s>=0&&(e.search=r.substring(s),r=r.substring(0,s)),r&&(e.pathname=r)}return e}function DS(r,e,n,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,f=o.history,m="POP",g=null,y=E();y==null&&(y=0,f.replaceState({...f.state,idx:y},""));function E(){return(f.state||{idx:null}).idx}function b(){m="POP";let F=E(),$=F==null?null:F-y;y=F,g&&g({action:m,location:Z.location,delta:$})}function C(F,$){m="PUSH";let se=Hd(Z.location,F,$);y=E()+1;let te=M_(se,y),fe=Z.createHref(se);try{f.pushState(te,"",fe)}catch(ce){if(ce instanceof DOMException&&ce.name==="DataCloneError")throw ce;o.location.assign(fe)}u&&g&&g({action:m,location:Z.location,delta:1})}function P(F,$){m="REPLACE";let se=Hd(Z.location,F,$);y=E();let te=M_(se,y),fe=Z.createHref(se);f.replaceState(te,"",fe),u&&g&&g({action:m,location:Z.location,delta:0})}function L(F){let $=o.location.origin!=="null"?o.location.origin:o.location.href,se=typeof F=="string"?F:bl(F);return se=se.replace(/ $/,"%20"),it($,`No window.location.(origin|href) available to create URL for href: ${se}`),new URL(se,$)}let Z={get action(){return m},get location(){return r(o,f)},listen(F){if(g)throw new Error("A history only accepts one active listener");return o.addEventListener(O_,b),g=F,()=>{o.removeEventListener(O_,b),g=null}},createHref(F){return e(o,F)},createURL:L,encodeLocation(F){let $=L(F);return{pathname:$.pathname,search:$.search,hash:$.hash}},push:C,replace:P,go(F){return f.go(F)}};return Z}function aE(r,e,n="/"){return NS(r,e,n,!1)}function NS(r,e,n,s){let o=typeof e=="string"?$a(e):e,u=Fi(o.pathname||"/",n);if(u==null)return null;let f=oE(r);OS(f);let m=null;for(let g=0;m==null&&g<f.length;++g){let y=HS(u);m=jS(f[g],y,s)}return m}function oE(r,e=[],n=[],s=""){let o=(u,f,m)=>{let g={relativePath:m===void 0?u.path||"":m,caseSensitive:u.caseSensitive===!0,childrenIndex:f,route:u};g.relativePath.startsWith("/")&&(it(g.relativePath.startsWith(s),`Absolute route path "${g.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),g.relativePath=g.relativePath.slice(s.length));let y=Hi([s,g.relativePath]),E=n.concat(g);u.children&&u.children.length>0&&(it(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${y}".`),oE(u.children,e,E,y)),!(u.path==null&&!u.index)&&e.push({path:y,score:LS(y,u.index),routesMeta:E})};return r.forEach((u,f)=>{var m;if(u.path===""||!((m=u.path)!=null&&m.includes("?")))o(u,f);else for(let g of lE(u.path))o(u,f,g)}),e}function lE(r){let e=r.split("/");if(e.length===0)return[];let[n,...s]=e,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let f=lE(s.join("/")),m=[];return m.push(...f.map(g=>g===""?u:[u,g].join("/"))),o&&m.push(...f),m.map(g=>r.startsWith("/")&&g===""?"/":g)}function OS(r){r.sort((e,n)=>e.score!==n.score?n.score-e.score:zS(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var MS=/^:[\w-]+$/,xS=3,VS=2,kS=1,PS=10,US=-2,x_=r=>r==="*";function LS(r,e){let n=r.split("/"),s=n.length;return n.some(x_)&&(s+=US),e&&(s+=VS),n.filter(o=>!x_(o)).reduce((o,u)=>o+(MS.test(u)?xS:u===""?kS:PS),s)}function zS(r,e){return r.length===e.length&&r.slice(0,-1).every((s,o)=>s===e[o])?r[r.length-1]-e[e.length-1]:0}function jS(r,e,n=!1){let{routesMeta:s}=r,o={},u="/",f=[];for(let m=0;m<s.length;++m){let g=s[m],y=m===s.length-1,E=u==="/"?e:e.slice(u.length)||"/",b=Uc({path:g.relativePath,caseSensitive:g.caseSensitive,end:y},E),C=g.route;if(!b&&y&&n&&!s[s.length-1].route.index&&(b=Uc({path:g.relativePath,caseSensitive:g.caseSensitive,end:!1},E)),!b)return null;Object.assign(o,b.params),f.push({params:o,pathname:Hi([u,b.pathname]),pathnameBase:QS(Hi([u,b.pathnameBase])),route:C}),b.pathnameBase!=="/"&&(u=Hi([u,b.pathnameBase]))}return f}function Uc(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[n,s]=BS(r.path,r.caseSensitive,r.end),o=e.match(n);if(!o)return null;let u=o[0],f=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:s.reduce((y,{paramName:E,isOptional:b},C)=>{if(E==="*"){let L=m[C]||"";f=u.slice(0,u.length-L.length).replace(/(.)\/+$/,"$1")}const P=m[C];return b&&!P?y[E]=void 0:y[E]=(P||"").replace(/%2F/g,"/"),y},{}),pathname:u,pathnameBase:f,pattern:r}}function BS(r,e=!1,n=!0){ai(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let s=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,m,g)=>(s.push({paramName:m,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)"));return r.endsWith("*")?(s.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function HS(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return ai(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function Fi(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=r.charAt(n);return s&&s!=="/"?null:r.slice(n)||"/"}function qS(r,e="/"){let{pathname:n,search:s="",hash:o=""}=typeof r=="string"?$a(r):r;return{pathname:n?n.startsWith("/")?n:FS(n,e):e,search:KS(s),hash:YS(o)}}function FS(r,e){let n=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function Dd(r,e,n,s){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function GS(r){return r.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function uE(r){let e=GS(r);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function cE(r,e,n,s=!1){let o;typeof r=="string"?o=$a(r):(o={...r},it(!o.pathname||!o.pathname.includes("?"),Dd("?","pathname","search",o)),it(!o.pathname||!o.pathname.includes("#"),Dd("#","pathname","hash",o)),it(!o.search||!o.search.includes("#"),Dd("#","search","hash",o)));let u=r===""||o.pathname==="",f=u?"/":o.pathname,m;if(f==null)m=n;else{let b=e.length-1;if(!s&&f.startsWith("..")){let C=f.split("/");for(;C[0]==="..";)C.shift(),b-=1;o.pathname=C.join("/")}m=b>=0?e[b]:"/"}let g=qS(o,m),y=f&&f!=="/"&&f.endsWith("/"),E=(u||f===".")&&n.endsWith("/");return!g.pathname.endsWith("/")&&(y||E)&&(g.pathname+="/"),g}var Hi=r=>r.join("/").replace(/\/\/+/g,"/"),QS=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),KS=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,YS=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function XS(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}var hE=["POST","PUT","PATCH","DELETE"];new Set(hE);var $S=["GET",...hE];new Set($S);var Za=Y.createContext(null);Za.displayName="DataRouter";var rh=Y.createContext(null);rh.displayName="DataRouterState";var fE=Y.createContext({isTransitioning:!1});fE.displayName="ViewTransition";var ZS=Y.createContext(new Map);ZS.displayName="Fetchers";var WS=Y.createContext(null);WS.displayName="Await";var hi=Y.createContext(null);hi.displayName="Navigation";var Pl=Y.createContext(null);Pl.displayName="Location";var fi=Y.createContext({outlet:null,matches:[],isDataRoute:!1});fi.displayName="Route";var pm=Y.createContext(null);pm.displayName="RouteError";function JS(r,{relative:e}={}){it(Ul(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=Y.useContext(hi),{hash:o,pathname:u,search:f}=Ll(r,{relative:e}),m=u;return n!=="/"&&(m=u==="/"?n:Hi([n,u])),s.createHref({pathname:m,search:f,hash:o})}function Ul(){return Y.useContext(Pl)!=null}function Hr(){return it(Ul(),"useLocation() may be used only in the context of a <Router> component."),Y.useContext(Pl).location}var dE="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function mE(r){Y.useContext(hi).static||Y.useLayoutEffect(r)}function eb(){let{isDataRoute:r}=Y.useContext(fi);return r?mb():tb()}function tb(){it(Ul(),"useNavigate() may be used only in the context of a <Router> component.");let r=Y.useContext(Za),{basename:e,navigator:n}=Y.useContext(hi),{matches:s}=Y.useContext(fi),{pathname:o}=Hr(),u=JSON.stringify(uE(s)),f=Y.useRef(!1);return mE(()=>{f.current=!0}),Y.useCallback((g,y={})=>{if(ai(f.current,dE),!f.current)return;if(typeof g=="number"){n.go(g);return}let E=cE(g,JSON.parse(u),o,y.relative==="path");r==null&&e!=="/"&&(E.pathname=E.pathname==="/"?e:Hi([e,E.pathname])),(y.replace?n.replace:n.push)(E,y.state,y)},[e,n,u,o,r])}Y.createContext(null);function nb(){let{matches:r}=Y.useContext(fi),e=r[r.length-1];return e?e.params:{}}function Ll(r,{relative:e}={}){let{matches:n}=Y.useContext(fi),{pathname:s}=Hr(),o=JSON.stringify(uE(n));return Y.useMemo(()=>cE(r,JSON.parse(o),s,e==="path"),[r,o,s,e])}function ib(r,e){return pE(r,e)}function pE(r,e,n,s){var se;it(Ul(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o,static:u}=Y.useContext(hi),{matches:f}=Y.useContext(fi),m=f[f.length-1],g=m?m.params:{},y=m?m.pathname:"/",E=m?m.pathnameBase:"/",b=m&&m.route;{let te=b&&b.path||"";gE(y,!b||te.endsWith("*")||te.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${y}" (under <Route path="${te}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${te}"> to <Route path="${te==="/"?"*":`${te}/*`}">.`)}let C=Hr(),P;if(e){let te=typeof e=="string"?$a(e):e;it(E==="/"||((se=te.pathname)==null?void 0:se.startsWith(E)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${E}" but pathname "${te.pathname}" was given in the \`location\` prop.`),P=te}else P=C;let L=P.pathname||"/",Z=L;if(E!=="/"){let te=E.replace(/^\//,"").split("/");Z="/"+L.replace(/^\//,"").split("/").slice(te.length).join("/")}let F=!u&&n&&n.matches&&n.matches.length>0?n.matches:aE(r,{pathname:Z});ai(b||F!=null,`No routes matched location "${P.pathname}${P.search}${P.hash}" `),ai(F==null||F[F.length-1].route.element!==void 0||F[F.length-1].route.Component!==void 0||F[F.length-1].route.lazy!==void 0,`Matched leaf route at location "${P.pathname}${P.search}${P.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let $=lb(F&&F.map(te=>Object.assign({},te,{params:Object.assign({},g,te.params),pathname:Hi([E,o.encodeLocation?o.encodeLocation(te.pathname).pathname:te.pathname]),pathnameBase:te.pathnameBase==="/"?E:Hi([E,o.encodeLocation?o.encodeLocation(te.pathnameBase).pathname:te.pathnameBase])})),f,n,s);return e&&$?Y.createElement(Pl.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...P},navigationType:"POP"}},$):$}function rb(){let r=db(),e=XS(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),n=r instanceof Error?r.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},f=null;return console.error("Error handled by React Router default ErrorBoundary:",r),f=Y.createElement(Y.Fragment,null,Y.createElement("p",null,"💿 Hey developer 👋"),Y.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",Y.createElement("code",{style:u},"ErrorBoundary")," or"," ",Y.createElement("code",{style:u},"errorElement")," prop on your route.")),Y.createElement(Y.Fragment,null,Y.createElement("h2",null,"Unexpected Application Error!"),Y.createElement("h3",{style:{fontStyle:"italic"}},e),n?Y.createElement("pre",{style:o},n):null,f)}var sb=Y.createElement(rb,null),ab=class extends Y.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){console.error("React Router caught the following error during render",r,e)}render(){return this.state.error!==void 0?Y.createElement(fi.Provider,{value:this.props.routeContext},Y.createElement(pm.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function ob({routeContext:r,match:e,children:n}){let s=Y.useContext(Za);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),Y.createElement(fi.Provider,{value:r},n)}function lb(r,e=[],n=null,s=null){if(r==null){if(!n)return null;if(n.errors)r=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)r=n.matches;else return null}let o=r,u=n==null?void 0:n.errors;if(u!=null){let g=o.findIndex(y=>y.route.id&&(u==null?void 0:u[y.route.id])!==void 0);it(g>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),o=o.slice(0,Math.min(o.length,g+1))}let f=!1,m=-1;if(n)for(let g=0;g<o.length;g++){let y=o[g];if((y.route.HydrateFallback||y.route.hydrateFallbackElement)&&(m=g),y.route.id){let{loaderData:E,errors:b}=n,C=y.route.loader&&!E.hasOwnProperty(y.route.id)&&(!b||b[y.route.id]===void 0);if(y.route.lazy||C){f=!0,m>=0?o=o.slice(0,m+1):o=[o[0]];break}}}return o.reduceRight((g,y,E)=>{let b,C=!1,P=null,L=null;n&&(b=u&&y.route.id?u[y.route.id]:void 0,P=y.route.errorElement||sb,f&&(m<0&&E===0?(gE("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),C=!0,L=null):m===E&&(C=!0,L=y.route.hydrateFallbackElement||null)));let Z=e.concat(o.slice(0,E+1)),F=()=>{let $;return b?$=P:C?$=L:y.route.Component?$=Y.createElement(y.route.Component,null):y.route.element?$=y.route.element:$=g,Y.createElement(ob,{match:y,routeContext:{outlet:g,matches:Z,isDataRoute:n!=null},children:$})};return n&&(y.route.ErrorBoundary||y.route.errorElement||E===0)?Y.createElement(ab,{location:n.location,revalidation:n.revalidation,component:P,error:b,children:F(),routeContext:{outlet:null,matches:Z,isDataRoute:!0}}):F()},null)}function gm(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function ub(r){let e=Y.useContext(Za);return it(e,gm(r)),e}function cb(r){let e=Y.useContext(rh);return it(e,gm(r)),e}function hb(r){let e=Y.useContext(fi);return it(e,gm(r)),e}function ym(r){let e=hb(r),n=e.matches[e.matches.length-1];return it(n.route.id,`${r} can only be used on routes that contain a unique "id"`),n.route.id}function fb(){return ym("useRouteId")}function db(){var s;let r=Y.useContext(pm),e=cb("useRouteError"),n=ym("useRouteError");return r!==void 0?r:(s=e.errors)==null?void 0:s[n]}function mb(){let{router:r}=ub("useNavigate"),e=ym("useNavigate"),n=Y.useRef(!1);return mE(()=>{n.current=!0}),Y.useCallback(async(o,u={})=>{ai(n.current,dE),n.current&&(typeof o=="number"?r.navigate(o):await r.navigate(o,{fromRouteId:e,...u}))},[r,e])}var V_={};function gE(r,e,n){!e&&!V_[r]&&(V_[r]=!0,ai(!1,n))}Y.memo(pb);function pb({routes:r,future:e,state:n}){return pE(r,void 0,n,e)}function Rs(r){it(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function gb({basename:r="/",children:e=null,location:n,navigationType:s="POP",navigator:o,static:u=!1}){it(!Ul(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=r.replace(/^\/*/,"/"),m=Y.useMemo(()=>({basename:f,navigator:o,static:u,future:{}}),[f,o,u]);typeof n=="string"&&(n=$a(n));let{pathname:g="/",search:y="",hash:E="",state:b=null,key:C="default"}=n,P=Y.useMemo(()=>{let L=Fi(g,f);return L==null?null:{location:{pathname:L,search:y,hash:E,state:b,key:C},navigationType:s}},[f,g,y,E,b,C,s]);return ai(P!=null,`<Router basename="${f}"> is not able to match the URL "${g}${y}${E}" because it does not start with the basename, so the <Router> won't render anything.`),P==null?null:Y.createElement(hi.Provider,{value:m},Y.createElement(Pl.Provider,{children:e,value:P}))}function yb({children:r,location:e}){return ib(qd(r),e)}function qd(r,e=[]){let n=[];return Y.Children.forEach(r,(s,o)=>{if(!Y.isValidElement(s))return;let u=[...e,o];if(s.type===Y.Fragment){n.push.apply(n,qd(s.props.children,u));return}it(s.type===Rs,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),it(!s.props.index||!s.props.children,"An index route cannot have child routes.");let f={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(f.children=qd(s.props.children,u)),n.push(f)}),n}var Rc="get",Cc="application/x-www-form-urlencoded";function sh(r){return r!=null&&typeof r.tagName=="string"}function _b(r){return sh(r)&&r.tagName.toLowerCase()==="button"}function vb(r){return sh(r)&&r.tagName.toLowerCase()==="form"}function Eb(r){return sh(r)&&r.tagName.toLowerCase()==="input"}function Tb(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function Ab(r,e){return r.button===0&&(!e||e==="_self")&&!Tb(r)}var vc=null;function Sb(){if(vc===null)try{new FormData(document.createElement("form"),0),vc=!1}catch{vc=!0}return vc}var bb=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Nd(r){return r!=null&&!bb.has(r)?(ai(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Cc}"`),null):r}function wb(r,e){let n,s,o,u,f;if(vb(r)){let m=r.getAttribute("action");s=m?Fi(m,e):null,n=r.getAttribute("method")||Rc,o=Nd(r.getAttribute("enctype"))||Cc,u=new FormData(r)}else if(_b(r)||Eb(r)&&(r.type==="submit"||r.type==="image")){let m=r.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let g=r.getAttribute("formaction")||m.getAttribute("action");if(s=g?Fi(g,e):null,n=r.getAttribute("formmethod")||m.getAttribute("method")||Rc,o=Nd(r.getAttribute("formenctype"))||Nd(m.getAttribute("enctype"))||Cc,u=new FormData(m,r),!Sb()){let{name:y,type:E,value:b}=r;if(E==="image"){let C=y?`${y}.`:"";u.append(`${C}x`,"0"),u.append(`${C}y`,"0")}else y&&u.append(y,b)}}else{if(sh(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Rc,s=null,o=Cc,f=r}return u&&o==="text/plain"&&(f=u,u=void 0),{action:s,method:n.toLowerCase(),encType:o,formData:u,body:f}}function _m(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}async function Rb(r,e){if(r.id in e)return e[r.id];try{let n=await import(r.module);return e[r.id]=n,n}catch(n){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Cb(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function Ib(r,e,n){let s=await Promise.all(r.map(async o=>{let u=e.routes[o.route.id];if(u){let f=await Rb(u,n);return f.links?f.links():[]}return[]}));return Mb(s.flat(1).filter(Cb).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function k_(r,e,n,s,o,u){let f=(g,y)=>n[y]?g.route.id!==n[y].route.id:!0,m=(g,y)=>{var E;return n[y].pathname!==g.pathname||((E=n[y].route.path)==null?void 0:E.endsWith("*"))&&n[y].params["*"]!==g.params["*"]};return u==="assets"?e.filter((g,y)=>f(g,y)||m(g,y)):u==="data"?e.filter((g,y)=>{var b;let E=s.routes[g.route.id];if(!E||!E.hasLoader)return!1;if(f(g,y)||m(g,y))return!0;if(g.route.shouldRevalidate){let C=g.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((b=n[0])==null?void 0:b.params)||{},nextUrl:new URL(r,window.origin),nextParams:g.params,defaultShouldRevalidate:!0});if(typeof C=="boolean")return C}return!0}):[]}function Db(r,e,{includeHydrateFallback:n}={}){return Nb(r.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function Nb(r){return[...new Set(r)]}function Ob(r){let e={},n=Object.keys(r).sort();for(let s of n)e[s]=r[s];return e}function Mb(r,e){let n=new Set;return new Set(e),r.reduce((s,o)=>{let u=JSON.stringify(Ob(o));return n.has(u)||(n.add(u),s.push({key:u,link:o})),s},[])}var xb=new Set([100,101,204,205]);function Vb(r,e){let n=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return n.pathname==="/"?n.pathname="_root.data":e&&Fi(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function yE(){let r=Y.useContext(Za);return _m(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function kb(){let r=Y.useContext(rh);return _m(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var vm=Y.createContext(void 0);vm.displayName="FrameworkContext";function _E(){let r=Y.useContext(vm);return _m(r,"You must render this element inside a <HydratedRouter> element"),r}function Pb(r,e){let n=Y.useContext(vm),[s,o]=Y.useState(!1),[u,f]=Y.useState(!1),{onFocus:m,onBlur:g,onMouseEnter:y,onMouseLeave:E,onTouchStart:b}=e,C=Y.useRef(null);Y.useEffect(()=>{if(r==="render"&&f(!0),r==="viewport"){let Z=$=>{$.forEach(se=>{f(se.isIntersecting)})},F=new IntersectionObserver(Z,{threshold:.5});return C.current&&F.observe(C.current),()=>{F.disconnect()}}},[r]),Y.useEffect(()=>{if(s){let Z=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(Z)}}},[s]);let P=()=>{o(!0)},L=()=>{o(!1),f(!1)};return n?r!=="intent"?[u,C,{}]:[u,C,{onFocus:pl(m,P),onBlur:pl(g,L),onMouseEnter:pl(y,P),onMouseLeave:pl(E,L),onTouchStart:pl(b,P)}]:[!1,C,{}]}function pl(r,e){return n=>{r&&r(n),n.defaultPrevented||e(n)}}function Ub({page:r,...e}){let{router:n}=yE(),s=Y.useMemo(()=>aE(n.routes,r,n.basename),[n.routes,r,n.basename]);return s?Y.createElement(zb,{page:r,matches:s,...e}):null}function Lb(r){let{manifest:e,routeModules:n}=_E(),[s,o]=Y.useState([]);return Y.useEffect(()=>{let u=!1;return Ib(r,e,n).then(f=>{u||o(f)}),()=>{u=!0}},[r,e,n]),s}function zb({page:r,matches:e,...n}){let s=Hr(),{manifest:o,routeModules:u}=_E(),{basename:f}=yE(),{loaderData:m,matches:g}=kb(),y=Y.useMemo(()=>k_(r,e,g,o,s,"data"),[r,e,g,o,s]),E=Y.useMemo(()=>k_(r,e,g,o,s,"assets"),[r,e,g,o,s]),b=Y.useMemo(()=>{if(r===s.pathname+s.search+s.hash)return[];let L=new Set,Z=!1;if(e.forEach($=>{var te;let se=o.routes[$.route.id];!se||!se.hasLoader||(!y.some(fe=>fe.route.id===$.route.id)&&$.route.id in m&&((te=u[$.route.id])!=null&&te.shouldRevalidate)||se.hasClientLoader?Z=!0:L.add($.route.id))}),L.size===0)return[];let F=Vb(r,f);return Z&&L.size>0&&F.searchParams.set("_routes",e.filter($=>L.has($.route.id)).map($=>$.route.id).join(",")),[F.pathname+F.search]},[f,m,s,o,y,e,r,u]),C=Y.useMemo(()=>Db(E,o),[E,o]),P=Lb(E);return Y.createElement(Y.Fragment,null,b.map(L=>Y.createElement("link",{key:L,rel:"prefetch",as:"fetch",href:L,...n})),C.map(L=>Y.createElement("link",{key:L,rel:"modulepreload",href:L,...n})),P.map(({key:L,link:Z})=>Y.createElement("link",{key:L,...Z})))}function jb(...r){return e=>{r.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var vE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{vE&&(window.__reactRouterVersion="7.5.1")}catch{}function Bb({basename:r,children:e,window:n}){let s=Y.useRef();s.current==null&&(s.current=CS({window:n,v5Compat:!0}));let o=s.current,[u,f]=Y.useState({action:o.action,location:o.location}),m=Y.useCallback(g=>{Y.startTransition(()=>f(g))},[f]);return Y.useLayoutEffect(()=>o.listen(m),[o,m]),Y.createElement(gb,{basename:r,children:e,location:u.location,navigationType:u.action,navigator:o})}var EE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,TE=Y.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:o,reloadDocument:u,replace:f,state:m,target:g,to:y,preventScrollReset:E,viewTransition:b,...C},P){let{basename:L}=Y.useContext(hi),Z=typeof y=="string"&&EE.test(y),F,$=!1;if(typeof y=="string"&&Z&&(F=y,vE))try{let w=new URL(window.location.href),N=y.startsWith("//")?new URL(w.protocol+y):new URL(y),x=Fi(N.pathname,L);N.origin===w.origin&&x!=null?y=x+N.search+N.hash:$=!0}catch{ai(!1,`<Link to="${y}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let se=JS(y,{relative:o}),[te,fe,ce]=Pb(s,C),we=Gb(y,{replace:f,state:m,target:g,preventScrollReset:E,relative:o,viewTransition:b});function M(w){e&&e(w),w.defaultPrevented||we(w)}let S=Y.createElement("a",{...C,...ce,href:F||se,onClick:$||u?e:M,ref:jb(P,fe),target:g,"data-discover":!Z&&n==="render"?"true":void 0});return te&&!Z?Y.createElement(Y.Fragment,null,S,Y.createElement(Ub,{page:se})):S});TE.displayName="Link";var Hb=Y.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:o=!1,style:u,to:f,viewTransition:m,children:g,...y},E){let b=Ll(f,{relative:y.relative}),C=Hr(),P=Y.useContext(rh),{navigator:L,basename:Z}=Y.useContext(hi),F=P!=null&&$b(b)&&m===!0,$=L.encodeLocation?L.encodeLocation(b).pathname:b.pathname,se=C.pathname,te=P&&P.navigation&&P.navigation.location?P.navigation.location.pathname:null;n||(se=se.toLowerCase(),te=te?te.toLowerCase():null,$=$.toLowerCase()),te&&Z&&(te=Fi(te,Z)||te);const fe=$!=="/"&&$.endsWith("/")?$.length-1:$.length;let ce=se===$||!o&&se.startsWith($)&&se.charAt(fe)==="/",we=te!=null&&(te===$||!o&&te.startsWith($)&&te.charAt($.length)==="/"),M={isActive:ce,isPending:we,isTransitioning:F},S=ce?e:void 0,w;typeof s=="function"?w=s(M):w=[s,ce?"active":null,we?"pending":null,F?"transitioning":null].filter(Boolean).join(" ");let N=typeof u=="function"?u(M):u;return Y.createElement(TE,{...y,"aria-current":S,className:w,ref:E,style:N,to:f,viewTransition:m},typeof g=="function"?g(M):g)});Hb.displayName="NavLink";var qb=Y.forwardRef(({discover:r="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:o,state:u,method:f=Rc,action:m,onSubmit:g,relative:y,preventScrollReset:E,viewTransition:b,...C},P)=>{let L=Yb(),Z=Xb(m,{relative:y}),F=f.toLowerCase()==="get"?"get":"post",$=typeof m=="string"&&EE.test(m),se=te=>{if(g&&g(te),te.defaultPrevented)return;te.preventDefault();let fe=te.nativeEvent.submitter,ce=(fe==null?void 0:fe.getAttribute("formmethod"))||f;L(fe||te.currentTarget,{fetcherKey:e,method:ce,navigate:n,replace:o,state:u,relative:y,preventScrollReset:E,viewTransition:b})};return Y.createElement("form",{ref:P,method:F,action:Z,onSubmit:s?g:se,...C,"data-discover":!$&&r==="render"?"true":void 0})});qb.displayName="Form";function Fb(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function AE(r){let e=Y.useContext(Za);return it(e,Fb(r)),e}function Gb(r,{target:e,replace:n,state:s,preventScrollReset:o,relative:u,viewTransition:f}={}){let m=eb(),g=Hr(),y=Ll(r,{relative:u});return Y.useCallback(E=>{if(Ab(E,e)){E.preventDefault();let b=n!==void 0?n:bl(g)===bl(y);m(r,{replace:b,state:s,preventScrollReset:o,relative:u,viewTransition:f})}},[g,m,y,n,s,e,r,o,u,f])}var Qb=0,Kb=()=>`__${String(++Qb)}__`;function Yb(){let{router:r}=AE("useSubmit"),{basename:e}=Y.useContext(hi),n=fb();return Y.useCallback(async(s,o={})=>{let{action:u,method:f,encType:m,formData:g,body:y}=wb(s,e);if(o.navigate===!1){let E=o.fetcherKey||Kb();await r.fetch(E,n,o.action||u,{preventScrollReset:o.preventScrollReset,formData:g,body:y,formMethod:o.method||f,formEncType:o.encType||m,flushSync:o.flushSync})}else await r.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:g,body:y,formMethod:o.method||f,formEncType:o.encType||m,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[r,e,n])}function Xb(r,{relative:e}={}){let{basename:n}=Y.useContext(hi),s=Y.useContext(fi);it(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...Ll(r||".",{relative:e})},f=Hr();if(r==null){u.search=f.search;let m=new URLSearchParams(u.search),g=m.getAll("index");if(g.some(E=>E==="")){m.delete("index"),g.filter(b=>b).forEach(b=>m.append("index",b));let E=m.toString();u.search=E?`?${E}`:""}}return(!r||r===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:Hi([n,u.pathname])),bl(u)}function $b(r,e={}){let n=Y.useContext(fE);it(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=AE("useViewTransitionState"),o=Ll(r,{relative:e.relative});if(!n.isTransitioning)return!1;let u=Fi(n.currentLocation.pathname,s)||n.currentLocation.pathname,f=Fi(n.nextLocation.pathname,s)||n.nextLocation.pathname;return Uc(o.pathname,f)!=null||Uc(o.pathname,u)!=null}new TextEncoder;[...xb];const Zb="/assets/hytte-B67Z78iM.png",Wb="/assets/cabin1-CtXbMou4.png",Jb="/assets/cabin2-BenUgYoM.png",ew="/assets/cabin3-Yoxkw0Ej.png",tw="/assets/cabin4-C29Qjiw7.png",nw="/assets/cabin5-CHrZPZiD.png",iw="/assets/cabin6-DY5o2Ytf.png",rw="/assets/cabin7-BqTBO_5p.png",sw="/assets/cabin8-B3owjgf5.png",aw="/assets/cabin9-BQMa7R2I.png",ow="/assets/cabin10-DVxCEGI2.png",wl=[{id:"cabin-001",images:[Wb],categories:["Skog","Avsides"],title:"Skogro Hytte",description:"En koselig tømmerhytte dypt inne i skogen – perfekt for en rolig helg unna byen.",maxGuests:4,location:"Trysil, Innlandet",amenities:["Peis","Vedovn","Terrasse"],pricePerNight:950},{id:"cabin-002",images:[Jb],categories:["Fjell","Familie"],title:"Fjellheimen",description:"Romslig fjellhytte med panoramautsikt, ideell for familieferier.",maxGuests:6,location:"Hemsedal, Viken",amenities:["Badstu","Kjøkken","Wifi"],pricePerNight:1200},{id:"cabin-003",images:[ew],categories:["Innsjø","Romantisk"],title:"Vannkanten",description:"Sjarmerende liten hytte rett ved vannet – perfekt for to.",maxGuests:2,location:"Seljord, Telemark",amenities:["Bålplass","Robåt","Solnedgang"],pricePerNight:850},{id:"cabin-004",images:[tw],categories:["Luksus","Avsides"],title:"Nordlys Retreat",description:"Eksklusiv hytte i nord med store vinduer – perfekt for å se nordlyset.",maxGuests:5,location:"Alta, Troms og Finnmark",amenities:["Jacuzzi","Peis","Fullt kjøkken"],pricePerNight:2e3},{id:"cabin-005",images:[nw],categories:["Skog","Enkel"],title:"Granly",description:"Enkel og sjarmerende hytte omringet av grantrær – tilbake til naturen.",maxGuests:3,location:"Eidsvoll, Akershus",amenities:["Vedovn","Utetoalett","Natursti"],pricePerNight:600},{id:"cabin-006",images:[iw],categories:["Fjell","Avsides"],title:"Høgfjellbu",description:"Tradisjonell hytte høyt til fjells med fantastisk utsikt og fredelig atmosfære.",maxGuests:4,location:"Rondane, Innlandet",amenities:["Peis","Turstier","Kjøkken"],pricePerNight:1100},{id:"cabin-007",images:[rw],categories:["Innsjø","Familie"],title:"Sjøgløtt",description:"Familievennlig hytte ved innsjø med god plass og kort vei til badestrand.",maxGuests:6,location:"Norefjell, Viken",amenities:["Båt","Grillplass","Wifi"],pricePerNight:1250},{id:"cabin-008",images:[sw],categories:["Romantisk","Luksus"],title:"Eventyrhytta",description:"Eksklusiv og romantisk hytte med jacuzzi og utsikt over fjellene.",maxGuests:2,location:"Geiranger, Møre og Romsdal",amenities:["Jacuzzi","Peis","Privat terrasse"],pricePerNight:2200},{id:"cabin-009",images:[aw],categories:["Skog","Familie"],title:"Tretopphytten",description:"Unik tretopphytte midt i skogen – en spennende opplevelse for hele familien.",maxGuests:5,location:"Hurdal, Akershus",amenities:["Tretopptur","Kjøkken","Terrasse"],pricePerNight:1350},{id:"cabin-010",images:[ow],categories:["Avsides","Enkel"],title:"Stillhet",description:"Minimalistisk hytte uten strøm og vann – perfekt for å koble helt av.",maxGuests:2,location:"Setesdal, Agder",amenities:["Vedovn","Utetoalett","Stjernehimmel"],pricePerNight:500}];function lw(r){let e=[];for(let n=0;n<wl.length;n++){const s=wl[n];s.location.toLowerCase().includes(r.toLowerCase())&&e.push(s)}return e}function uw(r){for(let e=0;e<wl.length;e++){const n=wl[e];if(n.id===r)return n}}function cw(){const[r,e]=Y.useState([]),n=s=>e(lw(s.target.value));return q.jsxs("div",{className:"home-container",children:[q.jsx("img",{src:Zb,alt:"Bakgrunnsbilde av en skog.",className:"background-image"}),q.jsxs("div",{className:"home-content",children:[q.jsx("h3",{className:"home-title",children:"Hytte Leie – Finn din perfekte hytte i naturen"}),q.jsx("p",{className:"home-description",children:"Lei en koselig hytte i vakre omgivelser, fra skog til fjell. Enkel booking og unike opplevelser for ro og eventyr – alt på ett sted."}),q.jsxs("div",{className:"searchbar",children:[q.jsx("input",{type:"text",id:"searchbar",placeholder:"Finn din hytte her",onChange:n}),q.jsx("svg",{width:"100%",height:"100%",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:q.jsx("path",{d:"M21 21L17.5001 17.5M20 11.5C20 16.1944 16.1944 20 11.5 20C6.80558 20 3 16.1944 3 11.5C3 6.80558 6.80558 3 11.5 3C16.1944 3 20 6.80558 20 11.5Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})]}),q.jsx("div",{className:"cabin-recommendations",children:r.map((s,o)=>q.jsxs("a",{href:`/hytter/${s.id}`,style:{borderTopLeftRadius:o===0?"4px":"0",borderTopRightRadius:o===0?"4px":"0",borderBottomLeftRadius:o===r.length-1?"4px":"0",borderBottomRightRadius:o===r.length-1?"4px":"0"},children:[s.title,", ",s.location]},o))})]})]})}function hw(){return q.jsx("div",{className:"main-page-container",children:q.jsx("div",{className:"main-page-content",children:q.jsx(cw,{})})})}function fw(){const e=Hr().pathname==="/",n=e?"#fff":"#000",s=e?"rgba(255, 255, 255, .1) solid 1px":"rgba(0, 0, 0, .1) solid 1px",o=e?"transparent":"#fff";return q.jsx("div",{className:"header-container",style:{borderBottom:s,backgroundColor:o},children:q.jsxs("div",{className:"header-content",children:[q.jsx("a",{href:"/",className:"header-logo",style:{color:n},children:"Hytte Leie"}),q.jsxs("div",{className:"header-dock",children:[q.jsx("a",{style:{color:n},href:"/hytter",children:"Hytter"}),q.jsx("a",{style:{color:n},href:"/omoss",children:"Om oss"}),q.jsx("a",{style:{color:n},href:"/register",children:"Registrer"}),q.jsx("a",{style:{color:n},href:"/login",children:"Log inn"})]})]})})}const dw="/assets/notfound-Bxuhigpu.png";function mw(){return q.jsx("div",{className:"nf-page",children:q.jsxs("div",{className:"nf-content",children:[q.jsx("img",{src:dw,alt:"404 not found."}),q.jsx("h3",{children:"Feilmelding 404 - Siden ble ikke funnet"}),q.jsxs("p",{children:["Denne hytta fant vi ikke dessverre... Har du lyst til å se på de andre ",q.jsx("a",{href:"/hytter",children:"hyttene våre"}),"?"]})]})})}function pw(){return q.jsx("div",{className:"about-page-container",children:q.jsxs("div",{className:"about-page-content",children:[q.jsx("h3",{children:"Om oss"}),q.jsxs("p",{children:["Hytte Leie er et personlig prosjekt til ",q.jsx("a",{href:"https://wesseldalen.eu",target:"_blank",children:"Wessel van Dalen"}),", for å vise frem ferdighetene sine med React TypeScript, Firebase og Firestore."]}),q.jsx("p",{children:"Hos Hytte Leie kan du opprette en konto, utforske alle tilgjengelige hytter og leie dem for ønsket periode. Ta en pause fra hverdagen, slapp av i naturen og finn roen i vakre omgivelser."}),q.jsxs("p",{children:["Hvis du har noen spørsmål, kan du alltid sende en e-post til ",q.jsx("a",{href:"mailto:wesselvandalen@gmail.com",children:"wesselvandalen@gmail.com"})]})]})})}const SE=r=>{switch(r.toLowerCase()){case"skog":return"#80cc91";case"fjell":return"#c8d2d0";case"avsides":return"#de9370";case"familie":return"#d6de93";case"innsjø":return"#6dd7c9";case"romantisk":return"#e5b4e7";case"luksus":return"#ccaf80";case"enkel":return"#a7b0a4";default:return"#e7e7e8"}};function gw({cabin:r}){return q.jsxs("a",{className:"cabin-container",href:`/hytter/${r.id}`,children:[q.jsx("img",{src:r.images[0],alt:r.title}),q.jsxs("div",{className:"cabin-info",children:[q.jsxs("div",{className:"title-tags-container",children:[q.jsx("h3",{className:"cabin-title",children:r.title}),q.jsx("div",{className:"cabin-tags",children:r.categories.map((e,n)=>q.jsx("p",{style:{backgroundColor:SE(e)},children:e},n))})]}),q.jsxs("div",{className:"cabin-location",children:[q.jsx("svg",{width:"100%",height:"100%",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:q.jsx("path",{d:"M9 18L2 22V6L9 2M9 18L16 22M9 18V2M16 22L22 18V2L16 6M16 22V6M16 6L9 2",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}),q.jsx("p",{children:r.location})]}),q.jsx("p",{className:"cabin-description",children:r.description}),q.jsx("div",{className:"cabin-amenities",children:r.amenities.map((e,n)=>q.jsx("p",{children:e},n))}),q.jsxs("p",{className:"cabin-max-guests",children:["Maks. antall gjester: ",r.maxGuests]})]}),q.jsxs("p",{className:"cabin-price",children:["Pris per natt: ",r.pricePerNight," kr"]})]})}const yw="/assets/logo-B7rzZeaL.png";function bE(){return q.jsx("div",{className:"footer-container",children:q.jsx("div",{className:"footer-content",children:q.jsxs("div",{className:"footer-part footer-bottom",children:[q.jsxs("div",{className:"footer-row",children:[q.jsx("a",{href:"/",children:q.jsx("img",{src:yw,alt:"Hyttte Leie logo",className:"footer-logo"})}),q.jsxs("p",{children:["Hytte Leie © ",new Date().getFullYear()]}),q.jsx("p",{children:"Alle rettigheter reservert."})]}),q.jsx("div",{className:"footer-column",children:q.jsxs("div",{className:"footer-row",children:[q.jsx("h3",{children:"Sider"}),q.jsxs("div",{className:"footer-column-2",children:[q.jsxs("div",{className:"footer-row",children:[q.jsx("a",{href:"/",children:"Hjem"}),q.jsx("a",{href:"/hytter",children:"Hytter"}),q.jsx("a",{href:"/omoss",children:"Om oss"})]}),q.jsxs("div",{className:"footer-row",children:[q.jsx("a",{href:"/register",children:"Registrer"}),q.jsx("a",{href:"/login",children:"Log inn"})]})]})]})})]})})})}function _w(){const[r,e]=Y.useState([]);return Y.useEffect(()=>{e(wl)},[]),q.jsxs("div",{className:"cabins-page-container",children:[q.jsxs("div",{className:"cabins-page-content",children:[q.jsx("h3",{className:"cp-title",children:"Fantastiske hytter, rimelige priser"}),q.jsx("p",{className:"cp-description",children:"Unn deg en pause – naturen er bare et klikk unna."}),q.jsx("div",{className:"cabins-list",children:r.map(n=>q.jsx(gw,{cabin:n},n.id))})]}),q.jsx(bE,{})]})}function vw(){const{cabinId:r}=nb(),[e,n]=Y.useState();Y.useEffect(()=>{r&&s(r)},[]);const s=o=>n(uw(o));return e?q.jsxs("div",{className:"cabin-info-container",children:[q.jsxs("div",{className:"cabin-info-content",children:[q.jsxs("div",{className:"cabin-info-top",children:[q.jsx("img",{src:e.images[0],alt:e.title,className:"cabin-image"}),q.jsxs("div",{className:"cabin-info-top-right",children:[q.jsxs("div",{className:"cabin-info-top-title-tags",children:[q.jsx("h3",{children:e.title}),q.jsx("div",{className:"cabin-tags",children:e.categories.map((o,u)=>q.jsx("p",{style:{backgroundColor:SE(o)},children:o},u))})]}),q.jsxs("div",{className:"cabin-location",children:[q.jsx("svg",{width:"100%",height:"100%",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:q.jsx("path",{d:"M9 18L2 22V6L9 2M9 18L16 22M9 18V2M16 22L22 18V2L16 6M16 22V6M16 6L9 2",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}),q.jsx("p",{children:e.location})]}),q.jsx("p",{className:"cabin-description",children:e.description}),q.jsx("h4",{children:"Fasiliteter"}),q.jsx("div",{className:"cabin-amenities",children:e.amenities.map((o,u)=>q.jsx("p",{children:o},u))}),q.jsxs("p",{className:"cabin-info-max-guests",children:["Maks. antall gjester: ",e.maxGuests]}),q.jsxs("p",{className:"cabin-info-price",children:["Pris per natt: ",e.pricePerNight," kr"]})]})]}),q.jsx("div",{className:"cabin-calender",children:q.jsx("h3",{className:"cabin-calender-title",children:"Lyst til å leie denne hytta?"})})]}),q.jsx(bE,{})]}):q.jsxs("p",{className:"no-cabin-found",children:["Det finnes ingen hytte med id ",r]})}const Ew="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEgAAABJCAMAAACpb5DQAAAA7VBMVEVHcExChfRChfRChfTsRDRChfTrQzU2qFI0qFbrQzU5pGvwZio8lLY0qFPrQzVChfTrQzU0qFM/jNfrQzU0qFLrQzU0qFPrQzUzqFM0qFOVsTVChfTrQzXrQzVChfTrQzU0qFP4ugc0qFTrQzXrQzXrQzU0qFP7vAU0qFPrQzX7vAU0qFNChfTrQzX7vAX7vAX7vAVChfQ0qFP1uAn7vAX8vQT7vAV9rzbydiH7vAVChfRChfRChfRChfQ0qFPrQzVChfT7vAX+vAQ7lqf1jhfJtxg+jsxQq0igsyn4pw03oHfvXipAieQ1pWDtSzFLx1luAAAAPnRSTlMA8DP66mT27bJECQUFyNpLHPQSy0RXmGk4JhufDil/qeGyhruXN/z4dYI6akJ469iOxlNNDmvF/Pyd3rshTVS2SDwAAAMpSURBVFjDrZd7W6JAFMbHJO6wIjdRURIlzNw2u+5Wo1R229rv/3EWUZPLDAw8vn/C42/Oec9lEAC8hAZnDl1VpkLJan9sjrqgvLqjaV+m53HRlDrUbaEUxp66Sci3qL5OHJcwGlJzvGjVbBBx8jGRVLM4qsa4ELOSyxVwOHVOJmqcF1R3Ss2J5dr4tPrzMlJx6dnuvJxkdPVstSSHMoW9cGgd7U/ZvCg0p5vjMx2KlAPGmGPdoalzI47TUyOM4+ioEaVd0451XYMbyt/1wlS+gTCa7nOZ3m1M5VwOGCK6TUfUVgB2n87hcJnBoIe4TSGYlDzCvctUjJ7m7EEOxwEXt2mOCapIOAqe/+2BA05+BsH73xhoLFQD/QpCve/Sc7vVOO2zINLtJj1qVI0DLo7XoOB5nd64ImedWaTIKLlRkXN5HewUplc5oFXNdnqm7Kqgq+M4KDhClb55UKhmzKJIV6jDftQKdQiOEpzjExToob4oUgecJUBnbWRExaBzkPA6uL6sCPoDCLwmAdVA0uvfoCKovi/QYn+gPXlU31fV6vvqoxpRZxP1EdGskXR2evp5BOj+MKteLTVryX20ZFqE6+c0GWUvuSHfIBwQgnpJrx9iO/txeQMhdCwiDn+X9Po+dossX0MO9MhCOk1adMdv77XH4C3iQEjkkthZpCz6vo9u4FZssxj0kAyodrq9R5avcKeBWMRpnqe6qLn5GnmLc6AyKZnYOrPQ7huYFJNPEnupTq8dbErJpkBQ8fkSnEVn64XGpEme0cb600lz1lZHMmBG0gwZlKixLwtcQGEvSVmSwmoZlNgyGPj1gnYo0kyBKNTEirF4a8KuPXj6RJRsowFEipGMyUxrtbSZb0gO9DaPPz7TPbQ7jkWTwp96iqJ4HvS82OOPF4TTeJty9PW0WfqHmXpY5Ugbo3qIcSpLWqXXQQ64xcKS6XUwi6JteGVA3gC3cETeZ8g5TN5AAo3YKEkr2FkDhyicQbtwja7mqUAKS3T9haOZGxWDGGecLF/ChKVIg5ZY5h8B3/JZR0m0g6c4rK81QWmJluYbrOQwDOM4EmtMNAuf0n83dnJkDvHj1wAAAABJRU5ErkJggg==",Tw=()=>{};var P_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wE=function(r){const e=[];let n=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},Aw=function(r){const e=[];let n=0,s=0;for(;n<r.length;){const o=r[n++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=r[n++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=r[n++],f=r[n++],m=r[n++],g=((o&7)<<18|(u&63)<<12|(f&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(g>>10)),e[s++]=String.fromCharCode(56320+(g&1023))}else{const u=r[n++],f=r[n++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return e.join("")},RE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const u=r[o],f=o+1<r.length,m=f?r[o+1]:0,g=o+2<r.length,y=g?r[o+2]:0,E=u>>2,b=(u&3)<<4|m>>4;let C=(m&15)<<2|y>>6,P=y&63;g||(P=64,f||(C=64)),s.push(n[E],n[b],n[C],n[P])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(wE(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):Aw(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const u=n[r.charAt(o++)],m=o<r.length?n[r.charAt(o)]:0;++o;const y=o<r.length?n[r.charAt(o)]:64;++o;const b=o<r.length?n[r.charAt(o)]:64;if(++o,u==null||m==null||y==null||b==null)throw new Sw;const C=u<<2|m>>4;if(s.push(C),y!==64){const P=m<<4&240|y>>2;if(s.push(P),b!==64){const L=y<<6&192|b;s.push(L)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class Sw extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const bw=function(r){const e=wE(r);return RE.encodeByteArray(e,!0)},Lc=function(r){return bw(r).replace(/\./g,"")},CE=function(r){try{return RE.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ww(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rw=()=>ww().__FIREBASE_DEFAULTS__,Cw=()=>{if(typeof process>"u"||typeof P_>"u")return;const r=P_.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},Iw=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&CE(r[1]);return e&&JSON.parse(e)},ah=()=>{try{return Tw()||Rw()||Cw()||Iw()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},IE=r=>{var e,n;return(n=(e=ah())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[r]},Dw=r=>{const e=IE(r);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},DE=()=>{var r;return(r=ah())===null||r===void 0?void 0:r.config},NE=r=>{var e;return(e=ah())===null||e===void 0?void 0:e[`_${r}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nw{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ow(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",o=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},r);return[Lc(JSON.stringify(n)),Lc(JSON.stringify(f)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Mw(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Xt())}function xw(){var r;const e=(r=ah())===null||r===void 0?void 0:r.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Vw(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function kw(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function Pw(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Uw(){const r=Xt();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function Lw(){return!xw()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function zw(){try{return typeof indexedDB=="object"}catch{return!1}}function jw(){return new Promise((r,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{var u;e(((u=o.error)===null||u===void 0?void 0:u.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bw="FirebaseError";class Xi extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=Bw,Object.setPrototypeOf(this,Xi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,zl.prototype.create)}}class zl{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},o=`${this.service}/${e}`,u=this.errors[e],f=u?Hw(u,s):"Error",m=`${this.serviceName}: ${f} (${o}).`;return new Xi(o,m,s)}}function Hw(r,e){return r.replace(qw,(n,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const qw=/\{\$([^}]+)}/g;function Fw(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function Ns(r,e){if(r===e)return!0;const n=Object.keys(r),s=Object.keys(e);for(const o of n){if(!s.includes(o))return!1;const u=r[o],f=e[o];if(U_(u)&&U_(f)){if(!Ns(u,f))return!1}else if(u!==f)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function U_(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jl(r){const e=[];for(const[n,s]of Object.entries(r))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function Gw(r,e){const n=new Qw(r,e);return n.subscribe.bind(n)}class Qw{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let o;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");Kw(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:s},o.next===void 0&&(o.next=Od),o.error===void 0&&(o.error=Od),o.complete===void 0&&(o.complete=Od);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Kw(r,e){if(typeof r!="object"||r===null)return!1;for(const n of e)if(n in r&&typeof r[n]=="function")return!0;return!1}function Od(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oi(r){return r&&r._delegate?r._delegate:r}class Os{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yw{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new Nw;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(u){if(o)return null;throw u}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if($w(e))try{this.getOrInitializeService({instanceIdentifier:Cs})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=Cs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Cs){return this.instances.has(e)}getOptions(e=Cs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,f]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&f.resolve(o)}return o}onInit(e,n){var s;const o=this.normalizeInstanceIdentifier(n),u=(s=this.onInitCallbacks.get(o))!==null&&s!==void 0?s:new Set;u.add(e),this.onInitCallbacks.set(o,u);const f=this.instances.get(o);return f&&e(f,o),()=>{u.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:Xw(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Cs){return this.component?this.component.multipleInstances?e:Cs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Xw(r){return r===Cs?void 0:r}function $w(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zw{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new Yw(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xe;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(xe||(xe={}));const Ww={debug:xe.DEBUG,verbose:xe.VERBOSE,info:xe.INFO,warn:xe.WARN,error:xe.ERROR,silent:xe.SILENT},Jw=xe.INFO,eR={[xe.DEBUG]:"log",[xe.VERBOSE]:"log",[xe.INFO]:"info",[xe.WARN]:"warn",[xe.ERROR]:"error"},tR=(r,e,...n)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),o=eR[e];if(o)console[o](`[${s}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Em{constructor(e){this.name=e,this._logLevel=Jw,this._logHandler=tR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in xe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Ww[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,xe.DEBUG,...e),this._logHandler(this,xe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,xe.VERBOSE,...e),this._logHandler(this,xe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,xe.INFO,...e),this._logHandler(this,xe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,xe.WARN,...e),this._logHandler(this,xe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,xe.ERROR,...e),this._logHandler(this,xe.ERROR,...e)}}const nR=(r,e)=>e.some(n=>r instanceof n);let L_,z_;function iR(){return L_||(L_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function rR(){return z_||(z_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const OE=new WeakMap,Fd=new WeakMap,ME=new WeakMap,Md=new WeakMap,Tm=new WeakMap;function sR(r){const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("success",u),r.removeEventListener("error",f)},u=()=>{n(Nr(r.result)),o()},f=()=>{s(r.error),o()};r.addEventListener("success",u),r.addEventListener("error",f)});return e.then(n=>{n instanceof IDBCursor&&OE.set(n,r)}).catch(()=>{}),Tm.set(e,r),e}function aR(r){if(Fd.has(r))return;const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",f),r.removeEventListener("abort",f)},u=()=>{n(),o()},f=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",u),r.addEventListener("error",f),r.addEventListener("abort",f)});Fd.set(r,e)}let Gd={get(r,e,n){if(r instanceof IDBTransaction){if(e==="done")return Fd.get(r);if(e==="objectStoreNames")return r.objectStoreNames||ME.get(r);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Nr(r[e])},set(r,e,n){return r[e]=n,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function oR(r){Gd=r(Gd)}function lR(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=r.call(xd(this),e,...n);return ME.set(s,e.sort?e.sort():[e]),Nr(s)}:rR().includes(r)?function(...e){return r.apply(xd(this),e),Nr(OE.get(this))}:function(...e){return Nr(r.apply(xd(this),e))}}function uR(r){return typeof r=="function"?lR(r):(r instanceof IDBTransaction&&aR(r),nR(r,iR())?new Proxy(r,Gd):r)}function Nr(r){if(r instanceof IDBRequest)return sR(r);if(Md.has(r))return Md.get(r);const e=uR(r);return e!==r&&(Md.set(r,e),Tm.set(e,r)),e}const xd=r=>Tm.get(r);function cR(r,e,{blocked:n,upgrade:s,blocking:o,terminated:u}={}){const f=indexedDB.open(r,e),m=Nr(f);return s&&f.addEventListener("upgradeneeded",g=>{s(Nr(f.result),g.oldVersion,g.newVersion,Nr(f.transaction),g)}),n&&f.addEventListener("blocked",g=>n(g.oldVersion,g.newVersion,g)),m.then(g=>{u&&g.addEventListener("close",()=>u()),o&&g.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),m}const hR=["get","getKey","getAll","getAllKeys","count"],fR=["put","add","delete","clear"],Vd=new Map;function j_(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(Vd.get(e))return Vd.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,o=fR.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||hR.includes(n)))return;const u=async function(f,...m){const g=this.transaction(f,o?"readwrite":"readonly");let y=g.store;return s&&(y=y.index(m.shift())),(await Promise.all([y[n](...m),o&&g.done]))[0]};return Vd.set(e,u),u}oR(r=>({...r,get:(e,n,s)=>j_(e,n)||r.get(e,n,s),has:(e,n)=>!!j_(e,n)||r.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dR{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(mR(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function mR(r){const e=r.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Qd="@firebase/app",B_="0.11.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gi=new Em("@firebase/app"),pR="@firebase/app-compat",gR="@firebase/analytics-compat",yR="@firebase/analytics",_R="@firebase/app-check-compat",vR="@firebase/app-check",ER="@firebase/auth",TR="@firebase/auth-compat",AR="@firebase/database",SR="@firebase/data-connect",bR="@firebase/database-compat",wR="@firebase/functions",RR="@firebase/functions-compat",CR="@firebase/installations",IR="@firebase/installations-compat",DR="@firebase/messaging",NR="@firebase/messaging-compat",OR="@firebase/performance",MR="@firebase/performance-compat",xR="@firebase/remote-config",VR="@firebase/remote-config-compat",kR="@firebase/storage",PR="@firebase/storage-compat",UR="@firebase/firestore",LR="@firebase/vertexai",zR="@firebase/firestore-compat",jR="firebase",BR="11.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kd="[DEFAULT]",HR={[Qd]:"fire-core",[pR]:"fire-core-compat",[yR]:"fire-analytics",[gR]:"fire-analytics-compat",[vR]:"fire-app-check",[_R]:"fire-app-check-compat",[ER]:"fire-auth",[TR]:"fire-auth-compat",[AR]:"fire-rtdb",[SR]:"fire-data-connect",[bR]:"fire-rtdb-compat",[wR]:"fire-fn",[RR]:"fire-fn-compat",[CR]:"fire-iid",[IR]:"fire-iid-compat",[DR]:"fire-fcm",[NR]:"fire-fcm-compat",[OR]:"fire-perf",[MR]:"fire-perf-compat",[xR]:"fire-rc",[VR]:"fire-rc-compat",[kR]:"fire-gcs",[PR]:"fire-gcs-compat",[UR]:"fire-fst",[zR]:"fire-fst-compat",[LR]:"fire-vertex","fire-js":"fire-js",[jR]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zc=new Map,qR=new Map,Yd=new Map;function H_(r,e){try{r.container.addComponent(e)}catch(n){Gi.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,n)}}function Ha(r){const e=r.name;if(Yd.has(e))return Gi.debug(`There were multiple attempts to register component ${e}.`),!1;Yd.set(e,r);for(const n of zc.values())H_(n,r);for(const n of qR.values())H_(n,r);return!0}function Am(r,e){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(e)}function Cn(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FR={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Or=new zl("app","Firebase",FR);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GR{constructor(e,n,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Os("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Or.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wa=BR;function xE(r,e={}){let n=r;typeof e!="object"&&(e={name:e});const s=Object.assign({name:Kd,automaticDataCollectionEnabled:!1},e),o=s.name;if(typeof o!="string"||!o)throw Or.create("bad-app-name",{appName:String(o)});if(n||(n=DE()),!n)throw Or.create("no-options");const u=zc.get(o);if(u){if(Ns(n,u.options)&&Ns(s,u.config))return u;throw Or.create("duplicate-app",{appName:o})}const f=new Zw(o);for(const g of Yd.values())f.addComponent(g);const m=new GR(n,s,f);return zc.set(o,m),m}function VE(r=Kd){const e=zc.get(r);if(!e&&r===Kd&&DE())return xE();if(!e)throw Or.create("no-app",{appName:r});return e}function Mr(r,e,n){var s;let o=(s=HR[r])!==null&&s!==void 0?s:r;n&&(o+=`-${n}`);const u=o.match(/\s|\//),f=e.match(/\s|\//);if(u||f){const m=[`Unable to register library "${o}" with version "${e}":`];u&&m.push(`library name "${o}" contains illegal characters (whitespace or "/")`),u&&f&&m.push("and"),f&&m.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Gi.warn(m.join(" "));return}Ha(new Os(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QR="firebase-heartbeat-database",KR=1,Rl="firebase-heartbeat-store";let kd=null;function kE(){return kd||(kd=cR(QR,KR,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(Rl)}catch(n){console.warn(n)}}}}).catch(r=>{throw Or.create("idb-open",{originalErrorMessage:r.message})})),kd}async function YR(r){try{const n=(await kE()).transaction(Rl),s=await n.objectStore(Rl).get(PE(r));return await n.done,s}catch(e){if(e instanceof Xi)Gi.warn(e.message);else{const n=Or.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Gi.warn(n.message)}}}async function q_(r,e){try{const s=(await kE()).transaction(Rl,"readwrite");await s.objectStore(Rl).put(e,PE(r)),await s.done}catch(n){if(n instanceof Xi)Gi.warn(n.message);else{const s=Or.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Gi.warn(s.message)}}}function PE(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XR=1024,$R=30;class ZR{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new JR(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,n;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=F_();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(f=>f.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:o}),this._heartbeatsCache.heartbeats.length>$R){const f=e1(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(f,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){Gi.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=F_(),{heartbeatsToSend:s,unsentEntries:o}=WR(this._heartbeatsCache.heartbeats),u=Lc(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(n){return Gi.warn(n),""}}}function F_(){return new Date().toISOString().substring(0,10)}function WR(r,e=XR){const n=[];let s=r.slice();for(const o of r){const u=n.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),G_(n)>e){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),G_(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class JR{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return zw()?jw().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await YR(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return q_(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return q_(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function G_(r){return Lc(JSON.stringify({version:2,heartbeats:r})).length}function e1(r){if(r.length===0)return-1;let e=0,n=r[0].date;for(let s=1;s<r.length;s++)r[s].date<n&&(n=r[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t1(r){Ha(new Os("platform-logger",e=>new dR(e),"PRIVATE")),Ha(new Os("heartbeat",e=>new ZR(e),"PRIVATE")),Mr(Qd,B_,r),Mr(Qd,B_,"esm2017"),Mr("fire-js","")}t1("");var n1="firebase",i1="11.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Mr(n1,i1,"app");function Sm(r,e){var n={};for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&e.indexOf(s)<0&&(n[s]=r[s]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(r);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(r,s[o])&&(n[s[o]]=r[s[o]]);return n}function UE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const r1=UE,LE=new zl("auth","Firebase",UE());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jc=new Em("@firebase/auth");function s1(r,...e){jc.logLevel<=xe.WARN&&jc.warn(`Auth (${Wa}): ${r}`,...e)}function Ic(r,...e){jc.logLevel<=xe.ERROR&&jc.error(`Auth (${Wa}): ${r}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function li(r,...e){throw wm(r,...e)}function Ln(r,...e){return wm(r,...e)}function bm(r,e,n){const s=Object.assign(Object.assign({},r1()),{[e]:n});return new zl("auth","Firebase",s).create(e,{appName:r.name})}function xr(r){return bm(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function a1(r,e,n){const s=n;if(!(e instanceof s))throw s.name!==e.constructor.name&&li(r,"argument-error"),bm(r,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function wm(r,...e){if(typeof r!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(n,...s)}return LE.create(r,...e)}function Ee(r,e,...n){if(!r)throw wm(e,...n)}function ji(r){const e="INTERNAL ASSERTION FAILED: "+r;throw Ic(e),new Error(e)}function Qi(r,e){r||ji(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xd(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.href)||""}function o1(){return Q_()==="http:"||Q_()==="https:"}function Q_(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l1(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(o1()||kw()||"connection"in navigator)?navigator.onLine:!0}function u1(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bl{constructor(e,n){this.shortDelay=e,this.longDelay=n,Qi(n>e,"Short delay should be less than long delay!"),this.isMobile=Mw()||Pw()}get(){return l1()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rm(r,e){Qi(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zE{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ji("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ji("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ji("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c1={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h1=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],f1=new Bl(3e4,6e4);function Hl(r,e){return r.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:r.tenantId}):e}async function Ps(r,e,n,s,o={}){return jE(r,o,async()=>{let u={},f={};s&&(e==="GET"?f=s:u={body:JSON.stringify(s)});const m=jl(Object.assign({key:r.config.apiKey},f)).slice(1),g=await r._getAdditionalHeaders();g["Content-Type"]="application/json",r.languageCode&&(g["X-Firebase-Locale"]=r.languageCode);const y=Object.assign({method:e,headers:g},u);return Vw()||(y.referrerPolicy="no-referrer"),zE.fetch()(await HE(r,r.config.apiHost,n,m),y)})}async function jE(r,e,n){r._canInitEmulator=!1;const s=Object.assign(Object.assign({},c1),e);try{const o=new m1(r),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw Ec(r,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const m=u.ok?f.errorMessage:f.error.message,[g,y]=m.split(" : ");if(g==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ec(r,"credential-already-in-use",f);if(g==="EMAIL_EXISTS")throw Ec(r,"email-already-in-use",f);if(g==="USER_DISABLED")throw Ec(r,"user-disabled",f);const E=s[g]||g.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw bm(r,E,y);li(r,E)}}catch(o){if(o instanceof Xi)throw o;li(r,"network-request-failed",{message:String(o)})}}async function BE(r,e,n,s,o={}){const u=await Ps(r,e,n,s,o);return"mfaPendingCredential"in u&&li(r,"multi-factor-auth-required",{_serverResponse:u}),u}async function HE(r,e,n,s){const o=`${e}${n}?${s}`,u=r,f=u.config.emulator?Rm(r.config,o):`${r.config.apiScheme}://${o}`;return h1.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(f).toString():f}function d1(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class m1{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(Ln(this.auth,"network-request-failed")),f1.get())})}}function Ec(r,e,n){const s={appName:r.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=Ln(r,e,s);return o.customData._tokenResponse=n,o}function K_(r){return r!==void 0&&r.enterprise!==void 0}class p1{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return d1(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function g1(r,e){return Ps(r,"GET","/v2/recaptchaConfig",Hl(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function y1(r,e){return Ps(r,"POST","/v1/accounts:delete",e)}async function Bc(r,e){return Ps(r,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vl(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function _1(r,e=!1){const n=oi(r),s=await n.getIdToken(e),o=Cm(s);Ee(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,f=u==null?void 0:u.sign_in_provider;return{claims:o,token:s,authTime:vl(Pd(o.auth_time)),issuedAtTime:vl(Pd(o.iat)),expirationTime:vl(Pd(o.exp)),signInProvider:f||null,signInSecondFactor:(u==null?void 0:u.sign_in_second_factor)||null}}function Pd(r){return Number(r)*1e3}function Cm(r){const[e,n,s]=r.split(".");if(e===void 0||n===void 0||s===void 0)return Ic("JWT malformed, contained fewer than 3 sections"),null;try{const o=CE(n);return o?JSON.parse(o):(Ic("Failed to decode base64 JWT payload"),null)}catch(o){return Ic("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function Y_(r){const e=Cm(r);return Ee(e,"internal-error"),Ee(typeof e.exp<"u","internal-error"),Ee(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Cl(r,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof Xi&&v1(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function v1({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E1{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const o=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $d{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=vl(this.lastLoginAt),this.creationTime=vl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Hc(r){var e;const n=r.auth,s=await r.getIdToken(),o=await Cl(r,Bc(n,{idToken:s}));Ee(o==null?void 0:o.users.length,n,"internal-error");const u=o.users[0];r._notifyReloadListener(u);const f=!((e=u.providerUserInfo)===null||e===void 0)&&e.length?qE(u.providerUserInfo):[],m=A1(r.providerData,f),g=r.isAnonymous,y=!(r.email&&u.passwordHash)&&!(m!=null&&m.length),E=g?y:!1,b={uid:u.localId,displayName:u.displayName||null,photoURL:u.photoUrl||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,tenantId:u.tenantId||null,providerData:m,metadata:new $d(u.createdAt,u.lastLoginAt),isAnonymous:E};Object.assign(r,b)}async function T1(r){const e=oi(r);await Hc(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function A1(r,e){return[...r.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function qE(r){return r.map(e=>{var{providerId:n}=e,s=Sm(e,["providerId"]);return{providerId:n,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function S1(r,e){const n=await jE(r,{},async()=>{const s=jl({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=r.config,f=await HE(r,o,"/v1/token",`key=${u}`),m=await r._getAdditionalHeaders();return m["Content-Type"]="application/x-www-form-urlencoded",zE.fetch()(f,{method:"POST",headers:m,body:s})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function b1(r,e){return Ps(r,"POST","/v2/accounts:revokeToken",Hl(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class La{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ee(e.idToken,"internal-error"),Ee(typeof e.idToken<"u","internal-error"),Ee(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Y_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ee(e.length!==0,"internal-error");const n=Y_(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ee(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:o,expiresIn:u}=await S1(e,n);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:o,expirationTime:u}=n,f=new La;return s&&(Ee(typeof s=="string","internal-error",{appName:e}),f.refreshToken=s),o&&(Ee(typeof o=="string","internal-error",{appName:e}),f.accessToken=o),u&&(Ee(typeof u=="number","internal-error",{appName:e}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new La,this.toJSON())}_performRefresh(){return ji("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wr(r,e){Ee(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class Pn{constructor(e){var{uid:n,auth:s,stsTokenManager:o}=e,u=Sm(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new E1(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=s,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=u.displayName||null,this.email=u.email||null,this.emailVerified=u.emailVerified||!1,this.phoneNumber=u.phoneNumber||null,this.photoURL=u.photoURL||null,this.isAnonymous=u.isAnonymous||!1,this.tenantId=u.tenantId||null,this.providerData=u.providerData?[...u.providerData]:[],this.metadata=new $d(u.createdAt||void 0,u.lastLoginAt||void 0)}async getIdToken(e){const n=await Cl(this,this.stsTokenManager.getToken(this.auth,e));return Ee(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return _1(this,e)}reload(){return T1(this)}_assign(e){this!==e&&(Ee(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Pn(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Ee(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await Hc(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Cn(this.auth.app))return Promise.reject(xr(this.auth));const e=await this.getIdToken();return await Cl(this,y1(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var s,o,u,f,m,g,y,E;const b=(s=n.displayName)!==null&&s!==void 0?s:void 0,C=(o=n.email)!==null&&o!==void 0?o:void 0,P=(u=n.phoneNumber)!==null&&u!==void 0?u:void 0,L=(f=n.photoURL)!==null&&f!==void 0?f:void 0,Z=(m=n.tenantId)!==null&&m!==void 0?m:void 0,F=(g=n._redirectEventId)!==null&&g!==void 0?g:void 0,$=(y=n.createdAt)!==null&&y!==void 0?y:void 0,se=(E=n.lastLoginAt)!==null&&E!==void 0?E:void 0,{uid:te,emailVerified:fe,isAnonymous:ce,providerData:we,stsTokenManager:M}=n;Ee(te&&M,e,"internal-error");const S=La.fromJSON(this.name,M);Ee(typeof te=="string",e,"internal-error"),wr(b,e.name),wr(C,e.name),Ee(typeof fe=="boolean",e,"internal-error"),Ee(typeof ce=="boolean",e,"internal-error"),wr(P,e.name),wr(L,e.name),wr(Z,e.name),wr(F,e.name),wr($,e.name),wr(se,e.name);const w=new Pn({uid:te,auth:e,email:C,emailVerified:fe,displayName:b,isAnonymous:ce,photoURL:L,phoneNumber:P,tenantId:Z,stsTokenManager:S,createdAt:$,lastLoginAt:se});return we&&Array.isArray(we)&&(w.providerData=we.map(N=>Object.assign({},N))),F&&(w._redirectEventId=F),w}static async _fromIdTokenResponse(e,n,s=!1){const o=new La;o.updateFromServerResponse(n);const u=new Pn({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await Hc(u),u}static async _fromGetAccountInfoResponse(e,n,s){const o=n.users[0];Ee(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?qE(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!(u!=null&&u.length),m=new La;m.updateFromIdToken(s);const g=new Pn({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:f}),y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new $d(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(u!=null&&u.length)};return Object.assign(g,y),g}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X_=new Map;function Bi(r){Qi(r instanceof Function,"Expected a class definition");let e=X_.get(r);return e?(Qi(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,X_.set(r,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}FE.type="NONE";const $_=FE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dc(r,e,n){return`firebase:${r}:${e}:${n}`}class za{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=Dc(this.userKey,o.apiKey,u),this.fullPersistenceKey=Dc("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Bc(this.auth,{idToken:e}).catch(()=>{});return n?Pn._fromGetAccountInfoResponse(this.auth,n,e):null}return Pn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new za(Bi($_),e,s);const o=(await Promise.all(n.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let u=o[0]||Bi($_);const f=Dc(s,e.config.apiKey,e.name);let m=null;for(const y of n)try{const E=await y._get(f);if(E){let b;if(typeof E=="string"){const C=await Bc(e,{idToken:E}).catch(()=>{});if(!C)break;b=await Pn._fromGetAccountInfoResponse(e,C,E)}else b=Pn._fromJSON(e,E);y!==u&&(m=b),u=y;break}}catch{}const g=o.filter(y=>y._shouldAllowMigration);return!u._shouldAllowMigration||!g.length?new za(u,e,s):(u=g[0],m&&await u._set(f,m.toJSON()),await Promise.all(n.map(async y=>{if(y!==u)try{await y._remove(f)}catch{}})),new za(u,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z_(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(YE(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(GE(e))return"Firefox";if(e.includes("silk/"))return"Silk";if($E(e))return"Blackberry";if(ZE(e))return"Webos";if(QE(e))return"Safari";if((e.includes("chrome/")||KE(e))&&!e.includes("edge/"))return"Chrome";if(XE(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(n);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function GE(r=Xt()){return/firefox\//i.test(r)}function QE(r=Xt()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function KE(r=Xt()){return/crios\//i.test(r)}function YE(r=Xt()){return/iemobile/i.test(r)}function XE(r=Xt()){return/android/i.test(r)}function $E(r=Xt()){return/blackberry/i.test(r)}function ZE(r=Xt()){return/webos/i.test(r)}function Im(r=Xt()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function w1(r=Xt()){var e;return Im(r)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function R1(){return Uw()&&document.documentMode===10}function WE(r=Xt()){return Im(r)||XE(r)||ZE(r)||$E(r)||/windows phone/i.test(r)||YE(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JE(r,e=[]){let n;switch(r){case"Browser":n=Z_(Xt());break;case"Worker":n=`${Z_(Xt())}-${r}`;break;default:n=r}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Wa}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C1{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=u=>new Promise((f,m)=>{try{const g=e(u);f(g)}catch(g){m(g)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function I1(r,e={}){return Ps(r,"GET","/v2/passwordPolicy",Hl(r,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D1=6;class N1{constructor(e){var n,s,o,u;const f=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=f.minPasswordLength)!==null&&n!==void 0?n:D1,f.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=f.maxPasswordLength),f.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=f.containsLowercaseCharacter),f.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=f.containsUppercaseCharacter),f.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=f.containsNumericCharacter),f.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=f.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(s=e.allowedNonAlphanumericCharacters)===null||s===void 0?void 0:s.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(u=e.forceUpgradeOnSignin)!==null&&u!==void 0?u:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,s,o,u,f,m;const g={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,g),this.validatePasswordCharacterOptions(e,g),g.isValid&&(g.isValid=(n=g.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),g.isValid&&(g.isValid=(s=g.meetsMaxPasswordLength)!==null&&s!==void 0?s:!0),g.isValid&&(g.isValid=(o=g.containsLowercaseLetter)!==null&&o!==void 0?o:!0),g.isValid&&(g.isValid=(u=g.containsUppercaseLetter)!==null&&u!==void 0?u:!0),g.isValid&&(g.isValid=(f=g.containsNumericCharacter)!==null&&f!==void 0?f:!0),g.isValid&&(g.isValid=(m=g.containsNonAlphanumericCharacter)!==null&&m!==void 0?m:!0),g}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O1{constructor(e,n,s,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new W_(this),this.idTokenSubscription=new W_(this),this.beforeStateQueue=new C1(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=LE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Bi(n)),this._initializationPromise=this.queue(async()=>{var s,o,u;if(!this._deleted&&(this.persistenceManager=await za.create(this,e),(s=this._resolvePersistenceManagerAvailable)===null||s===void 0||s.call(this),!this._deleted)){if(!((o=this._popupRedirectResolver)===null||o===void 0)&&o._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((u=this.currentUser)===null||u===void 0?void 0:u.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Bc(this,{idToken:e}),s=await Pn._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Cn(this.app)){const f=this.app.settings.authIdToken;return f?new Promise(m=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(f).then(m,m))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let o=s,u=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const f=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,m=o==null?void 0:o._redirectEventId,g=await this.tryRedirectSignIn(e);(!f||f===m)&&(g!=null&&g.user)&&(o=g.user,u=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(u)try{await this.beforeStateQueue.runMiddleware(o)}catch(f){o=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(f))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return Ee(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Hc(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=u1()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Cn(this.app))return Promise.reject(xr(this));const n=e?oi(e):null;return n&&Ee(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ee(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Cn(this.app)?Promise.reject(xr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Cn(this.app)?Promise.reject(xr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Bi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await I1(this),n=new N1(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new zl("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await b1(this,s)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Bi(e)||this._popupRedirectResolver;Ee(n,this,"argument-error"),this.redirectPersistenceManager=await za.create(this,[Bi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,s;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let f=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ee(m,this,"internal-error"),m.then(()=>{f||u(this.currentUser)}),typeof n=="function"){const g=e.addObserver(n,s,o);return()=>{f=!0,g()}}else{const g=e.addObserver(n);return()=>{f=!0,g()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ee(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=JE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const s=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());s&&(n["X-Firebase-Client"]=s);const o=await this._getAppCheckToken();return o&&(n["X-Firebase-AppCheck"]=o),n}async _getAppCheckToken(){var e;if(Cn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&s1(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Us(r){return oi(r)}class W_{constructor(e){this.auth=e,this.observer=null,this.addObserver=Gw(n=>this.observer=n)}get next(){return Ee(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let oh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function M1(r){oh=r}function e0(r){return oh.loadJS(r)}function x1(){return oh.recaptchaEnterpriseScript}function V1(){return oh.gapiScript}function k1(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class P1{constructor(){this.enterprise=new U1}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class U1{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const L1="recaptcha-enterprise",t0="NO_RECAPTCHA";class z1{constructor(e){this.type=L1,this.auth=Us(e)}async verify(e="verify",n=!1){async function s(u){if(!n){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(f,m)=>{g1(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(g=>{if(g.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const y=new p1(g);return u.tenantId==null?u._agentRecaptchaConfig=y:u._tenantRecaptchaConfigs[u.tenantId]=y,f(y.siteKey)}}).catch(g=>{m(g)})})}function o(u,f,m){const g=window.grecaptcha;K_(g)?g.enterprise.ready(()=>{g.enterprise.execute(u,{action:e}).then(y=>{f(y)}).catch(()=>{f(t0)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new P1().execute("siteKey",{action:"verify"}):new Promise((u,f)=>{s(this.auth).then(m=>{if(!n&&K_(window.grecaptcha))o(m,u,f);else{if(typeof window>"u"){f(new Error("RecaptchaVerifier is only supported in browser"));return}let g=x1();g.length!==0&&(g+=m),e0(g).then(()=>{o(m,u,f)}).catch(y=>{f(y)})}}).catch(m=>{f(m)})})}}async function J_(r,e,n,s=!1,o=!1){const u=new z1(r);let f;if(o)f=t0;else try{f=await u.verify(n)}catch{f=await u.verify(n,!0)}const m=Object.assign({},e);return s?Object.assign(m,{captchaResp:f}):Object.assign(m,{captchaResponse:f}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function j1(r,e,n,s,o){var u;if(!((u=r._getRecaptchaConfig())===null||u===void 0)&&u.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const f=await J_(r,e,n,n==="getOobCode");return s(r,f)}else return s(r,e).catch(async f=>{if(f.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const m=await J_(r,e,n,n==="getOobCode");return s(r,m)}else return Promise.reject(f)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B1(r,e){const n=Am(r,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(Ns(u,e??{}))return o;li(o,"already-initialized")}return n.initialize({options:e})}function H1(r,e){const n=(e==null?void 0:e.persistence)||[],s=(Array.isArray(n)?n:[n]).map(Bi);e!=null&&e.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(s,e==null?void 0:e.popupRedirectResolver)}function q1(r,e,n){const s=Us(r);Ee(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,u=n0(e),{host:f,port:m}=F1(e),g=m===null?"":`:${m}`,y={url:`${u}//${f}${g}/`},E=Object.freeze({host:f,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){Ee(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Ee(Ns(y,s.config.emulator)&&Ns(E,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=y,s.emulatorConfig=E,s.settings.appVerificationDisabledForTesting=!0,G1()}function n0(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function F1(r){const e=n0(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:ev(s.substr(u.length+1))}}else{const[u,f]=s.split(":");return{host:u,port:ev(f)}}}function ev(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function G1(){function r(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i0{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return ji("not implemented")}_getIdTokenResponse(e){return ji("not implemented")}_linkToIdToken(e,n){return ji("not implemented")}_getReauthenticationResolver(e){return ji("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ja(r,e){return BE(r,"POST","/v1/accounts:signInWithIdp",Hl(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q1="http://localhost";class Ms extends i0{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Ms(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):li("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o}=n,u=Sm(n,["providerId","signInMethod"]);if(!s||!o)return null;const f=new Ms(s,o);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(e){const n=this.buildRequest();return ja(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,ja(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,ja(e,n)}buildRequest(){const e={requestUri:Q1,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=jl(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dm{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ql extends Dm{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rr extends ql{constructor(){super("facebook.com")}static credential(e){return Ms._fromParams({providerId:Rr.PROVIDER_ID,signInMethod:Rr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Rr.credentialFromTaggedObject(e)}static credentialFromError(e){return Rr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Rr.credential(e.oauthAccessToken)}catch{return null}}}Rr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Rr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zi extends ql{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Ms._fromParams({providerId:zi.PROVIDER_ID,signInMethod:zi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return zi.credentialFromTaggedObject(e)}static credentialFromError(e){return zi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return zi.credential(n,s)}catch{return null}}}zi.GOOGLE_SIGN_IN_METHOD="google.com";zi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cr extends ql{constructor(){super("github.com")}static credential(e){return Ms._fromParams({providerId:Cr.PROVIDER_ID,signInMethod:Cr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Cr.credentialFromTaggedObject(e)}static credentialFromError(e){return Cr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Cr.credential(e.oauthAccessToken)}catch{return null}}}Cr.GITHUB_SIGN_IN_METHOD="github.com";Cr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ir extends ql{constructor(){super("twitter.com")}static credential(e,n){return Ms._fromParams({providerId:Ir.PROVIDER_ID,signInMethod:Ir.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Ir.credentialFromTaggedObject(e)}static credentialFromError(e){return Ir.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return Ir.credential(n,s)}catch{return null}}}Ir.TWITTER_SIGN_IN_METHOD="twitter.com";Ir.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function K1(r,e){return BE(r,"POST","/v1/accounts:signUp",Hl(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xs{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,o=!1){const u=await Pn._fromIdTokenResponse(e,s,o),f=tv(s);return new xs({user:u,providerId:f,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const o=tv(s);return new xs({user:e,providerId:o,_tokenResponse:s,operationType:n})}}function tv(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qc extends Xi{constructor(e,n,s,o){var u;super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,qc.prototype),this.customData={appName:e.name,tenantId:(u=e.tenantId)!==null&&u!==void 0?u:void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,o){return new qc(e,n,s,o)}}function r0(r,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?qc._fromErrorAndOperation(r,u,e,s):u})}async function Y1(r,e,n=!1){const s=await Cl(r,e._linkToIdToken(r.auth,await r.getIdToken()),n);return xs._forOperation(r,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function X1(r,e,n=!1){const{auth:s}=r;if(Cn(s.app))return Promise.reject(xr(s));const o="reauthenticate";try{const u=await Cl(r,r0(s,o,e,r),n);Ee(u.idToken,s,"internal-error");const f=Cm(u.idToken);Ee(f,s,"internal-error");const{sub:m}=f;return Ee(r.uid===m,s,"user-mismatch"),xs._forOperation(r,o,u)}catch(u){throw(u==null?void 0:u.code)==="auth/user-not-found"&&li(s,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $1(r,e,n=!1){if(Cn(r.app))return Promise.reject(xr(r));const s="signIn",o=await r0(r,s,e),u=await xs._fromIdTokenResponse(r,s,o);return n||await r._updateCurrentUser(u.user),u}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Z1(r){const e=Us(r);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function W1(r,e,n){if(Cn(r.app))return Promise.reject(xr(r));const s=Us(r),f=await j1(s,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",K1).catch(g=>{throw g.code==="auth/password-does-not-meet-requirements"&&Z1(r),g}),m=await xs._fromIdTokenResponse(s,"signIn",f);return await s._updateCurrentUser(m.user),m}function J1(r,e,n,s){return oi(r).onIdTokenChanged(e,n,s)}function eC(r,e,n){return oi(r).beforeAuthStateChanged(e,n)}const Fc="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s0{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Fc,"1"),this.storage.removeItem(Fc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tC=1e3,nC=10;class a0 extends s0{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=WE(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&e(n,o,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((f,m,g)=>{this.notifyListeners(f,g)});return}const s=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(s);!n&&this.localCache[s]===f||this.notifyListeners(s,f)},u=this.storage.getItem(s);R1()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,nC):o()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},tC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}a0.type="LOCAL";const iC=a0;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o0 extends s0{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}o0.type="SESSION";const l0=o0;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rC(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const s=new lh(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:o,data:u}=n.data,f=this.handlersMap[o];if(!(f!=null&&f.size))return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(f).map(async y=>y(n.origin,u)),g=await rC(m);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:g})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}lh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nm(r="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return r+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sC{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,f;return new Promise((m,g)=>{const y=Nm("",20);o.port1.start();const E=setTimeout(()=>{g(new Error("unsupported_event"))},s);f={messageChannel:o,onMessage(b){const C=b;if(C.data.eventId===y)switch(C.data.status){case"ack":clearTimeout(E),u=setTimeout(()=>{g(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(C.data.response);break;default:clearTimeout(E),clearTimeout(u),g(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:e,eventId:y,data:n},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ii(){return window}function aC(r){ii().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u0(){return typeof ii().WorkerGlobalScope<"u"&&typeof ii().importScripts=="function"}async function oC(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function lC(){var r;return((r=navigator==null?void 0:navigator.serviceWorker)===null||r===void 0?void 0:r.controller)||null}function uC(){return u0()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c0="firebaseLocalStorageDb",cC=1,Gc="firebaseLocalStorage",h0="fbase_key";class Fl{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function uh(r,e){return r.transaction([Gc],e?"readwrite":"readonly").objectStore(Gc)}function hC(){const r=indexedDB.deleteDatabase(c0);return new Fl(r).toPromise()}function Zd(){const r=indexedDB.open(c0,cC);return new Promise((e,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(Gc,{keyPath:h0})}catch(o){n(o)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(Gc)?e(s):(s.close(),await hC(),e(await Zd()))})})}async function nv(r,e,n){const s=uh(r,!0).put({[h0]:e,value:n});return new Fl(s).toPromise()}async function fC(r,e){const n=uh(r,!1).get(e),s=await new Fl(n).toPromise();return s===void 0?null:s.value}function iv(r,e){const n=uh(r,!0).delete(e);return new Fl(n).toPromise()}const dC=800,mC=3;class f0{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Zd(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>mC)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return u0()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=lh._getInstance(uC()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await oC(),!this.activeServiceWorker)return;this.sender=new sC(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((e=s[0])===null||e===void 0)&&e.fulfilled&&!((n=s[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||lC()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Zd();return await nv(e,Fc,"1"),await iv(e,Fc),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>nv(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>fC(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>iv(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=uh(o,!1).getAll();return new Fl(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),dC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}f0.type="LOCAL";const pC=f0;new Bl(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d0(r,e){return e?Bi(e):(Ee(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Om extends i0{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ja(e,this._buildIdpRequest())}_linkToIdToken(e,n){return ja(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return ja(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function gC(r){return $1(r.auth,new Om(r),r.bypassAuthState)}function yC(r){const{auth:e,user:n}=r;return Ee(n,e,"internal-error"),X1(n,new Om(r),r.bypassAuthState)}async function _C(r){const{auth:e,user:n}=r;return Ee(n,e,"internal-error"),Y1(n,new Om(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m0{constructor(e,n,s,o,u=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:o,tenantId:u,error:f,type:m}=e;if(f){this.reject(f);return}const g={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(g))}catch(y){this.reject(y)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return gC;case"linkViaPopup":case"linkViaRedirect":return _C;case"reauthViaPopup":case"reauthViaRedirect":return yC;default:li(this.auth,"internal-error")}}resolve(e){Qi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Qi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vC=new Bl(2e3,1e4);async function EC(r,e,n){if(Cn(r.app))return Promise.reject(Ln(r,"operation-not-supported-in-this-environment"));const s=Us(r);a1(r,e,Dm);const o=d0(s,n);return new Is(s,"signInViaPopup",e,o).executeNotNull()}class Is extends m0{constructor(e,n,s,o,u){super(e,n,o,u),this.provider=s,this.authWindow=null,this.pollId=null,Is.currentPopupAction&&Is.currentPopupAction.cancel(),Is.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ee(e,this.auth,"internal-error"),e}async onExecution(){Qi(this.filter.length===1,"Popup operations only handle one event");const e=Nm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Ln(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Ln(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Is.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,s;if(!((s=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ln(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,vC.get())};e()}}Is.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TC="pendingRedirect",Nc=new Map;class AC extends m0{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=Nc.get(this.auth._key());if(!e){try{const s=await SC(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}Nc.set(this.auth._key(),e)}return this.bypassAuthState||Nc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function SC(r,e){const n=RC(e),s=wC(r);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function bC(r,e){Nc.set(r._key(),e)}function wC(r){return Bi(r._redirectPersistence)}function RC(r){return Dc(TC,r.config.apiKey,r.name)}async function CC(r,e,n=!1){if(Cn(r.app))return Promise.reject(xr(r));const s=Us(r),o=d0(s,e),f=await new AC(s,o,n).execute();return f&&!n&&(delete f.user._redirectEventId,await s._persistUserIfCurrent(f.user),await s._setRedirectUser(null,e)),f}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IC=10*60*1e3;class DC{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!NC(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var s;if(e.error&&!p0(e)){const o=((s=e.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";n.onError(Ln(this.auth,o))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=IC&&this.cachedEventUids.clear(),this.cachedEventUids.has(rv(e))}saveEventToCache(e){this.cachedEventUids.add(rv(e)),this.lastProcessedEventTime=Date.now()}}function rv(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function p0({type:r,error:e}){return r==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function NC(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return p0(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OC(r,e={}){return Ps(r,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MC=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,xC=/^https?/;async function VC(r){if(r.config.emulator)return;const{authorizedDomains:e}=await OC(r);for(const n of e)try{if(kC(n))return}catch{}li(r,"unauthorized-domain")}function kC(r){const e=Xd(),{protocol:n,hostname:s}=new URL(e);if(r.startsWith("chrome-extension://")){const f=new URL(r);return f.hostname===""&&s===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&f.hostname===s}if(!xC.test(n))return!1;if(MC.test(r))return s===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PC=new Bl(3e4,6e4);function sv(){const r=ii().___jsl;if(r!=null&&r.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function UC(r){return new Promise((e,n)=>{var s,o,u;function f(){sv(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{sv(),n(Ln(r,"network-request-failed"))},timeout:PC.get()})}if(!((o=(s=ii().gapi)===null||s===void 0?void 0:s.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((u=ii().gapi)===null||u===void 0)&&u.load)f();else{const m=k1("iframefcb");return ii()[m]=()=>{gapi.load?f():n(Ln(r,"network-request-failed"))},e0(`${V1()}?onload=${m}`).catch(g=>n(g))}}).catch(e=>{throw Oc=null,e})}let Oc=null;function LC(r){return Oc=Oc||UC(r),Oc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zC=new Bl(5e3,15e3),jC="__/auth/iframe",BC="emulator/auth/iframe",HC={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},qC=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function FC(r){const e=r.config;Ee(e.authDomain,r,"auth-domain-config-required");const n=e.emulator?Rm(e,BC):`https://${r.config.authDomain}/${jC}`,s={apiKey:e.apiKey,appName:r.name,v:Wa},o=qC.get(r.config.apiHost);o&&(s.eid=o);const u=r._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${jl(s).slice(1)}`}async function GC(r){const e=await LC(r),n=ii().gapi;return Ee(n,r,"internal-error"),e.open({where:document.body,url:FC(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:HC,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const f=Ln(r,"network-request-failed"),m=ii().setTimeout(()=>{u(f)},zC.get());function g(){ii().clearTimeout(m),o(s)}s.ping(g).then(g,()=>{u(f)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QC={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},KC=500,YC=600,XC="_blank",$C="http://localhost";class av{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function ZC(r,e,n,s=KC,o=YC){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const g=Object.assign(Object.assign({},QC),{width:s.toString(),height:o.toString(),top:u,left:f}),y=Xt().toLowerCase();n&&(m=KE(y)?XC:n),GE(y)&&(e=e||$C,g.scrollbars="yes");const E=Object.entries(g).reduce((C,[P,L])=>`${C}${P}=${L},`,"");if(w1(y)&&m!=="_self")return WC(e||"",m),new av(null);const b=window.open(e||"",m,E);Ee(b,r,"popup-blocked");try{b.focus()}catch{}return new av(b)}function WC(r,e){const n=document.createElement("a");n.href=r,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JC="__/auth/handler",eI="emulator/auth/handler",tI=encodeURIComponent("fac");async function ov(r,e,n,s,o,u){Ee(r.config.authDomain,r,"auth-domain-config-required"),Ee(r.config.apiKey,r,"invalid-api-key");const f={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:s,v:Wa,eventId:o};if(e instanceof Dm){e.setDefaultLanguage(r.languageCode),f.providerId=e.providerId||"",Fw(e.getCustomParameters())||(f.customParameters=JSON.stringify(e.getCustomParameters()));for(const[E,b]of Object.entries({}))f[E]=b}if(e instanceof ql){const E=e.getScopes().filter(b=>b!=="");E.length>0&&(f.scopes=E.join(","))}r.tenantId&&(f.tid=r.tenantId);const m=f;for(const E of Object.keys(m))m[E]===void 0&&delete m[E];const g=await r._getAppCheckToken(),y=g?`#${tI}=${encodeURIComponent(g)}`:"";return`${nI(r)}?${jl(m).slice(1)}${y}`}function nI({config:r}){return r.emulator?Rm(r,eI):`https://${r.authDomain}/${JC}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ud="webStorageSupport";class iI{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=l0,this._completeRedirectFn=CC,this._overrideRedirectResult=bC}async _openPopup(e,n,s,o){var u;Qi((u=this.eventManagers[e._key()])===null||u===void 0?void 0:u.manager,"_initialize() not called before _openPopup()");const f=await ov(e,n,s,Xd(),o);return ZC(e,f,Nm())}async _openRedirect(e,n,s,o){await this._originValidation(e);const u=await ov(e,n,s,Xd(),o);return aC(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(Qi(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await GC(e),s=new DC(e);return n.register("authEvent",o=>(Ee(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Ud,{type:Ud},o=>{var u;const f=(u=o==null?void 0:o[0])===null||u===void 0?void 0:u[Ud];f!==void 0&&n(!!f),li(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=VC(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return WE()||QE()||Im()}}const rI=iI;var lv="@firebase/auth",uv="1.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sI{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ee(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aI(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function oI(r){Ha(new Os("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:f,authDomain:m}=s.options;Ee(f&&!f.includes(":"),"invalid-api-key",{appName:s.name});const g={apiKey:f,authDomain:m,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:JE(r)},y=new O1(s,o,u,g);return H1(y,n),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),Ha(new Os("auth-internal",e=>{const n=Us(e.getProvider("auth").getImmediate());return(s=>new sI(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Mr(lv,uv,aI(r)),Mr(lv,uv,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lI=5*60,uI=NE("authIdTokenMaxAge")||lI;let cv=null;const cI=r=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>uI)return;const o=n==null?void 0:n.token;cv!==o&&(cv=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function hI(r=VE()){const e=Am(r,"auth");if(e.isInitialized())return e.getImmediate();const n=B1(r,{popupRedirectResolver:rI,persistence:[pC,iC,l0]}),s=NE("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const f=cI(u.toString());eC(n,f,()=>f(n.currentUser)),J1(n,m=>f(m))}}const o=IE("auth");return o&&q1(n,`http://${o}`),n}function fI(){var r,e;return(e=(r=document.getElementsByTagName("head"))===null||r===void 0?void 0:r[0])!==null&&e!==void 0?e:document}M1({loadJS(r){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=e,s.onerror=o=>{const u=Ln("internal-error");u.customData=o,n(u)},s.type="text/javascript",s.charset="UTF-8",fI().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});oI("Browser");var hv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Vr,g0;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(M,S){function w(){}w.prototype=S.prototype,M.D=S.prototype,M.prototype=new w,M.prototype.constructor=M,M.C=function(N,x,k){for(var I=Array(arguments.length-2),Vt=2;Vt<arguments.length;Vt++)I[Vt-2]=arguments[Vt];return S.prototype[x].apply(N,I)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,n),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(M,S,w){w||(w=0);var N=Array(16);if(typeof S=="string")for(var x=0;16>x;++x)N[x]=S.charCodeAt(w++)|S.charCodeAt(w++)<<8|S.charCodeAt(w++)<<16|S.charCodeAt(w++)<<24;else for(x=0;16>x;++x)N[x]=S[w++]|S[w++]<<8|S[w++]<<16|S[w++]<<24;S=M.g[0],w=M.g[1],x=M.g[2];var k=M.g[3],I=S+(k^w&(x^k))+N[0]+3614090360&4294967295;S=w+(I<<7&4294967295|I>>>25),I=k+(x^S&(w^x))+N[1]+3905402710&4294967295,k=S+(I<<12&4294967295|I>>>20),I=x+(w^k&(S^w))+N[2]+606105819&4294967295,x=k+(I<<17&4294967295|I>>>15),I=w+(S^x&(k^S))+N[3]+3250441966&4294967295,w=x+(I<<22&4294967295|I>>>10),I=S+(k^w&(x^k))+N[4]+4118548399&4294967295,S=w+(I<<7&4294967295|I>>>25),I=k+(x^S&(w^x))+N[5]+1200080426&4294967295,k=S+(I<<12&4294967295|I>>>20),I=x+(w^k&(S^w))+N[6]+2821735955&4294967295,x=k+(I<<17&4294967295|I>>>15),I=w+(S^x&(k^S))+N[7]+4249261313&4294967295,w=x+(I<<22&4294967295|I>>>10),I=S+(k^w&(x^k))+N[8]+1770035416&4294967295,S=w+(I<<7&4294967295|I>>>25),I=k+(x^S&(w^x))+N[9]+2336552879&4294967295,k=S+(I<<12&4294967295|I>>>20),I=x+(w^k&(S^w))+N[10]+4294925233&4294967295,x=k+(I<<17&4294967295|I>>>15),I=w+(S^x&(k^S))+N[11]+2304563134&4294967295,w=x+(I<<22&4294967295|I>>>10),I=S+(k^w&(x^k))+N[12]+1804603682&4294967295,S=w+(I<<7&4294967295|I>>>25),I=k+(x^S&(w^x))+N[13]+4254626195&4294967295,k=S+(I<<12&4294967295|I>>>20),I=x+(w^k&(S^w))+N[14]+2792965006&4294967295,x=k+(I<<17&4294967295|I>>>15),I=w+(S^x&(k^S))+N[15]+1236535329&4294967295,w=x+(I<<22&4294967295|I>>>10),I=S+(x^k&(w^x))+N[1]+4129170786&4294967295,S=w+(I<<5&4294967295|I>>>27),I=k+(w^x&(S^w))+N[6]+3225465664&4294967295,k=S+(I<<9&4294967295|I>>>23),I=x+(S^w&(k^S))+N[11]+643717713&4294967295,x=k+(I<<14&4294967295|I>>>18),I=w+(k^S&(x^k))+N[0]+3921069994&4294967295,w=x+(I<<20&4294967295|I>>>12),I=S+(x^k&(w^x))+N[5]+3593408605&4294967295,S=w+(I<<5&4294967295|I>>>27),I=k+(w^x&(S^w))+N[10]+38016083&4294967295,k=S+(I<<9&4294967295|I>>>23),I=x+(S^w&(k^S))+N[15]+3634488961&4294967295,x=k+(I<<14&4294967295|I>>>18),I=w+(k^S&(x^k))+N[4]+3889429448&4294967295,w=x+(I<<20&4294967295|I>>>12),I=S+(x^k&(w^x))+N[9]+568446438&4294967295,S=w+(I<<5&4294967295|I>>>27),I=k+(w^x&(S^w))+N[14]+3275163606&4294967295,k=S+(I<<9&4294967295|I>>>23),I=x+(S^w&(k^S))+N[3]+4107603335&4294967295,x=k+(I<<14&4294967295|I>>>18),I=w+(k^S&(x^k))+N[8]+1163531501&4294967295,w=x+(I<<20&4294967295|I>>>12),I=S+(x^k&(w^x))+N[13]+2850285829&4294967295,S=w+(I<<5&4294967295|I>>>27),I=k+(w^x&(S^w))+N[2]+4243563512&4294967295,k=S+(I<<9&4294967295|I>>>23),I=x+(S^w&(k^S))+N[7]+1735328473&4294967295,x=k+(I<<14&4294967295|I>>>18),I=w+(k^S&(x^k))+N[12]+2368359562&4294967295,w=x+(I<<20&4294967295|I>>>12),I=S+(w^x^k)+N[5]+4294588738&4294967295,S=w+(I<<4&4294967295|I>>>28),I=k+(S^w^x)+N[8]+2272392833&4294967295,k=S+(I<<11&4294967295|I>>>21),I=x+(k^S^w)+N[11]+1839030562&4294967295,x=k+(I<<16&4294967295|I>>>16),I=w+(x^k^S)+N[14]+4259657740&4294967295,w=x+(I<<23&4294967295|I>>>9),I=S+(w^x^k)+N[1]+2763975236&4294967295,S=w+(I<<4&4294967295|I>>>28),I=k+(S^w^x)+N[4]+1272893353&4294967295,k=S+(I<<11&4294967295|I>>>21),I=x+(k^S^w)+N[7]+4139469664&4294967295,x=k+(I<<16&4294967295|I>>>16),I=w+(x^k^S)+N[10]+3200236656&4294967295,w=x+(I<<23&4294967295|I>>>9),I=S+(w^x^k)+N[13]+681279174&4294967295,S=w+(I<<4&4294967295|I>>>28),I=k+(S^w^x)+N[0]+3936430074&4294967295,k=S+(I<<11&4294967295|I>>>21),I=x+(k^S^w)+N[3]+3572445317&4294967295,x=k+(I<<16&4294967295|I>>>16),I=w+(x^k^S)+N[6]+76029189&4294967295,w=x+(I<<23&4294967295|I>>>9),I=S+(w^x^k)+N[9]+3654602809&4294967295,S=w+(I<<4&4294967295|I>>>28),I=k+(S^w^x)+N[12]+3873151461&4294967295,k=S+(I<<11&4294967295|I>>>21),I=x+(k^S^w)+N[15]+530742520&4294967295,x=k+(I<<16&4294967295|I>>>16),I=w+(x^k^S)+N[2]+3299628645&4294967295,w=x+(I<<23&4294967295|I>>>9),I=S+(x^(w|~k))+N[0]+4096336452&4294967295,S=w+(I<<6&4294967295|I>>>26),I=k+(w^(S|~x))+N[7]+1126891415&4294967295,k=S+(I<<10&4294967295|I>>>22),I=x+(S^(k|~w))+N[14]+2878612391&4294967295,x=k+(I<<15&4294967295|I>>>17),I=w+(k^(x|~S))+N[5]+4237533241&4294967295,w=x+(I<<21&4294967295|I>>>11),I=S+(x^(w|~k))+N[12]+1700485571&4294967295,S=w+(I<<6&4294967295|I>>>26),I=k+(w^(S|~x))+N[3]+2399980690&4294967295,k=S+(I<<10&4294967295|I>>>22),I=x+(S^(k|~w))+N[10]+4293915773&4294967295,x=k+(I<<15&4294967295|I>>>17),I=w+(k^(x|~S))+N[1]+2240044497&4294967295,w=x+(I<<21&4294967295|I>>>11),I=S+(x^(w|~k))+N[8]+1873313359&4294967295,S=w+(I<<6&4294967295|I>>>26),I=k+(w^(S|~x))+N[15]+4264355552&4294967295,k=S+(I<<10&4294967295|I>>>22),I=x+(S^(k|~w))+N[6]+2734768916&4294967295,x=k+(I<<15&4294967295|I>>>17),I=w+(k^(x|~S))+N[13]+1309151649&4294967295,w=x+(I<<21&4294967295|I>>>11),I=S+(x^(w|~k))+N[4]+4149444226&4294967295,S=w+(I<<6&4294967295|I>>>26),I=k+(w^(S|~x))+N[11]+3174756917&4294967295,k=S+(I<<10&4294967295|I>>>22),I=x+(S^(k|~w))+N[2]+718787259&4294967295,x=k+(I<<15&4294967295|I>>>17),I=w+(k^(x|~S))+N[9]+3951481745&4294967295,M.g[0]=M.g[0]+S&4294967295,M.g[1]=M.g[1]+(x+(I<<21&4294967295|I>>>11))&4294967295,M.g[2]=M.g[2]+x&4294967295,M.g[3]=M.g[3]+k&4294967295}s.prototype.u=function(M,S){S===void 0&&(S=M.length);for(var w=S-this.blockSize,N=this.B,x=this.h,k=0;k<S;){if(x==0)for(;k<=w;)o(this,M,k),k+=this.blockSize;if(typeof M=="string"){for(;k<S;)if(N[x++]=M.charCodeAt(k++),x==this.blockSize){o(this,N),x=0;break}}else for(;k<S;)if(N[x++]=M[k++],x==this.blockSize){o(this,N),x=0;break}}this.h=x,this.o+=S},s.prototype.v=function(){var M=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);M[0]=128;for(var S=1;S<M.length-8;++S)M[S]=0;var w=8*this.o;for(S=M.length-8;S<M.length;++S)M[S]=w&255,w/=256;for(this.u(M),M=Array(16),S=w=0;4>S;++S)for(var N=0;32>N;N+=8)M[w++]=this.g[S]>>>N&255;return M};function u(M,S){var w=m;return Object.prototype.hasOwnProperty.call(w,M)?w[M]:w[M]=S(M)}function f(M,S){this.h=S;for(var w=[],N=!0,x=M.length-1;0<=x;x--){var k=M[x]|0;N&&k==S||(w[x]=k,N=!1)}this.g=w}var m={};function g(M){return-128<=M&&128>M?u(M,function(S){return new f([S|0],0>S?-1:0)}):new f([M|0],0>M?-1:0)}function y(M){if(isNaN(M)||!isFinite(M))return b;if(0>M)return F(y(-M));for(var S=[],w=1,N=0;M>=w;N++)S[N]=M/w|0,w*=4294967296;return new f(S,0)}function E(M,S){if(M.length==0)throw Error("number format error: empty string");if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(M.charAt(0)=="-")return F(E(M.substring(1),S));if(0<=M.indexOf("-"))throw Error('number format error: interior "-" character');for(var w=y(Math.pow(S,8)),N=b,x=0;x<M.length;x+=8){var k=Math.min(8,M.length-x),I=parseInt(M.substring(x,x+k),S);8>k?(k=y(Math.pow(S,k)),N=N.j(k).add(y(I))):(N=N.j(w),N=N.add(y(I)))}return N}var b=g(0),C=g(1),P=g(16777216);r=f.prototype,r.m=function(){if(Z(this))return-F(this).m();for(var M=0,S=1,w=0;w<this.g.length;w++){var N=this.i(w);M+=(0<=N?N:4294967296+N)*S,S*=4294967296}return M},r.toString=function(M){if(M=M||10,2>M||36<M)throw Error("radix out of range: "+M);if(L(this))return"0";if(Z(this))return"-"+F(this).toString(M);for(var S=y(Math.pow(M,6)),w=this,N="";;){var x=fe(w,S).g;w=$(w,x.j(S));var k=((0<w.g.length?w.g[0]:w.h)>>>0).toString(M);if(w=x,L(w))return k+N;for(;6>k.length;)k="0"+k;N=k+N}},r.i=function(M){return 0>M?0:M<this.g.length?this.g[M]:this.h};function L(M){if(M.h!=0)return!1;for(var S=0;S<M.g.length;S++)if(M.g[S]!=0)return!1;return!0}function Z(M){return M.h==-1}r.l=function(M){return M=$(this,M),Z(M)?-1:L(M)?0:1};function F(M){for(var S=M.g.length,w=[],N=0;N<S;N++)w[N]=~M.g[N];return new f(w,~M.h).add(C)}r.abs=function(){return Z(this)?F(this):this},r.add=function(M){for(var S=Math.max(this.g.length,M.g.length),w=[],N=0,x=0;x<=S;x++){var k=N+(this.i(x)&65535)+(M.i(x)&65535),I=(k>>>16)+(this.i(x)>>>16)+(M.i(x)>>>16);N=I>>>16,k&=65535,I&=65535,w[x]=I<<16|k}return new f(w,w[w.length-1]&-2147483648?-1:0)};function $(M,S){return M.add(F(S))}r.j=function(M){if(L(this)||L(M))return b;if(Z(this))return Z(M)?F(this).j(F(M)):F(F(this).j(M));if(Z(M))return F(this.j(F(M)));if(0>this.l(P)&&0>M.l(P))return y(this.m()*M.m());for(var S=this.g.length+M.g.length,w=[],N=0;N<2*S;N++)w[N]=0;for(N=0;N<this.g.length;N++)for(var x=0;x<M.g.length;x++){var k=this.i(N)>>>16,I=this.i(N)&65535,Vt=M.i(x)>>>16,st=M.i(x)&65535;w[2*N+2*x]+=I*st,se(w,2*N+2*x),w[2*N+2*x+1]+=k*st,se(w,2*N+2*x+1),w[2*N+2*x+1]+=I*Vt,se(w,2*N+2*x+1),w[2*N+2*x+2]+=k*Vt,se(w,2*N+2*x+2)}for(N=0;N<S;N++)w[N]=w[2*N+1]<<16|w[2*N];for(N=S;N<2*S;N++)w[N]=0;return new f(w,0)};function se(M,S){for(;(M[S]&65535)!=M[S];)M[S+1]+=M[S]>>>16,M[S]&=65535,S++}function te(M,S){this.g=M,this.h=S}function fe(M,S){if(L(S))throw Error("division by zero");if(L(M))return new te(b,b);if(Z(M))return S=fe(F(M),S),new te(F(S.g),F(S.h));if(Z(S))return S=fe(M,F(S)),new te(F(S.g),S.h);if(30<M.g.length){if(Z(M)||Z(S))throw Error("slowDivide_ only works with positive integers.");for(var w=C,N=S;0>=N.l(M);)w=ce(w),N=ce(N);var x=we(w,1),k=we(N,1);for(N=we(N,2),w=we(w,2);!L(N);){var I=k.add(N);0>=I.l(M)&&(x=x.add(w),k=I),N=we(N,1),w=we(w,1)}return S=$(M,x.j(S)),new te(x,S)}for(x=b;0<=M.l(S);){for(w=Math.max(1,Math.floor(M.m()/S.m())),N=Math.ceil(Math.log(w)/Math.LN2),N=48>=N?1:Math.pow(2,N-48),k=y(w),I=k.j(S);Z(I)||0<I.l(M);)w-=N,k=y(w),I=k.j(S);L(k)&&(k=C),x=x.add(k),M=$(M,I)}return new te(x,M)}r.A=function(M){return fe(this,M).h},r.and=function(M){for(var S=Math.max(this.g.length,M.g.length),w=[],N=0;N<S;N++)w[N]=this.i(N)&M.i(N);return new f(w,this.h&M.h)},r.or=function(M){for(var S=Math.max(this.g.length,M.g.length),w=[],N=0;N<S;N++)w[N]=this.i(N)|M.i(N);return new f(w,this.h|M.h)},r.xor=function(M){for(var S=Math.max(this.g.length,M.g.length),w=[],N=0;N<S;N++)w[N]=this.i(N)^M.i(N);return new f(w,this.h^M.h)};function ce(M){for(var S=M.g.length+1,w=[],N=0;N<S;N++)w[N]=M.i(N)<<1|M.i(N-1)>>>31;return new f(w,M.h)}function we(M,S){var w=S>>5;S%=32;for(var N=M.g.length-w,x=[],k=0;k<N;k++)x[k]=0<S?M.i(k+w)>>>S|M.i(k+w+1)<<32-S:M.i(k+w);return new f(x,M.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,g0=s,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.A,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=y,f.fromString=E,Vr=f}).apply(typeof hv<"u"?hv:typeof self<"u"?self:typeof window<"u"?window:{});var Tc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var y0,gl,_0,Mc,Wd,v0,E0,T0;(function(){var r,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,p,_){return c==Array.prototype||c==Object.prototype||(c[p]=_.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Tc=="object"&&Tc];for(var p=0;p<c.length;++p){var _=c[p];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var s=n(this);function o(c,p){if(p)e:{var _=s;c=c.split(".");for(var A=0;A<c.length-1;A++){var U=c[A];if(!(U in _))break e;_=_[U]}c=c[c.length-1],A=_[c],p=p(A),p!=A&&p!=null&&e(_,c,{configurable:!0,writable:!0,value:p})}}function u(c,p){c instanceof String&&(c+="");var _=0,A=!1,U={next:function(){if(!A&&_<c.length){var G=_++;return{value:p(G,c[G]),done:!1}}return A=!0,{done:!0,value:void 0}}};return U[Symbol.iterator]=function(){return U},U}o("Array.prototype.values",function(c){return c||function(){return u(this,function(p,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var f=f||{},m=this||self;function g(c){var p=typeof c;return p=p!="object"?p:c?Array.isArray(c)?"array":p:"null",p=="array"||p=="object"&&typeof c.length=="number"}function y(c){var p=typeof c;return p=="object"&&c!=null||p=="function"}function E(c,p,_){return c.call.apply(c.bind,arguments)}function b(c,p,_){if(!c)throw Error();if(2<arguments.length){var A=Array.prototype.slice.call(arguments,2);return function(){var U=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(U,A),c.apply(p,U)}}return function(){return c.apply(p,arguments)}}function C(c,p,_){return C=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?E:b,C.apply(null,arguments)}function P(c,p){var _=Array.prototype.slice.call(arguments,1);return function(){var A=_.slice();return A.push.apply(A,arguments),c.apply(this,A)}}function L(c,p){function _(){}_.prototype=p.prototype,c.aa=p.prototype,c.prototype=new _,c.prototype.constructor=c,c.Qb=function(A,U,G){for(var re=Array(arguments.length-2),ke=2;ke<arguments.length;ke++)re[ke-2]=arguments[ke];return p.prototype[U].apply(A,re)}}function Z(c){const p=c.length;if(0<p){const _=Array(p);for(let A=0;A<p;A++)_[A]=c[A];return _}return[]}function F(c,p){for(let _=1;_<arguments.length;_++){const A=arguments[_];if(g(A)){const U=c.length||0,G=A.length||0;c.length=U+G;for(let re=0;re<G;re++)c[U+re]=A[re]}else c.push(A)}}class ${constructor(p,_){this.i=p,this.j=_,this.h=0,this.g=null}get(){let p;return 0<this.h?(this.h--,p=this.g,this.g=p.next,p.next=null):p=this.i(),p}}function se(c){return/^[\s\xa0]*$/.test(c)}function te(){var c=m.navigator;return c&&(c=c.userAgent)?c:""}function fe(c){return fe[" "](c),c}fe[" "]=function(){};var ce=te().indexOf("Gecko")!=-1&&!(te().toLowerCase().indexOf("webkit")!=-1&&te().indexOf("Edge")==-1)&&!(te().indexOf("Trident")!=-1||te().indexOf("MSIE")!=-1)&&te().indexOf("Edge")==-1;function we(c,p,_){for(const A in c)p.call(_,c[A],A,c)}function M(c,p){for(const _ in c)p.call(void 0,c[_],_,c)}function S(c){const p={};for(const _ in c)p[_]=c[_];return p}const w="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function N(c,p){let _,A;for(let U=1;U<arguments.length;U++){A=arguments[U];for(_ in A)c[_]=A[_];for(let G=0;G<w.length;G++)_=w[G],Object.prototype.hasOwnProperty.call(A,_)&&(c[_]=A[_])}}function x(c){var p=1;c=c.split(":");const _=[];for(;0<p&&c.length;)_.push(c.shift()),p--;return c.length&&_.push(c.join(":")),_}function k(c){m.setTimeout(()=>{throw c},0)}function I(){var c=je;let p=null;return c.g&&(p=c.g,c.g=c.g.next,c.g||(c.h=null),p.next=null),p}class Vt{constructor(){this.h=this.g=null}add(p,_){const A=st.get();A.set(p,_),this.h?this.h.next=A:this.g=A,this.h=A}}var st=new $(()=>new Q,c=>c.reset());class Q{constructor(){this.next=this.g=this.h=null}set(p,_){this.h=p,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let ae,de=!1,je=new Vt,D=()=>{const c=m.Promise.resolve(void 0);ae=()=>{c.then(ee)}};var ee=()=>{for(var c;c=I();){try{c.h.call(c.g)}catch(_){k(_)}var p=st;p.j(c),100>p.h&&(p.h++,c.next=p.g,p.g=c)}de=!1};function oe(){this.s=this.s,this.C=this.C}oe.prototype.s=!1,oe.prototype.ma=function(){this.s||(this.s=!0,this.N())},oe.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ie(c,p){this.type=c,this.g=this.target=p,this.defaultPrevented=!1}ie.prototype.h=function(){this.defaultPrevented=!0};var me=function(){if(!m.addEventListener||!Object.defineProperty)return!1;var c=!1,p=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const _=()=>{};m.addEventListener("test",_,p),m.removeEventListener("test",_,p)}catch{}return c}();function De(c,p){if(ie.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var _=this.type=c.type,A=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=p,p=c.relatedTarget){if(ce){e:{try{fe(p.nodeName);var U=!0;break e}catch{}U=!1}U||(p=null)}}else _=="mouseover"?p=c.fromElement:_=="mouseout"&&(p=c.toElement);this.relatedTarget=p,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:Ae[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&De.aa.h.call(this)}}L(De,ie);var Ae={2:"touch",3:"pen",4:"mouse"};De.prototype.h=function(){De.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Ct="closure_listenable_"+(1e6*Math.random()|0),We=0;function zn(c,p,_,A,U){this.listener=c,this.proxy=null,this.src=p,this.type=_,this.capture=!!A,this.ha=U,this.key=++We,this.da=this.fa=!1}function $i(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function di(c){this.src=c,this.g={},this.h=0}di.prototype.add=function(c,p,_,A,U){var G=c.toString();c=this.g[G],c||(c=this.g[G]=[],this.h++);var re=Fr(c,p,A,U);return-1<re?(p=c[re],_||(p.fa=!1)):(p=new zn(p,this.src,G,!!A,U),p.fa=_,c.push(p)),p};function qr(c,p){var _=p.type;if(_ in c.g){var A=c.g[_],U=Array.prototype.indexOf.call(A,p,void 0),G;(G=0<=U)&&Array.prototype.splice.call(A,U,1),G&&($i(p),c.g[_].length==0&&(delete c.g[_],c.h--))}}function Fr(c,p,_,A){for(var U=0;U<c.length;++U){var G=c[U];if(!G.da&&G.listener==p&&G.capture==!!_&&G.ha==A)return U}return-1}var Gr="closure_lm_"+(1e6*Math.random()|0),io={};function Xl(c,p,_,A,U){if(Array.isArray(p)){for(var G=0;G<p.length;G++)Xl(c,p[G],_,A,U);return null}return _=$l(_),c&&c[Ct]?c.K(p,_,y(A)?!!A.capture:!1,U):mn(c,p,_,!1,A,U)}function mn(c,p,_,A,U,G){if(!p)throw Error("Invalid event type");var re=y(U)?!!U.capture:!!U,ke=qs(c);if(ke||(c[Gr]=ke=new di(c)),_=ke.add(p,_,A,re,G),_.proxy)return _;if(A=Ah(),_.proxy=A,A.src=c,A.listener=_,c.addEventListener)me||(U=re),U===void 0&&(U=!1),c.addEventListener(p.toString(),A,U);else if(c.attachEvent)c.attachEvent(Qr(p.toString()),A);else if(c.addListener&&c.removeListener)c.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return _}function Ah(){function c(_){return p.call(c.src,c.listener,_)}const p=Sh;return c}function ro(c,p,_,A,U){if(Array.isArray(p))for(var G=0;G<p.length;G++)ro(c,p[G],_,A,U);else A=y(A)?!!A.capture:!!A,_=$l(_),c&&c[Ct]?(c=c.i,p=String(p).toString(),p in c.g&&(G=c.g[p],_=Fr(G,_,A,U),-1<_&&($i(G[_]),Array.prototype.splice.call(G,_,1),G.length==0&&(delete c.g[p],c.h--)))):c&&(c=qs(c))&&(p=c.g[p.toString()],c=-1,p&&(c=Fr(p,_,A,U)),(_=-1<c?p[c]:null)&&Hs(_))}function Hs(c){if(typeof c!="number"&&c&&!c.da){var p=c.src;if(p&&p[Ct])qr(p.i,c);else{var _=c.type,A=c.proxy;p.removeEventListener?p.removeEventListener(_,A,c.capture):p.detachEvent?p.detachEvent(Qr(_),A):p.addListener&&p.removeListener&&p.removeListener(A),(_=qs(p))?(qr(_,c),_.h==0&&(_.src=null,p[Gr]=null)):$i(c)}}}function Qr(c){return c in io?io[c]:io[c]="on"+c}function Sh(c,p){if(c.da)c=!0;else{p=new De(p,this);var _=c.listener,A=c.ha||c.src;c.fa&&Hs(c),c=_.call(A,p)}return c}function qs(c){return c=c[Gr],c instanceof di?c:null}var so="__closure_events_fn_"+(1e9*Math.random()>>>0);function $l(c){return typeof c=="function"?c:(c[so]||(c[so]=function(p){return c.handleEvent(p)}),c[so])}function at(){oe.call(this),this.i=new di(this),this.M=this,this.F=null}L(at,oe),at.prototype[Ct]=!0,at.prototype.removeEventListener=function(c,p,_,A){ro(this,c,p,_,A)};function Fe(c,p){var _,A=c.F;if(A)for(_=[];A;A=A.F)_.push(A);if(c=c.M,A=p.type||p,typeof p=="string")p=new ie(p,c);else if(p instanceof ie)p.target=p.target||c;else{var U=p;p=new ie(A,c),N(p,U)}if(U=!0,_)for(var G=_.length-1;0<=G;G--){var re=p.g=_[G];U=sn(re,A,!0,p)&&U}if(re=p.g=c,U=sn(re,A,!0,p)&&U,U=sn(re,A,!1,p)&&U,_)for(G=0;G<_.length;G++)re=p.g=_[G],U=sn(re,A,!1,p)&&U}at.prototype.N=function(){if(at.aa.N.call(this),this.i){var c=this.i,p;for(p in c.g){for(var _=c.g[p],A=0;A<_.length;A++)$i(_[A]);delete c.g[p],c.h--}}this.F=null},at.prototype.K=function(c,p,_,A){return this.i.add(String(c),p,!1,_,A)},at.prototype.L=function(c,p,_,A){return this.i.add(String(c),p,!0,_,A)};function sn(c,p,_,A){if(p=c.i.g[String(p)],!p)return!0;p=p.concat();for(var U=!0,G=0;G<p.length;++G){var re=p[G];if(re&&!re.da&&re.capture==_){var ke=re.listener,Et=re.ha||re.src;re.fa&&qr(c.i,re),U=ke.call(Et,A)!==!1&&U}}return U&&!A.defaultPrevented}function qt(c,p,_){if(typeof c=="function")_&&(c=C(c,_));else if(c&&typeof c.handleEvent=="function")c=C(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(p)?-1:m.setTimeout(c,p||0)}function Zl(c){c.g=qt(()=>{c.g=null,c.i&&(c.i=!1,Zl(c))},c.l);const p=c.h;c.h=null,c.m.apply(null,p)}class bh extends oe{constructor(p,_){super(),this.m=p,this.l=_,this.h=null,this.i=!1,this.g=null}j(p){this.h=arguments,this.g?this.i=!0:Zl(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Kr(c){oe.call(this),this.h=c,this.g={}}L(Kr,oe);var Yr=[];function Xr(c){we(c.g,function(p,_){this.g.hasOwnProperty(_)&&Hs(p)},c),c.g={}}Kr.prototype.N=function(){Kr.aa.N.call(this),Xr(this)},Kr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Nn=m.JSON.stringify,Fs=m.JSON.parse,$r=class{stringify(c){return m.JSON.stringify(c,void 0)}parse(c){return m.JSON.parse(c,void 0)}};function ao(){}ao.prototype.h=null;function oo(c){return c.h||(c.h=c.i())}function lo(){}var mi={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function pi(){ie.call(this,"d")}L(pi,ie);function uo(){ie.call(this,"c")}L(uo,ie);var jn={},co=null;function Zi(){return co=co||new at}jn.La="serverreachability";function Gs(c){ie.call(this,jn.La,c)}L(Gs,ie);function Wi(c){const p=Zi();Fe(p,new Gs(p))}jn.STAT_EVENT="statevent";function Wl(c,p){ie.call(this,jn.STAT_EVENT,c),this.stat=p}L(Wl,ie);function et(c){const p=Zi();Fe(p,new Wl(p,c))}jn.Ma="timingevent";function vt(c,p){ie.call(this,jn.Ma,c),this.size=p}L(vt,ie);function mt(c,p){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){c()},p)}function pn(){this.g=!0}pn.prototype.xa=function(){this.g=!1};function ho(c,p,_,A,U,G){c.info(function(){if(c.g)if(G)for(var re="",ke=G.split("&"),Et=0;Et<ke.length;Et++){var Pe=ke[Et].split("=");if(1<Pe.length){var Dt=Pe[0];Pe=Pe[1];var Tt=Dt.split("_");re=2<=Tt.length&&Tt[1]=="type"?re+(Dt+"="+Pe+"&"):re+(Dt+"=redacted&")}}else re=null;else re=G;return"XMLHTTP REQ ("+A+") [attempt "+U+"]: "+p+`
`+_+`
`+re})}function wh(c,p,_,A,U,G,re){c.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+U+"]: "+p+`
`+_+`
`+G+" "+re})}function Ji(c,p,_,A){c.info(function(){return"XMLHTTP TEXT ("+p+"): "+Zr(c,_)+(A?" "+A:"")})}function Jl(c,p){c.info(function(){return"TIMEOUT: "+p})}pn.prototype.info=function(){};function Zr(c,p){if(!c.g)return p;if(!p)return null;try{var _=JSON.parse(p);if(_){for(c=0;c<_.length;c++)if(Array.isArray(_[c])){var A=_[c];if(!(2>A.length)){var U=A[1];if(Array.isArray(U)&&!(1>U.length)){var G=U[0];if(G!="noop"&&G!="stop"&&G!="close")for(var re=1;re<U.length;re++)U[re]=""}}}}return Nn(_)}catch{return p}}var er={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},gi={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Bn;function Hn(){}L(Hn,ao),Hn.prototype.g=function(){return new XMLHttpRequest},Hn.prototype.i=function(){return{}},Bn=new Hn;function $t(c,p,_,A){this.j=c,this.i=p,this.l=_,this.R=A||1,this.U=new Kr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new ct}function ct(){this.i=null,this.g="",this.h=!1}var fo={},Qs={};function On(c,p,_){c.L=1,c.v=ns(an(p)),c.m=_,c.P=!0,yi(c,null)}function yi(c,p){c.F=Date.now(),Wr(c),c.A=an(c.v);var _=c.A,A=c.R;Array.isArray(A)||(A=[String(A)]),vo(_.i,"t",A),c.C=0,_=c.j.J,c.h=new ct,c.g=pu(c.j,_?p:null,!c.m),0<c.O&&(c.M=new bh(C(c.Y,c,c.g),c.O)),p=c.U,_=c.g,A=c.ca;var U="readystatechange";Array.isArray(U)||(U&&(Yr[0]=U.toString()),U=Yr);for(var G=0;G<U.length;G++){var re=Xl(_,U[G],A||p.handleEvent,!1,p.h||p);if(!re)break;p.g[re.key]=re}p=c.H?S(c.H):{},c.m?(c.u||(c.u="POST"),p["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,p)):(c.u="GET",c.g.ea(c.A,c.u,null,p)),Wi(),ho(c.i,c.u,c.A,c.l,c.R,c.m)}$t.prototype.ca=function(c){c=c.target;const p=this.M;p&&vn(c)==3?p.j():this.Y(c)},$t.prototype.Y=function(c){try{if(c==this.g)e:{const Tt=vn(this.g);var p=this.g.Ba();const wi=this.g.Z();if(!(3>Tt)&&(Tt!=3||this.g&&(this.h.h||this.g.oa()||ou(this.g)))){this.J||Tt!=4||p==7||(p==8||0>=wi?Wi(3):Wi(2)),tr(this);var _=this.g.Z();this.X=_;t:if(eu(this)){var A=ou(this.g);c="";var U=A.length,G=vn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){kt(this),qn(this);var re="";break t}this.h.i=new m.TextDecoder}for(p=0;p<U;p++)this.h.h=!0,c+=this.h.i.decode(A[p],{stream:!(G&&p==U-1)});A.length=0,this.h.g+=c,this.C=0,re=this.h.g}else re=this.g.oa();if(this.o=_==200,wh(this.i,this.u,this.A,this.l,this.R,Tt,_),this.o){if(this.T&&!this.K){t:{if(this.g){var ke,Et=this.g;if((ke=Et.g?Et.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!se(ke)){var Pe=ke;break t}}Pe=null}if(_=Pe)Ji(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Jr(this,_);else{this.o=!1,this.s=3,et(12),kt(this),qn(this);break e}}if(this.P){_=!0;let Pt;for(;!this.J&&this.C<re.length;)if(Pt=tu(this,re),Pt==Qs){Tt==4&&(this.s=4,et(14),_=!1),Ji(this.i,this.l,null,"[Incomplete Response]");break}else if(Pt==fo){this.s=4,et(15),Ji(this.i,this.l,re,"[Invalid Chunk]"),_=!1;break}else Ji(this.i,this.l,Pt,null),Jr(this,Pt);if(eu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Tt!=4||re.length!=0||this.h.h||(this.s=1,et(16),_=!1),this.o=this.o&&_,!_)Ji(this.i,this.l,re,"[Invalid Chunked Response]"),kt(this),qn(this);else if(0<re.length&&!this.W){this.W=!0;var Dt=this.j;Dt.g==this&&Dt.ba&&!Dt.M&&(Dt.j.info("Great, no buffering proxy detected. Bytes received: "+re.length),cs(Dt),Dt.M=!0,et(11))}}else Ji(this.i,this.l,re,null),Jr(this,re);Tt==4&&kt(this),this.o&&!this.J&&(Tt==4?fu(this.j,this):(this.o=!1,Wr(this)))}else Nh(this.g),_==400&&0<re.indexOf("Unknown SID")?(this.s=3,et(12)):(this.s=0,et(13)),kt(this),qn(this)}}}catch{}finally{}};function eu(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function tu(c,p){var _=c.C,A=p.indexOf(`
`,_);return A==-1?Qs:(_=Number(p.substring(_,A)),isNaN(_)?fo:(A+=1,A+_>p.length?Qs:(p=p.slice(A,A+_),c.C=A+_,p)))}$t.prototype.cancel=function(){this.J=!0,kt(this)};function Wr(c){c.S=Date.now()+c.I,nu(c,c.I)}function nu(c,p){if(c.B!=null)throw Error("WatchDog timer not null");c.B=mt(C(c.ba,c),p)}function tr(c){c.B&&(m.clearTimeout(c.B),c.B=null)}$t.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(Jl(this.i,this.A),this.L!=2&&(Wi(),et(17)),kt(this),this.s=2,qn(this)):nu(this,this.S-c)};function qn(c){c.j.G==0||c.J||fu(c.j,c)}function kt(c){tr(c);var p=c.M;p&&typeof p.ma=="function"&&p.ma(),c.M=null,Xr(c.U),c.g&&(p=c.g,c.g=null,p.abort(),p.ma())}function Jr(c,p){try{var _=c.j;if(_.G!=0&&(_.g==c||mo(_.h,c))){if(!c.K&&mo(_.h,c)&&_.G==3){try{var A=_.Da.g.parse(p)}catch{A=null}if(Array.isArray(A)&&A.length==3){var U=A;if(U[0]==0){e:if(!_.u){if(_.g)if(_.g.F+3e3<c.F)ra(_),na(_);else break e;bo(_),et(18)}}else _.za=U[1],0<_.za-_.T&&37500>U[2]&&_.F&&_.v==0&&!_.C&&(_.C=mt(C(_.Za,_),6e3));if(1>=Ys(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else bi(_,11)}else if((c.K||_.g==c)&&ra(_),!se(p))for(U=_.Da.g.parse(p),p=0;p<U.length;p++){let Pe=U[p];if(_.T=Pe[0],Pe=Pe[1],_.G==2)if(Pe[0]=="c"){_.K=Pe[1],_.ia=Pe[2];const Dt=Pe[3];Dt!=null&&(_.la=Dt,_.j.info("VER="+_.la));const Tt=Pe[4];Tt!=null&&(_.Aa=Tt,_.j.info("SVER="+_.Aa));const wi=Pe[5];wi!=null&&typeof wi=="number"&&0<wi&&(A=1.5*wi,_.L=A,_.j.info("backChannelRequestTimeoutMs_="+A)),A=_;const Pt=c.g;if(Pt){const $n=Pt.g?Pt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if($n){var G=A.h;G.g||$n.indexOf("spdy")==-1&&$n.indexOf("quic")==-1&&$n.indexOf("h2")==-1||(G.j=G.l,G.g=new Set,G.h&&(Xs(G,G.h),G.h=null))}if(A.D){const Ro=Pt.g?Pt.g.getResponseHeader("X-HTTP-Session-Id"):null;Ro&&(A.ya=Ro,Ke(A.I,A.D,Ro))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-c.F,_.j.info("Handshake RTT: "+_.R+"ms")),A=_;var re=c;if(A.qa=mu(A,A.J?A.ia:null,A.W),re.K){Zt(A.h,re);var ke=re,Et=A.L;Et&&(ke.I=Et),ke.B&&(tr(ke),Wr(ke)),A.g=re}else cu(A);0<_.i.length&&ia(_)}else Pe[0]!="stop"&&Pe[0]!="close"||bi(_,7);else _.G==3&&(Pe[0]=="stop"||Pe[0]=="close"?Pe[0]=="stop"?bi(_,7):Ao(_):Pe[0]!="noop"&&_.l&&_.l.ta(Pe),_.v=0)}}Wi(4)}catch{}}var iu=class{constructor(c,p){this.g=c,this.map=p}};function _i(c){this.l=c||10,m.PerformanceNavigationTiming?(c=m.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Ks(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Ys(c){return c.h?1:c.g?c.g.size:0}function mo(c,p){return c.h?c.h==p:c.g?c.g.has(p):!1}function Xs(c,p){c.g?c.g.add(p):c.h=p}function Zt(c,p){c.h&&c.h==p?c.h=null:c.g&&c.g.has(p)&&c.g.delete(p)}_i.prototype.cancel=function(){if(this.i=po(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function po(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let p=c.i;for(const _ of c.g.values())p=p.concat(_.D);return p}return Z(c.i)}function Rh(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(g(c)){for(var p=[],_=c.length,A=0;A<_;A++)p.push(c[A]);return p}p=[],_=0;for(A in c)p[_++]=c[A];return p}function $s(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(g(c)||typeof c=="string"){var p=[];c=c.length;for(var _=0;_<c;_++)p.push(_);return p}p=[],_=0;for(const A in c)p[_++]=A;return p}}}function go(c,p){if(c.forEach&&typeof c.forEach=="function")c.forEach(p,void 0);else if(g(c)||typeof c=="string")Array.prototype.forEach.call(c,p,void 0);else for(var _=$s(c),A=Rh(c),U=A.length,G=0;G<U;G++)p.call(void 0,A[G],_&&_[G],c)}var es=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ch(c,p){if(c){c=c.split("&");for(var _=0;_<c.length;_++){var A=c[_].indexOf("="),U=null;if(0<=A){var G=c[_].substring(0,A);U=c[_].substring(A+1)}else G=c[_];p(G,U?decodeURIComponent(U.replace(/\+/g," ")):"")}}}function pt(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof pt){this.h=c.h,ts(this,c.j),this.o=c.o,this.g=c.g,nr(this,c.s),this.l=c.l;var p=c.i,_=new Ei;_.i=p.i,p.g&&(_.g=new Map(p.g),_.h=p.h),vi(this,_),this.m=c.m}else c&&(p=String(c).match(es))?(this.h=!1,ts(this,p[1]||"",!0),this.o=gn(p[2]||""),this.g=gn(p[3]||"",!0),nr(this,p[4]),this.l=gn(p[5]||"",!0),vi(this,p[6]||"",!0),this.m=gn(p[7]||"")):(this.h=!1,this.i=new Ei(null,this.h))}pt.prototype.toString=function(){var c=[],p=this.j;p&&c.push(is(p,yo,!0),":");var _=this.g;return(_||p=="file")&&(c.push("//"),(p=this.o)&&c.push(is(p,yo,!0),"@"),c.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&c.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&c.push("/"),c.push(is(_,_.charAt(0)=="/"?Ih:_o,!0))),(_=this.i.toString())&&c.push("?",_),(_=this.m)&&c.push("#",is(_,Zs)),c.join("")};function an(c){return new pt(c)}function ts(c,p,_){c.j=_?gn(p,!0):p,c.j&&(c.j=c.j.replace(/:$/,""))}function nr(c,p){if(p){if(p=Number(p),isNaN(p)||0>p)throw Error("Bad port number "+p);c.s=p}else c.s=null}function vi(c,p,_){p instanceof Ei?(c.i=p,su(c.i,c.h)):(_||(p=is(p,Dh)),c.i=new Ei(p,c.h))}function Ke(c,p,_){c.i.set(p,_)}function ns(c){return Ke(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function gn(c,p){return c?p?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function is(c,p,_){return typeof c=="string"?(c=encodeURI(c).replace(p,ru),_&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function ru(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var yo=/[#\/\?@]/g,_o=/[#\?:]/g,Ih=/[#\?]/g,Dh=/[#\?@]/g,Zs=/#/g;function Ei(c,p){this.h=this.g=null,this.i=c||null,this.j=!!p}function yn(c){c.g||(c.g=new Map,c.h=0,c.i&&Ch(c.i,function(p,_){c.add(decodeURIComponent(p.replace(/\+/g," ")),_)}))}r=Ei.prototype,r.add=function(c,p){yn(this),this.i=null,c=Fn(this,c);var _=this.g.get(c);return _||this.g.set(c,_=[]),_.push(p),this.h+=1,this};function Ti(c,p){yn(c),p=Fn(c,p),c.g.has(p)&&(c.i=null,c.h-=c.g.get(p).length,c.g.delete(p))}function Ai(c,p){return yn(c),p=Fn(c,p),c.g.has(p)}r.forEach=function(c,p){yn(this),this.g.forEach(function(_,A){_.forEach(function(U){c.call(p,U,A,this)},this)},this)},r.na=function(){yn(this);const c=Array.from(this.g.values()),p=Array.from(this.g.keys()),_=[];for(let A=0;A<p.length;A++){const U=c[A];for(let G=0;G<U.length;G++)_.push(p[A])}return _},r.V=function(c){yn(this);let p=[];if(typeof c=="string")Ai(this,c)&&(p=p.concat(this.g.get(Fn(this,c))));else{c=Array.from(this.g.values());for(let _=0;_<c.length;_++)p=p.concat(c[_])}return p},r.set=function(c,p){return yn(this),this.i=null,c=Fn(this,c),Ai(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[p]),this.h+=1,this},r.get=function(c,p){return c?(c=this.V(c),0<c.length?String(c[0]):p):p};function vo(c,p,_){Ti(c,p),0<_.length&&(c.i=null,c.g.set(Fn(c,p),Z(_)),c.h+=_.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],p=Array.from(this.g.keys());for(var _=0;_<p.length;_++){var A=p[_];const G=encodeURIComponent(String(A)),re=this.V(A);for(A=0;A<re.length;A++){var U=G;re[A]!==""&&(U+="="+encodeURIComponent(String(re[A]))),c.push(U)}}return this.i=c.join("&")};function Fn(c,p){return p=String(p),c.j&&(p=p.toLowerCase()),p}function su(c,p){p&&!c.j&&(yn(c),c.i=null,c.g.forEach(function(_,A){var U=A.toLowerCase();A!=U&&(Ti(this,A),vo(this,U,_))},c)),c.j=p}function rs(c,p){const _=new pn;if(m.Image){const A=new Image;A.onload=P(_n,_,"TestLoadImage: loaded",!0,p,A),A.onerror=P(_n,_,"TestLoadImage: error",!1,p,A),A.onabort=P(_n,_,"TestLoadImage: abort",!1,p,A),A.ontimeout=P(_n,_,"TestLoadImage: timeout",!1,p,A),m.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=c}else p(!1)}function Mn(c,p){const _=new pn,A=new AbortController,U=setTimeout(()=>{A.abort(),_n(_,"TestPingServer: timeout",!1,p)},1e4);fetch(c,{signal:A.signal}).then(G=>{clearTimeout(U),G.ok?_n(_,"TestPingServer: ok",!0,p):_n(_,"TestPingServer: server error",!1,p)}).catch(()=>{clearTimeout(U),_n(_,"TestPingServer: error",!1,p)})}function _n(c,p,_,A,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),A(_)}catch{}}function ss(){this.g=new $r}function Gn(c,p,_){const A=_||"";try{go(c,function(U,G){let re=U;y(U)&&(re=Nn(U)),p.push(A+G+"="+encodeURIComponent(re))})}catch(U){throw p.push(A+"type="+encodeURIComponent("_badmap")),U}}function ir(c){this.l=c.Ub||null,this.j=c.eb||!1}L(ir,ao),ir.prototype.g=function(){return new Si(this.l,this.j)},ir.prototype.i=function(c){return function(){return c}}({});function Si(c,p){at.call(this),this.D=c,this.o=p,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}L(Si,at),r=Si.prototype,r.open=function(c,p){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=p,this.readyState=1,Kn(this)},r.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const p={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(p.body=c),(this.D||m).fetch(new Request(this.A,p)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Qn(this)),this.readyState=0},r.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Kn(this)),this.g&&(this.readyState=3,Kn(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Eo(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function Eo(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}r.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var p=c.value?c.value:new Uint8Array(0);(p=this.v.decode(p,{stream:!c.done}))&&(this.response=this.responseText+=p)}c.done?Qn(this):Kn(this),this.readyState==3&&Eo(this)}},r.Ra=function(c){this.g&&(this.response=this.responseText=c,Qn(this))},r.Qa=function(c){this.g&&(this.response=c,Qn(this))},r.ga=function(){this.g&&Qn(this)};function Qn(c){c.readyState=4,c.l=null,c.j=null,c.v=null,Kn(c)}r.setRequestHeader=function(c,p){this.u.append(c,p)},r.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],p=this.h.entries();for(var _=p.next();!_.done;)_=_.value,c.push(_[0]+": "+_[1]),_=p.next();return c.join(`\r
`)};function Kn(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Si.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function To(c){let p="";return we(c,function(_,A){p+=A,p+=":",p+=_,p+=`\r
`}),p}function It(c,p,_){e:{for(A in _){var A=!1;break e}A=!0}A||(_=To(_),typeof c=="string"?_!=null&&encodeURIComponent(String(_)):Ke(c,p,_))}function He(c){at.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}L(He,at);var Ws=/^https?$/i,as=["POST","PUT"];r=He.prototype,r.Ha=function(c){this.J=c},r.ea=function(c,p,_,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);p=p?p.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Bn.g(),this.v=this.o?oo(this.o):oo(Bn),this.g.onreadystatechange=C(this.Ea,this);try{this.B=!0,this.g.open(p,String(c),!0),this.B=!1}catch(G){au(this,G);return}if(c=_||"",_=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var U in A)_.set(U,A[U]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const G of A.keys())_.set(G,A.get(G));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(_.keys()).find(G=>G.toLowerCase()=="content-type"),U=m.FormData&&c instanceof m.FormData,!(0<=Array.prototype.indexOf.call(as,p,void 0))||A||U||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[G,re]of _)this.g.setRequestHeader(G,re);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{os(this),this.u=!0,this.g.send(c),this.u=!1}catch(G){au(this,G)}};function au(c,p){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=p,c.m=5,Js(c),Yn(c)}function Js(c){c.A||(c.A=!0,Fe(c,"complete"),Fe(c,"error"))}r.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Fe(this,"complete"),Fe(this,"abort"),Yn(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Yn(this,!0)),He.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?ea(this):this.bb())},r.bb=function(){ea(this)};function ea(c){if(c.h&&typeof f<"u"&&(!c.v[1]||vn(c)!=4||c.Z()!=2)){if(c.u&&vn(c)==4)qt(c.Ea,0,c);else if(Fe(c,"readystatechange"),vn(c)==4){c.h=!1;try{const re=c.Z();e:switch(re){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var p=!0;break e;default:p=!1}var _;if(!(_=p)){var A;if(A=re===0){var U=String(c.D).match(es)[1]||null;!U&&m.self&&m.self.location&&(U=m.self.location.protocol.slice(0,-1)),A=!Ws.test(U?U.toLowerCase():"")}_=A}if(_)Fe(c,"complete"),Fe(c,"success");else{c.m=6;try{var G=2<vn(c)?c.g.statusText:""}catch{G=""}c.l=G+" ["+c.Z()+"]",Js(c)}}finally{Yn(c)}}}}function Yn(c,p){if(c.g){os(c);const _=c.g,A=c.v[0]?()=>{}:null;c.g=null,c.v=null,p||Fe(c,"ready");try{_.onreadystatechange=A}catch{}}}function os(c){c.I&&(m.clearTimeout(c.I),c.I=null)}r.isActive=function(){return!!this.g};function vn(c){return c.g?c.g.readyState:0}r.Z=function(){try{return 2<vn(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(c){if(this.g){var p=this.g.responseText;return c&&p.indexOf(c)==0&&(p=p.substring(c.length)),Fs(p)}};function ou(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Nh(c){const p={};c=(c.g&&2<=vn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<c.length;A++){if(se(c[A]))continue;var _=x(c[A]);const U=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const G=p[U]||[];p[U]=G,G.push(_)}M(p,function(A){return A.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ls(c,p,_){return _&&_.internalChannelParams&&_.internalChannelParams[c]||p}function ta(c){this.Aa=0,this.i=[],this.j=new pn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ls("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ls("baseRetryDelayMs",5e3,c),this.cb=ls("retryDelaySeedMs",1e4,c),this.Wa=ls("forwardChannelMaxRetries",2,c),this.wa=ls("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new _i(c&&c.concurrentRequestLimit),this.Da=new ss,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=ta.prototype,r.la=8,r.G=1,r.connect=function(c,p,_,A){et(0),this.W=c,this.H=p||{},_&&A!==void 0&&(this.H.OSID=_,this.H.OAID=A),this.F=this.X,this.I=mu(this,null,this.W),ia(this)};function Ao(c){if(lu(c),c.G==3){var p=c.U++,_=an(c.I);if(Ke(_,"SID",c.K),Ke(_,"RID",p),Ke(_,"TYPE","terminate"),us(c,_),p=new $t(c,c.j,p),p.L=2,p.v=ns(an(_)),_=!1,m.navigator&&m.navigator.sendBeacon)try{_=m.navigator.sendBeacon(p.v.toString(),"")}catch{}!_&&m.Image&&(new Image().src=p.v,_=!0),_||(p.g=pu(p.j,null),p.g.ea(p.v)),p.F=Date.now(),Wr(p)}du(c)}function na(c){c.g&&(cs(c),c.g.cancel(),c.g=null)}function lu(c){na(c),c.u&&(m.clearTimeout(c.u),c.u=null),ra(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&m.clearTimeout(c.s),c.s=null)}function ia(c){if(!Ks(c.h)&&!c.s){c.s=!0;var p=c.Ga;ae||D(),de||(ae(),de=!0),je.add(p,c),c.B=0}}function Oh(c,p){return Ys(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=p.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=mt(C(c.Ga,c,p),wo(c,c.B)),c.B++,!0)}r.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const U=new $t(this,this.j,c);let G=this.o;if(this.S&&(G?(G=S(G),N(G,this.S)):G=this.S),this.m!==null||this.O||(U.H=G,G=null),this.P)e:{for(var p=0,_=0;_<this.i.length;_++){t:{var A=this.i[_];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(p+=A,4096<p){p=_;break e}if(p===4096||_===this.i.length-1){p=_+1;break e}}p=1e3}else p=1e3;p=uu(this,U,p),_=an(this.I),Ke(_,"RID",c),Ke(_,"CVER",22),this.D&&Ke(_,"X-HTTP-Session-Id",this.D),us(this,_),G&&(this.O?p="headers="+encodeURIComponent(String(To(G)))+"&"+p:this.m&&It(_,this.m,G)),Xs(this.h,U),this.Ua&&Ke(_,"TYPE","init"),this.P?(Ke(_,"$req",p),Ke(_,"SID","null"),U.T=!0,On(U,_,null)):On(U,_,p),this.G=2}}else this.G==3&&(c?So(this,c):this.i.length==0||Ks(this.h)||So(this))};function So(c,p){var _;p?_=p.l:_=c.U++;const A=an(c.I);Ke(A,"SID",c.K),Ke(A,"RID",_),Ke(A,"AID",c.T),us(c,A),c.m&&c.o&&It(A,c.m,c.o),_=new $t(c,c.j,_,c.B+1),c.m===null&&(_.H=c.o),p&&(c.i=p.D.concat(c.i)),p=uu(c,_,1e3),_.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),Xs(c.h,_),On(_,A,p)}function us(c,p){c.H&&we(c.H,function(_,A){Ke(p,A,_)}),c.l&&go({},function(_,A){Ke(p,A,_)})}function uu(c,p,_){_=Math.min(c.i.length,_);var A=c.l?C(c.l.Na,c.l,c):null;e:{var U=c.i;let G=-1;for(;;){const re=["count="+_];G==-1?0<_?(G=U[0].g,re.push("ofs="+G)):G=0:re.push("ofs="+G);let ke=!0;for(let Et=0;Et<_;Et++){let Pe=U[Et].g;const Dt=U[Et].map;if(Pe-=G,0>Pe)G=Math.max(0,U[Et].g-100),ke=!1;else try{Gn(Dt,re,"req"+Pe+"_")}catch{A&&A(Dt)}}if(ke){A=re.join("&");break e}}}return c=c.i.splice(0,_),p.D=c,A}function cu(c){if(!c.g&&!c.u){c.Y=1;var p=c.Fa;ae||D(),de||(ae(),de=!0),je.add(p,c),c.v=0}}function bo(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=mt(C(c.Fa,c),wo(c,c.v)),c.v++,!0)}r.Fa=function(){if(this.u=null,hu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=mt(C(this.ab,this),c)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,et(10),na(this),hu(this))};function cs(c){c.A!=null&&(m.clearTimeout(c.A),c.A=null)}function hu(c){c.g=new $t(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var p=an(c.qa);Ke(p,"RID","rpc"),Ke(p,"SID",c.K),Ke(p,"AID",c.T),Ke(p,"CI",c.F?"0":"1"),!c.F&&c.ja&&Ke(p,"TO",c.ja),Ke(p,"TYPE","xmlhttp"),us(c,p),c.m&&c.o&&It(p,c.m,c.o),c.L&&(c.g.I=c.L);var _=c.g;c=c.ia,_.L=1,_.v=ns(an(p)),_.m=null,_.P=!0,yi(_,c)}r.Za=function(){this.C!=null&&(this.C=null,na(this),bo(this),et(19))};function ra(c){c.C!=null&&(m.clearTimeout(c.C),c.C=null)}function fu(c,p){var _=null;if(c.g==p){ra(c),cs(c),c.g=null;var A=2}else if(mo(c.h,p))_=p.D,Zt(c.h,p),A=1;else return;if(c.G!=0){if(p.o)if(A==1){_=p.m?p.m.length:0,p=Date.now()-p.F;var U=c.B;A=Zi(),Fe(A,new vt(A,_)),ia(c)}else cu(c);else if(U=p.s,U==3||U==0&&0<p.X||!(A==1&&Oh(c,p)||A==2&&bo(c)))switch(_&&0<_.length&&(p=c.h,p.i=p.i.concat(_)),U){case 1:bi(c,5);break;case 4:bi(c,10);break;case 3:bi(c,6);break;default:bi(c,2)}}}function wo(c,p){let _=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(_*=2),_*p}function bi(c,p){if(c.j.info("Error code "+p),p==2){var _=C(c.fb,c),A=c.Xa;const U=!A;A=new pt(A||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||ts(A,"https"),ns(A),U?rs(A.toString(),_):Mn(A.toString(),_)}else et(2);c.G=0,c.l&&c.l.sa(p),du(c),lu(c)}r.fb=function(c){c?(this.j.info("Successfully pinged google.com"),et(2)):(this.j.info("Failed to ping google.com"),et(1))};function du(c){if(c.G=0,c.ka=[],c.l){const p=po(c.h);(p.length!=0||c.i.length!=0)&&(F(c.ka,p),F(c.ka,c.i),c.h.i.length=0,Z(c.i),c.i.length=0),c.l.ra()}}function mu(c,p,_){var A=_ instanceof pt?an(_):new pt(_);if(A.g!="")p&&(A.g=p+"."+A.g),nr(A,A.s);else{var U=m.location;A=U.protocol,p=p?p+"."+U.hostname:U.hostname,U=+U.port;var G=new pt(null);A&&ts(G,A),p&&(G.g=p),U&&nr(G,U),_&&(G.l=_),A=G}return _=c.D,p=c.ya,_&&p&&Ke(A,_,p),Ke(A,"VER",c.la),us(c,A),A}function pu(c,p,_){if(p&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return p=c.Ca&&!c.pa?new He(new ir({eb:_})):new He(c.pa),p.Ha(c.J),p}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function gu(){}r=gu.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function sa(){}sa.prototype.g=function(c,p){return new Wt(c,p)};function Wt(c,p){at.call(this),this.g=new ta(p),this.l=c,this.h=p&&p.messageUrlParams||null,c=p&&p.messageHeaders||null,p&&p.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=p&&p.initMessageHeaders||null,p&&p.messageContentType&&(c?c["X-WebChannel-Content-Type"]=p.messageContentType:c={"X-WebChannel-Content-Type":p.messageContentType}),p&&p.va&&(c?c["X-WebChannel-Client-Profile"]=p.va:c={"X-WebChannel-Client-Profile":p.va}),this.g.S=c,(c=p&&p.Sb)&&!se(c)&&(this.g.m=c),this.v=p&&p.supportsCrossDomainXhr||!1,this.u=p&&p.sendRawJson||!1,(p=p&&p.httpSessionIdParam)&&!se(p)&&(this.g.D=p,c=this.h,c!==null&&p in c&&(c=this.h,p in c&&delete c[p])),this.j=new Xn(this)}L(Wt,at),Wt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Wt.prototype.close=function(){Ao(this.g)},Wt.prototype.o=function(c){var p=this.g;if(typeof c=="string"){var _={};_.__data__=c,c=_}else this.u&&(_={},_.__data__=Nn(c),c=_);p.i.push(new iu(p.Ya++,c)),p.G==3&&ia(p)},Wt.prototype.N=function(){this.g.l=null,delete this.j,Ao(this.g),delete this.g,Wt.aa.N.call(this)};function yu(c){pi.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var p=c.__sm__;if(p){e:{for(const _ in p){c=_;break e}c=void 0}(this.i=c)&&(c=this.i,p=p!==null&&c in p?p[c]:void 0),this.data=p}else this.data=c}L(yu,pi);function _u(){uo.call(this),this.status=1}L(_u,uo);function Xn(c){this.g=c}L(Xn,gu),Xn.prototype.ua=function(){Fe(this.g,"a")},Xn.prototype.ta=function(c){Fe(this.g,new yu(c))},Xn.prototype.sa=function(c){Fe(this.g,new _u)},Xn.prototype.ra=function(){Fe(this.g,"b")},sa.prototype.createWebChannel=sa.prototype.g,Wt.prototype.send=Wt.prototype.o,Wt.prototype.open=Wt.prototype.m,Wt.prototype.close=Wt.prototype.close,T0=function(){return new sa},E0=function(){return Zi()},v0=jn,Wd={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},er.NO_ERROR=0,er.TIMEOUT=8,er.HTTP_ERROR=6,Mc=er,gi.COMPLETE="complete",_0=gi,lo.EventType=mi,mi.OPEN="a",mi.CLOSE="b",mi.ERROR="c",mi.MESSAGE="d",at.prototype.listen=at.prototype.K,gl=lo,He.prototype.listenOnce=He.prototype.L,He.prototype.getLastError=He.prototype.Ka,He.prototype.getLastErrorCode=He.prototype.Ba,He.prototype.getStatus=He.prototype.Z,He.prototype.getResponseJson=He.prototype.Oa,He.prototype.getResponseText=He.prototype.oa,He.prototype.send=He.prototype.ea,He.prototype.setWithCredentials=He.prototype.Ha,y0=He}).apply(typeof Tc<"u"?Tc:typeof self<"u"?self:typeof window<"u"?window:{});const fv="@firebase/firestore",dv="4.7.10";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Kt.UNAUTHENTICATED=new Kt(null),Kt.GOOGLE_CREDENTIALS=new Kt("google-credentials-uid"),Kt.FIRST_PARTY=new Kt("first-party-uid"),Kt.MOCK_USER=new Kt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ja="11.5.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vs=new Em("@firebase/firestore");function Va(){return Vs.logLevel}function le(r,...e){if(Vs.logLevel<=xe.DEBUG){const n=e.map(Mm);Vs.debug(`Firestore (${Ja}): ${r}`,...n)}}function Ki(r,...e){if(Vs.logLevel<=xe.ERROR){const n=e.map(Mm);Vs.error(`Firestore (${Ja}): ${r}`,...n)}}function qa(r,...e){if(Vs.logLevel<=xe.WARN){const n=e.map(Mm);Vs.warn(`Firestore (${Ja}): ${r}`,...n)}}function Mm(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Te(r="Unexpected state"){const e=`FIRESTORE (${Ja}) INTERNAL ASSERTION FAILED: `+r;throw Ki(e),new Error(e)}function qe(r,e){r||Te()}function be(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ne={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ge extends Xi{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A0{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class dI{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Kt.UNAUTHENTICATED))}shutdown(){}}class mI{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class pI{constructor(e){this.t=e,this.currentUser=Kt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){qe(this.o===void 0);let s=this.i;const o=g=>this.i!==s?(s=this.i,n(g)):Promise.resolve();let u=new kr;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new kr,e.enqueueRetryable(()=>o(this.currentUser))};const f=()=>{const g=u;e.enqueueRetryable(async()=>{await g.promise,await o(this.currentUser)})},m=g=>{le("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit(g=>m(g)),setTimeout(()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?m(g):(le("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new kr)}},0),f()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(s=>this.i!==e?(le("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(qe(typeof s.accessToken=="string"),new A0(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return qe(e===null||typeof e=="string"),new Kt(e)}}class gI{constructor(e,n,s){this.l=e,this.h=n,this.P=s,this.type="FirstParty",this.user=Kt.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class yI{constructor(e,n,s){this.l=e,this.h=n,this.P=s}getToken(){return Promise.resolve(new gI(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Kt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class mv{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class _I{constructor(e,n){this.A=n,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,Cn(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,n){qe(this.o===void 0);const s=u=>{u.error!=null&&le("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.R;return this.R=u.token,le("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>s(u))};const o=u=>{le("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(u=>o(u)),setTimeout(()=>{if(!this.appCheck){const u=this.A.getImmediate({optional:!0});u?o(u):le("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new mv(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(qe(typeof n.token=="string"),this.R=n.token,new mv(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vI(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<r;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S0(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b0{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=vI(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<n&&(s+=e.charAt(o[u]%62))}return s}}function Ie(r,e){return r<e?-1:r>e?1:0}function Jd(r,e){let n=0;for(;n<r.length&&n<e.length;){const s=r.codePointAt(n),o=e.codePointAt(n);if(s!==o){if(s<128&&o<128)return Ie(s,o);{const u=S0(),f=EI(u.encode(pv(r,n)),u.encode(pv(e,n)));return f!==0?f:Ie(s,o)}}n+=s>65535?2:1}return Ie(r.length,e.length)}function pv(r,e){return r.codePointAt(e)>65535?r.substring(e,e+2):r.substring(e,e+1)}function EI(r,e){for(let n=0;n<r.length&&n<e.length;++n)if(r[n]!==e[n])return Ie(r[n],e[n]);return Ie(r.length,e.length)}function Fa(r,e,n){return r.length===e.length&&r.every((s,o)=>n(s,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gv=-62135596800,yv=1e6;class wt{static now(){return wt.fromMillis(Date.now())}static fromDate(e){return wt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*yv);return new wt(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ge(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ge(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<gv)throw new ge(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ge(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/yv}_compareTo(e){return this.seconds===e.seconds?Ie(this.nanoseconds,e.nanoseconds):Ie(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-gv;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Se{static fromTimestamp(e){return new Se(e)}static min(){return new Se(new wt(0,0))}static max(){return new Se(new wt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _v="__name__";class ni{constructor(e,n,s){n===void 0?n=0:n>e.length&&Te(),s===void 0?s=e.length-n:s>e.length-n&&Te(),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return ni.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof ni?e.forEach(s=>{n.push(s)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let o=0;o<s;o++){const u=ni.compareSegments(e.get(o),n.get(o));if(u!==0)return u}return Ie(e.length,n.length)}static compareSegments(e,n){const s=ni.isNumericId(e),o=ni.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?ni.extractNumericId(e).compare(ni.extractNumericId(n)):Jd(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Vr.fromString(e.substring(4,e.length-2))}}class ut extends ni{construct(e,n,s){return new ut(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new ge(ne.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter(o=>o.length>0))}return new ut(n)}static emptyPath(){return new ut([])}}const TI=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Bt extends ni{construct(e,n,s){return new Bt(e,n,s)}static isValidIdentifier(e){return TI.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Bt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===_v}static keyField(){return new Bt([_v])}static fromServerFormat(e){const n=[];let s="",o=0;const u=()=>{if(s.length===0)throw new ge(ne.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let f=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new ge(ne.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const g=e[o+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new ge(ne.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=g,o+=2}else m==="`"?(f=!f,o++):m!=="."||f?(s+=m,o++):(u(),o++)}if(u(),f)throw new ge(ne.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Bt(n)}static emptyPath(){return new Bt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ye{constructor(e){this.path=e}static fromPath(e){return new ye(ut.fromString(e))}static fromName(e){return new ye(ut.fromString(e).popFirst(5))}static empty(){return new ye(ut.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ut.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return ut.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ye(new ut(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Il=-1;function AI(r,e){const n=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=Se.fromTimestamp(s===1e9?new wt(n+1,0):new wt(n,s));return new Pr(o,ye.empty(),e)}function SI(r){return new Pr(r.readTime,r.key,Il)}class Pr{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new Pr(Se.min(),ye.empty(),Il)}static max(){return new Pr(Se.max(),ye.empty(),Il)}}function bI(r,e){let n=r.readTime.compareTo(e.readTime);return n!==0?n:(n=ye.comparator(r.documentKey,e.documentKey),n!==0?n:Ie(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wI="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class RI{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eo(r){if(r.code!==ne.FAILED_PRECONDITION||r.message!==wI)throw r;le("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Te(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new J((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,o)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof J?n:J.resolve(n)}catch(n){return J.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):J.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):J.reject(n)}static resolve(e){return new J((n,s)=>{n(e)})}static reject(e){return new J((n,s)=>{s(e)})}static waitFor(e){return new J((n,s)=>{let o=0,u=0,f=!1;e.forEach(m=>{++o,m.next(()=>{++u,f&&u===o&&n()},g=>s(g))}),f=!0,u===o&&n()})}static or(e){let n=J.resolve(!1);for(const s of e)n=n.next(o=>o?J.resolve(o):s());return n}static forEach(e,n){const s=[];return e.forEach((o,u)=>{s.push(n.call(this,o,u))}),this.waitFor(s)}static mapArray(e,n){return new J((s,o)=>{const u=e.length,f=new Array(u);let m=0;for(let g=0;g<u;g++){const y=g;n(e[y]).next(E=>{f[y]=E,++m,m===u&&s(f)},E=>o(E))}})}static doWhile(e,n){return new J((s,o)=>{const u=()=>{e()===!0?n().next(()=>{u()},o):s()};u()})}}function CI(r){const e=r.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function to(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ch{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.oe(s),this._e=s=>n.writeSequenceNumber(s))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}ch.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xm=-1;function hh(r){return r==null}function Qc(r){return r===0&&1/r==-1/0}function II(r){return typeof r=="number"&&Number.isInteger(r)&&!Qc(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w0="";function DI(r){let e="";for(let n=0;n<r.length;n++)e.length>0&&(e=vv(e)),e=NI(r.get(n),e);return vv(e)}function NI(r,e){let n=e;const s=r.length;for(let o=0;o<s;o++){const u=r.charAt(o);switch(u){case"\0":n+="";break;case w0:n+="";break;default:n+=u}}return n}function vv(r){return r+w0+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ev(r){let e=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e++;return e}function Ls(r,e){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e(n,r[n])}function R0(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rt{constructor(e,n){this.comparator=e,this.root=n||jt.EMPTY}insert(e,n){return new rt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,jt.BLACK,null,null))}remove(e){return new rt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,jt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,s)=>(e(n,s),!1))}toString(){const e=[];return this.inorderTraversal((n,s)=>(e.push(`${n}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ac(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ac(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ac(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ac(this.root,e,this.comparator,!0)}}class Ac{constructor(e,n,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?s(e.key,n):1,n&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class jt{constructor(e,n,s,o,u){this.key=e,this.value=n,this.color=s??jt.RED,this.left=o??jt.EMPTY,this.right=u??jt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,o,u){return new jt(e??this.key,n??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let o=this;const u=s(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,n,s),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return jt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return jt.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,jt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,jt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Te();const e=this.left.check();if(e!==this.right.check())throw Te();return e+(this.isRed()?0:1)}}jt.EMPTY=null,jt.RED=!0,jt.BLACK=!1;jt.EMPTY=new class{constructor(){this.size=0}get key(){throw Te()}get value(){throw Te()}get color(){throw Te()}get left(){throw Te()}get right(){throw Te()}copy(e,n,s,o,u){return this}insert(e,n,s){return new jt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rt{constructor(e){this.comparator=e,this.data=new rt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,s)=>(e(n),!1))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Tv(this.data.getIterator())}getIteratorFrom(e){return new Tv(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(s=>{n=n.add(s)}),n}isEqual(e){if(!(e instanceof Rt)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Rt(this.comparator);return n.data=e,n}}class Tv{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Un{constructor(e){this.fields=e,e.sort(Bt.comparator)}static empty(){return new Un([])}unionWith(e){let n=new Rt(Bt.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new Un(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Fa(this.fields,e.fields,(n,s)=>n.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C0 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ht{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new C0("Invalid base64 string: "+u):u}}(e);return new Ht(n)}static fromUint8Array(e){const n=function(o){let u="";for(let f=0;f<o.length;++f)u+=String.fromCharCode(o[f]);return u}(e);return new Ht(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ie(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ht.EMPTY_BYTE_STRING=new Ht("");const OI=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ur(r){if(qe(!!r),typeof r=="string"){let e=0;const n=OI.exec(r);if(qe(!!n),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:dt(r.seconds),nanos:dt(r.nanos)}}function dt(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Lr(r){return typeof r=="string"?Ht.fromBase64String(r):Ht.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I0="server_timestamp",D0="__type__",N0="__previous_value__",O0="__local_write_time__";function Vm(r){var e,n;return((n=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{})[D0])===null||n===void 0?void 0:n.stringValue)===I0}function fh(r){const e=r.mapValue.fields[N0];return Vm(e)?fh(e):e}function Dl(r){const e=Ur(r.mapValue.fields[O0].timestampValue);return new wt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MI{constructor(e,n,s,o,u,f,m,g,y){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=m,this.longPollingOptions=g,this.useFetchStreams=y}}const Kc="(default)";class Nl{constructor(e,n){this.projectId=e,this.database=n||Kc}static empty(){return new Nl("","")}get isDefaultDatabase(){return this.database===Kc}isEqual(e){return e instanceof Nl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M0="__type__",xI="__max__",Sc={mapValue:{}},x0="__vector__",Yc="value";function zr(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Vm(r)?4:kI(r)?9007199254740991:VI(r)?10:11:Te()}function ui(r,e){if(r===e)return!0;const n=zr(r);if(n!==zr(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return Dl(r).isEqual(Dl(e));case 3:return function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const f=Ur(o.timestampValue),m=Ur(u.timestampValue);return f.seconds===m.seconds&&f.nanos===m.nanos}(r,e);case 5:return r.stringValue===e.stringValue;case 6:return function(o,u){return Lr(o.bytesValue).isEqual(Lr(u.bytesValue))}(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return function(o,u){return dt(o.geoPointValue.latitude)===dt(u.geoPointValue.latitude)&&dt(o.geoPointValue.longitude)===dt(u.geoPointValue.longitude)}(r,e);case 2:return function(o,u){if("integerValue"in o&&"integerValue"in u)return dt(o.integerValue)===dt(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const f=dt(o.doubleValue),m=dt(u.doubleValue);return f===m?Qc(f)===Qc(m):isNaN(f)&&isNaN(m)}return!1}(r,e);case 9:return Fa(r.arrayValue.values||[],e.arrayValue.values||[],ui);case 10:case 11:return function(o,u){const f=o.mapValue.fields||{},m=u.mapValue.fields||{};if(Ev(f)!==Ev(m))return!1;for(const g in f)if(f.hasOwnProperty(g)&&(m[g]===void 0||!ui(f[g],m[g])))return!1;return!0}(r,e);default:return Te()}}function Ol(r,e){return(r.values||[]).find(n=>ui(n,e))!==void 0}function Ga(r,e){if(r===e)return 0;const n=zr(r),s=zr(e);if(n!==s)return Ie(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ie(r.booleanValue,e.booleanValue);case 2:return function(u,f){const m=dt(u.integerValue||u.doubleValue),g=dt(f.integerValue||f.doubleValue);return m<g?-1:m>g?1:m===g?0:isNaN(m)?isNaN(g)?0:-1:1}(r,e);case 3:return Av(r.timestampValue,e.timestampValue);case 4:return Av(Dl(r),Dl(e));case 5:return Jd(r.stringValue,e.stringValue);case 6:return function(u,f){const m=Lr(u),g=Lr(f);return m.compareTo(g)}(r.bytesValue,e.bytesValue);case 7:return function(u,f){const m=u.split("/"),g=f.split("/");for(let y=0;y<m.length&&y<g.length;y++){const E=Ie(m[y],g[y]);if(E!==0)return E}return Ie(m.length,g.length)}(r.referenceValue,e.referenceValue);case 8:return function(u,f){const m=Ie(dt(u.latitude),dt(f.latitude));return m!==0?m:Ie(dt(u.longitude),dt(f.longitude))}(r.geoPointValue,e.geoPointValue);case 9:return Sv(r.arrayValue,e.arrayValue);case 10:return function(u,f){var m,g,y,E;const b=u.fields||{},C=f.fields||{},P=(m=b[Yc])===null||m===void 0?void 0:m.arrayValue,L=(g=C[Yc])===null||g===void 0?void 0:g.arrayValue,Z=Ie(((y=P==null?void 0:P.values)===null||y===void 0?void 0:y.length)||0,((E=L==null?void 0:L.values)===null||E===void 0?void 0:E.length)||0);return Z!==0?Z:Sv(P,L)}(r.mapValue,e.mapValue);case 11:return function(u,f){if(u===Sc.mapValue&&f===Sc.mapValue)return 0;if(u===Sc.mapValue)return 1;if(f===Sc.mapValue)return-1;const m=u.fields||{},g=Object.keys(m),y=f.fields||{},E=Object.keys(y);g.sort(),E.sort();for(let b=0;b<g.length&&b<E.length;++b){const C=Jd(g[b],E[b]);if(C!==0)return C;const P=Ga(m[g[b]],y[E[b]]);if(P!==0)return P}return Ie(g.length,E.length)}(r.mapValue,e.mapValue);default:throw Te()}}function Av(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Ie(r,e);const n=Ur(r),s=Ur(e),o=Ie(n.seconds,s.seconds);return o!==0?o:Ie(n.nanos,s.nanos)}function Sv(r,e){const n=r.values||[],s=e.values||[];for(let o=0;o<n.length&&o<s.length;++o){const u=Ga(n[o],s[o]);if(u)return u}return Ie(n.length,s.length)}function Qa(r){return em(r)}function em(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(n){const s=Ur(n);return`time(${s.seconds},${s.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?function(n){return Lr(n).toBase64()}(r.bytesValue):"referenceValue"in r?function(n){return ye.fromName(n).toString()}(r.referenceValue):"geoPointValue"in r?function(n){return`geo(${n.latitude},${n.longitude})`}(r.geoPointValue):"arrayValue"in r?function(n){let s="[",o=!0;for(const u of n.values||[])o?o=!1:s+=",",s+=em(u);return s+"]"}(r.arrayValue):"mapValue"in r?function(n){const s=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const f of s)u?u=!1:o+=",",o+=`${f}:${em(n.fields[f])}`;return o+"}"}(r.mapValue):Te()}function xc(r){switch(zr(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=fh(r);return e?16+xc(e):16;case 5:return 2*r.stringValue.length;case 6:return Lr(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((o,u)=>o+xc(u),0)}(r.arrayValue);case 10:case 11:return function(s){let o=0;return Ls(s.fields,(u,f)=>{o+=u.length+xc(f)}),o}(r.mapValue);default:throw Te()}}function tm(r){return!!r&&"integerValue"in r}function km(r){return!!r&&"arrayValue"in r}function bv(r){return!!r&&"nullValue"in r}function wv(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Vc(r){return!!r&&"mapValue"in r}function VI(r){var e,n;return((n=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{})[M0])===null||n===void 0?void 0:n.stringValue)===x0}function El(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const e={mapValue:{fields:{}}};return Ls(r.mapValue.fields,(n,s)=>e.mapValue.fields[n]=El(s)),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=El(r.arrayValue.values[n]);return e}return Object.assign({},r)}function kI(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===xI}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class In{constructor(e){this.value=e}static empty(){return new In({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!Vc(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=El(n)}setAll(e){let n=Bt.emptyPath(),s={},o=[];e.forEach((f,m)=>{if(!n.isImmediateParentOf(m)){const g=this.getFieldsMap(n);this.applyChanges(g,s,o),s={},o=[],n=m.popLast()}f?s[m.lastSegment()]=El(f):o.push(m.lastSegment())});const u=this.getFieldsMap(n);this.applyChanges(u,s,o)}delete(e){const n=this.field(e.popLast());Vc(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return ui(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=n.mapValue.fields[e.get(s)];Vc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,s){Ls(n,(o,u)=>e[o]=u);for(const o of s)delete e[o]}clone(){return new In(El(this.value))}}function V0(r){const e=[];return Ls(r.fields,(n,s)=>{const o=new Bt([n]);if(Vc(s)){const u=V0(s.mapValue).fields;if(u.length===0)e.push(o);else for(const f of u)e.push(o.child(f))}else e.push(o)}),new Un(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yt{constructor(e,n,s,o,u,f,m){this.key=e,this.documentType=n,this.version=s,this.readTime=o,this.createTime=u,this.data=f,this.documentState=m}static newInvalidDocument(e){return new Yt(e,0,Se.min(),Se.min(),Se.min(),In.empty(),0)}static newFoundDocument(e,n,s,o){return new Yt(e,1,n,Se.min(),s,o,0)}static newNoDocument(e,n){return new Yt(e,2,n,Se.min(),Se.min(),In.empty(),0)}static newUnknownDocument(e,n){return new Yt(e,3,n,Se.min(),Se.min(),In.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Se.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=In.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=In.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Se.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Yt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Yt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xc{constructor(e,n){this.position=e,this.inclusive=n}}function Rv(r,e,n){let s=0;for(let o=0;o<r.position.length;o++){const u=e[o],f=r.position[o];if(u.field.isKeyField()?s=ye.comparator(ye.fromName(f.referenceValue),n.key):s=Ga(f,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function Cv(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!ui(r.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $c{constructor(e,n="asc"){this.field=e,this.dir=n}}function PI(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k0{}class bt extends k0{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new LI(e,n,s):n==="array-contains"?new BI(e,s):n==="in"?new HI(e,s):n==="not-in"?new qI(e,s):n==="array-contains-any"?new FI(e,s):new bt(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new zI(e,s):new jI(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Ga(n,this.value)):n!==null&&zr(this.value)===zr(n)&&this.matchesComparison(Ga(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Te()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ci extends k0{constructor(e,n){super(),this.filters=e,this.op=n,this.ce=null}static create(e,n){return new ci(e,n)}matches(e){return P0(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function P0(r){return r.op==="and"}function U0(r){return UI(r)&&P0(r)}function UI(r){for(const e of r.filters)if(e instanceof ci)return!1;return!0}function nm(r){if(r instanceof bt)return r.field.canonicalString()+r.op.toString()+Qa(r.value);if(U0(r))return r.filters.map(e=>nm(e)).join(",");{const e=r.filters.map(n=>nm(n)).join(",");return`${r.op}(${e})`}}function L0(r,e){return r instanceof bt?function(s,o){return o instanceof bt&&s.op===o.op&&s.field.isEqual(o.field)&&ui(s.value,o.value)}(r,e):r instanceof ci?function(s,o){return o instanceof ci&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce((u,f,m)=>u&&L0(f,o.filters[m]),!0):!1}(r,e):void Te()}function z0(r){return r instanceof bt?function(n){return`${n.field.canonicalString()} ${n.op} ${Qa(n.value)}`}(r):r instanceof ci?function(n){return n.op.toString()+" {"+n.getFilters().map(z0).join(" ,")+"}"}(r):"Filter"}class LI extends bt{constructor(e,n,s){super(e,n,s),this.key=ye.fromName(s.referenceValue)}matches(e){const n=ye.comparator(e.key,this.key);return this.matchesComparison(n)}}class zI extends bt{constructor(e,n){super(e,"in",n),this.keys=j0("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class jI extends bt{constructor(e,n){super(e,"not-in",n),this.keys=j0("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function j0(r,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(s=>ye.fromName(s.referenceValue))}class BI extends bt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return km(n)&&Ol(n.arrayValue,this.value)}}class HI extends bt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Ol(this.value.arrayValue,n)}}class qI extends bt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Ol(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Ol(this.value.arrayValue,n)}}class FI extends bt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!km(n)||!n.arrayValue.values)&&n.arrayValue.values.some(s=>Ol(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GI{constructor(e,n=null,s=[],o=[],u=null,f=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=f,this.endAt=m,this.le=null}}function Iv(r,e=null,n=[],s=[],o=null,u=null,f=null){return new GI(r,e,n,s,o,u,f)}function Pm(r){const e=be(r);if(e.le===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(s=>nm(s)).join(","),n+="|ob:",n+=e.orderBy.map(s=>function(u){return u.field.canonicalString()+u.dir}(s)).join(","),hh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(s=>Qa(s)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(s=>Qa(s)).join(",")),e.le=n}return e.le}function Um(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!PI(r.orderBy[n],e.orderBy[n]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!L0(r.filters[n],e.filters[n]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!Cv(r.startAt,e.startAt)&&Cv(r.endAt,e.endAt)}function im(r){return ye.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dh{constructor(e,n=null,s=[],o=[],u=null,f="F",m=null,g=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=f,this.startAt=m,this.endAt=g,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function QI(r,e,n,s,o,u,f,m){return new dh(r,e,n,s,o,u,f,m)}function Lm(r){return new dh(r)}function Dv(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function KI(r){return r.collectionGroup!==null}function Tl(r){const e=be(r);if(e.he===null){e.he=[];const n=new Set;for(const u of e.explicitOrderBy)e.he.push(u),n.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let m=new Rt(Bt.comparator);return f.filters.forEach(g=>{g.getFlattenedFilters().forEach(y=>{y.isInequality()&&(m=m.add(y.field))})}),m})(e).forEach(u=>{n.has(u.canonicalString())||u.isKeyField()||e.he.push(new $c(u,s))}),n.has(Bt.keyField().canonicalString())||e.he.push(new $c(Bt.keyField(),s))}return e.he}function ri(r){const e=be(r);return e.Pe||(e.Pe=YI(e,Tl(r))),e.Pe}function YI(r,e){if(r.limitType==="F")return Iv(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map(o=>{const u=o.dir==="desc"?"asc":"desc";return new $c(o.field,u)});const n=r.endAt?new Xc(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new Xc(r.startAt.position,r.startAt.inclusive):null;return Iv(r.path,r.collectionGroup,e,r.filters,r.limit,n,s)}}function rm(r,e,n){return new dh(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,n,r.startAt,r.endAt)}function mh(r,e){return Um(ri(r),ri(e))&&r.limitType===e.limitType}function B0(r){return`${Pm(ri(r))}|lt:${r.limitType}`}function ka(r){return`Query(target=${function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map(o=>z0(o)).join(", ")}]`),hh(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map(o=>function(f){return`${f.field.canonicalString()} (${f.dir})`}(o)).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map(o=>Qa(o)).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map(o=>Qa(o)).join(",")),`Target(${s})`}(ri(r))}; limitType=${r.limitType})`}function ph(r,e){return e.isFoundDocument()&&function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):ye.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)}(r,e)&&function(s,o){for(const u of Tl(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0}(r,e)&&function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0}(r,e)&&function(s,o){return!(s.startAt&&!function(f,m,g){const y=Rv(f,m,g);return f.inclusive?y<=0:y<0}(s.startAt,Tl(s),o)||s.endAt&&!function(f,m,g){const y=Rv(f,m,g);return f.inclusive?y>=0:y>0}(s.endAt,Tl(s),o))}(r,e)}function XI(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function H0(r){return(e,n)=>{let s=!1;for(const o of Tl(r)){const u=$I(o,e,n);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function $I(r,e,n){const s=r.field.isKeyField()?ye.comparator(e.key,n.key):function(u,f,m){const g=f.data.field(u),y=m.data.field(u);return g!==null&&y!==null?Ga(g,y):Te()}(r.field,e,n);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return Te()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zs{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Ls(this.inner,(n,s)=>{for(const[o,u]of s)e(o,u)})}isEmpty(){return R0(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZI=new rt(ye.comparator);function Yi(){return ZI}const q0=new rt(ye.comparator);function yl(...r){let e=q0;for(const n of r)e=e.insert(n.key,n);return e}function F0(r){let e=q0;return r.forEach((n,s)=>e=e.insert(n,s.overlayedDocument)),e}function Ds(){return Al()}function G0(){return Al()}function Al(){return new zs(r=>r.toString(),(r,e)=>r.isEqual(e))}const WI=new rt(ye.comparator),JI=new Rt(ye.comparator);function Ve(...r){let e=JI;for(const n of r)e=e.add(n);return e}const e2=new Rt(Ie);function t2(){return e2}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zm(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Qc(e)?"-0":e}}function Q0(r){return{integerValue:""+r}}function n2(r,e){return II(e)?Q0(e):zm(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gh{constructor(){this._=void 0}}function i2(r,e,n){return r instanceof Zc?function(o,u){const f={fields:{[D0]:{stringValue:I0},[O0]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&Vm(u)&&(u=fh(u)),u&&(f.fields[N0]=u),{mapValue:f}}(n,e):r instanceof Ml?Y0(r,e):r instanceof xl?X0(r,e):function(o,u){const f=K0(o,u),m=Nv(f)+Nv(o.Ie);return tm(f)&&tm(o.Ie)?Q0(m):zm(o.serializer,m)}(r,e)}function r2(r,e,n){return r instanceof Ml?Y0(r,e):r instanceof xl?X0(r,e):n}function K0(r,e){return r instanceof Wc?function(s){return tm(s)||function(u){return!!u&&"doubleValue"in u}(s)}(e)?e:{integerValue:0}:null}class Zc extends gh{}class Ml extends gh{constructor(e){super(),this.elements=e}}function Y0(r,e){const n=$0(e);for(const s of r.elements)n.some(o=>ui(o,s))||n.push(s);return{arrayValue:{values:n}}}class xl extends gh{constructor(e){super(),this.elements=e}}function X0(r,e){let n=$0(e);for(const s of r.elements)n=n.filter(o=>!ui(o,s));return{arrayValue:{values:n}}}class Wc extends gh{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function Nv(r){return dt(r.integerValue||r.doubleValue)}function $0(r){return km(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function s2(r,e){return r.field.isEqual(e.field)&&function(s,o){return s instanceof Ml&&o instanceof Ml||s instanceof xl&&o instanceof xl?Fa(s.elements,o.elements,ui):s instanceof Wc&&o instanceof Wc?ui(s.Ie,o.Ie):s instanceof Zc&&o instanceof Zc}(r.transform,e.transform)}class a2{constructor(e,n){this.version=e,this.transformResults=n}}class qi{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new qi}static exists(e){return new qi(void 0,e)}static updateTime(e){return new qi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function kc(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class yh{}function Z0(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new J0(r.key,qi.none()):new Gl(r.key,r.data,qi.none());{const n=r.data,s=In.empty();let o=new Rt(Bt.comparator);for(let u of e.fields)if(!o.has(u)){let f=n.field(u);f===null&&u.length>1&&(u=u.popLast(),f=n.field(u)),f===null?s.delete(u):s.set(u,f),o=o.add(u)}return new js(r.key,s,new Un(o.toArray()),qi.none())}}function o2(r,e,n){r instanceof Gl?function(o,u,f){const m=o.value.clone(),g=Mv(o.fieldTransforms,u,f.transformResults);m.setAll(g),u.convertToFoundDocument(f.version,m).setHasCommittedMutations()}(r,e,n):r instanceof js?function(o,u,f){if(!kc(o.precondition,u))return void u.convertToUnknownDocument(f.version);const m=Mv(o.fieldTransforms,u,f.transformResults),g=u.data;g.setAll(W0(o)),g.setAll(m),u.convertToFoundDocument(f.version,g).setHasCommittedMutations()}(r,e,n):function(o,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()}(0,e,n)}function Sl(r,e,n,s){return r instanceof Gl?function(u,f,m,g){if(!kc(u.precondition,f))return m;const y=u.value.clone(),E=xv(u.fieldTransforms,g,f);return y.setAll(E),f.convertToFoundDocument(f.version,y).setHasLocalMutations(),null}(r,e,n,s):r instanceof js?function(u,f,m,g){if(!kc(u.precondition,f))return m;const y=xv(u.fieldTransforms,g,f),E=f.data;return E.setAll(W0(u)),E.setAll(y),f.convertToFoundDocument(f.version,E).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(b=>b.field))}(r,e,n,s):function(u,f,m){return kc(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):m}(r,e,n)}function l2(r,e){let n=null;for(const s of r.fieldTransforms){const o=e.data.field(s.field),u=K0(s.transform,o||null);u!=null&&(n===null&&(n=In.empty()),n.set(s.field,u))}return n||null}function Ov(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&Fa(s,o,(u,f)=>s2(u,f))}(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class Gl extends yh{constructor(e,n,s,o=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class js extends yh{constructor(e,n,s,o,u=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function W0(r){const e=new Map;return r.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const s=r.data.field(n);e.set(n,s)}}),e}function Mv(r,e,n){const s=new Map;qe(r.length===n.length);for(let o=0;o<n.length;o++){const u=r[o],f=u.transform,m=e.data.field(u.field);s.set(u.field,r2(f,m,n[o]))}return s}function xv(r,e,n){const s=new Map;for(const o of r){const u=o.transform,f=n.data.field(o.field);s.set(o.field,i2(u,f,e))}return s}class J0 extends yh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class u2 extends yh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c2{constructor(e,n,s,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&o2(u,e,s[o])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=Sl(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=Sl(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=G0();return this.mutations.forEach(o=>{const u=e.get(o.key),f=u.overlayedDocument;let m=this.applyToLocalView(f,u.mutatedFields);m=n.has(o.key)?null:m;const g=Z0(f,m);g!==null&&s.set(o.key,g),f.isValidDocument()||f.convertToNoDocument(Se.min())}),s}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Ve())}isEqual(e){return this.batchId===e.batchId&&Fa(this.mutations,e.mutations,(n,s)=>Ov(n,s))&&Fa(this.baseMutations,e.baseMutations,(n,s)=>Ov(n,s))}}class jm{constructor(e,n,s,o){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(e,n,s){qe(e.mutations.length===s.length);let o=function(){return WI}();const u=e.mutations;for(let f=0;f<u.length;f++)o=o.insert(u[f].key,s[f].version);return new jm(e,n,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h2{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f2{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _t,Le;function d2(r){switch(r){case ne.OK:return Te();case ne.CANCELLED:case ne.UNKNOWN:case ne.DEADLINE_EXCEEDED:case ne.RESOURCE_EXHAUSTED:case ne.INTERNAL:case ne.UNAVAILABLE:case ne.UNAUTHENTICATED:return!1;case ne.INVALID_ARGUMENT:case ne.NOT_FOUND:case ne.ALREADY_EXISTS:case ne.PERMISSION_DENIED:case ne.FAILED_PRECONDITION:case ne.ABORTED:case ne.OUT_OF_RANGE:case ne.UNIMPLEMENTED:case ne.DATA_LOSS:return!0;default:return Te()}}function eT(r){if(r===void 0)return Ki("GRPC error has no .code"),ne.UNKNOWN;switch(r){case _t.OK:return ne.OK;case _t.CANCELLED:return ne.CANCELLED;case _t.UNKNOWN:return ne.UNKNOWN;case _t.DEADLINE_EXCEEDED:return ne.DEADLINE_EXCEEDED;case _t.RESOURCE_EXHAUSTED:return ne.RESOURCE_EXHAUSTED;case _t.INTERNAL:return ne.INTERNAL;case _t.UNAVAILABLE:return ne.UNAVAILABLE;case _t.UNAUTHENTICATED:return ne.UNAUTHENTICATED;case _t.INVALID_ARGUMENT:return ne.INVALID_ARGUMENT;case _t.NOT_FOUND:return ne.NOT_FOUND;case _t.ALREADY_EXISTS:return ne.ALREADY_EXISTS;case _t.PERMISSION_DENIED:return ne.PERMISSION_DENIED;case _t.FAILED_PRECONDITION:return ne.FAILED_PRECONDITION;case _t.ABORTED:return ne.ABORTED;case _t.OUT_OF_RANGE:return ne.OUT_OF_RANGE;case _t.UNIMPLEMENTED:return ne.UNIMPLEMENTED;case _t.DATA_LOSS:return ne.DATA_LOSS;default:return Te()}}(Le=_t||(_t={}))[Le.OK=0]="OK",Le[Le.CANCELLED=1]="CANCELLED",Le[Le.UNKNOWN=2]="UNKNOWN",Le[Le.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Le[Le.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Le[Le.NOT_FOUND=5]="NOT_FOUND",Le[Le.ALREADY_EXISTS=6]="ALREADY_EXISTS",Le[Le.PERMISSION_DENIED=7]="PERMISSION_DENIED",Le[Le.UNAUTHENTICATED=16]="UNAUTHENTICATED",Le[Le.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Le[Le.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Le[Le.ABORTED=10]="ABORTED",Le[Le.OUT_OF_RANGE=11]="OUT_OF_RANGE",Le[Le.UNIMPLEMENTED=12]="UNIMPLEMENTED",Le[Le.INTERNAL=13]="INTERNAL",Le[Le.UNAVAILABLE=14]="UNAVAILABLE",Le[Le.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m2=new Vr([4294967295,4294967295],0);function Vv(r){const e=S0().encode(r),n=new g0;return n.update(e),new Uint8Array(n.digest())}function kv(r){const e=new DataView(r.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new Vr([n,s],0),new Vr([o,u],0)]}class Bm{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new _l(`Invalid padding: ${n}`);if(s<0)throw new _l(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new _l(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new _l(`Invalid padding when bitmap length is 0: ${n}`);this.Ee=8*e.length-n,this.de=Vr.fromNumber(this.Ee)}Ae(e,n,s){let o=e.add(n.multiply(Vr.fromNumber(s)));return o.compare(m2)===1&&(o=new Vr([o.getBits(0),o.getBits(1)],0)),o.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const n=Vv(e),[s,o]=kv(n);for(let u=0;u<this.hashCount;u++){const f=this.Ae(s,o,u);if(!this.Re(f))return!1}return!0}static create(e,n,s){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),f=new Bm(u,o,n);return s.forEach(m=>f.insert(m)),f}insert(e){if(this.Ee===0)return;const n=Vv(e),[s,o]=kv(n);for(let u=0;u<this.hashCount;u++){const f=this.Ae(s,o,u);this.Ve(f)}}Ve(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class _l extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _h{constructor(e,n,s,o,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const o=new Map;return o.set(e,Ql.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new _h(Se.min(),o,new rt(Ie),Yi(),Ve())}}class Ql{constructor(e,n,s,o,u){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new Ql(s,n,Ve(),Ve(),Ve())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pc{constructor(e,n,s,o){this.me=e,this.removedTargetIds=n,this.key=s,this.fe=o}}class tT{constructor(e,n){this.targetId=e,this.ge=n}}class nT{constructor(e,n,s=Ht.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=o}}class Pv{constructor(){this.pe=0,this.ye=Uv(),this.we=Ht.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(e){e.approximateByteSize()>0&&(this.be=!0,this.we=e)}Fe(){let e=Ve(),n=Ve(),s=Ve();return this.ye.forEach((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:Te()}}),new Ql(this.we,this.Se,e,n,s)}Me(){this.be=!1,this.ye=Uv()}xe(e,n){this.be=!0,this.ye=this.ye.insert(e,n)}Oe(e){this.be=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,qe(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class p2{constructor(e){this.ke=e,this.qe=new Map,this.Qe=Yi(),this.$e=bc(),this.Ue=bc(),this.Ke=new rt(Ie)}We(e){for(const n of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(n,e.fe):this.ze(n,e.key,e.fe);for(const n of e.removedTargetIds)this.ze(n,e.key,e.fe)}je(e){this.forEachTarget(e,n=>{const s=this.He(n);switch(e.state){case 0:this.Je(n)&&s.Ce(e.resumeToken);break;case 1:s.Be(),s.De||s.Me(),s.Ce(e.resumeToken);break;case 2:s.Be(),s.De||this.removeTarget(n);break;case 3:this.Je(n)&&(s.Le(),s.Ce(e.resumeToken));break;case 4:this.Je(n)&&(this.Ye(n),s.Ce(e.resumeToken));break;default:Te()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.qe.forEach((s,o)=>{this.Je(o)&&n(o)})}Ze(e){const n=e.targetId,s=e.ge.count,o=this.Xe(n);if(o){const u=o.target;if(im(u))if(s===0){const f=new ye(u.path);this.ze(n,f,Yt.newNoDocument(f,Se.min()))}else qe(s===1);else{const f=this.et(n);if(f!==s){const m=this.tt(e),g=m?this.nt(m,e,f):1;if(g!==0){this.Ye(n);const y=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,y)}}}}}tt(e){const n=e.ge.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=n;let f,m;try{f=Lr(s).toUint8Array()}catch(g){if(g instanceof C0)return qa("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{m=new Bm(f,o,u)}catch(g){return qa(g instanceof _l?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return m.Ee===0?null:m}nt(e,n,s){return n.ge.count===s-this.st(e,n.targetId)?0:2}st(e,n){const s=this.ke.getRemoteKeysForTarget(n);let o=0;return s.forEach(u=>{const f=this.ke.it(),m=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;e.mightContain(m)||(this.ze(n,u,null),o++)}),o}ot(e){const n=new Map;this.qe.forEach((u,f)=>{const m=this.Xe(f);if(m){if(u.current&&im(m.target)){const g=new ye(m.target.path);this._t(g).has(f)||this.ut(f,g)||this.ze(f,g,Yt.newNoDocument(g,e))}u.ve&&(n.set(f,u.Fe()),u.Me())}});let s=Ve();this.Ue.forEach((u,f)=>{let m=!0;f.forEachWhile(g=>{const y=this.Xe(g);return!y||y.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)}),m&&(s=s.add(u))}),this.Qe.forEach((u,f)=>f.setReadTime(e));const o=new _h(e,n,this.Ke,this.Qe,s);return this.Qe=Yi(),this.$e=bc(),this.Ue=bc(),this.Ke=new rt(Ie),o}Ge(e,n){if(!this.Je(e))return;const s=this.ut(e,n.key)?2:0;this.He(e).xe(n.key,s),this.Qe=this.Qe.insert(n.key,n),this.$e=this.$e.insert(n.key,this._t(n.key).add(e)),this.Ue=this.Ue.insert(n.key,this.ct(n.key).add(e))}ze(e,n,s){if(!this.Je(e))return;const o=this.He(e);this.ut(e,n)?o.xe(n,1):o.Oe(n),this.Ue=this.Ue.insert(n,this.ct(n).delete(e)),this.Ue=this.Ue.insert(n,this.ct(n).add(e)),s&&(this.Qe=this.Qe.insert(n,s))}removeTarget(e){this.qe.delete(e)}et(e){const n=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let n=this.qe.get(e);return n||(n=new Pv,this.qe.set(e,n)),n}ct(e){let n=this.Ue.get(e);return n||(n=new Rt(Ie),this.Ue=this.Ue.insert(e,n)),n}_t(e){let n=this.$e.get(e);return n||(n=new Rt(Ie),this.$e=this.$e.insert(e,n)),n}Je(e){const n=this.Xe(e)!==null;return n||le("WatchChangeAggregator","Detected inactive target",e),n}Xe(e){const n=this.qe.get(e);return n&&n.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new Pv),this.ke.getRemoteKeysForTarget(e).forEach(n=>{this.ze(e,n,null)})}ut(e,n){return this.ke.getRemoteKeysForTarget(e).has(n)}}function bc(){return new rt(ye.comparator)}function Uv(){return new rt(ye.comparator)}const g2={asc:"ASCENDING",desc:"DESCENDING"},y2={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},_2={and:"AND",or:"OR"};class v2{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function sm(r,e){return r.useProto3Json||hh(e)?e:{value:e}}function Jc(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function iT(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function E2(r,e){return Jc(r,e.toTimestamp())}function si(r){return qe(!!r),Se.fromTimestamp(function(n){const s=Ur(n);return new wt(s.seconds,s.nanos)}(r))}function Hm(r,e){return am(r,e).canonicalString()}function am(r,e){const n=function(o){return new ut(["projects",o.projectId,"databases",o.database])}(r).child("documents");return e===void 0?n:n.child(e)}function rT(r){const e=ut.fromString(r);return qe(uT(e)),e}function om(r,e){return Hm(r.databaseId,e.path)}function Ld(r,e){const n=rT(e);if(n.get(1)!==r.databaseId.projectId)throw new ge(ne.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new ge(ne.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new ye(aT(n))}function sT(r,e){return Hm(r.databaseId,e)}function T2(r){const e=rT(r);return e.length===4?ut.emptyPath():aT(e)}function lm(r){return new ut(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function aT(r){return qe(r.length>4&&r.get(4)==="documents"),r.popFirst(5)}function Lv(r,e,n){return{name:om(r,e),fields:n.value.mapValue.fields}}function A2(r,e){let n;if("targetChange"in e){e.targetChange;const s=function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:Te()}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=function(y,E){return y.useProto3Json?(qe(E===void 0||typeof E=="string"),Ht.fromBase64String(E||"")):(qe(E===void 0||E instanceof Buffer||E instanceof Uint8Array),Ht.fromUint8Array(E||new Uint8Array))}(r,e.targetChange.resumeToken),f=e.targetChange.cause,m=f&&function(y){const E=y.code===void 0?ne.UNKNOWN:eT(y.code);return new ge(E,y.message||"")}(f);n=new nT(s,o,u,m||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=Ld(r,s.document.name),u=si(s.document.updateTime),f=s.document.createTime?si(s.document.createTime):Se.min(),m=new In({mapValue:{fields:s.document.fields}}),g=Yt.newFoundDocument(o,u,f,m),y=s.targetIds||[],E=s.removedTargetIds||[];n=new Pc(y,E,g.key,g)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=Ld(r,s.document),u=s.readTime?si(s.readTime):Se.min(),f=Yt.newNoDocument(o,u),m=s.removedTargetIds||[];n=new Pc([],m,f.key,f)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=Ld(r,s.document),u=s.removedTargetIds||[];n=new Pc([],u,o,null)}else{if(!("filter"in e))return Te();{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,f=new f2(o,u),m=s.targetId;n=new tT(m,f)}}return n}function S2(r,e){let n;if(e instanceof Gl)n={update:Lv(r,e.key,e.value)};else if(e instanceof J0)n={delete:om(r,e.key)};else if(e instanceof js)n={update:Lv(r,e.key,e.data),updateMask:M2(e.fieldMask)};else{if(!(e instanceof u2))return Te();n={verify:om(r,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(s=>function(u,f){const m=f.transform;if(m instanceof Zc)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof Ml)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof xl)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof Wc)return{fieldPath:f.field.canonicalString(),increment:m.Ie};throw Te()}(0,s))),e.precondition.isNone||(n.currentDocument=function(o,u){return u.updateTime!==void 0?{updateTime:E2(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Te()}(r,e.precondition)),n}function b2(r,e){return r&&r.length>0?(qe(e!==void 0),r.map(n=>function(o,u){let f=o.updateTime?si(o.updateTime):si(u);return f.isEqual(Se.min())&&(f=si(u)),new a2(f,o.transformResults||[])}(n,e))):[]}function w2(r,e){return{documents:[sT(r,e.path)]}}function R2(r,e){const n={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=sT(r,o);const u=function(y){if(y.length!==0)return lT(ci.create(y,"and"))}(e.filters);u&&(n.structuredQuery.where=u);const f=function(y){if(y.length!==0)return y.map(E=>function(C){return{field:Pa(C.field),direction:D2(C.dir)}}(E))}(e.orderBy);f&&(n.structuredQuery.orderBy=f);const m=sm(r,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=function(y){return{before:y.inclusive,values:y.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(y){return{before:!y.inclusive,values:y.position}}(e.endAt)),{ht:n,parent:o}}function C2(r){let e=T2(r.parent);const n=r.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){qe(s===1);const E=n.from[0];E.allDescendants?o=E.collectionId:e=e.child(E.collectionId)}let u=[];n.where&&(u=function(b){const C=oT(b);return C instanceof ci&&U0(C)?C.getFilters():[C]}(n.where));let f=[];n.orderBy&&(f=function(b){return b.map(C=>function(L){return new $c(Ua(L.field),function(F){switch(F){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(L.direction))}(C))}(n.orderBy));let m=null;n.limit&&(m=function(b){let C;return C=typeof b=="object"?b.value:b,hh(C)?null:C}(n.limit));let g=null;n.startAt&&(g=function(b){const C=!!b.before,P=b.values||[];return new Xc(P,C)}(n.startAt));let y=null;return n.endAt&&(y=function(b){const C=!b.before,P=b.values||[];return new Xc(P,C)}(n.endAt)),QI(e,o,f,u,m,"F",g,y)}function I2(r,e){const n=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Te()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function oT(r){return r.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=Ua(n.unaryFilter.field);return bt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=Ua(n.unaryFilter.field);return bt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=Ua(n.unaryFilter.field);return bt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=Ua(n.unaryFilter.field);return bt.create(f,"!=",{nullValue:"NULL_VALUE"});default:return Te()}}(r):r.fieldFilter!==void 0?function(n){return bt.create(Ua(n.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Te()}}(n.fieldFilter.op),n.fieldFilter.value)}(r):r.compositeFilter!==void 0?function(n){return ci.create(n.compositeFilter.filters.map(s=>oT(s)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Te()}}(n.compositeFilter.op))}(r):Te()}function D2(r){return g2[r]}function N2(r){return y2[r]}function O2(r){return _2[r]}function Pa(r){return{fieldPath:r.canonicalString()}}function Ua(r){return Bt.fromServerFormat(r.fieldPath)}function lT(r){return r instanceof bt?function(n){if(n.op==="=="){if(wv(n.value))return{unaryFilter:{field:Pa(n.field),op:"IS_NAN"}};if(bv(n.value))return{unaryFilter:{field:Pa(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(wv(n.value))return{unaryFilter:{field:Pa(n.field),op:"IS_NOT_NAN"}};if(bv(n.value))return{unaryFilter:{field:Pa(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Pa(n.field),op:N2(n.op),value:n.value}}}(r):r instanceof ci?function(n){const s=n.getFilters().map(o=>lT(o));return s.length===1?s[0]:{compositeFilter:{op:O2(n.op),filters:s}}}(r):Te()}function M2(r){const e=[];return r.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function uT(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dr{constructor(e,n,s,o,u=Se.min(),f=Se.min(),m=Ht.EMPTY_BYTE_STRING,g=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=m,this.expectedCount=g}withSequenceNumber(e){return new Dr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Dr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Dr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Dr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x2{constructor(e){this.Tt=e}}function V2(r){const e=C2({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?rm(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k2{constructor(){this.Tn=new P2}addToCollectionParentIndex(e,n){return this.Tn.add(n),J.resolve()}getCollectionParents(e,n){return J.resolve(this.Tn.getEntries(n))}addFieldIndex(e,n){return J.resolve()}deleteFieldIndex(e,n){return J.resolve()}deleteAllFieldIndexes(e){return J.resolve()}createTargetIndexes(e,n){return J.resolve()}getDocumentsMatchingTarget(e,n){return J.resolve(null)}getIndexType(e,n){return J.resolve(0)}getFieldIndexes(e,n){return J.resolve([])}getNextCollectionGroupToUpdate(e){return J.resolve(null)}getMinOffset(e,n){return J.resolve(Pr.min())}getMinOffsetFromCollectionGroup(e,n){return J.resolve(Pr.min())}updateCollectionGroup(e,n,s){return J.resolve()}updateIndexEntries(e,n){return J.resolve()}}class P2{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n]||new Rt(ut.comparator),u=!o.has(s);return this.index[n]=o.add(s),u}has(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(e){return(this.index[e]||new Rt(ut.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},cT=41943040;class rn{static withCacheSize(e){return new rn(e,rn.DEFAULT_COLLECTION_PERCENTILE,rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */rn.DEFAULT_COLLECTION_PERCENTILE=10,rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,rn.DEFAULT=new rn(cT,rn.DEFAULT_COLLECTION_PERCENTILE,rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),rn.DISABLED=new rn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ka{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Un(){return new Ka(0)}static Kn(){return new Ka(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jv="LruGarbageCollector",U2=1048576;function Bv([r,e],[n,s]){const o=Ie(r,n);return o===0?Ie(e,s):o}class L2{constructor(e){this.Hn=e,this.buffer=new Rt(Bv),this.Jn=0}Yn(){return++this.Jn}Zn(e){const n=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();Bv(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class z2{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){le(jv,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){to(n)?le(jv,"Ignoring IndexedDB error during garbage collection: ",n):await eo(n)}await this.er(3e5)})}}class j2{constructor(e,n){this.tr=e,this.params=n}calculateTargetCount(e,n){return this.tr.nr(e).next(s=>Math.floor(n/100*s))}nthSequenceNumber(e,n){if(n===0)return J.resolve(ch.ae);const s=new L2(n);return this.tr.forEachTarget(e,o=>s.Zn(o.sequenceNumber)).next(()=>this.tr.rr(e,o=>s.Zn(o))).next(()=>s.maxValue)}removeTargets(e,n,s){return this.tr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.tr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(le("LruGarbageCollector","Garbage collection skipped; disabled"),J.resolve(zv)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(le("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),zv):this.ir(e,n))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,n){let s,o,u,f,m,g,y;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(b=>(b>this.params.maximumSequenceNumbersToCollect?(le("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),o=this.params.maximumSequenceNumbersToCollect):o=b,f=Date.now(),this.nthSequenceNumber(e,o))).next(b=>(s=b,m=Date.now(),this.removeTargets(e,s,n))).next(b=>(u=b,g=Date.now(),this.removeOrphanedDocuments(e,s))).next(b=>(y=Date.now(),Va()<=xe.DEBUG&&le("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-E}ms
	Determined least recently used ${o} in `+(m-f)+`ms
	Removed ${u} targets in `+(g-m)+`ms
	Removed ${b} documents in `+(y-g)+`ms
Total Duration: ${y-E}ms`),J.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:b})))}}function B2(r,e){return new j2(r,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H2{constructor(){this.changes=new zs(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Yt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?J.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q2{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F2{constructor(e,n,s,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next(o=>(s=o,this.remoteDocumentCache.getEntry(e,n))).next(o=>(s!==null&&Sl(s.mutation,o,Un.empty(),wt.now()),o))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.getLocalViewOfDocuments(e,s,Ve()).next(()=>s))}getLocalViewOfDocuments(e,n,s=Ve()){const o=Ds();return this.populateOverlays(e,o,n).next(()=>this.computeViews(e,n,o,s).next(u=>{let f=yl();return u.forEach((m,g)=>{f=f.insert(m,g.overlayedDocument)}),f}))}getOverlayedDocuments(e,n){const s=Ds();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,Ve()))}populateOverlays(e,n,s){const o=[];return s.forEach(u=>{n.has(u)||o.push(u)}),this.documentOverlayCache.getOverlays(e,o).next(u=>{u.forEach((f,m)=>{n.set(f,m)})})}computeViews(e,n,s,o){let u=Yi();const f=Al(),m=function(){return Al()}();return n.forEach((g,y)=>{const E=s.get(y.key);o.has(y.key)&&(E===void 0||E.mutation instanceof js)?u=u.insert(y.key,y):E!==void 0?(f.set(y.key,E.mutation.getFieldMask()),Sl(E.mutation,y,E.mutation.getFieldMask(),wt.now())):f.set(y.key,Un.empty())}),this.recalculateAndSaveOverlays(e,u).next(g=>(g.forEach((y,E)=>f.set(y,E)),n.forEach((y,E)=>{var b;return m.set(y,new q2(E,(b=f.get(y))!==null&&b!==void 0?b:null))}),m))}recalculateAndSaveOverlays(e,n){const s=Al();let o=new rt((f,m)=>f-m),u=Ve();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(f=>{for(const m of f)m.keys().forEach(g=>{const y=n.get(g);if(y===null)return;let E=s.get(g)||Un.empty();E=m.applyToLocalView(y,E),s.set(g,E);const b=(o.get(m.batchId)||Ve()).add(g);o=o.insert(m.batchId,b)})}).next(()=>{const f=[],m=o.getReverseIterator();for(;m.hasNext();){const g=m.getNext(),y=g.key,E=g.value,b=G0();E.forEach(C=>{if(!u.has(C)){const P=Z0(n.get(C),s.get(C));P!==null&&b.set(C,P),u=u.add(C)}}),f.push(this.documentOverlayCache.saveOverlays(e,y,b))}return J.waitFor(f)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,n,s,o){return function(f){return ye.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):KI(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,o):this.getDocumentsMatchingCollectionQuery(e,n,s,o)}getNextDocuments(e,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,o).next(u=>{const f=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,o-u.size):J.resolve(Ds());let m=Il,g=u;return f.next(y=>J.forEach(y,(E,b)=>(m<b.largestBatchId&&(m=b.largestBatchId),u.get(E)?J.resolve():this.remoteDocumentCache.getEntry(e,E).next(C=>{g=g.insert(E,C)}))).next(()=>this.populateOverlays(e,y,u)).next(()=>this.computeViews(e,g,y,Ve())).next(E=>({batchId:m,changes:F0(E)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ye(n)).next(s=>{let o=yl();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o})}getDocumentsMatchingCollectionGroupQuery(e,n,s,o){const u=n.collectionGroup;let f=yl();return this.indexManager.getCollectionParents(e,u).next(m=>J.forEach(m,g=>{const y=function(b,C){return new dh(C,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)}(n,g.child(u));return this.getDocumentsMatchingCollectionQuery(e,y,s,o).next(E=>{E.forEach((b,C)=>{f=f.insert(b,C)})})}).next(()=>f))}getDocumentsMatchingCollectionQuery(e,n,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next(f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,u,o))).next(f=>{u.forEach((g,y)=>{const E=y.getKey();f.get(E)===null&&(f=f.insert(E,Yt.newInvalidDocument(E)))});let m=yl();return f.forEach((g,y)=>{const E=u.get(g);E!==void 0&&Sl(E.mutation,y,Un.empty(),wt.now()),ph(n,y)&&(m=m.insert(g,y))}),m})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G2{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,n){return J.resolve(this.dr.get(n))}saveBundleMetadata(e,n){return this.dr.set(n.id,function(o){return{id:o.id,version:o.version,createTime:si(o.createTime)}}(n)),J.resolve()}getNamedQuery(e,n){return J.resolve(this.Ar.get(n))}saveNamedQuery(e,n){return this.Ar.set(n.name,function(o){return{name:o.name,query:V2(o.bundledQuery),readTime:si(o.readTime)}}(n)),J.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q2{constructor(){this.overlays=new rt(ye.comparator),this.Rr=new Map}getOverlay(e,n){return J.resolve(this.overlays.get(n))}getOverlays(e,n){const s=Ds();return J.forEach(n,o=>this.getOverlay(e,o).next(u=>{u!==null&&s.set(o,u)})).next(()=>s)}saveOverlays(e,n,s){return s.forEach((o,u)=>{this.Et(e,n,u)}),J.resolve()}removeOverlaysForBatchId(e,n,s){const o=this.Rr.get(s);return o!==void 0&&(o.forEach(u=>this.overlays=this.overlays.remove(u)),this.Rr.delete(s)),J.resolve()}getOverlaysForCollection(e,n,s){const o=Ds(),u=n.length+1,f=new ye(n.child("")),m=this.overlays.getIteratorFrom(f);for(;m.hasNext();){const g=m.getNext().value,y=g.getKey();if(!n.isPrefixOf(y.path))break;y.path.length===u&&g.largestBatchId>s&&o.set(g.getKey(),g)}return J.resolve(o)}getOverlaysForCollectionGroup(e,n,s,o){let u=new rt((y,E)=>y-E);const f=this.overlays.getIterator();for(;f.hasNext();){const y=f.getNext().value;if(y.getKey().getCollectionGroup()===n&&y.largestBatchId>s){let E=u.get(y.largestBatchId);E===null&&(E=Ds(),u=u.insert(y.largestBatchId,E)),E.set(y.getKey(),y)}}const m=Ds(),g=u.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach((y,E)=>m.set(y,E)),!(m.size()>=o)););return J.resolve(m)}Et(e,n,s){const o=this.overlays.get(s.key);if(o!==null){const f=this.Rr.get(o.largestBatchId).delete(s.key);this.Rr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new h2(n,s));let u=this.Rr.get(n);u===void 0&&(u=Ve(),this.Rr.set(n,u)),this.Rr.set(n,u.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K2{constructor(){this.sessionToken=Ht.EMPTY_BYTE_STRING}getSessionToken(e){return J.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,J.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qm{constructor(){this.Vr=new Rt(xt.mr),this.gr=new Rt(xt.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,n){const s=new xt(e,n);this.Vr=this.Vr.add(s),this.gr=this.gr.add(s)}yr(e,n){e.forEach(s=>this.addReference(s,n))}removeReference(e,n){this.wr(new xt(e,n))}Sr(e,n){e.forEach(s=>this.removeReference(s,n))}br(e){const n=new ye(new ut([])),s=new xt(n,e),o=new xt(n,e+1),u=[];return this.gr.forEachInRange([s,o],f=>{this.wr(f),u.push(f.key)}),u}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const n=new ye(new ut([])),s=new xt(n,e),o=new xt(n,e+1);let u=Ve();return this.gr.forEachInRange([s,o],f=>{u=u.add(f.key)}),u}containsKey(e){const n=new xt(e,0),s=this.Vr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class xt{constructor(e,n){this.key=e,this.Cr=n}static mr(e,n){return ye.comparator(e.key,n.key)||Ie(e.Cr,n.Cr)}static pr(e,n){return Ie(e.Cr,n.Cr)||ye.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y2{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Fr=1,this.Mr=new Rt(xt.mr)}checkEmpty(e){return J.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,o){const u=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new c2(u,n,s,o);this.mutationQueue.push(f);for(const m of o)this.Mr=this.Mr.add(new xt(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return J.resolve(f)}lookupMutationBatch(e,n){return J.resolve(this.Or(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,o=this.Nr(s),u=o<0?0:o;return J.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return J.resolve(this.mutationQueue.length===0?xm:this.Fr-1)}getAllMutationBatches(e){return J.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new xt(n,0),o=new xt(n,Number.POSITIVE_INFINITY),u=[];return this.Mr.forEachInRange([s,o],f=>{const m=this.Or(f.Cr);u.push(m)}),J.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new Rt(Ie);return n.forEach(o=>{const u=new xt(o,0),f=new xt(o,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([u,f],m=>{s=s.add(m.Cr)})}),J.resolve(this.Br(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,o=s.length+1;let u=s;ye.isDocumentKey(u)||(u=u.child(""));const f=new xt(new ye(u),0);let m=new Rt(Ie);return this.Mr.forEachWhile(g=>{const y=g.key.path;return!!s.isPrefixOf(y)&&(y.length===o&&(m=m.add(g.Cr)),!0)},f),J.resolve(this.Br(m))}Br(e){const n=[];return e.forEach(s=>{const o=this.Or(s);o!==null&&n.push(o)}),n}removeMutationBatch(e,n){qe(this.Lr(n.batchId,"removed")===0),this.mutationQueue.shift();let s=this.Mr;return J.forEach(n.mutations,o=>{const u=new xt(o.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Mr=s})}qn(e){}containsKey(e,n){const s=new xt(n,0),o=this.Mr.firstAfterOrEqual(s);return J.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,J.resolve()}Lr(e,n){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const n=this.Nr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X2{constructor(e){this.kr=e,this.docs=function(){return new rt(ye.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,o=this.docs.get(s),u=o?o.size:0,f=this.kr(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return J.resolve(s?s.document.mutableCopy():Yt.newInvalidDocument(n))}getEntries(e,n){let s=Yi();return n.forEach(o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():Yt.newInvalidDocument(o))}),J.resolve(s)}getDocumentsMatchingQuery(e,n,s,o){let u=Yi();const f=n.path,m=new ye(f.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(m);for(;g.hasNext();){const{key:y,value:{document:E}}=g.getNext();if(!f.isPrefixOf(y.path))break;y.path.length>f.length+1||bI(SI(E),s)<=0||(o.has(E.key)||ph(n,E))&&(u=u.insert(E.key,E.mutableCopy()))}return J.resolve(u)}getAllFromCollectionGroup(e,n,s,o){Te()}qr(e,n){return J.forEach(this.docs,s=>n(s))}newChangeBuffer(e){return new $2(this)}getSize(e){return J.resolve(this.size)}}class $2 extends H2{constructor(e){super(),this.Ir=e}applyChanges(e){const n=[];return this.changes.forEach((s,o)=>{o.isValidDocument()?n.push(this.Ir.addEntry(e,o)):this.Ir.removeEntry(s)}),J.waitFor(n)}getFromCache(e,n){return this.Ir.getEntry(e,n)}getAllFromCache(e,n){return this.Ir.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z2{constructor(e){this.persistence=e,this.Qr=new zs(n=>Pm(n),Um),this.lastRemoteSnapshotVersion=Se.min(),this.highestTargetId=0,this.$r=0,this.Ur=new qm,this.targetCount=0,this.Kr=Ka.Un()}forEachTarget(e,n){return this.Qr.forEach((s,o)=>n(o)),J.resolve()}getLastRemoteSnapshotVersion(e){return J.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return J.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Kr.next(),J.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.$r&&(this.$r=n),J.resolve()}zn(e){this.Qr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Kr=new Ka(n),this.highestTargetId=n),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,n){return this.zn(n),this.targetCount+=1,J.resolve()}updateTargetData(e,n){return this.zn(n),J.resolve()}removeTargetData(e,n){return this.Qr.delete(n.target),this.Ur.br(n.targetId),this.targetCount-=1,J.resolve()}removeTargets(e,n,s){let o=0;const u=[];return this.Qr.forEach((f,m)=>{m.sequenceNumber<=n&&s.get(m.targetId)===null&&(this.Qr.delete(f),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)}),J.waitFor(u).next(()=>o)}getTargetCount(e){return J.resolve(this.targetCount)}getTargetData(e,n){const s=this.Qr.get(n)||null;return J.resolve(s)}addMatchingKeys(e,n,s){return this.Ur.yr(n,s),J.resolve()}removeMatchingKeys(e,n,s){this.Ur.Sr(n,s);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach(f=>{u.push(o.markPotentiallyOrphaned(e,f))}),J.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this.Ur.br(n),J.resolve()}getMatchingKeysForTargetId(e,n){const s=this.Ur.vr(n);return J.resolve(s)}containsKey(e,n){return J.resolve(this.Ur.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hT{constructor(e,n){this.Wr={},this.overlays={},this.Gr=new ch(0),this.zr=!1,this.zr=!0,this.jr=new K2,this.referenceDelegate=e(this),this.Hr=new Z2(this),this.indexManager=new k2,this.remoteDocumentCache=function(o){return new X2(o)}(s=>this.referenceDelegate.Jr(s)),this.serializer=new x2(n),this.Yr=new G2(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Q2,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.Wr[e.toKey()];return s||(s=new Y2(n,this.referenceDelegate),this.Wr[e.toKey()]=s),s}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,n,s){le("MemoryPersistence","Starting transaction:",e);const o=new W2(this.Gr.next());return this.referenceDelegate.Zr(),s(o).next(u=>this.referenceDelegate.Xr(o).next(()=>u)).toPromise().then(u=>(o.raiseOnCommittedEvent(),u))}ei(e,n){return J.or(Object.values(this.Wr).map(s=>()=>s.containsKey(e,n)))}}class W2 extends RI{constructor(e){super(),this.currentSequenceNumber=e}}class Fm{constructor(e){this.persistence=e,this.ti=new qm,this.ni=null}static ri(e){return new Fm(e)}get ii(){if(this.ni)return this.ni;throw Te()}addReference(e,n,s){return this.ti.addReference(s,n),this.ii.delete(s.toString()),J.resolve()}removeReference(e,n,s){return this.ti.removeReference(s,n),this.ii.add(s.toString()),J.resolve()}markPotentiallyOrphaned(e,n){return this.ii.add(n.toString()),J.resolve()}removeTarget(e,n){this.ti.br(n.targetId).forEach(o=>this.ii.add(o.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next(o=>{o.forEach(u=>this.ii.add(u.toString()))}).next(()=>s.removeTargetData(e,n))}Zr(){this.ni=new Set}Xr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return J.forEach(this.ii,s=>{const o=ye.fromPath(s);return this.si(e,o).next(u=>{u||n.removeEntry(o,Se.min())})}).next(()=>(this.ni=null,n.apply(e)))}updateLimboDocument(e,n){return this.si(e,n).next(s=>{s?this.ii.delete(n.toString()):this.ii.add(n.toString())})}Jr(e){return 0}si(e,n){return J.or([()=>J.resolve(this.ti.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.ei(e,n)])}}class eh{constructor(e,n){this.persistence=e,this.oi=new zs(s=>DI(s.path),(s,o)=>s.isEqual(o)),this.garbageCollector=B2(this,n)}static ri(e,n){return new eh(e,n)}Zr(){}Xr(e){return J.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}nr(e){const n=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>n.next(o=>s+o))}sr(e){let n=0;return this.rr(e,s=>{n++}).next(()=>n)}rr(e,n){return J.forEach(this.oi,(s,o)=>this.ar(e,s,o).next(u=>u?J.resolve():n(o)))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.qr(e,f=>this.ar(e,f,n).next(m=>{m||(s++,u.removeEntry(f,Se.min()))})).next(()=>u.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,n){return this.oi.set(n,e.currentSequenceNumber),J.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.oi.set(s,e.currentSequenceNumber),J.resolve()}removeReference(e,n,s){return this.oi.set(s,e.currentSequenceNumber),J.resolve()}updateLimboDocument(e,n){return this.oi.set(n,e.currentSequenceNumber),J.resolve()}Jr(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=xc(e.data.value)),n}ar(e,n,s){return J.or([()=>this.persistence.ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.oi.get(n);return J.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gm{constructor(e,n,s,o){this.targetId=e,this.fromCache=n,this.Hi=s,this.Ji=o}static Yi(e,n){let s=Ve(),o=Ve();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new Gm(e,n.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J2{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eD{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return Lw()?8:CI(Xt())>0?6:4}()}initialize(e,n){this.ns=e,this.indexManager=n,this.Zi=!0}getDocumentsMatchingQuery(e,n,s,o){const u={result:null};return this.rs(e,n).next(f=>{u.result=f}).next(()=>{if(!u.result)return this.ss(e,n,o,s).next(f=>{u.result=f})}).next(()=>{if(u.result)return;const f=new J2;return this._s(e,n,f).next(m=>{if(u.result=m,this.Xi)return this.us(e,n,f,m.size)})}).next(()=>u.result)}us(e,n,s,o){return s.documentReadCount<this.es?(Va()<=xe.DEBUG&&le("QueryEngine","SDK will not create cache indexes for query:",ka(n),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),J.resolve()):(Va()<=xe.DEBUG&&le("QueryEngine","Query:",ka(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.ts*o?(Va()<=xe.DEBUG&&le("QueryEngine","The SDK decides to create cache indexes for query:",ka(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ri(n))):J.resolve())}rs(e,n){if(Dv(n))return J.resolve(null);let s=ri(n);return this.indexManager.getIndexType(e,s).next(o=>o===0?null:(n.limit!==null&&o===1&&(n=rm(n,null,"F"),s=ri(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next(u=>{const f=Ve(...u);return this.ns.getDocuments(e,f).next(m=>this.indexManager.getMinOffset(e,s).next(g=>{const y=this.cs(n,m);return this.ls(n,y,f,g.readTime)?this.rs(e,rm(n,null,"F")):this.hs(e,y,n,g)}))})))}ss(e,n,s,o){return Dv(n)||o.isEqual(Se.min())?J.resolve(null):this.ns.getDocuments(e,s).next(u=>{const f=this.cs(n,u);return this.ls(n,f,s,o)?J.resolve(null):(Va()<=xe.DEBUG&&le("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),ka(n)),this.hs(e,f,n,AI(o,Il)).next(m=>m))})}cs(e,n){let s=new Rt(H0(e));return n.forEach((o,u)=>{ph(e,u)&&(s=s.add(u))}),s}ls(e,n,s,o){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}_s(e,n,s){return Va()<=xe.DEBUG&&le("QueryEngine","Using full collection scan to execute query:",ka(n)),this.ns.getDocumentsMatchingQuery(e,n,Pr.min(),s)}hs(e,n,s,o){return this.ns.getDocumentsMatchingQuery(e,s,o).next(u=>(n.forEach(f=>{u=u.insert(f.key,f)}),u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qm="LocalStore",tD=3e8;class nD{constructor(e,n,s,o){this.persistence=e,this.Ps=n,this.serializer=o,this.Ts=new rt(Ie),this.Is=new zs(u=>Pm(u),Um),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(s)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new F2(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ts))}}function iD(r,e,n,s){return new nD(r,e,n,s)}async function fT(r,e){const n=be(r);return await n.persistence.runTransaction("Handle user change","readonly",s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next(u=>(o=u,n.As(e),n.mutationQueue.getAllMutationBatches(s))).next(u=>{const f=[],m=[];let g=Ve();for(const y of o){f.push(y.batchId);for(const E of y.mutations)g=g.add(E.key)}for(const y of u){m.push(y.batchId);for(const E of y.mutations)g=g.add(E.key)}return n.localDocuments.getDocuments(s,g).next(y=>({Rs:y,removedBatchIds:f,addedBatchIds:m}))})})}function rD(r,e){const n=be(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const o=e.batch.keys(),u=n.ds.newChangeBuffer({trackRemovals:!0});return function(m,g,y,E){const b=y.batch,C=b.keys();let P=J.resolve();return C.forEach(L=>{P=P.next(()=>E.getEntry(g,L)).next(Z=>{const F=y.docVersions.get(L);qe(F!==null),Z.version.compareTo(F)<0&&(b.applyToRemoteDocument(Z,y),Z.isValidDocument()&&(Z.setReadTime(y.commitVersion),E.addEntry(Z)))})}),P.next(()=>m.mutationQueue.removeMutationBatch(g,b))}(n,s,e,u).next(()=>u.apply(s)).next(()=>n.mutationQueue.performConsistencyCheck(s)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(m){let g=Ve();for(let y=0;y<m.mutationResults.length;++y)m.mutationResults[y].transformResults.length>0&&(g=g.add(m.batch.mutations[y].key));return g}(e))).next(()=>n.localDocuments.getDocuments(s,o))})}function dT(r){const e=be(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Hr.getLastRemoteSnapshotVersion(n))}function sD(r,e){const n=be(r),s=e.snapshotVersion;let o=n.Ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const f=n.ds.newChangeBuffer({trackRemovals:!0});o=n.Ts;const m=[];e.targetChanges.forEach((E,b)=>{const C=o.get(b);if(!C)return;m.push(n.Hr.removeMatchingKeys(u,E.removedDocuments,b).next(()=>n.Hr.addMatchingKeys(u,E.addedDocuments,b)));let P=C.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(b)!==null?P=P.withResumeToken(Ht.EMPTY_BYTE_STRING,Se.min()).withLastLimboFreeSnapshotVersion(Se.min()):E.resumeToken.approximateByteSize()>0&&(P=P.withResumeToken(E.resumeToken,s)),o=o.insert(b,P),function(Z,F,$){return Z.resumeToken.approximateByteSize()===0||F.snapshotVersion.toMicroseconds()-Z.snapshotVersion.toMicroseconds()>=tD?!0:$.addedDocuments.size+$.modifiedDocuments.size+$.removedDocuments.size>0}(C,P,E)&&m.push(n.Hr.updateTargetData(u,P))});let g=Yi(),y=Ve();if(e.documentUpdates.forEach(E=>{e.resolvedLimboDocuments.has(E)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,E))}),m.push(aD(u,f,e.documentUpdates).next(E=>{g=E.Vs,y=E.fs})),!s.isEqual(Se.min())){const E=n.Hr.getLastRemoteSnapshotVersion(u).next(b=>n.Hr.setTargetsMetadata(u,u.currentSequenceNumber,s));m.push(E)}return J.waitFor(m).next(()=>f.apply(u)).next(()=>n.localDocuments.getLocalViewOfDocuments(u,g,y)).next(()=>g)}).then(u=>(n.Ts=o,u))}function aD(r,e,n){let s=Ve(),o=Ve();return n.forEach(u=>s=s.add(u)),e.getEntries(r,s).next(u=>{let f=Yi();return n.forEach((m,g)=>{const y=u.get(m);g.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(m)),g.isNoDocument()&&g.version.isEqual(Se.min())?(e.removeEntry(m,g.readTime),f=f.insert(m,g)):!y.isValidDocument()||g.version.compareTo(y.version)>0||g.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(g),f=f.insert(m,g)):le(Qm,"Ignoring outdated watch update for ",m,". Current version:",y.version," Watch version:",g.version)}),{Vs:f,fs:o}})}function oD(r,e){const n=be(r);return n.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=xm),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function lD(r,e){const n=be(r);return n.persistence.runTransaction("Allocate target","readwrite",s=>{let o;return n.Hr.getTargetData(s,e).next(u=>u?(o=u,J.resolve(o)):n.Hr.allocateTargetId(s).next(f=>(o=new Dr(e,f,"TargetPurposeListen",s.currentSequenceNumber),n.Hr.addTargetData(s,o).next(()=>o))))}).then(s=>{const o=n.Ts.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ts=n.Ts.insert(s.targetId,s),n.Is.set(e,s.targetId)),s})}async function um(r,e,n){const s=be(r),o=s.Ts.get(e),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,f=>s.persistence.referenceDelegate.removeTarget(f,o))}catch(f){if(!to(f))throw f;le(Qm,`Failed to update sequence numbers for target ${e}: ${f}`)}s.Ts=s.Ts.remove(e),s.Is.delete(o.target)}function Hv(r,e,n){const s=be(r);let o=Se.min(),u=Ve();return s.persistence.runTransaction("Execute query","readwrite",f=>function(g,y,E){const b=be(g),C=b.Is.get(E);return C!==void 0?J.resolve(b.Ts.get(C)):b.Hr.getTargetData(y,E)}(s,f,ri(e)).next(m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.Hr.getMatchingKeysForTargetId(f,m.targetId).next(g=>{u=g})}).next(()=>s.Ps.getDocumentsMatchingQuery(f,e,n?o:Se.min(),n?u:Ve())).next(m=>(uD(s,XI(e),m),{documents:m,gs:u})))}function uD(r,e,n){let s=r.Es.get(e)||Se.min();n.forEach((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)}),r.Es.set(e,s)}class qv{constructor(){this.activeTargetIds=t2()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}bs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class cD{constructor(){this.ho=new qv,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,n,s){this.Po[e]=n}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new qv,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hD{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fv="ConnectivityMonitor";class Gv{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){le(Fv,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){le(Fv,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let wc=null;function cm(){return wc===null?wc=function(){return 268435456+Math.round(2147483648*Math.random())}():wc++,"0x"+wc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zd="RestConnection",fD={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class dD{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.po=n+"://"+e.host,this.yo=`projects/${s}/databases/${o}`,this.wo=this.databaseId.database===Kc?`project_id=${s}`:`project_id=${s}&database_id=${o}`}So(e,n,s,o,u){const f=cm(),m=this.bo(e,n.toUriEncodedString());le(zd,`Sending RPC '${e}' ${f}:`,m,s);const g={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(g,o,u),this.vo(e,m,g,s).then(y=>(le(zd,`Received RPC '${e}' ${f}: `,y),y),y=>{throw qa(zd,`RPC '${e}' ${f} failed with error: `,y,"url: ",m,"request:",s),y})}Co(e,n,s,o,u,f){return this.So(e,n,s,o,u)}Do(e,n,s){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Ja}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((o,u)=>e[u]=o),s&&s.headers.forEach((o,u)=>e[u]=o)}bo(e,n){const s=fD[e];return`${this.po}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mD{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Uo(e){this.ko(e)}Ko(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qt="WebChannelConnection";class pD extends dD{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,n,s,o){const u=cm();return new Promise((f,m)=>{const g=new y0;g.setWithCredentials(!0),g.listenOnce(_0.COMPLETE,()=>{try{switch(g.getLastErrorCode()){case Mc.NO_ERROR:const E=g.getResponseJson();le(Qt,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(E)),f(E);break;case Mc.TIMEOUT:le(Qt,`RPC '${e}' ${u} timed out`),m(new ge(ne.DEADLINE_EXCEEDED,"Request time out"));break;case Mc.HTTP_ERROR:const b=g.getStatus();if(le(Qt,`RPC '${e}' ${u} failed with status:`,b,"response text:",g.getResponseText()),b>0){let C=g.getResponseJson();Array.isArray(C)&&(C=C[0]);const P=C==null?void 0:C.error;if(P&&P.status&&P.message){const L=function(F){const $=F.toLowerCase().replace(/_/g,"-");return Object.values(ne).indexOf($)>=0?$:ne.UNKNOWN}(P.status);m(new ge(L,P.message))}else m(new ge(ne.UNKNOWN,"Server responded with status "+g.getStatus()))}else m(new ge(ne.UNAVAILABLE,"Connection failed."));break;default:Te()}}finally{le(Qt,`RPC '${e}' ${u} completed.`)}});const y=JSON.stringify(o);le(Qt,`RPC '${e}' ${u} sending request:`,o),g.send(n,"POST",y,s,15)})}Wo(e,n,s){const o=cm(),u=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=T0(),m=E0(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(g.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(g.useFetchStreams=!0),this.Do(g.initMessageHeaders,n,s),g.encodeInitMessageHeaders=!0;const E=u.join("");le(Qt,`Creating RPC '${e}' stream ${o}: ${E}`,g);const b=f.createWebChannel(E,g);let C=!1,P=!1;const L=new mD({Fo:F=>{P?le(Qt,`Not sending because RPC '${e}' stream ${o} is closed:`,F):(C||(le(Qt,`Opening RPC '${e}' stream ${o} transport.`),b.open(),C=!0),le(Qt,`RPC '${e}' stream ${o} sending:`,F),b.send(F))},Mo:()=>b.close()}),Z=(F,$,se)=>{F.listen($,te=>{try{se(te)}catch(fe){setTimeout(()=>{throw fe},0)}})};return Z(b,gl.EventType.OPEN,()=>{P||(le(Qt,`RPC '${e}' stream ${o} transport opened.`),L.Qo())}),Z(b,gl.EventType.CLOSE,()=>{P||(P=!0,le(Qt,`RPC '${e}' stream ${o} transport closed`),L.Uo())}),Z(b,gl.EventType.ERROR,F=>{P||(P=!0,qa(Qt,`RPC '${e}' stream ${o} transport errored:`,F),L.Uo(new ge(ne.UNAVAILABLE,"The operation could not be completed")))}),Z(b,gl.EventType.MESSAGE,F=>{var $;if(!P){const se=F.data[0];qe(!!se);const te=se,fe=(te==null?void 0:te.error)||(($=te[0])===null||$===void 0?void 0:$.error);if(fe){le(Qt,`RPC '${e}' stream ${o} received error:`,fe);const ce=fe.status;let we=function(w){const N=_t[w];if(N!==void 0)return eT(N)}(ce),M=fe.message;we===void 0&&(we=ne.INTERNAL,M="Unknown error status: "+ce+" with message "+fe.message),P=!0,L.Uo(new ge(we,M)),b.close()}else le(Qt,`RPC '${e}' stream ${o} received:`,se),L.Ko(se)}}),Z(m,v0.STAT_EVENT,F=>{F.stat===Wd.PROXY?le(Qt,`RPC '${e}' stream ${o} detected buffering proxy`):F.stat===Wd.NOPROXY&&le(Qt,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{L.$o()},0),L}}function jd(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vh(r){return new v2(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mT{constructor(e,n,s=1e3,o=1.5,u=6e4){this.Ti=e,this.timerId=n,this.Go=s,this.zo=o,this.jo=u,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const n=Math.floor(this.Ho+this.e_()),s=Math.max(0,Date.now()-this.Yo),o=Math.max(0,n-s);o>0&&le("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Ho} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,o,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qv="PersistentStream";class pT{constructor(e,n,s,o,u,f,m,g){this.Ti=e,this.n_=s,this.r_=o,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=m,this.listener=g,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new mT(e,n)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,n){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():n&&n.code===ne.RESOURCE_EXHAUSTED?(Ki(n.toString()),Ki("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):n&&n.code===ne.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(n)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),n=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,o])=>{this.i_===n&&this.V_(s,o)},s=>{e(()=>{const o=new ge(ne.UNKNOWN,"Fetching auth token failed: "+s.message);return this.m_(o)})})}V_(e,n){const s=this.R_(this.i_);this.stream=this.f_(e,n),this.stream.xo(()=>{s(()=>this.listener.xo())}),this.stream.No(()=>{s(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(o=>{s(()=>this.m_(o))}),this.stream.onMessage(o=>{s(()=>++this.__==1?this.g_(o):this.onNext(o))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return le(Qv,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return n=>{this.Ti.enqueueAndForget(()=>this.i_===e?n():(le(Qv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class gD extends pT{constructor(e,n,s,o,u,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}f_(e,n){return this.connection.Wo("Listen",e,n)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const n=A2(this.serializer,e),s=function(u){if(!("targetChange"in u))return Se.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?Se.min():f.readTime?si(f.readTime):Se.min()}(e);return this.listener.p_(n,s)}y_(e){const n={};n.database=lm(this.serializer),n.addTarget=function(u,f){let m;const g=f.target;if(m=im(g)?{documents:w2(u,g)}:{query:R2(u,g).ht},m.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){m.resumeToken=iT(u,f.resumeToken);const y=sm(u,f.expectedCount);y!==null&&(m.expectedCount=y)}else if(f.snapshotVersion.compareTo(Se.min())>0){m.readTime=Jc(u,f.snapshotVersion.toTimestamp());const y=sm(u,f.expectedCount);y!==null&&(m.expectedCount=y)}return m}(this.serializer,e);const s=I2(this.serializer,e);s&&(n.labels=s),this.I_(n)}w_(e){const n={};n.database=lm(this.serializer),n.removeTarget=e,this.I_(n)}}class yD extends pT{constructor(e,n,s,o,u,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(e,n){return this.connection.Wo("Write",e,n)}g_(e){return qe(!!e.streamToken),this.lastStreamToken=e.streamToken,qe(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){qe(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const n=b2(e.writeResults,e.commitTime),s=si(e.commitTime);return this.listener.v_(s,n)}C_(){const e={};e.database=lm(this.serializer),this.I_(e)}b_(e){const n={streamToken:this.lastStreamToken,writes:e.map(s=>S2(this.serializer,s))};this.I_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _D{}class vD extends _D{constructor(e,n,s,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.F_=!1}M_(){if(this.F_)throw new ge(ne.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,n,s,o){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,f])=>this.connection.So(e,am(n,s),o,u,f)).catch(u=>{throw u.name==="FirebaseError"?(u.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ge(ne.UNKNOWN,u.toString())})}Co(e,n,s,o,u){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([f,m])=>this.connection.Co(e,am(n,s),o,f,m,u)).catch(f=>{throw f.name==="FirebaseError"?(f.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new ge(ne.UNKNOWN,f.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class ED{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(Ki(n),this.N_=!1):le("OnlineStateTracker",n)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ks="RemoteStore";class TD{constructor(e,n,s,o,u){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.U_=[],this.K_=new Map,this.W_=new Set,this.G_=[],this.z_=u,this.z_.To(f=>{s.enqueueAndForget(async()=>{Bs(this)&&(le(ks,"Restarting streams for network reachability change."),await async function(g){const y=be(g);y.W_.add(4),await Kl(y),y.j_.set("Unknown"),y.W_.delete(4),await Eh(y)}(this))})}),this.j_=new ED(s,o)}}async function Eh(r){if(Bs(r))for(const e of r.G_)await e(!0)}async function Kl(r){for(const e of r.G_)await e(!1)}function gT(r,e){const n=be(r);n.K_.has(e.targetId)||(n.K_.set(e.targetId,e),$m(n)?Xm(n):no(n).c_()&&Ym(n,e))}function Km(r,e){const n=be(r),s=no(n);n.K_.delete(e),s.c_()&&yT(n,e),n.K_.size===0&&(s.c_()?s.P_():Bs(n)&&n.j_.set("Unknown"))}function Ym(r,e){if(r.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Se.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}no(r).y_(e)}function yT(r,e){r.H_.Ne(e),no(r).w_(e)}function Xm(r){r.H_=new p2({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>r.K_.get(e)||null,it:()=>r.datastore.serializer.databaseId}),no(r).start(),r.j_.B_()}function $m(r){return Bs(r)&&!no(r).u_()&&r.K_.size>0}function Bs(r){return be(r).W_.size===0}function _T(r){r.H_=void 0}async function AD(r){r.j_.set("Online")}async function SD(r){r.K_.forEach((e,n)=>{Ym(r,e)})}async function bD(r,e){_T(r),$m(r)?(r.j_.q_(e),Xm(r)):r.j_.set("Unknown")}async function wD(r,e,n){if(r.j_.set("Online"),e instanceof nT&&e.state===2&&e.cause)try{await async function(o,u){const f=u.cause;for(const m of u.targetIds)o.K_.has(m)&&(await o.remoteSyncer.rejectListen(m,f),o.K_.delete(m),o.H_.removeTarget(m))}(r,e)}catch(s){le(ks,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await th(r,s)}else if(e instanceof Pc?r.H_.We(e):e instanceof tT?r.H_.Ze(e):r.H_.je(e),!n.isEqual(Se.min()))try{const s=await dT(r.localStore);n.compareTo(s)>=0&&await function(u,f){const m=u.H_.ot(f);return m.targetChanges.forEach((g,y)=>{if(g.resumeToken.approximateByteSize()>0){const E=u.K_.get(y);E&&u.K_.set(y,E.withResumeToken(g.resumeToken,f))}}),m.targetMismatches.forEach((g,y)=>{const E=u.K_.get(g);if(!E)return;u.K_.set(g,E.withResumeToken(Ht.EMPTY_BYTE_STRING,E.snapshotVersion)),yT(u,g);const b=new Dr(E.target,g,y,E.sequenceNumber);Ym(u,b)}),u.remoteSyncer.applyRemoteEvent(m)}(r,n)}catch(s){le(ks,"Failed to raise snapshot:",s),await th(r,s)}}async function th(r,e,n){if(!to(e))throw e;r.W_.add(1),await Kl(r),r.j_.set("Offline"),n||(n=()=>dT(r.localStore)),r.asyncQueue.enqueueRetryable(async()=>{le(ks,"Retrying IndexedDB access"),await n(),r.W_.delete(1),await Eh(r)})}function vT(r,e){return e().catch(n=>th(r,n,e))}async function Th(r){const e=be(r),n=jr(e);let s=e.U_.length>0?e.U_[e.U_.length-1].batchId:xm;for(;RD(e);)try{const o=await oD(e.localStore,s);if(o===null){e.U_.length===0&&n.P_();break}s=o.batchId,CD(e,o)}catch(o){await th(e,o)}ET(e)&&TT(e)}function RD(r){return Bs(r)&&r.U_.length<10}function CD(r,e){r.U_.push(e);const n=jr(r);n.c_()&&n.S_&&n.b_(e.mutations)}function ET(r){return Bs(r)&&!jr(r).u_()&&r.U_.length>0}function TT(r){jr(r).start()}async function ID(r){jr(r).C_()}async function DD(r){const e=jr(r);for(const n of r.U_)e.b_(n.mutations)}async function ND(r,e,n){const s=r.U_.shift(),o=jm.from(s,e,n);await vT(r,()=>r.remoteSyncer.applySuccessfulWrite(o)),await Th(r)}async function OD(r,e){e&&jr(r).S_&&await async function(s,o){if(function(f){return d2(f)&&f!==ne.ABORTED}(o.code)){const u=s.U_.shift();jr(s).h_(),await vT(s,()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o)),await Th(s)}}(r,e),ET(r)&&TT(r)}async function Kv(r,e){const n=be(r);n.asyncQueue.verifyOperationInProgress(),le(ks,"RemoteStore received new credentials");const s=Bs(n);n.W_.add(3),await Kl(n),s&&n.j_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.W_.delete(3),await Eh(n)}async function MD(r,e){const n=be(r);e?(n.W_.delete(2),await Eh(n)):e||(n.W_.add(2),await Kl(n),n.j_.set("Unknown"))}function no(r){return r.J_||(r.J_=function(n,s,o){const u=be(n);return u.M_(),new gD(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(r.datastore,r.asyncQueue,{xo:AD.bind(null,r),No:SD.bind(null,r),Lo:bD.bind(null,r),p_:wD.bind(null,r)}),r.G_.push(async e=>{e?(r.J_.h_(),$m(r)?Xm(r):r.j_.set("Unknown")):(await r.J_.stop(),_T(r))})),r.J_}function jr(r){return r.Y_||(r.Y_=function(n,s,o){const u=be(n);return u.M_(),new yD(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(r.datastore,r.asyncQueue,{xo:()=>Promise.resolve(),No:ID.bind(null,r),Lo:OD.bind(null,r),D_:DD.bind(null,r),v_:ND.bind(null,r)}),r.G_.push(async e=>{e?(r.Y_.h_(),await Th(r)):(await r.Y_.stop(),r.U_.length>0&&(le(ks,`Stopping write stream with ${r.U_.length} pending writes`),r.U_=[]))})),r.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zm{constructor(e,n,s,o,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new kr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(f=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,o,u){const f=Date.now()+s,m=new Zm(e,n,f,o,u);return m.start(s),m}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ge(ne.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Wm(r,e){if(Ki("AsyncQueue",`${e}: ${r}`),to(r))return new ge(ne.UNAVAILABLE,`${e}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ba{static emptySet(e){return new Ba(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||ye.comparator(n.key,s.key):(n,s)=>ye.comparator(n.key,s.key),this.keyedMap=yl(),this.sortedSet=new rt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,s)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Ba)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new Ba;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yv{constructor(){this.Z_=new rt(ye.comparator)}track(e){const n=e.doc.key,s=this.Z_.get(n);s?e.type!==0&&s.type===3?this.Z_=this.Z_.insert(n,e):e.type===3&&s.type!==1?this.Z_=this.Z_.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.Z_=this.Z_.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.Z_=this.Z_.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.Z_=this.Z_.remove(n):e.type===1&&s.type===2?this.Z_=this.Z_.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.Z_=this.Z_.insert(n,{type:2,doc:e.doc}):Te():this.Z_=this.Z_.insert(n,e)}X_(){const e=[];return this.Z_.inorderTraversal((n,s)=>{e.push(s)}),e}}class Ya{constructor(e,n,s,o,u,f,m,g,y){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=m,this.excludesMetadataChanges=g,this.hasCachedResults=y}static fromInitialDocuments(e,n,s,o,u){const f=[];return n.forEach(m=>{f.push({type:0,doc:m})}),new Ya(e,n,Ba.emptySet(n),f,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&mh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xD{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class VD{constructor(){this.queries=Xv(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(n,s){const o=be(n),u=o.queries;o.queries=Xv(),u.forEach((f,m)=>{for(const g of m.ta)g.onError(s)})})(this,new ge(ne.ABORTED,"Firestore shutting down"))}}function Xv(){return new zs(r=>B0(r),mh)}async function kD(r,e){const n=be(r);let s=3;const o=e.query;let u=n.queries.get(o);u?!u.na()&&e.ra()&&(s=2):(u=new xD,s=e.ra()?0:1);try{switch(s){case 0:u.ea=await n.onListen(o,!0);break;case 1:u.ea=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(f){const m=Wm(f,`Initialization of query '${ka(e.query)}' failed`);return void e.onError(m)}n.queries.set(o,u),u.ta.push(e),e.sa(n.onlineState),u.ea&&e.oa(u.ea)&&Jm(n)}async function PD(r,e){const n=be(r),s=e.query;let o=3;const u=n.queries.get(s);if(u){const f=u.ta.indexOf(e);f>=0&&(u.ta.splice(f,1),u.ta.length===0?o=e.ra()?0:1:!u.na()&&e.ra()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function UD(r,e){const n=be(r);let s=!1;for(const o of e){const u=o.query,f=n.queries.get(u);if(f){for(const m of f.ta)m.oa(o)&&(s=!0);f.ea=o}}s&&Jm(n)}function LD(r,e,n){const s=be(r),o=s.queries.get(e);if(o)for(const u of o.ta)u.onError(n);s.queries.delete(e)}function Jm(r){r.ia.forEach(e=>{e.next()})}var hm,$v;($v=hm||(hm={}))._a="default",$v.Cache="cache";class zD{constructor(e,n,s){this.query=e,this.aa=n,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=s||{}}oa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new Ya(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.ua?this.la(e)&&(this.aa.next(e),n=!0):this.ha(e,this.onlineState)&&(this.Pa(e),n=!0),this.ca=e,n}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let n=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),n=!0),n}ha(e,n){if(!e.fromCache||!this.ra())return!0;const s=n!=="Offline";return(!this.options.Ta||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}la(e){if(e.docChanges.length>0)return!0;const n=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Pa(e){e=Ya.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==hm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AT{constructor(e){this.key=e}}class ST{constructor(e){this.key=e}}class jD{constructor(e,n){this.query=e,this.fa=n,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=Ve(),this.mutatedKeys=Ve(),this.ya=H0(e),this.wa=new Ba(this.ya)}get Sa(){return this.fa}ba(e,n){const s=n?n.Da:new Yv,o=n?n.wa:this.wa;let u=n?n.mutatedKeys:this.mutatedKeys,f=o,m=!1;const g=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((E,b)=>{const C=o.get(E),P=ph(this.query,b)?b:null,L=!!C&&this.mutatedKeys.has(C.key),Z=!!P&&(P.hasLocalMutations||this.mutatedKeys.has(P.key)&&P.hasCommittedMutations);let F=!1;C&&P?C.data.isEqual(P.data)?L!==Z&&(s.track({type:3,doc:P}),F=!0):this.va(C,P)||(s.track({type:2,doc:P}),F=!0,(g&&this.ya(P,g)>0||y&&this.ya(P,y)<0)&&(m=!0)):!C&&P?(s.track({type:0,doc:P}),F=!0):C&&!P&&(s.track({type:1,doc:C}),F=!0,(g||y)&&(m=!0)),F&&(P?(f=f.add(P),u=Z?u.add(E):u.delete(E)):(f=f.delete(E),u=u.delete(E)))}),this.query.limit!==null)for(;f.size>this.query.limit;){const E=this.query.limitType==="F"?f.last():f.first();f=f.delete(E.key),u=u.delete(E.key),s.track({type:1,doc:E})}return{wa:f,Da:s,ls:m,mutatedKeys:u}}va(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,o){const u=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const f=e.Da.X_();f.sort((E,b)=>function(P,L){const Z=F=>{switch(F){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Te()}};return Z(P)-Z(L)}(E.type,b.type)||this.ya(E.doc,b.doc)),this.Ca(s),o=o!=null&&o;const m=n&&!o?this.Fa():[],g=this.pa.size===0&&this.current&&!o?1:0,y=g!==this.ga;return this.ga=g,f.length!==0||y?{snapshot:new Ya(this.query,e.wa,u,f,e.mutatedKeys,g===0,y,!1,!!s&&s.resumeToken.approximateByteSize()>0),Ma:m}:{Ma:m}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new Yv,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(n=>this.fa=this.fa.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.fa=this.fa.delete(n)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=Ve(),this.wa.forEach(s=>{this.xa(s.key)&&(this.pa=this.pa.add(s.key))});const n=[];return e.forEach(s=>{this.pa.has(s)||n.push(new ST(s))}),this.pa.forEach(s=>{e.has(s)||n.push(new AT(s))}),n}Oa(e){this.fa=e.gs,this.pa=Ve();const n=this.ba(e.documents);return this.applyChanges(n,!0)}Na(){return Ya.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const ep="SyncEngine";class BD{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class HD{constructor(e){this.key=e,this.Ba=!1}}class qD{constructor(e,n,s,o,u,f){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.La={},this.ka=new zs(m=>B0(m),mh),this.qa=new Map,this.Qa=new Set,this.$a=new rt(ye.comparator),this.Ua=new Map,this.Ka=new qm,this.Wa={},this.Ga=new Map,this.za=Ka.Kn(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function FD(r,e,n=!0){const s=DT(r);let o;const u=s.ka.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.Na()):o=await bT(s,e,n,!0),o}async function GD(r,e){const n=DT(r);await bT(n,e,!0,!1)}async function bT(r,e,n,s){const o=await lD(r.localStore,ri(e)),u=o.targetId,f=r.sharedClientState.addLocalQueryTarget(u,n);let m;return s&&(m=await QD(r,e,u,f==="current",o.resumeToken)),r.isPrimaryClient&&n&&gT(r.remoteStore,o),m}async function QD(r,e,n,s,o){r.Ha=(b,C,P)=>async function(Z,F,$,se){let te=F.view.ba($);te.ls&&(te=await Hv(Z.localStore,F.query,!1).then(({documents:M})=>F.view.ba(M,te)));const fe=se&&se.targetChanges.get(F.targetId),ce=se&&se.targetMismatches.get(F.targetId)!=null,we=F.view.applyChanges(te,Z.isPrimaryClient,fe,ce);return Wv(Z,F.targetId,we.Ma),we.snapshot}(r,b,C,P);const u=await Hv(r.localStore,e,!0),f=new jD(e,u.gs),m=f.ba(u.documents),g=Ql.createSynthesizedTargetChangeForCurrentChange(n,s&&r.onlineState!=="Offline",o),y=f.applyChanges(m,r.isPrimaryClient,g);Wv(r,n,y.Ma);const E=new BD(e,n,f);return r.ka.set(e,E),r.qa.has(n)?r.qa.get(n).push(e):r.qa.set(n,[e]),y.snapshot}async function KD(r,e,n){const s=be(r),o=s.ka.get(e),u=s.qa.get(o.targetId);if(u.length>1)return s.qa.set(o.targetId,u.filter(f=>!mh(f,e))),void s.ka.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await um(s.localStore,o.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(o.targetId),n&&Km(s.remoteStore,o.targetId),fm(s,o.targetId)}).catch(eo)):(fm(s,o.targetId),await um(s.localStore,o.targetId,!0))}async function YD(r,e){const n=be(r),s=n.ka.get(e),o=n.qa.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),Km(n.remoteStore,s.targetId))}async function XD(r,e,n){const s=nN(r);try{const o=await function(f,m){const g=be(f),y=wt.now(),E=m.reduce((P,L)=>P.add(L.key),Ve());let b,C;return g.persistence.runTransaction("Locally write mutations","readwrite",P=>{let L=Yi(),Z=Ve();return g.ds.getEntries(P,E).next(F=>{L=F,L.forEach(($,se)=>{se.isValidDocument()||(Z=Z.add($))})}).next(()=>g.localDocuments.getOverlayedDocuments(P,L)).next(F=>{b=F;const $=[];for(const se of m){const te=l2(se,b.get(se.key).overlayedDocument);te!=null&&$.push(new js(se.key,te,V0(te.value.mapValue),qi.exists(!0)))}return g.mutationQueue.addMutationBatch(P,y,$,m)}).next(F=>{C=F;const $=F.applyToLocalDocumentSet(b,Z);return g.documentOverlayCache.saveOverlays(P,F.batchId,$)})}).then(()=>({batchId:C.batchId,changes:F0(b)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),function(f,m,g){let y=f.Wa[f.currentUser.toKey()];y||(y=new rt(Ie)),y=y.insert(m,g),f.Wa[f.currentUser.toKey()]=y}(s,o.batchId,n),await Yl(s,o.changes),await Th(s.remoteStore)}catch(o){const u=Wm(o,"Failed to persist write");n.reject(u)}}async function wT(r,e){const n=be(r);try{const s=await sD(n.localStore,e);e.targetChanges.forEach((o,u)=>{const f=n.Ua.get(u);f&&(qe(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?f.Ba=!0:o.modifiedDocuments.size>0?qe(f.Ba):o.removedDocuments.size>0&&(qe(f.Ba),f.Ba=!1))}),await Yl(n,s,e)}catch(s){await eo(s)}}function Zv(r,e,n){const s=be(r);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.ka.forEach((u,f)=>{const m=f.view.sa(e);m.snapshot&&o.push(m.snapshot)}),function(f,m){const g=be(f);g.onlineState=m;let y=!1;g.queries.forEach((E,b)=>{for(const C of b.ta)C.sa(m)&&(y=!0)}),y&&Jm(g)}(s.eventManager,e),o.length&&s.La.p_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function $D(r,e,n){const s=be(r);s.sharedClientState.updateQueryState(e,"rejected",n);const o=s.Ua.get(e),u=o&&o.key;if(u){let f=new rt(ye.comparator);f=f.insert(u,Yt.newNoDocument(u,Se.min()));const m=Ve().add(u),g=new _h(Se.min(),new Map,new rt(Ie),f,m);await wT(s,g),s.$a=s.$a.remove(u),s.Ua.delete(e),tp(s)}else await um(s.localStore,e,!1).then(()=>fm(s,e,n)).catch(eo)}async function ZD(r,e){const n=be(r),s=e.batch.batchId;try{const o=await rD(n.localStore,e);CT(n,s,null),RT(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await Yl(n,o)}catch(o){await eo(o)}}async function WD(r,e,n){const s=be(r);try{const o=await function(f,m){const g=be(f);return g.persistence.runTransaction("Reject batch","readwrite-primary",y=>{let E;return g.mutationQueue.lookupMutationBatch(y,m).next(b=>(qe(b!==null),E=b.keys(),g.mutationQueue.removeMutationBatch(y,b))).next(()=>g.mutationQueue.performConsistencyCheck(y)).next(()=>g.documentOverlayCache.removeOverlaysForBatchId(y,E,m)).next(()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,E)).next(()=>g.localDocuments.getDocuments(y,E))})}(s.localStore,e);CT(s,e,n),RT(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await Yl(s,o)}catch(o){await eo(o)}}function RT(r,e){(r.Ga.get(e)||[]).forEach(n=>{n.resolve()}),r.Ga.delete(e)}function CT(r,e,n){const s=be(r);let o=s.Wa[s.currentUser.toKey()];if(o){const u=o.get(e);u&&(n?u.reject(n):u.resolve(),o=o.remove(e)),s.Wa[s.currentUser.toKey()]=o}}function fm(r,e,n=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.qa.get(e))r.ka.delete(s),n&&r.La.Ja(s,n);r.qa.delete(e),r.isPrimaryClient&&r.Ka.br(e).forEach(s=>{r.Ka.containsKey(s)||IT(r,s)})}function IT(r,e){r.Qa.delete(e.path.canonicalString());const n=r.$a.get(e);n!==null&&(Km(r.remoteStore,n),r.$a=r.$a.remove(e),r.Ua.delete(n),tp(r))}function Wv(r,e,n){for(const s of n)s instanceof AT?(r.Ka.addReference(s.key,e),JD(r,s)):s instanceof ST?(le(ep,"Document no longer in limbo: "+s.key),r.Ka.removeReference(s.key,e),r.Ka.containsKey(s.key)||IT(r,s.key)):Te()}function JD(r,e){const n=e.key,s=n.path.canonicalString();r.$a.get(n)||r.Qa.has(s)||(le(ep,"New document in limbo: "+n),r.Qa.add(s),tp(r))}function tp(r){for(;r.Qa.size>0&&r.$a.size<r.maxConcurrentLimboResolutions;){const e=r.Qa.values().next().value;r.Qa.delete(e);const n=new ye(ut.fromString(e)),s=r.za.next();r.Ua.set(s,new HD(n)),r.$a=r.$a.insert(n,s),gT(r.remoteStore,new Dr(ri(Lm(n.path)),s,"TargetPurposeLimboResolution",ch.ae))}}async function Yl(r,e,n){const s=be(r),o=[],u=[],f=[];s.ka.isEmpty()||(s.ka.forEach((m,g)=>{f.push(s.Ha(g,e,n).then(y=>{var E;if((y||n)&&s.isPrimaryClient){const b=y?!y.fromCache:(E=n==null?void 0:n.targetChanges.get(g.targetId))===null||E===void 0?void 0:E.current;s.sharedClientState.updateQueryState(g.targetId,b?"current":"not-current")}if(y){o.push(y);const b=Gm.Yi(g.targetId,y);u.push(b)}}))}),await Promise.all(f),s.La.p_(o),await async function(g,y){const E=be(g);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",b=>J.forEach(y,C=>J.forEach(C.Hi,P=>E.persistence.referenceDelegate.addReference(b,C.targetId,P)).next(()=>J.forEach(C.Ji,P=>E.persistence.referenceDelegate.removeReference(b,C.targetId,P)))))}catch(b){if(!to(b))throw b;le(Qm,"Failed to update sequence numbers: "+b)}for(const b of y){const C=b.targetId;if(!b.fromCache){const P=E.Ts.get(C),L=P.snapshotVersion,Z=P.withLastLimboFreeSnapshotVersion(L);E.Ts=E.Ts.insert(C,Z)}}}(s.localStore,u))}async function eN(r,e){const n=be(r);if(!n.currentUser.isEqual(e)){le(ep,"User change. New user:",e.toKey());const s=await fT(n.localStore,e);n.currentUser=e,function(u,f){u.Ga.forEach(m=>{m.forEach(g=>{g.reject(new ge(ne.CANCELLED,f))})}),u.Ga.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Yl(n,s.Rs)}}function tN(r,e){const n=be(r),s=n.Ua.get(e);if(s&&s.Ba)return Ve().add(s.key);{let o=Ve();const u=n.qa.get(e);if(!u)return o;for(const f of u){const m=n.ka.get(f);o=o.unionWith(m.view.Sa)}return o}}function DT(r){const e=be(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=wT.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=tN.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=$D.bind(null,e),e.La.p_=UD.bind(null,e.eventManager),e.La.Ja=LD.bind(null,e.eventManager),e}function nN(r){const e=be(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=ZD.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=WD.bind(null,e),e}class nh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=vh(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,n){return null}nu(e,n){return null}eu(e){return iD(this.persistence,new eD,e.initialUser,this.serializer)}Xa(e){return new hT(Fm.ri,this.serializer)}Za(e){return new cD}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}nh.provider={build:()=>new nh};class iN extends nh{constructor(e){super(),this.cacheSizeBytes=e}tu(e,n){qe(this.persistence.referenceDelegate instanceof eh);const s=this.persistence.referenceDelegate.garbageCollector;return new z2(s,e.asyncQueue,n)}Xa(e){const n=this.cacheSizeBytes!==void 0?rn.withCacheSize(this.cacheSizeBytes):rn.DEFAULT;return new hT(s=>eh.ri(s,n),this.serializer)}}class dm{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>Zv(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=eN.bind(null,this.syncEngine),await MD(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new VD}()}createDatastore(e){const n=vh(e.databaseInfo.databaseId),s=function(u){return new pD(u)}(e.databaseInfo);return function(u,f,m,g){return new vD(u,f,m,g)}(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return function(s,o,u,f,m){return new TD(s,o,u,f,m)}(this.localStore,this.datastore,e.asyncQueue,n=>Zv(this.syncEngine,n,0),function(){return Gv.D()?new Gv:new hD}())}createSyncEngine(e,n){return function(o,u,f,m,g,y,E){const b=new qD(o,u,f,m,g,y);return E&&(b.ja=!0),b}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(o){const u=be(o);le(ks,"RemoteStore shutting down."),u.W_.add(5),await Kl(u),u.z_.shutdown(),u.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}dm.provider={build:()=>new dm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rN{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):Ki("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Br="FirestoreClient";class sN{constructor(e,n,s,o,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=o,this.user=Kt.UNAUTHENTICATED,this.clientId=b0.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,async f=>{le(Br,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f}),this.appCheckCredentials.start(s,f=>(le(Br,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new kr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=Wm(n,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function Bd(r,e){r.asyncQueue.verifyOperationInProgress(),le(Br,"Initializing OfflineComponentProvider");const n=r.configuration;await e.initialize(n);let s=n.initialUser;r.setCredentialChangeListener(async o=>{s.isEqual(o)||(await fT(e.localStore,o),s=o)}),e.persistence.setDatabaseDeletedListener(()=>r.terminate()),r._offlineComponents=e}async function Jv(r,e){r.asyncQueue.verifyOperationInProgress();const n=await aN(r);le(Br,"Initializing OnlineComponentProvider"),await e.initialize(n,r.configuration),r.setCredentialChangeListener(s=>Kv(e.remoteStore,s)),r.setAppCheckTokenChangeListener((s,o)=>Kv(e.remoteStore,o)),r._onlineComponents=e}async function aN(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){le(Br,"Using user provided OfflineComponentProvider");try{await Bd(r,r._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(o){return o.name==="FirebaseError"?o.code===ne.FAILED_PRECONDITION||o.code===ne.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(n))throw n;qa("Error using user provided cache. Falling back to memory cache: "+n),await Bd(r,new nh)}}else le(Br,"Using default OfflineComponentProvider"),await Bd(r,new iN(void 0));return r._offlineComponents}async function NT(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(le(Br,"Using user provided OnlineComponentProvider"),await Jv(r,r._uninitializedComponentsProvider._online)):(le(Br,"Using default OnlineComponentProvider"),await Jv(r,new dm))),r._onlineComponents}function oN(r){return NT(r).then(e=>e.syncEngine)}async function lN(r){const e=await NT(r),n=e.eventManager;return n.onListen=FD.bind(null,e.syncEngine),n.onUnlisten=KD.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=GD.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=YD.bind(null,e.syncEngine),n}function uN(r,e,n={}){const s=new kr;return r.asyncQueue.enqueueAndForget(async()=>function(u,f,m,g,y){const E=new rN({next:C=>{E.su(),f.enqueueAndForget(()=>PD(u,b));const P=C.docs.has(m);!P&&C.fromCache?y.reject(new ge(ne.UNAVAILABLE,"Failed to get document because the client is offline.")):P&&C.fromCache&&g&&g.source==="server"?y.reject(new ge(ne.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(C)},error:C=>y.reject(C)}),b=new zD(Lm(m.path),E,{includeMetadataChanges:!0,Ta:!0});return kD(u,b)}(await lN(r),r.asyncQueue,e,n,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OT(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eE=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cN(r,e,n){if(!n)throw new ge(ne.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function hN(r,e,n,s){if(e===!0&&s===!0)throw new ge(ne.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function tE(r){if(!ye.isDocumentKey(r))throw new ge(ne.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function np(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":Te()}function Vl(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new ge(ne.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=np(r);throw new ge(ne.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MT="firestore.googleapis.com",nE=!0;class iE{constructor(e){var n,s;if(e.host===void 0){if(e.ssl!==void 0)throw new ge(ne.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=MT,this.ssl=nE}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:nE;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=cT;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<U2)throw new ge(ne.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}hN("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=OT((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(u){if(u.timeoutSeconds!==void 0){if(isNaN(u.timeoutSeconds))throw new ge(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (must not be NaN)`);if(u.timeoutSeconds<5)throw new ge(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (minimum allowed value is 5)`);if(u.timeoutSeconds>30)throw new ge(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,o){return s.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class ip{constructor(e,n,s,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new iE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ge(ne.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ge(ne.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new iE(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new dI;switch(s.type){case"firstParty":return new yI(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ge(ne.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const s=eE.get(n);s&&(le("ComponentProvider","Removing Datastore"),eE.delete(n),s.terminate())}(this),Promise.resolve()}}function fN(r,e,n,s={}){var o;const u=(r=Vl(r,ip))._getSettings(),f=Object.assign(Object.assign({},u),{emulatorOptions:r._getEmulatorOptions()}),m=`${e}:${n}`;u.host!==MT&&u.host!==m&&qa("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g=Object.assign(Object.assign({},u),{host:m,ssl:!1,emulatorOptions:s});if(!Ns(g,f)&&(r._setSettings(g),s.mockUserToken)){let y,E;if(typeof s.mockUserToken=="string")y=s.mockUserToken,E=Kt.MOCK_USER;else{y=Ow(s.mockUserToken,(o=r._app)===null||o===void 0?void 0:o.options.projectId);const b=s.mockUserToken.sub||s.mockUserToken.user_id;if(!b)throw new ge(ne.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new Kt(b)}r._authCredentials=new mI(new A0(y,E))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rp{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new rp(this.firestore,e,this._query)}}class Dn{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new kl(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Dn(this.firestore,e,this._key)}}class kl extends rp{constructor(e,n,s){super(e,n,Lm(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Dn(this.firestore,null,new ye(e))}withConverter(e){return new kl(this.firestore,e,this._path)}}function dN(r,e,...n){if(r=oi(r),arguments.length===1&&(e=b0.newId()),cN("doc","path",e),r instanceof ip){const s=ut.fromString(e,...n);return tE(s),new Dn(r,null,new ye(s))}{if(!(r instanceof Dn||r instanceof kl))throw new ge(ne.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(ut.fromString(e,...n));return tE(s),new Dn(r.firestore,r instanceof kl?r.converter:null,new ye(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rE="AsyncQueue";class sE{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new mT(this,"async_queue_retry"),this.Su=()=>{const s=jd();s&&le(rE,"Visibility state changed to "+s.visibilityState),this.a_.t_()},this.bu=e;const n=jd();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const n=jd();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Su)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const n=new kr;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!to(e))throw e;le(rE,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const n=this.bu.then(()=>(this.pu=!0,e().catch(s=>{this.gu=s,this.pu=!1;const o=function(f){let m=f.message||"";return f.stack&&(m=f.stack.includes(f.message)?f.stack:f.message+`
`+f.stack),m}(s);throw Ki("INTERNAL UNHANDLED ERROR: ",o),s}).then(s=>(this.pu=!1,s))));return this.bu=n,n}enqueueAfterDelay(e,n,s){this.Du(),this.wu.indexOf(e)>-1&&(n=0);const o=Zm.createAndSchedule(this,e,n,s,u=>this.Fu(u));return this.fu.push(o),o}Du(){this.gu&&Te()}verifyOperationInProgress(){}async Mu(){let e;do e=this.bu,await e;while(e!==this.bu)}xu(e){for(const n of this.fu)if(n.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((n,s)=>n.targetTimeMs-s.targetTimeMs);for(const n of this.fu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const n=this.fu.indexOf(e);this.fu.splice(n,1)}}class sp extends ip{constructor(e,n,s,o){super(e,n,s,o),this.type="firestore",this._queue=new sE,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new sE(e),this._firestoreClient=void 0,await e}}}function mN(r,e){const n=typeof r=="object"?r:VE(),s=typeof r=="string"?r:Kc,o=Am(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=Dw("firestore");u&&fN(o,...u)}return o}function xT(r){if(r._terminated)throw new ge(ne.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||pN(r),r._firestoreClient}function pN(r){var e,n,s;const o=r._freezeSettings(),u=function(m,g,y,E){return new MI(m,g,y,E.host,E.ssl,E.experimentalForceLongPolling,E.experimentalAutoDetectLongPolling,OT(E.experimentalLongPollingOptions),E.useFetchStreams)}(r._databaseId,((e=r._app)===null||e===void 0?void 0:e.options.appId)||"",r._persistenceKey,o);r._componentsProvider||!((n=o.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((s=o.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(r._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),r._firestoreClient=new sN(r._authCredentials,r._appCheckCredentials,r._queue,u,r._componentsProvider&&function(m){const g=m==null?void 0:m._online.build();return{_offline:m==null?void 0:m._offline.build(g),_online:g}}(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xa{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Xa(Ht.fromBase64String(e))}catch(n){throw new ge(ne.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Xa(Ht.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ap{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ge(ne.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Bt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VT{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class op{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ge(ne.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ge(ne.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ie(this._lat,e._lat)||Ie(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lp{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gN=/^__.*__$/;class yN{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new js(e,this.data,this.fieldMask,n,this.fieldTransforms):new Gl(e,this.data,n,this.fieldTransforms)}}function kT(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Te()}}class up{constructor(e,n,s,o,u,f){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Bu(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new up(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),o=this.ku({path:s,Qu:!1});return o.$u(e),o}Uu(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),o=this.ku({path:s,Qu:!1});return o.Bu(),o}Ku(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return ih(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(kT(this.Lu)&&gN.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class _N{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||vh(e)}ju(e,n,s,o=!1){return new up({Lu:e,methodName:n,zu:s,path:Bt.emptyPath(),Qu:!1,Gu:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function vN(r){const e=r._freezeSettings(),n=vh(r._databaseId);return new _N(r._databaseId,!!e.ignoreUndefinedProperties,n)}function EN(r,e,n,s,o,u={}){const f=r.ju(u.merge||u.mergeFields?2:0,e,n,o);zT("Data must be an object, but it was:",f,s);const m=UT(s,f);let g,y;if(u.merge)g=new Un(f.fieldMask),y=f.fieldTransforms;else if(u.mergeFields){const E=[];for(const b of u.mergeFields){const C=TN(e,b,n);if(!f.contains(C))throw new ge(ne.INVALID_ARGUMENT,`Field '${C}' is specified in your field mask but missing from your input data.`);SN(E,C)||E.push(C)}g=new Un(E),y=f.fieldTransforms.filter(b=>g.covers(b.field))}else g=null,y=f.fieldTransforms;return new yN(new In(m),g,y)}function PT(r,e){if(LT(r=oi(r)))return zT("Unsupported field value:",e,r),UT(r,e);if(r instanceof VT)return function(s,o){if(!kT(o.Lu))throw o.Wu(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Wu(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)}(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(s,o){const u=[];let f=0;for(const m of s){let g=PT(m,o.Ku(f));g==null&&(g={nullValue:"NULL_VALUE"}),u.push(g),f++}return{arrayValue:{values:u}}}(r,e)}return function(s,o){if((s=oi(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return n2(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=wt.fromDate(s);return{timestampValue:Jc(o.serializer,u)}}if(s instanceof wt){const u=new wt(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Jc(o.serializer,u)}}if(s instanceof op)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Xa)return{bytesValue:iT(o.serializer,s._byteString)};if(s instanceof Dn){const u=o.databaseId,f=s.firestore._databaseId;if(!f.isEqual(u))throw o.Wu(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Hm(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof lp)return function(f,m){return{mapValue:{fields:{[M0]:{stringValue:x0},[Yc]:{arrayValue:{values:f.toArray().map(y=>{if(typeof y!="number")throw m.Wu("VectorValues must only contain numeric values.");return zm(m.serializer,y)})}}}}}}(s,o);throw o.Wu(`Unsupported field value: ${np(s)}`)}(r,e)}function UT(r,e){const n={};return R0(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ls(r,(s,o)=>{const u=PT(o,e.qu(s));u!=null&&(n[s]=u)}),{mapValue:{fields:n}}}function LT(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof wt||r instanceof op||r instanceof Xa||r instanceof Dn||r instanceof VT||r instanceof lp)}function zT(r,e,n){if(!LT(n)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(n)){const s=np(n);throw s==="an object"?e.Wu(r+" a custom object"):e.Wu(r+" "+s)}}function TN(r,e,n){if((e=oi(e))instanceof ap)return e._internalPath;if(typeof e=="string")return jT(r,e);throw ih("Field path arguments must be of type string or ",r,!1,void 0,n)}const AN=new RegExp("[~\\*/\\[\\]]");function jT(r,e,n){if(e.search(AN)>=0)throw ih(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new ap(...e.split("."))._internalPath}catch{throw ih(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function ih(r,e,n,s,o){const u=s&&!s.isEmpty(),f=o!==void 0;let m=`Function ${e}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let g="";return(u||f)&&(g+=" (found",u&&(g+=` in field ${s}`),f&&(g+=` in document ${o}`),g+=")"),new ge(ne.INVALID_ARGUMENT,m+r+g)}function SN(r,e){return r.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BT{constructor(e,n,s,o,u){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Dn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new bN(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(HT("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class bN extends BT{data(){return super.data()}}function HT(r,e){return typeof e=="string"?jT(r,e):e instanceof ap?e._internalPath:e._delegate._internalPath}class wN{convertValue(e,n="none"){switch(zr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return dt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Lr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Te()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return Ls(e,(o,u)=>{s[o]=this.convertValue(u,n)}),s}convertVectorValue(e){var n,s,o;const u=(o=(s=(n=e.fields)===null||n===void 0?void 0:n[Yc].arrayValue)===null||s===void 0?void 0:s.values)===null||o===void 0?void 0:o.map(f=>dt(f.doubleValue));return new lp(u)}convertGeoPoint(e){return new op(dt(e.latitude),dt(e.longitude))}convertArray(e,n){return(e.values||[]).map(s=>this.convertValue(s,n))}convertServerTimestamp(e,n){switch(n){case"previous":const s=fh(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(Dl(e));default:return null}}convertTimestamp(e){const n=Ur(e);return new wt(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=ut.fromString(e);qe(uT(s));const o=new Nl(s.get(1),s.get(3)),u=new ye(s.popFirst(5));return o.isEqual(n)||Ki(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RN(r,e,n){let s;return s=r?r.toFirestore(e):e,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CN{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class qT extends BT{constructor(e,n,s,o,u,f){super(e,n,s,o,f),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new IN(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(HT("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}}class IN extends qT{data(e={}){return super.data(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DN(r){r=Vl(r,Dn);const e=Vl(r.firestore,sp);return uN(xT(e),r._key).then(n=>xN(e,r,n))}class NN extends wN{constructor(e){super(),this.firestore=e}convertBytes(e){return new Xa(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Dn(this.firestore,null,n)}}function ON(r,e,n){r=Vl(r,Dn);const s=Vl(r.firestore,sp),o=RN(r.converter,e);return MN(s,[EN(vN(s),"setDoc",r._key,o,r.converter!==null,n).toMutation(r._key,qi.none())])}function MN(r,e){return function(s,o){const u=new kr;return s.asyncQueue.enqueueAndForget(async()=>XD(await oN(s),o,u)),u.promise}(xT(r),e)}function xN(r,e,n){const s=n.docs.get(e._key),o=new NN(r);return new qT(r,o,e._key,s,new CN(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(o){Ja=o})(Wa),Ha(new Os("firestore",(s,{instanceIdentifier:o,options:u})=>{const f=s.getProvider("app").getImmediate(),m=new sp(new pI(s.getProvider("auth-internal")),new _I(f,s.getProvider("app-check-internal")),function(y,E){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new ge(ne.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Nl(y.options.projectId,E)}(f,o),f);return u=Object.assign({useFetchStreams:n},u),m._setSettings(u),m},"PUBLIC").setMultipleInstances(!0)),Mr(fv,dv,e),Mr(fv,dv,"esm2017")})();const VN={apiKey:"AIzaSyCBWTWgBgUK6W63rm2FQHeIyKBuQtk-0jE",authDomain:"hytteleie-d9ee4.firebaseapp.com",projectId:"hytteleie-d9ee4",storageBucket:"hytteleie-d9ee4.firebasestorage.app",messagingSenderId:"317187915570",appId:"1:317187915570:web:6ab3e00687dd257ca7612b"},FT=xE(VN),GT=hI(FT),kN=mN(FT);async function PN(r,e){return(await W1(GT,r,e)).user}async function UN(){const r=new zi,n=(await EC(GT,r)).user,s=dN(kN,"users",n.uid);return(await DN(s)).exists()||await ON(s,{uid:n.uid,name:n.displayName,email:n.email,photoURL:n.photoURL,createdAt:new Date}),console.log(n),n}function LN(){const[r,e]=Y.useState(""),[n,s]=Y.useState(""),[o,u]=Y.useState(!1);function f(y){if(y.preventDefault(),!o){window.alert("Du må akseptere vilkårene.");return}PN(r,n).then(()=>{}).catch(E=>{console.warn(E)})}const m=async y=>{if(y.preventDefault(),!o){window.alert("Du må akseptere vilkårene.");return}try{await UN()}catch(E){console.warn(E)}},g=()=>u(!o);return q.jsx("div",{className:"auth-page-container",children:q.jsxs("div",{className:"auth-page-content",children:[q.jsxs("div",{className:"auth-top",children:[q.jsxs("div",{className:"auth-title",children:[q.jsx("svg",{width:"100%",height:"100%",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:q.jsx("path",{d:"M20 21C20 19.6044 20 18.9067 19.8278 18.3389C19.44 17.0605 18.4395 16.06 17.1611 15.6722C16.5933 15.5 15.8956 15.5 14.5 15.5H9.5C8.10444 15.5 7.40665 15.5 6.83886 15.6722C5.56045 16.06 4.56004 17.0605 4.17224 18.3389C4 18.9067 4 19.6044 4 21M16.5 7.5C16.5 9.98528 14.4853 12 12 12C9.51472 12 7.5 9.98528 7.5 7.5C7.5 5.01472 9.51472 3 12 3C14.4853 3 16.5 5.01472 16.5 7.5Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}),q.jsx("h3",{children:"Registrer deg"})]}),q.jsx("p",{children:"Opprett konto og kom deg ut i naturen."})]}),q.jsxs("form",{className:"auth-form",onSubmit:f,children:[q.jsx("input",{className:"input-text",type:"email",name:"email",placeholder:"E-post",required:!0,onChange:y=>e(y.target.value)}),q.jsx("input",{type:"password",className:"input-text",name:"password",placeholder:"Passord",required:!0,onChange:y=>s(y.target.value)}),q.jsxs("div",{className:"terms-container",children:[q.jsx("input",{type:"checkbox",className:"input-checkbox",onChange:g}),q.jsxs("span",{children:["Ved å registrere deg bekrefter du at du har lest og akseptert ",q.jsx("a",{className:"terms-a",href:"/vilkår",target:"_blank",children:"våre vilkår og betingelser"}),"."]})]}),q.jsx("button",{className:"auth-button",type:"submit",children:"Registrer deg"})]}),q.jsx("p",{className:"or-line",children:"ELLER"}),q.jsx("div",{className:"providers-container",children:q.jsx("button",{onClick:m,children:q.jsx("img",{src:Ew,alt:"Google ikon"})})})]})})}function zN(){return q.jsx(Bb,{children:q.jsx("div",{className:"app-container",children:q.jsx("div",{className:"app-wrapper",children:q.jsxs("div",{className:"app-innhold",children:[q.jsx(fw,{}),q.jsx("div",{className:"main-content",children:q.jsxs(yb,{children:[q.jsx(Rs,{path:"/",element:q.jsx(hw,{})}),q.jsx(Rs,{path:"/omoss",element:q.jsx(pw,{})}),q.jsx(Rs,{path:"/hytter",element:q.jsx(_w,{})}),q.jsx(Rs,{path:"/hytter/:cabinId",element:q.jsx(vw,{})}),q.jsx(Rs,{path:"/register",element:q.jsx(LN,{})}),q.jsx(Rs,{path:"*",element:q.jsx(mw,{})})]})})]})})})})}wS.createRoot(document.getElementById("root")).render(q.jsx(Y.StrictMode,{children:q.jsx(zN,{})}));
