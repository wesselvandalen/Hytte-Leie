var HR=Object.defineProperty;var FR=(r,e,t)=>e in r?HR(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t;var pe=(r,e,t)=>FR(r,typeof e!="symbol"?e+"":e,t);function zR(r,e){for(var t=0;t<e.length;t++){const n=e[t];if(typeof n!="string"&&!Array.isArray(n)){for(const a in n)if(a!=="default"&&!(a in r)){const o=Object.getOwnPropertyDescriptor(n,a);o&&Object.defineProperty(r,a,o.get?o:{enumerable:!0,get:()=>n[a]})}}}return Object.freeze(Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const u of o.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&n(u)}).observe(document,{childList:!0,subtree:!0});function t(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(a){if(a.ep)return;a.ep=!0;const o=t(a);fetch(a.href,o)}})();function zb(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Bm={exports:{}},Mu={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _E;function YR(){if(_E)return Mu;_E=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(n,a,o){var u=null;if(o!==void 0&&(u=""+o),a.key!==void 0&&(u=""+a.key),"key"in a){o={};for(var f in a)f!=="key"&&(o[f]=a[f])}else o=a;return a=o.ref,{$$typeof:r,type:n,key:u,ref:a!==void 0?a:null,props:o}}return Mu.Fragment=e,Mu.jsx=t,Mu.jsxs=t,Mu}var EE;function qR(){return EE||(EE=1,Bm.exports=YR()),Bm.exports}var B=qR(),jm={exports:{}},Oe={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wE;function GR(){if(wE)return Oe;wE=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),u=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),_=Symbol.iterator;function b(L){return L===null||typeof L!="object"?null:(L=_&&L[_]||L["@@iterator"],typeof L=="function"?L:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C=Object.assign,N={};function I(L,te,he){this.props=L,this.context=te,this.refs=N,this.updater=he||S}I.prototype.isReactComponent={},I.prototype.setState=function(L,te){if(typeof L!="object"&&typeof L!="function"&&L!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,L,te,"setState")},I.prototype.forceUpdate=function(L){this.updater.enqueueForceUpdate(this,L,"forceUpdate")};function j(){}j.prototype=I.prototype;function K(L,te,he){this.props=L,this.context=te,this.refs=N,this.updater=he||S}var z=K.prototype=new j;z.constructor=K,C(z,I.prototype),z.isPureReactComponent=!0;var re=Array.isArray,ie={H:null,A:null,T:null,S:null,V:null},fe=Object.prototype.hasOwnProperty;function x(L,te,he,ue,_e,Ve){return he=Ve.ref,{$$typeof:r,type:L,key:te,ref:he!==void 0?he:null,props:Ve}}function D(L,te){return x(L.type,te,void 0,void 0,void 0,L.props)}function R(L){return typeof L=="object"&&L!==null&&L.$$typeof===r}function M(L){var te={"=":"=0",":":"=2"};return"$"+L.replace(/[=:]/g,function(he){return te[he]})}var P=/\/+/g;function U(L,te){return typeof L=="object"&&L!==null&&L.key!=null?M(""+L.key):te.toString(36)}function k(){}function Re(L){switch(L.status){case"fulfilled":return L.value;case"rejected":throw L.reason;default:switch(typeof L.status=="string"?L.then(k,k):(L.status="pending",L.then(function(te){L.status==="pending"&&(L.status="fulfilled",L.value=te)},function(te){L.status==="pending"&&(L.status="rejected",L.reason=te)})),L.status){case"fulfilled":return L.value;case"rejected":throw L.reason}}throw L}function Ee(L,te,he,ue,_e){var Ve=typeof L;(Ve==="undefined"||Ve==="boolean")&&(L=null);var Ie=!1;if(L===null)Ie=!0;else switch(Ve){case"bigint":case"string":case"number":Ie=!0;break;case"object":switch(L.$$typeof){case r:case e:Ie=!0;break;case v:return Ie=L._init,Ee(Ie(L._payload),te,he,ue,_e)}}if(Ie)return _e=_e(L),Ie=ue===""?"."+U(L,0):ue,re(_e)?(he="",Ie!=null&&(he=Ie.replace(P,"$&/")+"/"),Ee(_e,te,he,"",function(mr){return mr})):_e!=null&&(R(_e)&&(_e=D(_e,he+(_e.key==null||L&&L.key===_e.key?"":(""+_e.key).replace(P,"$&/")+"/")+Ie)),te.push(_e)),1;Ie=0;var Yt=ue===""?".":ue+":";if(re(L))for(var ft=0;ft<L.length;ft++)ue=L[ft],Ve=Yt+U(ue,ft),Ie+=Ee(ue,te,he,Ve,_e);else if(ft=b(L),typeof ft=="function")for(L=ft.call(L),ft=0;!(ue=L.next()).done;)ue=ue.value,Ve=Yt+U(ue,ft++),Ie+=Ee(ue,te,he,Ve,_e);else if(Ve==="object"){if(typeof L.then=="function")return Ee(Re(L),te,he,ue,_e);throw te=String(L),Error("Objects are not valid as a React child (found: "+(te==="[object Object]"?"object with keys {"+Object.keys(L).join(", ")+"}":te)+"). If you meant to render a collection of children, use an array instead.")}return Ie}function Y(L,te,he){if(L==null)return L;var ue=[],_e=0;return Ee(L,ue,"","",function(Ve){return te.call(he,Ve,_e++)}),ue}function ne(L){if(L._status===-1){var te=L._result;te=te(),te.then(function(he){(L._status===0||L._status===-1)&&(L._status=1,L._result=he)},function(he){(L._status===0||L._status===-1)&&(L._status=2,L._result=he)}),L._status===-1&&(L._status=0,L._result=te)}if(L._status===1)return L._result.default;throw L._result}var le=typeof reportError=="function"?reportError:function(L){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var te=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof L=="object"&&L!==null&&typeof L.message=="string"?String(L.message):String(L),error:L});if(!window.dispatchEvent(te))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",L);return}console.error(L)};function we(){}return Oe.Children={map:Y,forEach:function(L,te,he){Y(L,function(){te.apply(this,arguments)},he)},count:function(L){var te=0;return Y(L,function(){te++}),te},toArray:function(L){return Y(L,function(te){return te})||[]},only:function(L){if(!R(L))throw Error("React.Children.only expected to receive a single React element child.");return L}},Oe.Component=I,Oe.Fragment=t,Oe.Profiler=a,Oe.PureComponent=K,Oe.StrictMode=n,Oe.Suspense=p,Oe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ie,Oe.__COMPILER_RUNTIME={__proto__:null,c:function(L){return ie.H.useMemoCache(L)}},Oe.cache=function(L){return function(){return L.apply(null,arguments)}},Oe.cloneElement=function(L,te,he){if(L==null)throw Error("The argument must be a React element, but you passed "+L+".");var ue=C({},L.props),_e=L.key,Ve=void 0;if(te!=null)for(Ie in te.ref!==void 0&&(Ve=void 0),te.key!==void 0&&(_e=""+te.key),te)!fe.call(te,Ie)||Ie==="key"||Ie==="__self"||Ie==="__source"||Ie==="ref"&&te.ref===void 0||(ue[Ie]=te[Ie]);var Ie=arguments.length-2;if(Ie===1)ue.children=he;else if(1<Ie){for(var Yt=Array(Ie),ft=0;ft<Ie;ft++)Yt[ft]=arguments[ft+2];ue.children=Yt}return x(L.type,_e,void 0,void 0,Ve,ue)},Oe.createContext=function(L){return L={$$typeof:u,_currentValue:L,_currentValue2:L,_threadCount:0,Provider:null,Consumer:null},L.Provider=L,L.Consumer={$$typeof:o,_context:L},L},Oe.createElement=function(L,te,he){var ue,_e={},Ve=null;if(te!=null)for(ue in te.key!==void 0&&(Ve=""+te.key),te)fe.call(te,ue)&&ue!=="key"&&ue!=="__self"&&ue!=="__source"&&(_e[ue]=te[ue]);var Ie=arguments.length-2;if(Ie===1)_e.children=he;else if(1<Ie){for(var Yt=Array(Ie),ft=0;ft<Ie;ft++)Yt[ft]=arguments[ft+2];_e.children=Yt}if(L&&L.defaultProps)for(ue in Ie=L.defaultProps,Ie)_e[ue]===void 0&&(_e[ue]=Ie[ue]);return x(L,Ve,void 0,void 0,null,_e)},Oe.createRef=function(){return{current:null}},Oe.forwardRef=function(L){return{$$typeof:f,render:L}},Oe.isValidElement=R,Oe.lazy=function(L){return{$$typeof:v,_payload:{_status:-1,_result:L},_init:ne}},Oe.memo=function(L,te){return{$$typeof:m,type:L,compare:te===void 0?null:te}},Oe.startTransition=function(L){var te=ie.T,he={};ie.T=he;try{var ue=L(),_e=ie.S;_e!==null&&_e(he,ue),typeof ue=="object"&&ue!==null&&typeof ue.then=="function"&&ue.then(we,le)}catch(Ve){le(Ve)}finally{ie.T=te}},Oe.unstable_useCacheRefresh=function(){return ie.H.useCacheRefresh()},Oe.use=function(L){return ie.H.use(L)},Oe.useActionState=function(L,te,he){return ie.H.useActionState(L,te,he)},Oe.useCallback=function(L,te){return ie.H.useCallback(L,te)},Oe.useContext=function(L){return ie.H.useContext(L)},Oe.useDebugValue=function(){},Oe.useDeferredValue=function(L,te){return ie.H.useDeferredValue(L,te)},Oe.useEffect=function(L,te,he){var ue=ie.H;if(typeof he=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return ue.useEffect(L,te)},Oe.useId=function(){return ie.H.useId()},Oe.useImperativeHandle=function(L,te,he){return ie.H.useImperativeHandle(L,te,he)},Oe.useInsertionEffect=function(L,te){return ie.H.useInsertionEffect(L,te)},Oe.useLayoutEffect=function(L,te){return ie.H.useLayoutEffect(L,te)},Oe.useMemo=function(L,te){return ie.H.useMemo(L,te)},Oe.useOptimistic=function(L,te){return ie.H.useOptimistic(L,te)},Oe.useReducer=function(L,te,he){return ie.H.useReducer(L,te,he)},Oe.useRef=function(L){return ie.H.useRef(L)},Oe.useState=function(L){return ie.H.useState(L)},Oe.useSyncExternalStore=function(L,te,he){return ie.H.useSyncExternalStore(L,te,he)},Oe.useTransition=function(){return ie.H.useTransition()},Oe.version="19.1.0",Oe}var bE;function Qg(){return bE||(bE=1,jm.exports=GR()),jm.exports}var V=Qg();const J=zb(V),QR=zR({__proto__:null,default:J},[V]);var Hm={exports:{}},Ou={},Fm={exports:{}},zm={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var TE;function KR(){return TE||(TE=1,function(r){function e(Y,ne){var le=Y.length;Y.push(ne);e:for(;0<le;){var we=le-1>>>1,L=Y[we];if(0<a(L,ne))Y[we]=ne,Y[le]=L,le=we;else break e}}function t(Y){return Y.length===0?null:Y[0]}function n(Y){if(Y.length===0)return null;var ne=Y[0],le=Y.pop();if(le!==ne){Y[0]=le;e:for(var we=0,L=Y.length,te=L>>>1;we<te;){var he=2*(we+1)-1,ue=Y[he],_e=he+1,Ve=Y[_e];if(0>a(ue,le))_e<L&&0>a(Ve,ue)?(Y[we]=Ve,Y[_e]=le,we=_e):(Y[we]=ue,Y[he]=le,we=he);else if(_e<L&&0>a(Ve,le))Y[we]=Ve,Y[_e]=le,we=_e;else break e}}return ne}function a(Y,ne){var le=Y.sortIndex-ne.sortIndex;return le!==0?le:Y.id-ne.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;r.unstable_now=function(){return o.now()}}else{var u=Date,f=u.now();r.unstable_now=function(){return u.now()-f}}var p=[],m=[],v=1,_=null,b=3,S=!1,C=!1,N=!1,I=!1,j=typeof setTimeout=="function"?setTimeout:null,K=typeof clearTimeout=="function"?clearTimeout:null,z=typeof setImmediate<"u"?setImmediate:null;function re(Y){for(var ne=t(m);ne!==null;){if(ne.callback===null)n(m);else if(ne.startTime<=Y)n(m),ne.sortIndex=ne.expirationTime,e(p,ne);else break;ne=t(m)}}function ie(Y){if(N=!1,re(Y),!C)if(t(p)!==null)C=!0,fe||(fe=!0,U());else{var ne=t(m);ne!==null&&Ee(ie,ne.startTime-Y)}}var fe=!1,x=-1,D=5,R=-1;function M(){return I?!0:!(r.unstable_now()-R<D)}function P(){if(I=!1,fe){var Y=r.unstable_now();R=Y;var ne=!0;try{e:{C=!1,N&&(N=!1,K(x),x=-1),S=!0;var le=b;try{t:{for(re(Y),_=t(p);_!==null&&!(_.expirationTime>Y&&M());){var we=_.callback;if(typeof we=="function"){_.callback=null,b=_.priorityLevel;var L=we(_.expirationTime<=Y);if(Y=r.unstable_now(),typeof L=="function"){_.callback=L,re(Y),ne=!0;break t}_===t(p)&&n(p),re(Y)}else n(p);_=t(p)}if(_!==null)ne=!0;else{var te=t(m);te!==null&&Ee(ie,te.startTime-Y),ne=!1}}break e}finally{_=null,b=le,S=!1}ne=void 0}}finally{ne?U():fe=!1}}}var U;if(typeof z=="function")U=function(){z(P)};else if(typeof MessageChannel<"u"){var k=new MessageChannel,Re=k.port2;k.port1.onmessage=P,U=function(){Re.postMessage(null)}}else U=function(){j(P,0)};function Ee(Y,ne){x=j(function(){Y(r.unstable_now())},ne)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(Y){Y.callback=null},r.unstable_forceFrameRate=function(Y){0>Y||125<Y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<Y?Math.floor(1e3/Y):5},r.unstable_getCurrentPriorityLevel=function(){return b},r.unstable_next=function(Y){switch(b){case 1:case 2:case 3:var ne=3;break;default:ne=b}var le=b;b=ne;try{return Y()}finally{b=le}},r.unstable_requestPaint=function(){I=!0},r.unstable_runWithPriority=function(Y,ne){switch(Y){case 1:case 2:case 3:case 4:case 5:break;default:Y=3}var le=b;b=Y;try{return ne()}finally{b=le}},r.unstable_scheduleCallback=function(Y,ne,le){var we=r.unstable_now();switch(typeof le=="object"&&le!==null?(le=le.delay,le=typeof le=="number"&&0<le?we+le:we):le=we,Y){case 1:var L=-1;break;case 2:L=250;break;case 5:L=1073741823;break;case 4:L=1e4;break;default:L=5e3}return L=le+L,Y={id:v++,callback:ne,priorityLevel:Y,startTime:le,expirationTime:L,sortIndex:-1},le>we?(Y.sortIndex=le,e(m,Y),t(p)===null&&Y===t(m)&&(N?(K(x),x=-1):N=!0,Ee(ie,le-we))):(Y.sortIndex=L,e(p,Y),C||S||(C=!0,fe||(fe=!0,U()))),Y},r.unstable_shouldYield=M,r.unstable_wrapCallback=function(Y){var ne=b;return function(){var le=b;b=ne;try{return Y.apply(this,arguments)}finally{b=le}}}}(zm)),zm}var SE;function WR(){return SE||(SE=1,Fm.exports=KR()),Fm.exports}var Ym={exports:{}},cn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var DE;function XR(){if(DE)return cn;DE=1;var r=Qg();function e(p){var m="https://react.dev/errors/"+p;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)m+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+p+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var n={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},a=Symbol.for("react.portal");function o(p,m,v){var _=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:_==null?null:""+_,children:p,containerInfo:m,implementation:v}}var u=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function f(p,m){if(p==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return cn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=n,cn.createPortal=function(p,m){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(e(299));return o(p,m,null,v)},cn.flushSync=function(p){var m=u.T,v=n.p;try{if(u.T=null,n.p=2,p)return p()}finally{u.T=m,n.p=v,n.d.f()}},cn.preconnect=function(p,m){typeof p=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,n.d.C(p,m))},cn.prefetchDNS=function(p){typeof p=="string"&&n.d.D(p)},cn.preinit=function(p,m){if(typeof p=="string"&&m&&typeof m.as=="string"){var v=m.as,_=f(v,m.crossOrigin),b=typeof m.integrity=="string"?m.integrity:void 0,S=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;v==="style"?n.d.S(p,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:_,integrity:b,fetchPriority:S}):v==="script"&&n.d.X(p,{crossOrigin:_,integrity:b,fetchPriority:S,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},cn.preinitModule=function(p,m){if(typeof p=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var v=f(m.as,m.crossOrigin);n.d.M(p,{crossOrigin:v,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&n.d.M(p)},cn.preload=function(p,m){if(typeof p=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var v=m.as,_=f(v,m.crossOrigin);n.d.L(p,v,{crossOrigin:_,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},cn.preloadModule=function(p,m){if(typeof p=="string")if(m){var v=f(m.as,m.crossOrigin);n.d.m(p,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:v,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else n.d.m(p)},cn.requestFormReset=function(p){n.d.r(p)},cn.unstable_batchedUpdates=function(p,m){return p(m)},cn.useFormState=function(p,m,v){return u.H.useFormState(p,m,v)},cn.useFormStatus=function(){return u.H.useHostTransitionStatus()},cn.version="19.1.0",cn}var AE;function Yb(){if(AE)return Ym.exports;AE=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Ym.exports=XR(),Ym.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var RE;function $R(){if(RE)return Ou;RE=1;var r=WR(),e=Qg(),t=Yb();function n(i){var s="https://react.dev/errors/"+i;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)s+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+i+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function o(i){var s=i,l=i;if(i.alternate)for(;s.return;)s=s.return;else{i=s;do s=i,(s.flags&4098)!==0&&(l=s.return),i=s.return;while(i)}return s.tag===3?l:null}function u(i){if(i.tag===13){var s=i.memoizedState;if(s===null&&(i=i.alternate,i!==null&&(s=i.memoizedState)),s!==null)return s.dehydrated}return null}function f(i){if(o(i)!==i)throw Error(n(188))}function p(i){var s=i.alternate;if(!s){if(s=o(i),s===null)throw Error(n(188));return s!==i?null:i}for(var l=i,c=s;;){var d=l.return;if(d===null)break;var g=d.alternate;if(g===null){if(c=d.return,c!==null){l=c;continue}break}if(d.child===g.child){for(g=d.child;g;){if(g===l)return f(d),i;if(g===c)return f(d),s;g=g.sibling}throw Error(n(188))}if(l.return!==c.return)l=d,c=g;else{for(var w=!1,T=d.child;T;){if(T===l){w=!0,l=d,c=g;break}if(T===c){w=!0,c=d,l=g;break}T=T.sibling}if(!w){for(T=g.child;T;){if(T===l){w=!0,l=g,c=d;break}if(T===c){w=!0,c=g,l=d;break}T=T.sibling}if(!w)throw Error(n(189))}}if(l.alternate!==c)throw Error(n(190))}if(l.tag!==3)throw Error(n(188));return l.stateNode.current===l?i:s}function m(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i;for(i=i.child;i!==null;){if(s=m(i),s!==null)return s;i=i.sibling}return null}var v=Object.assign,_=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),S=Symbol.for("react.portal"),C=Symbol.for("react.fragment"),N=Symbol.for("react.strict_mode"),I=Symbol.for("react.profiler"),j=Symbol.for("react.provider"),K=Symbol.for("react.consumer"),z=Symbol.for("react.context"),re=Symbol.for("react.forward_ref"),ie=Symbol.for("react.suspense"),fe=Symbol.for("react.suspense_list"),x=Symbol.for("react.memo"),D=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),M=Symbol.for("react.memo_cache_sentinel"),P=Symbol.iterator;function U(i){return i===null||typeof i!="object"?null:(i=P&&i[P]||i["@@iterator"],typeof i=="function"?i:null)}var k=Symbol.for("react.client.reference");function Re(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===k?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case C:return"Fragment";case I:return"Profiler";case N:return"StrictMode";case ie:return"Suspense";case fe:return"SuspenseList";case R:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case S:return"Portal";case z:return(i.displayName||"Context")+".Provider";case K:return(i._context.displayName||"Context")+".Consumer";case re:var s=i.render;return i=i.displayName,i||(i=s.displayName||s.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case x:return s=i.displayName||null,s!==null?s:Re(i.type)||"Memo";case D:s=i._payload,i=i._init;try{return Re(i(s))}catch{}}return null}var Ee=Array.isArray,Y=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ne=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,le={pending:!1,data:null,method:null,action:null},we=[],L=-1;function te(i){return{current:i}}function he(i){0>L||(i.current=we[L],we[L]=null,L--)}function ue(i,s){L++,we[L]=i.current,i.current=s}var _e=te(null),Ve=te(null),Ie=te(null),Yt=te(null);function ft(i,s){switch(ue(Ie,s),ue(Ve,i),ue(_e,null),s.nodeType){case 9:case 11:i=(i=s.documentElement)&&(i=i.namespaceURI)?Q0(i):0;break;default:if(i=s.tagName,s=s.namespaceURI)s=Q0(s),i=K0(s,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}he(_e),ue(_e,i)}function mr(){he(_e),he(Ve),he(Ie)}function Hi(i){i.memoizedState!==null&&ue(Yt,i);var s=_e.current,l=K0(s,i.type);s!==l&&(ue(Ve,i),ue(_e,l))}function Xr(i){Ve.current===i&&(he(_e),he(Ve)),Yt.current===i&&(he(Yt),Ru._currentValue=le)}var Fa=Object.prototype.hasOwnProperty,za=r.unstable_scheduleCallback,Ya=r.unstable_cancelCallback,Sl=r.unstable_shouldYield,Ic=r.unstable_requestPaint,Vn=r.unstable_now,Bd=r.unstable_getCurrentPriorityLevel,Dl=r.unstable_ImmediatePriority,Ks=r.unstable_UserBlockingPriority,qa=r.unstable_NormalPriority,jd=r.unstable_LowPriority,Ws=r.unstable_IdlePriority,Al=r.log,xc=r.unstable_setDisableYieldValue,Et=null,tt=null;function An(i){if(typeof Al=="function"&&xc(i),tt&&typeof tt.setStrictMode=="function")try{tt.setStrictMode(Et,i)}catch{}}var ln=Math.clz32?Math.clz32:Ga,Mc=Math.log,Hd=Math.LN2;function Ga(i){return i>>>=0,i===0?32:31-(Mc(i)/Hd|0)|0}var Qa=256,Ka=4194304;function ir(i){var s=i&42;if(s!==0)return s;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function Xs(i,s,l){var c=i.pendingLanes;if(c===0)return 0;var d=0,g=i.suspendedLanes,w=i.pingedLanes;i=i.warmLanes;var T=c&134217727;return T!==0?(c=T&~g,c!==0?d=ir(c):(w&=T,w!==0?d=ir(w):l||(l=T&~i,l!==0&&(d=ir(l))))):(T=c&~g,T!==0?d=ir(T):w!==0?d=ir(w):l||(l=c&~i,l!==0&&(d=ir(l)))),d===0?0:s!==0&&s!==d&&(s&g)===0&&(g=d&-d,l=s&-s,g>=l||g===32&&(l&4194048)!==0)?s:d}function Wa(i,s){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&s)===0}function Rl(i,s){switch(i){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Cl(){var i=Qa;return Qa<<=1,(Qa&4194048)===0&&(Qa=256),i}function kl(){var i=Ka;return Ka<<=1,(Ka&62914560)===0&&(Ka=4194304),i}function $r(i){for(var s=[],l=0;31>l;l++)s.push(i);return s}function Zr(i,s){i.pendingLanes|=s,s!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function Il(i,s,l,c,d,g){var w=i.pendingLanes;i.pendingLanes=l,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=l,i.entangledLanes&=l,i.errorRecoveryDisabledLanes&=l,i.shellSuspendCounter=0;var T=i.entanglements,O=i.expirationTimes,Q=i.hiddenUpdates;for(l=w&~l;0<l;){var Z=31-ln(l),ae=1<<Z;T[Z]=0,O[Z]=-1;var W=Q[Z];if(W!==null)for(Q[Z]=null,Z=0;Z<W.length;Z++){var X=W[Z];X!==null&&(X.lane&=-536870913)}l&=~ae}c!==0&&gr(i,c,0),g!==0&&d===0&&i.tag!==0&&(i.suspendedLanes|=g&~(w&~s))}function gr(i,s,l){i.pendingLanes|=s,i.suspendedLanes&=~s;var c=31-ln(s);i.entangledLanes|=s,i.entanglements[c]=i.entanglements[c]|1073741824|l&4194090}function xl(i,s){var l=i.entangledLanes|=s;for(i=i.entanglements;l;){var c=31-ln(l),d=1<<c;d&s|i[c]&s&&(i[c]|=s),l&=~d}}function Fi(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function $s(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function zi(){var i=ne.p;return i!==0?i:(i=window.event,i===void 0?32:dE(i.type))}function Oc(i,s){var l=ne.p;try{return ne.p=i,s()}finally{ne.p=l}}var dt=Math.random().toString(36).slice(2),Lt="__reactFiber$"+dt,xt="__reactProps$"+dt,Un="__reactContainer$"+dt,Ml="__reactEvents$"+dt,Fd="__reactListeners$"+dt,Yi="__reactHandles$"+dt,Nc="__reactResources$"+dt,Xa="__reactMarker$"+dt;function qi(i){delete i[Lt],delete i[xt],delete i[Ml],delete i[Fd],delete i[Yi]}function Jr(i){var s=i[Lt];if(s)return s;for(var l=i.parentNode;l;){if(s=l[Un]||l[Lt]){if(l=s.alternate,s.child!==null||l!==null&&l.child!==null)for(i=Z0(i);i!==null;){if(l=i[Lt])return l;i=Z0(i)}return s}i=l,l=i.parentNode}return null}function vr(i){if(i=i[Lt]||i[Un]){var s=i.tag;if(s===5||s===6||s===13||s===26||s===27||s===3)return i}return null}function yr(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i.stateNode;throw Error(n(33))}function mn(i){var s=i[Nc];return s||(s=i[Nc]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function Dt(i){i[Xa]=!0}var Ol=new Set,Zs={};function ar(i,s){ei(i,s),ei(i+"Capture",s)}function ei(i,s){for(Zs[i]=s,i=0;i<s.length;i++)Ol.add(s[i])}var Pc=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Lc={},$a={};function Vc(i){return Fa.call($a,i)?!0:Fa.call(Lc,i)?!1:Pc.test(i)?$a[i]=!0:(Lc[i]=!0,!1)}function Gi(i,s,l){if(Vc(s))if(l===null)i.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":i.removeAttribute(s);return;case"boolean":var c=s.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){i.removeAttribute(s);return}}i.setAttribute(s,""+l)}}function _r(i,s,l){if(l===null)i.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(s);return}i.setAttribute(s,""+l)}}function Zt(i,s,l,c){if(c===null)i.removeAttribute(l);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(l);return}i.setAttributeNS(s,l,""+c)}}var Za,Uc;function ti(i){if(Za===void 0)try{throw Error()}catch(l){var s=l.stack.trim().match(/\n( *(at )?)/);Za=s&&s[1]||"",Uc=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Za+i+Uc}var Js=!1;function eo(i,s){if(!i||Js)return"";Js=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(s){var ae=function(){throw Error()};if(Object.defineProperty(ae.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ae,[])}catch(X){var W=X}Reflect.construct(i,[],ae)}else{try{ae.call()}catch(X){W=X}i.call(ae.prototype)}}else{try{throw Error()}catch(X){W=X}(ae=i())&&typeof ae.catch=="function"&&ae.catch(function(){})}}catch(X){if(X&&W&&typeof X.stack=="string")return[X.stack,W.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var d=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");d&&d.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=c.DetermineComponentFrameRoot(),w=g[0],T=g[1];if(w&&T){var O=w.split(`
`),Q=T.split(`
`);for(d=c=0;c<O.length&&!O[c].includes("DetermineComponentFrameRoot");)c++;for(;d<Q.length&&!Q[d].includes("DetermineComponentFrameRoot");)d++;if(c===O.length||d===Q.length)for(c=O.length-1,d=Q.length-1;1<=c&&0<=d&&O[c]!==Q[d];)d--;for(;1<=c&&0<=d;c--,d--)if(O[c]!==Q[d]){if(c!==1||d!==1)do if(c--,d--,0>d||O[c]!==Q[d]){var Z=`
`+O[c].replace(" at new "," at ");return i.displayName&&Z.includes("<anonymous>")&&(Z=Z.replace("<anonymous>",i.displayName)),Z}while(1<=c&&0<=d);break}}}finally{Js=!1,Error.prepareStackTrace=l}return(l=i?i.displayName||i.name:"")?ti(l):""}function Nl(i){switch(i.tag){case 26:case 27:case 5:return ti(i.type);case 16:return ti("Lazy");case 13:return ti("Suspense");case 19:return ti("SuspenseList");case 0:case 15:return eo(i.type,!1);case 11:return eo(i.type.render,!1);case 1:return eo(i.type,!0);case 31:return ti("Activity");default:return""}}function to(i){try{var s="";do s+=Nl(i),i=i.return;while(i);return s}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}function gn(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function Pl(i){var s=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function zd(i){var s=Pl(i)?"checked":"value",l=Object.getOwnPropertyDescriptor(i.constructor.prototype,s),c=""+i[s];if(!i.hasOwnProperty(s)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var d=l.get,g=l.set;return Object.defineProperty(i,s,{configurable:!0,get:function(){return d.call(this)},set:function(w){c=""+w,g.call(this,w)}}),Object.defineProperty(i,s,{enumerable:l.enumerable}),{getValue:function(){return c},setValue:function(w){c=""+w},stopTracking:function(){i._valueTracker=null,delete i[s]}}}}function no(i){i._valueTracker||(i._valueTracker=zd(i))}function Ll(i){if(!i)return!1;var s=i._valueTracker;if(!s)return!0;var l=s.getValue(),c="";return i&&(c=Pl(i)?i.checked?"true":"false":i.value),i=c,i!==l?(s.setValue(i),!0):!1}function Ja(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var Yd=/[\n"\\]/g;function Mt(i){return i.replace(Yd,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function Rn(i,s,l,c,d,g,w,T){i.name="",w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?i.type=w:i.removeAttribute("type"),s!=null?w==="number"?(s===0&&i.value===""||i.value!=s)&&(i.value=""+gn(s)):i.value!==""+gn(s)&&(i.value=""+gn(s)):w!=="submit"&&w!=="reset"||i.removeAttribute("value"),s!=null?Qi(i,w,gn(s)):l!=null?Qi(i,w,gn(l)):c!=null&&i.removeAttribute("value"),d==null&&g!=null&&(i.defaultChecked=!!g),d!=null&&(i.checked=d&&typeof d!="function"&&typeof d!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?i.name=""+gn(T):i.removeAttribute("name")}function es(i,s,l,c,d,g,w,T){if(g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(i.type=g),s!=null||l!=null){if(!(g!=="submit"&&g!=="reset"||s!=null))return;l=l!=null?""+gn(l):"",s=s!=null?""+gn(s):l,T||s===i.value||(i.value=s),i.defaultValue=s}c=c??d,c=typeof c!="function"&&typeof c!="symbol"&&!!c,i.checked=T?i.checked:!!c,i.defaultChecked=!!c,w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"&&(i.name=w)}function Qi(i,s,l){s==="number"&&Ja(i.ownerDocument)===i||i.defaultValue===""+l||(i.defaultValue=""+l)}function ni(i,s,l,c){if(i=i.options,s){s={};for(var d=0;d<l.length;d++)s["$"+l[d]]=!0;for(l=0;l<i.length;l++)d=s.hasOwnProperty("$"+i[l].value),i[l].selected!==d&&(i[l].selected=d),d&&c&&(i[l].defaultSelected=!0)}else{for(l=""+gn(l),s=null,d=0;d<i.length;d++){if(i[d].value===l){i[d].selected=!0,c&&(i[d].defaultSelected=!0);return}s!==null||i[d].disabled||(s=i[d])}s!==null&&(s.selected=!0)}}function st(i,s,l){if(s!=null&&(s=""+gn(s),s!==i.value&&(i.value=s),l==null)){i.defaultValue!==s&&(i.defaultValue=s);return}i.defaultValue=l!=null?""+gn(l):""}function ts(i,s,l,c){if(s==null){if(c!=null){if(l!=null)throw Error(n(92));if(Ee(c)){if(1<c.length)throw Error(n(93));c=c[0]}l=c}l==null&&(l=""),s=l}l=gn(s),i.defaultValue=l,c=i.textContent,c===l&&c!==""&&c!==null&&(i.value=c)}function Bn(i,s){if(s){var l=i.firstChild;if(l&&l===i.lastChild&&l.nodeType===3){l.nodeValue=s;return}}i.textContent=s}var ns=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Bc(i,s,l){var c=s.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?c?i.setProperty(s,""):s==="float"?i.cssFloat="":i[s]="":c?i.setProperty(s,l):typeof l!="number"||l===0||ns.has(s)?s==="float"?i.cssFloat=l:i[s]=(""+l).trim():i[s]=l+"px"}function Vl(i,s,l){if(s!=null&&typeof s!="object")throw Error(n(62));if(i=i.style,l!=null){for(var c in l)!l.hasOwnProperty(c)||s!=null&&s.hasOwnProperty(c)||(c.indexOf("--")===0?i.setProperty(c,""):c==="float"?i.cssFloat="":i[c]="");for(var d in s)c=s[d],s.hasOwnProperty(d)&&l[d]!==c&&Bc(i,d,c)}else for(var g in s)s.hasOwnProperty(g)&&Bc(i,g,s[g])}function Ul(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var qd=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Gd=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ro(i){return Gd.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}var ri=null;function jn(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var ii=null,ai=null;function Bl(i){var s=vr(i);if(s&&(i=s.stateNode)){var l=i[xt]||null;e:switch(i=s.stateNode,s.type){case"input":if(Rn(i,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),s=l.name,l.type==="radio"&&s!=null){for(l=i;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+Mt(""+s)+'"][type="radio"]'),s=0;s<l.length;s++){var c=l[s];if(c!==i&&c.form===i.form){var d=c[xt]||null;if(!d)throw Error(n(90));Rn(c,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name)}}for(s=0;s<l.length;s++)c=l[s],c.form===i.form&&Ll(c)}break e;case"textarea":st(i,l.value,l.defaultValue);break e;case"select":s=l.value,s!=null&&ni(i,!!l.multiple,s,!1)}}}var Er=!1;function jc(i,s,l){if(Er)return i(s,l);Er=!0;try{var c=i(s);return c}finally{if(Er=!1,(ii!==null||ai!==null)&&(Nf(),ii&&(s=ii,i=ai,ai=ii=null,Bl(s),i)))for(s=0;s<i.length;s++)Bl(i[s])}}function rs(i,s){var l=i.stateNode;if(l===null)return null;var c=l[xt]||null;if(c===null)return null;l=c[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(i=i.type,c=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!c;break e;default:i=!1}if(i)return null;if(l&&typeof l!="function")throw Error(n(231,s,typeof l));return l}var sr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Hn=!1;if(sr)try{var is={};Object.defineProperty(is,"passive",{get:function(){Hn=!0}}),window.addEventListener("test",is,is),window.removeEventListener("test",is,is)}catch{Hn=!1}var wr=null,Ki=null,si=null;function jl(){if(si)return si;var i,s=Ki,l=s.length,c,d="value"in wr?wr.value:wr.textContent,g=d.length;for(i=0;i<l&&s[i]===d[i];i++);var w=l-i;for(c=1;c<=w&&s[l-c]===d[g-c];c++);return si=d.slice(i,1<c?1-c:void 0)}function br(i){var s=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&s===13&&(i=13)):i=s,i===10&&(i=13),32<=i||i===13?i:0}function Tr(){return!0}function Hl(){return!1}function qt(i){function s(l,c,d,g,w){this._reactName=l,this._targetInst=d,this.type=c,this.nativeEvent=g,this.target=w,this.currentTarget=null;for(var T in i)i.hasOwnProperty(T)&&(l=i[T],this[T]=l?l(g):g[T]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?Tr:Hl,this.isPropagationStopped=Hl,this}return v(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=Tr)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=Tr)},persist:function(){},isPersistent:Tr}),s}var Ze={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},io=qt(Ze),as=v({},Ze,{view:0,detail:0}),Hc=qt(as),ao,so,Sr,ss=v({},as,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:us,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Sr&&(Sr&&i.type==="mousemove"?(ao=i.screenX-Sr.screenX,so=i.screenY-Sr.screenY):so=ao=0,Sr=i),ao)},movementY:function(i){return"movementY"in i?i.movementY:so}}),Fn=qt(ss),Fc=v({},ss,{dataTransfer:0}),Qd=qt(Fc),os=v({},as,{relatedTarget:0}),oo=qt(os),Fl=v({},Ze,{animationName:0,elapsedTime:0,pseudoElement:0}),lo=qt(Fl),zc=v({},Ze,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),uo=qt(zc),Kd=v({},Ze,{data:0}),zl=qt(Kd),ls={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Yc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},qc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Yl(i){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(i):(i=qc[i])?!!s[i]:!1}function us(){return Yl}var Gc=v({},as,{key:function(i){if(i.key){var s=ls[i.key]||i.key;if(s!=="Unidentified")return s}return i.type==="keypress"?(i=br(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?Yc[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:us,charCode:function(i){return i.type==="keypress"?br(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?br(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),co=qt(Gc),Qc=v({},ss,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ql=qt(Qc),oi=v({},as,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:us}),Kc=qt(oi),Wc=v({},Ze,{propertyName:0,elapsedTime:0,pseudoElement:0}),Xc=qt(Wc),$c=v({},ss,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),fo=qt($c),vn=v({},Ze,{newState:0,oldState:0}),Zc=qt(vn),Jc=[9,13,27,32],Dr=sr&&"CompositionEvent"in window,h=null;sr&&"documentMode"in document&&(h=document.documentMode);var y=sr&&"TextEvent"in window&&!h,E=sr&&(!Dr||h&&8<h&&11>=h),A=" ",q=!1;function $(i,s){switch(i){case"keyup":return Jc.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ce(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var ze=!1;function Vt(i,s){switch(i){case"compositionend":return ce(s);case"keypress":return s.which!==32?null:(q=!0,A);case"textInput":return i=s.data,i===A&&q?null:i;default:return null}}function Ye(i,s){if(ze)return i==="compositionend"||!Dr&&$(i,s)?(i=jl(),si=Ki=wr=null,ze=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return E&&s.locale!=="ko"?null:s.data;default:return null}}var Gt={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ut(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s==="input"?!!Gt[i.type]:s==="textarea"}function li(i,s,l,c){ii?ai?ai.push(c):ai=[c]:ii=c,s=jf(s,"onChange"),0<s.length&&(l=new io("onChange","change",null,l,c),i.push({event:l,listeners:s}))}var Jt=null,Ar=null;function Gl(i){F0(i,0)}function ef(i){var s=yr(i);if(Ll(s))return i}function uy(i,s){if(i==="change")return s}var cy=!1;if(sr){var Wd;if(sr){var Xd="oninput"in document;if(!Xd){var fy=document.createElement("div");fy.setAttribute("oninput","return;"),Xd=typeof fy.oninput=="function"}Wd=Xd}else Wd=!1;cy=Wd&&(!document.documentMode||9<document.documentMode)}function hy(){Jt&&(Jt.detachEvent("onpropertychange",dy),Ar=Jt=null)}function dy(i){if(i.propertyName==="value"&&ef(Ar)){var s=[];li(s,Ar,i,jn(i)),jc(Gl,s)}}function vA(i,s,l){i==="focusin"?(hy(),Jt=s,Ar=l,Jt.attachEvent("onpropertychange",dy)):i==="focusout"&&hy()}function yA(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return ef(Ar)}function _A(i,s){if(i==="click")return ef(s)}function EA(i,s){if(i==="input"||i==="change")return ef(s)}function wA(i,s){return i===s&&(i!==0||1/i===1/s)||i!==i&&s!==s}var Cn=typeof Object.is=="function"?Object.is:wA;function Ql(i,s){if(Cn(i,s))return!0;if(typeof i!="object"||i===null||typeof s!="object"||s===null)return!1;var l=Object.keys(i),c=Object.keys(s);if(l.length!==c.length)return!1;for(c=0;c<l.length;c++){var d=l[c];if(!Fa.call(s,d)||!Cn(i[d],s[d]))return!1}return!0}function py(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function my(i,s){var l=py(i);i=0;for(var c;l;){if(l.nodeType===3){if(c=i+l.textContent.length,i<=s&&c>=s)return{node:l,offset:s-i};i=c}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=py(l)}}function gy(i,s){return i&&s?i===s?!0:i&&i.nodeType===3?!1:s&&s.nodeType===3?gy(i,s.parentNode):"contains"in i?i.contains(s):i.compareDocumentPosition?!!(i.compareDocumentPosition(s)&16):!1:!1}function vy(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var s=Ja(i.document);s instanceof i.HTMLIFrameElement;){try{var l=typeof s.contentWindow.location.href=="string"}catch{l=!1}if(l)i=s.contentWindow;else break;s=Ja(i.document)}return s}function $d(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s&&(s==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||s==="textarea"||i.contentEditable==="true")}var bA=sr&&"documentMode"in document&&11>=document.documentMode,ho=null,Zd=null,Kl=null,Jd=!1;function yy(i,s,l){var c=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Jd||ho==null||ho!==Ja(c)||(c=ho,"selectionStart"in c&&$d(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),Kl&&Ql(Kl,c)||(Kl=c,c=jf(Zd,"onSelect"),0<c.length&&(s=new io("onSelect","select",null,s,l),i.push({event:s,listeners:c}),s.target=ho)))}function cs(i,s){var l={};return l[i.toLowerCase()]=s.toLowerCase(),l["Webkit"+i]="webkit"+s,l["Moz"+i]="moz"+s,l}var po={animationend:cs("Animation","AnimationEnd"),animationiteration:cs("Animation","AnimationIteration"),animationstart:cs("Animation","AnimationStart"),transitionrun:cs("Transition","TransitionRun"),transitionstart:cs("Transition","TransitionStart"),transitioncancel:cs("Transition","TransitionCancel"),transitionend:cs("Transition","TransitionEnd")},ep={},_y={};sr&&(_y=document.createElement("div").style,"AnimationEvent"in window||(delete po.animationend.animation,delete po.animationiteration.animation,delete po.animationstart.animation),"TransitionEvent"in window||delete po.transitionend.transition);function fs(i){if(ep[i])return ep[i];if(!po[i])return i;var s=po[i],l;for(l in s)if(s.hasOwnProperty(l)&&l in _y)return ep[i]=s[l];return i}var Ey=fs("animationend"),wy=fs("animationiteration"),by=fs("animationstart"),TA=fs("transitionrun"),SA=fs("transitionstart"),DA=fs("transitioncancel"),Ty=fs("transitionend"),Sy=new Map,tp="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");tp.push("scrollEnd");function or(i,s){Sy.set(i,s),ar(s,[i])}var Dy=new WeakMap;function zn(i,s){if(typeof i=="object"&&i!==null){var l=Dy.get(i);return l!==void 0?l:(s={value:i,source:s,stack:to(s)},Dy.set(i,s),s)}return{value:i,source:s,stack:to(s)}}var Yn=[],mo=0,np=0;function tf(){for(var i=mo,s=np=mo=0;s<i;){var l=Yn[s];Yn[s++]=null;var c=Yn[s];Yn[s++]=null;var d=Yn[s];Yn[s++]=null;var g=Yn[s];if(Yn[s++]=null,c!==null&&d!==null){var w=c.pending;w===null?d.next=d:(d.next=w.next,w.next=d),c.pending=d}g!==0&&Ay(l,d,g)}}function nf(i,s,l,c){Yn[mo++]=i,Yn[mo++]=s,Yn[mo++]=l,Yn[mo++]=c,np|=c,i.lanes|=c,i=i.alternate,i!==null&&(i.lanes|=c)}function rp(i,s,l,c){return nf(i,s,l,c),rf(i)}function go(i,s){return nf(i,null,null,s),rf(i)}function Ay(i,s,l){i.lanes|=l;var c=i.alternate;c!==null&&(c.lanes|=l);for(var d=!1,g=i.return;g!==null;)g.childLanes|=l,c=g.alternate,c!==null&&(c.childLanes|=l),g.tag===22&&(i=g.stateNode,i===null||i._visibility&1||(d=!0)),i=g,g=g.return;return i.tag===3?(g=i.stateNode,d&&s!==null&&(d=31-ln(l),i=g.hiddenUpdates,c=i[d],c===null?i[d]=[s]:c.push(s),s.lane=l|536870912),g):null}function rf(i){if(50<_u)throw _u=0,um=null,Error(n(185));for(var s=i.return;s!==null;)i=s,s=i.return;return i.tag===3?i.stateNode:null}var vo={};function AA(i,s,l,c){this.tag=i,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function kn(i,s,l,c){return new AA(i,s,l,c)}function ip(i){return i=i.prototype,!(!i||!i.isReactComponent)}function ui(i,s){var l=i.alternate;return l===null?(l=kn(i.tag,s,i.key,i.mode),l.elementType=i.elementType,l.type=i.type,l.stateNode=i.stateNode,l.alternate=i,i.alternate=l):(l.pendingProps=s,l.type=i.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=i.flags&65011712,l.childLanes=i.childLanes,l.lanes=i.lanes,l.child=i.child,l.memoizedProps=i.memoizedProps,l.memoizedState=i.memoizedState,l.updateQueue=i.updateQueue,s=i.dependencies,l.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},l.sibling=i.sibling,l.index=i.index,l.ref=i.ref,l.refCleanup=i.refCleanup,l}function Ry(i,s){i.flags&=65011714;var l=i.alternate;return l===null?(i.childLanes=0,i.lanes=s,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=l.childLanes,i.lanes=l.lanes,i.child=l.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=l.memoizedProps,i.memoizedState=l.memoizedState,i.updateQueue=l.updateQueue,i.type=l.type,s=l.dependencies,i.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),i}function af(i,s,l,c,d,g){var w=0;if(c=i,typeof i=="function")ip(i)&&(w=1);else if(typeof i=="string")w=CR(i,l,_e.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case R:return i=kn(31,l,s,d),i.elementType=R,i.lanes=g,i;case C:return hs(l.children,d,g,s);case N:w=8,d|=24;break;case I:return i=kn(12,l,s,d|2),i.elementType=I,i.lanes=g,i;case ie:return i=kn(13,l,s,d),i.elementType=ie,i.lanes=g,i;case fe:return i=kn(19,l,s,d),i.elementType=fe,i.lanes=g,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case j:case z:w=10;break e;case K:w=9;break e;case re:w=11;break e;case x:w=14;break e;case D:w=16,c=null;break e}w=29,l=Error(n(130,i===null?"null":typeof i,"")),c=null}return s=kn(w,l,s,d),s.elementType=i,s.type=c,s.lanes=g,s}function hs(i,s,l,c){return i=kn(7,i,c,s),i.lanes=l,i}function ap(i,s,l){return i=kn(6,i,null,s),i.lanes=l,i}function sp(i,s,l){return s=kn(4,i.children!==null?i.children:[],i.key,s),s.lanes=l,s.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},s}var yo=[],_o=0,sf=null,of=0,qn=[],Gn=0,ds=null,ci=1,fi="";function ps(i,s){yo[_o++]=of,yo[_o++]=sf,sf=i,of=s}function Cy(i,s,l){qn[Gn++]=ci,qn[Gn++]=fi,qn[Gn++]=ds,ds=i;var c=ci;i=fi;var d=32-ln(c)-1;c&=~(1<<d),l+=1;var g=32-ln(s)+d;if(30<g){var w=d-d%5;g=(c&(1<<w)-1).toString(32),c>>=w,d-=w,ci=1<<32-ln(s)+d|l<<d|c,fi=g+i}else ci=1<<g|l<<d|c,fi=i}function op(i){i.return!==null&&(ps(i,1),Cy(i,1,0))}function lp(i){for(;i===sf;)sf=yo[--_o],yo[_o]=null,of=yo[--_o],yo[_o]=null;for(;i===ds;)ds=qn[--Gn],qn[Gn]=null,fi=qn[--Gn],qn[Gn]=null,ci=qn[--Gn],qn[Gn]=null}var yn=null,wt=null,Xe=!1,ms=null,Rr=!1,up=Error(n(519));function gs(i){var s=Error(n(418,""));throw $l(zn(s,i)),up}function ky(i){var s=i.stateNode,l=i.type,c=i.memoizedProps;switch(s[Lt]=i,s[xt]=c,l){case"dialog":je("cancel",s),je("close",s);break;case"iframe":case"object":case"embed":je("load",s);break;case"video":case"audio":for(l=0;l<wu.length;l++)je(wu[l],s);break;case"source":je("error",s);break;case"img":case"image":case"link":je("error",s),je("load",s);break;case"details":je("toggle",s);break;case"input":je("invalid",s),es(s,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0),no(s);break;case"select":je("invalid",s);break;case"textarea":je("invalid",s),ts(s,c.value,c.defaultValue,c.children),no(s)}l=c.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||s.textContent===""+l||c.suppressHydrationWarning===!0||G0(s.textContent,l)?(c.popover!=null&&(je("beforetoggle",s),je("toggle",s)),c.onScroll!=null&&je("scroll",s),c.onScrollEnd!=null&&je("scrollend",s),c.onClick!=null&&(s.onclick=Hf),s=!0):s=!1,s||gs(i)}function Iy(i){for(yn=i.return;yn;)switch(yn.tag){case 5:case 13:Rr=!1;return;case 27:case 3:Rr=!0;return;default:yn=yn.return}}function Wl(i){if(i!==yn)return!1;if(!Xe)return Iy(i),Xe=!0,!1;var s=i.tag,l;if((l=s!==3&&s!==27)&&((l=s===5)&&(l=i.type,l=!(l!=="form"&&l!=="button")||Dm(i.type,i.memoizedProps)),l=!l),l&&wt&&gs(i),Iy(i),s===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(n(317));e:{for(i=i.nextSibling,s=0;i;){if(i.nodeType===8)if(l=i.data,l==="/$"){if(s===0){wt=ur(i.nextSibling);break e}s--}else l!=="$"&&l!=="$!"&&l!=="$?"||s++;i=i.nextSibling}wt=null}}else s===27?(s=wt,ca(i.type)?(i=km,km=null,wt=i):wt=s):wt=yn?ur(i.stateNode.nextSibling):null;return!0}function Xl(){wt=yn=null,Xe=!1}function xy(){var i=ms;return i!==null&&(Sn===null?Sn=i:Sn.push.apply(Sn,i),ms=null),i}function $l(i){ms===null?ms=[i]:ms.push(i)}var cp=te(null),vs=null,hi=null;function Wi(i,s,l){ue(cp,s._currentValue),s._currentValue=l}function di(i){i._currentValue=cp.current,he(cp)}function fp(i,s,l){for(;i!==null;){var c=i.alternate;if((i.childLanes&s)!==s?(i.childLanes|=s,c!==null&&(c.childLanes|=s)):c!==null&&(c.childLanes&s)!==s&&(c.childLanes|=s),i===l)break;i=i.return}}function hp(i,s,l,c){var d=i.child;for(d!==null&&(d.return=i);d!==null;){var g=d.dependencies;if(g!==null){var w=d.child;g=g.firstContext;e:for(;g!==null;){var T=g;g=d;for(var O=0;O<s.length;O++)if(T.context===s[O]){g.lanes|=l,T=g.alternate,T!==null&&(T.lanes|=l),fp(g.return,l,i),c||(w=null);break e}g=T.next}}else if(d.tag===18){if(w=d.return,w===null)throw Error(n(341));w.lanes|=l,g=w.alternate,g!==null&&(g.lanes|=l),fp(w,l,i),w=null}else w=d.child;if(w!==null)w.return=d;else for(w=d;w!==null;){if(w===i){w=null;break}if(d=w.sibling,d!==null){d.return=w.return,w=d;break}w=w.return}d=w}}function Zl(i,s,l,c){i=null;for(var d=s,g=!1;d!==null;){if(!g){if((d.flags&524288)!==0)g=!0;else if((d.flags&262144)!==0)break}if(d.tag===10){var w=d.alternate;if(w===null)throw Error(n(387));if(w=w.memoizedProps,w!==null){var T=d.type;Cn(d.pendingProps.value,w.value)||(i!==null?i.push(T):i=[T])}}else if(d===Yt.current){if(w=d.alternate,w===null)throw Error(n(387));w.memoizedState.memoizedState!==d.memoizedState.memoizedState&&(i!==null?i.push(Ru):i=[Ru])}d=d.return}i!==null&&hp(s,i,l,c),s.flags|=262144}function lf(i){for(i=i.firstContext;i!==null;){if(!Cn(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function ys(i){vs=i,hi=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function un(i){return My(vs,i)}function uf(i,s){return vs===null&&ys(i),My(i,s)}function My(i,s){var l=s._currentValue;if(s={context:s,memoizedValue:l,next:null},hi===null){if(i===null)throw Error(n(308));hi=s,i.dependencies={lanes:0,firstContext:s},i.flags|=524288}else hi=hi.next=s;return l}var RA=typeof AbortController<"u"?AbortController:function(){var i=[],s=this.signal={aborted:!1,addEventListener:function(l,c){i.push(c)}};this.abort=function(){s.aborted=!0,i.forEach(function(l){return l()})}},CA=r.unstable_scheduleCallback,kA=r.unstable_NormalPriority,Bt={$$typeof:z,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function dp(){return{controller:new RA,data:new Map,refCount:0}}function Jl(i){i.refCount--,i.refCount===0&&CA(kA,function(){i.controller.abort()})}var eu=null,pp=0,Eo=0,wo=null;function IA(i,s){if(eu===null){var l=eu=[];pp=0,Eo=gm(),wo={status:"pending",value:void 0,then:function(c){l.push(c)}}}return pp++,s.then(Oy,Oy),s}function Oy(){if(--pp===0&&eu!==null){wo!==null&&(wo.status="fulfilled");var i=eu;eu=null,Eo=0,wo=null;for(var s=0;s<i.length;s++)(0,i[s])()}}function xA(i,s){var l=[],c={status:"pending",value:null,reason:null,then:function(d){l.push(d)}};return i.then(function(){c.status="fulfilled",c.value=s;for(var d=0;d<l.length;d++)(0,l[d])(s)},function(d){for(c.status="rejected",c.reason=d,d=0;d<l.length;d++)(0,l[d])(void 0)}),c}var Ny=Y.S;Y.S=function(i,s){typeof s=="object"&&s!==null&&typeof s.then=="function"&&IA(i,s),Ny!==null&&Ny(i,s)};var _s=te(null);function mp(){var i=_s.current;return i!==null?i:ht.pooledCache}function cf(i,s){s===null?ue(_s,_s.current):ue(_s,s.pool)}function Py(){var i=mp();return i===null?null:{parent:Bt._currentValue,pool:i}}var tu=Error(n(460)),Ly=Error(n(474)),ff=Error(n(542)),gp={then:function(){}};function Vy(i){return i=i.status,i==="fulfilled"||i==="rejected"}function hf(){}function Uy(i,s,l){switch(l=i[l],l===void 0?i.push(s):l!==s&&(s.then(hf,hf),s=l),s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,jy(i),i;default:if(typeof s.status=="string")s.then(hf,hf);else{if(i=ht,i!==null&&100<i.shellSuspendCounter)throw Error(n(482));i=s,i.status="pending",i.then(function(c){if(s.status==="pending"){var d=s;d.status="fulfilled",d.value=c}},function(c){if(s.status==="pending"){var d=s;d.status="rejected",d.reason=c}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,jy(i),i}throw nu=s,tu}}var nu=null;function By(){if(nu===null)throw Error(n(459));var i=nu;return nu=null,i}function jy(i){if(i===tu||i===ff)throw Error(n(483))}var Xi=!1;function vp(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function yp(i,s){i=i.updateQueue,s.updateQueue===i&&(s.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function $i(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function Zi(i,s,l){var c=i.updateQueue;if(c===null)return null;if(c=c.shared,(nt&2)!==0){var d=c.pending;return d===null?s.next=s:(s.next=d.next,d.next=s),c.pending=s,s=rf(i),Ay(i,null,l),s}return nf(i,c,s,l),rf(i)}function ru(i,s,l){if(s=s.updateQueue,s!==null&&(s=s.shared,(l&4194048)!==0)){var c=s.lanes;c&=i.pendingLanes,l|=c,s.lanes=l,xl(i,l)}}function _p(i,s){var l=i.updateQueue,c=i.alternate;if(c!==null&&(c=c.updateQueue,l===c)){var d=null,g=null;if(l=l.firstBaseUpdate,l!==null){do{var w={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};g===null?d=g=w:g=g.next=w,l=l.next}while(l!==null);g===null?d=g=s:g=g.next=s}else d=g=s;l={baseState:c.baseState,firstBaseUpdate:d,lastBaseUpdate:g,shared:c.shared,callbacks:c.callbacks},i.updateQueue=l;return}i=l.lastBaseUpdate,i===null?l.firstBaseUpdate=s:i.next=s,l.lastBaseUpdate=s}var Ep=!1;function iu(){if(Ep){var i=wo;if(i!==null)throw i}}function au(i,s,l,c){Ep=!1;var d=i.updateQueue;Xi=!1;var g=d.firstBaseUpdate,w=d.lastBaseUpdate,T=d.shared.pending;if(T!==null){d.shared.pending=null;var O=T,Q=O.next;O.next=null,w===null?g=Q:w.next=Q,w=O;var Z=i.alternate;Z!==null&&(Z=Z.updateQueue,T=Z.lastBaseUpdate,T!==w&&(T===null?Z.firstBaseUpdate=Q:T.next=Q,Z.lastBaseUpdate=O))}if(g!==null){var ae=d.baseState;w=0,Z=Q=O=null,T=g;do{var W=T.lane&-536870913,X=W!==T.lane;if(X?(qe&W)===W:(c&W)===W){W!==0&&W===Eo&&(Ep=!0),Z!==null&&(Z=Z.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});e:{var Ce=i,be=T;W=s;var ut=l;switch(be.tag){case 1:if(Ce=be.payload,typeof Ce=="function"){ae=Ce.call(ut,ae,W);break e}ae=Ce;break e;case 3:Ce.flags=Ce.flags&-65537|128;case 0:if(Ce=be.payload,W=typeof Ce=="function"?Ce.call(ut,ae,W):Ce,W==null)break e;ae=v({},ae,W);break e;case 2:Xi=!0}}W=T.callback,W!==null&&(i.flags|=64,X&&(i.flags|=8192),X=d.callbacks,X===null?d.callbacks=[W]:X.push(W))}else X={lane:W,tag:T.tag,payload:T.payload,callback:T.callback,next:null},Z===null?(Q=Z=X,O=ae):Z=Z.next=X,w|=W;if(T=T.next,T===null){if(T=d.shared.pending,T===null)break;X=T,T=X.next,X.next=null,d.lastBaseUpdate=X,d.shared.pending=null}}while(!0);Z===null&&(O=ae),d.baseState=O,d.firstBaseUpdate=Q,d.lastBaseUpdate=Z,g===null&&(d.shared.lanes=0),sa|=w,i.lanes=w,i.memoizedState=ae}}function Hy(i,s){if(typeof i!="function")throw Error(n(191,i));i.call(s)}function Fy(i,s){var l=i.callbacks;if(l!==null)for(i.callbacks=null,i=0;i<l.length;i++)Hy(l[i],s)}var bo=te(null),df=te(0);function zy(i,s){i=Ei,ue(df,i),ue(bo,s),Ei=i|s.baseLanes}function wp(){ue(df,Ei),ue(bo,bo.current)}function bp(){Ei=df.current,he(bo),he(df)}var Ji=0,Ne=null,ot=null,Ot=null,pf=!1,To=!1,Es=!1,mf=0,su=0,So=null,MA=0;function At(){throw Error(n(321))}function Tp(i,s){if(s===null)return!1;for(var l=0;l<s.length&&l<i.length;l++)if(!Cn(i[l],s[l]))return!1;return!0}function Sp(i,s,l,c,d,g){return Ji=g,Ne=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,Y.H=i===null||i.memoizedState===null?A_:R_,Es=!1,g=l(c,d),Es=!1,To&&(g=qy(s,l,c,d)),Yy(i),g}function Yy(i){Y.H=wf;var s=ot!==null&&ot.next!==null;if(Ji=0,Ot=ot=Ne=null,pf=!1,su=0,So=null,s)throw Error(n(300));i===null||Qt||(i=i.dependencies,i!==null&&lf(i)&&(Qt=!0))}function qy(i,s,l,c){Ne=i;var d=0;do{if(To&&(So=null),su=0,To=!1,25<=d)throw Error(n(301));if(d+=1,Ot=ot=null,i.updateQueue!=null){var g=i.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}Y.H=BA,g=s(l,c)}while(To);return g}function OA(){var i=Y.H,s=i.useState()[0];return s=typeof s.then=="function"?ou(s):s,i=i.useState()[0],(ot!==null?ot.memoizedState:null)!==i&&(Ne.flags|=1024),s}function Dp(){var i=mf!==0;return mf=0,i}function Ap(i,s,l){s.updateQueue=i.updateQueue,s.flags&=-2053,i.lanes&=~l}function Rp(i){if(pf){for(i=i.memoizedState;i!==null;){var s=i.queue;s!==null&&(s.pending=null),i=i.next}pf=!1}Ji=0,Ot=ot=Ne=null,To=!1,su=mf=0,So=null}function bn(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ot===null?Ne.memoizedState=Ot=i:Ot=Ot.next=i,Ot}function Nt(){if(ot===null){var i=Ne.alternate;i=i!==null?i.memoizedState:null}else i=ot.next;var s=Ot===null?Ne.memoizedState:Ot.next;if(s!==null)Ot=s,ot=i;else{if(i===null)throw Ne.alternate===null?Error(n(467)):Error(n(310));ot=i,i={memoizedState:ot.memoizedState,baseState:ot.baseState,baseQueue:ot.baseQueue,queue:ot.queue,next:null},Ot===null?Ne.memoizedState=Ot=i:Ot=Ot.next=i}return Ot}function Cp(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ou(i){var s=su;return su+=1,So===null&&(So=[]),i=Uy(So,i,s),s=Ne,(Ot===null?s.memoizedState:Ot.next)===null&&(s=s.alternate,Y.H=s===null||s.memoizedState===null?A_:R_),i}function gf(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return ou(i);if(i.$$typeof===z)return un(i)}throw Error(n(438,String(i)))}function kp(i){var s=null,l=Ne.updateQueue;if(l!==null&&(s=l.memoCache),s==null){var c=Ne.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(s={data:c.data.map(function(d){return d.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),l===null&&(l=Cp(),Ne.updateQueue=l),l.memoCache=s,l=s.data[s.index],l===void 0)for(l=s.data[s.index]=Array(i),c=0;c<i;c++)l[c]=M;return s.index++,l}function pi(i,s){return typeof s=="function"?s(i):s}function vf(i){var s=Nt();return Ip(s,ot,i)}function Ip(i,s,l){var c=i.queue;if(c===null)throw Error(n(311));c.lastRenderedReducer=l;var d=i.baseQueue,g=c.pending;if(g!==null){if(d!==null){var w=d.next;d.next=g.next,g.next=w}s.baseQueue=d=g,c.pending=null}if(g=i.baseState,d===null)i.memoizedState=g;else{s=d.next;var T=w=null,O=null,Q=s,Z=!1;do{var ae=Q.lane&-536870913;if(ae!==Q.lane?(qe&ae)===ae:(Ji&ae)===ae){var W=Q.revertLane;if(W===0)O!==null&&(O=O.next={lane:0,revertLane:0,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null}),ae===Eo&&(Z=!0);else if((Ji&W)===W){Q=Q.next,W===Eo&&(Z=!0);continue}else ae={lane:0,revertLane:Q.revertLane,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null},O===null?(T=O=ae,w=g):O=O.next=ae,Ne.lanes|=W,sa|=W;ae=Q.action,Es&&l(g,ae),g=Q.hasEagerState?Q.eagerState:l(g,ae)}else W={lane:ae,revertLane:Q.revertLane,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null},O===null?(T=O=W,w=g):O=O.next=W,Ne.lanes|=ae,sa|=ae;Q=Q.next}while(Q!==null&&Q!==s);if(O===null?w=g:O.next=T,!Cn(g,i.memoizedState)&&(Qt=!0,Z&&(l=wo,l!==null)))throw l;i.memoizedState=g,i.baseState=w,i.baseQueue=O,c.lastRenderedState=g}return d===null&&(c.lanes=0),[i.memoizedState,c.dispatch]}function xp(i){var s=Nt(),l=s.queue;if(l===null)throw Error(n(311));l.lastRenderedReducer=i;var c=l.dispatch,d=l.pending,g=s.memoizedState;if(d!==null){l.pending=null;var w=d=d.next;do g=i(g,w.action),w=w.next;while(w!==d);Cn(g,s.memoizedState)||(Qt=!0),s.memoizedState=g,s.baseQueue===null&&(s.baseState=g),l.lastRenderedState=g}return[g,c]}function Gy(i,s,l){var c=Ne,d=Nt(),g=Xe;if(g){if(l===void 0)throw Error(n(407));l=l()}else l=s();var w=!Cn((ot||d).memoizedState,l);w&&(d.memoizedState=l,Qt=!0),d=d.queue;var T=Wy.bind(null,c,d,i);if(lu(2048,8,T,[i]),d.getSnapshot!==s||w||Ot!==null&&Ot.memoizedState.tag&1){if(c.flags|=2048,Do(9,yf(),Ky.bind(null,c,d,l,s),null),ht===null)throw Error(n(349));g||(Ji&124)!==0||Qy(c,s,l)}return l}function Qy(i,s,l){i.flags|=16384,i={getSnapshot:s,value:l},s=Ne.updateQueue,s===null?(s=Cp(),Ne.updateQueue=s,s.stores=[i]):(l=s.stores,l===null?s.stores=[i]:l.push(i))}function Ky(i,s,l,c){s.value=l,s.getSnapshot=c,Xy(s)&&$y(i)}function Wy(i,s,l){return l(function(){Xy(s)&&$y(i)})}function Xy(i){var s=i.getSnapshot;i=i.value;try{var l=s();return!Cn(i,l)}catch{return!0}}function $y(i){var s=go(i,2);s!==null&&Nn(s,i,2)}function Mp(i){var s=bn();if(typeof i=="function"){var l=i;if(i=l(),Es){An(!0);try{l()}finally{An(!1)}}}return s.memoizedState=s.baseState=i,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:pi,lastRenderedState:i},s}function Zy(i,s,l,c){return i.baseState=l,Ip(i,ot,typeof c=="function"?c:pi)}function NA(i,s,l,c,d){if(Ef(i))throw Error(n(485));if(i=s.action,i!==null){var g={payload:d,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(w){g.listeners.push(w)}};Y.T!==null?l(!0):g.isTransition=!1,c(g),l=s.pending,l===null?(g.next=s.pending=g,Jy(s,g)):(g.next=l.next,s.pending=l.next=g)}}function Jy(i,s){var l=s.action,c=s.payload,d=i.state;if(s.isTransition){var g=Y.T,w={};Y.T=w;try{var T=l(d,c),O=Y.S;O!==null&&O(w,T),e_(i,s,T)}catch(Q){Op(i,s,Q)}finally{Y.T=g}}else try{g=l(d,c),e_(i,s,g)}catch(Q){Op(i,s,Q)}}function e_(i,s,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(c){t_(i,s,c)},function(c){return Op(i,s,c)}):t_(i,s,l)}function t_(i,s,l){s.status="fulfilled",s.value=l,n_(s),i.state=l,s=i.pending,s!==null&&(l=s.next,l===s?i.pending=null:(l=l.next,s.next=l,Jy(i,l)))}function Op(i,s,l){var c=i.pending;if(i.pending=null,c!==null){c=c.next;do s.status="rejected",s.reason=l,n_(s),s=s.next;while(s!==c)}i.action=null}function n_(i){i=i.listeners;for(var s=0;s<i.length;s++)(0,i[s])()}function r_(i,s){return s}function i_(i,s){if(Xe){var l=ht.formState;if(l!==null){e:{var c=Ne;if(Xe){if(wt){t:{for(var d=wt,g=Rr;d.nodeType!==8;){if(!g){d=null;break t}if(d=ur(d.nextSibling),d===null){d=null;break t}}g=d.data,d=g==="F!"||g==="F"?d:null}if(d){wt=ur(d.nextSibling),c=d.data==="F!";break e}}gs(c)}c=!1}c&&(s=l[0])}}return l=bn(),l.memoizedState=l.baseState=s,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r_,lastRenderedState:s},l.queue=c,l=T_.bind(null,Ne,c),c.dispatch=l,c=Mp(!1),g=Up.bind(null,Ne,!1,c.queue),c=bn(),d={state:s,dispatch:null,action:i,pending:null},c.queue=d,l=NA.bind(null,Ne,d,g,l),d.dispatch=l,c.memoizedState=i,[s,l,!1]}function a_(i){var s=Nt();return s_(s,ot,i)}function s_(i,s,l){if(s=Ip(i,s,r_)[0],i=vf(pi)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var c=ou(s)}catch(w){throw w===tu?ff:w}else c=s;s=Nt();var d=s.queue,g=d.dispatch;return l!==s.memoizedState&&(Ne.flags|=2048,Do(9,yf(),PA.bind(null,d,l),null)),[c,g,i]}function PA(i,s){i.action=s}function o_(i){var s=Nt(),l=ot;if(l!==null)return s_(s,l,i);Nt(),s=s.memoizedState,l=Nt();var c=l.queue.dispatch;return l.memoizedState=i,[s,c,!1]}function Do(i,s,l,c){return i={tag:i,create:l,deps:c,inst:s,next:null},s=Ne.updateQueue,s===null&&(s=Cp(),Ne.updateQueue=s),l=s.lastEffect,l===null?s.lastEffect=i.next=i:(c=l.next,l.next=i,i.next=c,s.lastEffect=i),i}function yf(){return{destroy:void 0,resource:void 0}}function l_(){return Nt().memoizedState}function _f(i,s,l,c){var d=bn();c=c===void 0?null:c,Ne.flags|=i,d.memoizedState=Do(1|s,yf(),l,c)}function lu(i,s,l,c){var d=Nt();c=c===void 0?null:c;var g=d.memoizedState.inst;ot!==null&&c!==null&&Tp(c,ot.memoizedState.deps)?d.memoizedState=Do(s,g,l,c):(Ne.flags|=i,d.memoizedState=Do(1|s,g,l,c))}function u_(i,s){_f(8390656,8,i,s)}function c_(i,s){lu(2048,8,i,s)}function f_(i,s){return lu(4,2,i,s)}function h_(i,s){return lu(4,4,i,s)}function d_(i,s){if(typeof s=="function"){i=i();var l=s(i);return function(){typeof l=="function"?l():s(null)}}if(s!=null)return i=i(),s.current=i,function(){s.current=null}}function p_(i,s,l){l=l!=null?l.concat([i]):null,lu(4,4,d_.bind(null,s,i),l)}function Np(){}function m_(i,s){var l=Nt();s=s===void 0?null:s;var c=l.memoizedState;return s!==null&&Tp(s,c[1])?c[0]:(l.memoizedState=[i,s],i)}function g_(i,s){var l=Nt();s=s===void 0?null:s;var c=l.memoizedState;if(s!==null&&Tp(s,c[1]))return c[0];if(c=i(),Es){An(!0);try{i()}finally{An(!1)}}return l.memoizedState=[c,s],c}function Pp(i,s,l){return l===void 0||(Ji&1073741824)!==0?i.memoizedState=s:(i.memoizedState=l,i=_0(),Ne.lanes|=i,sa|=i,l)}function v_(i,s,l,c){return Cn(l,s)?l:bo.current!==null?(i=Pp(i,l,c),Cn(i,s)||(Qt=!0),i):(Ji&42)===0?(Qt=!0,i.memoizedState=l):(i=_0(),Ne.lanes|=i,sa|=i,s)}function y_(i,s,l,c,d){var g=ne.p;ne.p=g!==0&&8>g?g:8;var w=Y.T,T={};Y.T=T,Up(i,!1,s,l);try{var O=d(),Q=Y.S;if(Q!==null&&Q(T,O),O!==null&&typeof O=="object"&&typeof O.then=="function"){var Z=xA(O,c);uu(i,s,Z,On(i))}else uu(i,s,c,On(i))}catch(ae){uu(i,s,{then:function(){},status:"rejected",reason:ae},On())}finally{ne.p=g,Y.T=w}}function LA(){}function Lp(i,s,l,c){if(i.tag!==5)throw Error(n(476));var d=__(i).queue;y_(i,d,s,le,l===null?LA:function(){return E_(i),l(c)})}function __(i){var s=i.memoizedState;if(s!==null)return s;s={memoizedState:le,baseState:le,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:pi,lastRenderedState:le},next:null};var l={};return s.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:pi,lastRenderedState:l},next:null},i.memoizedState=s,i=i.alternate,i!==null&&(i.memoizedState=s),s}function E_(i){var s=__(i).next.queue;uu(i,s,{},On())}function Vp(){return un(Ru)}function w_(){return Nt().memoizedState}function b_(){return Nt().memoizedState}function VA(i){for(var s=i.return;s!==null;){switch(s.tag){case 24:case 3:var l=On();i=$i(l);var c=Zi(s,i,l);c!==null&&(Nn(c,s,l),ru(c,s,l)),s={cache:dp()},i.payload=s;return}s=s.return}}function UA(i,s,l){var c=On();l={lane:c,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null},Ef(i)?S_(s,l):(l=rp(i,s,l,c),l!==null&&(Nn(l,i,c),D_(l,s,c)))}function T_(i,s,l){var c=On();uu(i,s,l,c)}function uu(i,s,l,c){var d={lane:c,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null};if(Ef(i))S_(s,d);else{var g=i.alternate;if(i.lanes===0&&(g===null||g.lanes===0)&&(g=s.lastRenderedReducer,g!==null))try{var w=s.lastRenderedState,T=g(w,l);if(d.hasEagerState=!0,d.eagerState=T,Cn(T,w))return nf(i,s,d,0),ht===null&&tf(),!1}catch{}finally{}if(l=rp(i,s,d,c),l!==null)return Nn(l,i,c),D_(l,s,c),!0}return!1}function Up(i,s,l,c){if(c={lane:2,revertLane:gm(),action:c,hasEagerState:!1,eagerState:null,next:null},Ef(i)){if(s)throw Error(n(479))}else s=rp(i,l,c,2),s!==null&&Nn(s,i,2)}function Ef(i){var s=i.alternate;return i===Ne||s!==null&&s===Ne}function S_(i,s){To=pf=!0;var l=i.pending;l===null?s.next=s:(s.next=l.next,l.next=s),i.pending=s}function D_(i,s,l){if((l&4194048)!==0){var c=s.lanes;c&=i.pendingLanes,l|=c,s.lanes=l,xl(i,l)}}var wf={readContext:un,use:gf,useCallback:At,useContext:At,useEffect:At,useImperativeHandle:At,useLayoutEffect:At,useInsertionEffect:At,useMemo:At,useReducer:At,useRef:At,useState:At,useDebugValue:At,useDeferredValue:At,useTransition:At,useSyncExternalStore:At,useId:At,useHostTransitionStatus:At,useFormState:At,useActionState:At,useOptimistic:At,useMemoCache:At,useCacheRefresh:At},A_={readContext:un,use:gf,useCallback:function(i,s){return bn().memoizedState=[i,s===void 0?null:s],i},useContext:un,useEffect:u_,useImperativeHandle:function(i,s,l){l=l!=null?l.concat([i]):null,_f(4194308,4,d_.bind(null,s,i),l)},useLayoutEffect:function(i,s){return _f(4194308,4,i,s)},useInsertionEffect:function(i,s){_f(4,2,i,s)},useMemo:function(i,s){var l=bn();s=s===void 0?null:s;var c=i();if(Es){An(!0);try{i()}finally{An(!1)}}return l.memoizedState=[c,s],c},useReducer:function(i,s,l){var c=bn();if(l!==void 0){var d=l(s);if(Es){An(!0);try{l(s)}finally{An(!1)}}}else d=s;return c.memoizedState=c.baseState=d,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:d},c.queue=i,i=i.dispatch=UA.bind(null,Ne,i),[c.memoizedState,i]},useRef:function(i){var s=bn();return i={current:i},s.memoizedState=i},useState:function(i){i=Mp(i);var s=i.queue,l=T_.bind(null,Ne,s);return s.dispatch=l,[i.memoizedState,l]},useDebugValue:Np,useDeferredValue:function(i,s){var l=bn();return Pp(l,i,s)},useTransition:function(){var i=Mp(!1);return i=y_.bind(null,Ne,i.queue,!0,!1),bn().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,s,l){var c=Ne,d=bn();if(Xe){if(l===void 0)throw Error(n(407));l=l()}else{if(l=s(),ht===null)throw Error(n(349));(qe&124)!==0||Qy(c,s,l)}d.memoizedState=l;var g={value:l,getSnapshot:s};return d.queue=g,u_(Wy.bind(null,c,g,i),[i]),c.flags|=2048,Do(9,yf(),Ky.bind(null,c,g,l,s),null),l},useId:function(){var i=bn(),s=ht.identifierPrefix;if(Xe){var l=fi,c=ci;l=(c&~(1<<32-ln(c)-1)).toString(32)+l,s=""+s+"R"+l,l=mf++,0<l&&(s+="H"+l.toString(32)),s+=""}else l=MA++,s=""+s+"r"+l.toString(32)+"";return i.memoizedState=s},useHostTransitionStatus:Vp,useFormState:i_,useActionState:i_,useOptimistic:function(i){var s=bn();s.memoizedState=s.baseState=i;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=l,s=Up.bind(null,Ne,!0,l),l.dispatch=s,[i,s]},useMemoCache:kp,useCacheRefresh:function(){return bn().memoizedState=VA.bind(null,Ne)}},R_={readContext:un,use:gf,useCallback:m_,useContext:un,useEffect:c_,useImperativeHandle:p_,useInsertionEffect:f_,useLayoutEffect:h_,useMemo:g_,useReducer:vf,useRef:l_,useState:function(){return vf(pi)},useDebugValue:Np,useDeferredValue:function(i,s){var l=Nt();return v_(l,ot.memoizedState,i,s)},useTransition:function(){var i=vf(pi)[0],s=Nt().memoizedState;return[typeof i=="boolean"?i:ou(i),s]},useSyncExternalStore:Gy,useId:w_,useHostTransitionStatus:Vp,useFormState:a_,useActionState:a_,useOptimistic:function(i,s){var l=Nt();return Zy(l,ot,i,s)},useMemoCache:kp,useCacheRefresh:b_},BA={readContext:un,use:gf,useCallback:m_,useContext:un,useEffect:c_,useImperativeHandle:p_,useInsertionEffect:f_,useLayoutEffect:h_,useMemo:g_,useReducer:xp,useRef:l_,useState:function(){return xp(pi)},useDebugValue:Np,useDeferredValue:function(i,s){var l=Nt();return ot===null?Pp(l,i,s):v_(l,ot.memoizedState,i,s)},useTransition:function(){var i=xp(pi)[0],s=Nt().memoizedState;return[typeof i=="boolean"?i:ou(i),s]},useSyncExternalStore:Gy,useId:w_,useHostTransitionStatus:Vp,useFormState:o_,useActionState:o_,useOptimistic:function(i,s){var l=Nt();return ot!==null?Zy(l,ot,i,s):(l.baseState=i,[i,l.queue.dispatch])},useMemoCache:kp,useCacheRefresh:b_},Ao=null,cu=0;function bf(i){var s=cu;return cu+=1,Ao===null&&(Ao=[]),Uy(Ao,i,s)}function fu(i,s){s=s.props.ref,i.ref=s!==void 0?s:null}function Tf(i,s){throw s.$$typeof===_?Error(n(525)):(i=Object.prototype.toString.call(s),Error(n(31,i==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":i)))}function C_(i){var s=i._init;return s(i._payload)}function k_(i){function s(F,H){if(i){var G=F.deletions;G===null?(F.deletions=[H],F.flags|=16):G.push(H)}}function l(F,H){if(!i)return null;for(;H!==null;)s(F,H),H=H.sibling;return null}function c(F){for(var H=new Map;F!==null;)F.key!==null?H.set(F.key,F):H.set(F.index,F),F=F.sibling;return H}function d(F,H){return F=ui(F,H),F.index=0,F.sibling=null,F}function g(F,H,G){return F.index=G,i?(G=F.alternate,G!==null?(G=G.index,G<H?(F.flags|=67108866,H):G):(F.flags|=67108866,H)):(F.flags|=1048576,H)}function w(F){return i&&F.alternate===null&&(F.flags|=67108866),F}function T(F,H,G,ee){return H===null||H.tag!==6?(H=ap(G,F.mode,ee),H.return=F,H):(H=d(H,G),H.return=F,H)}function O(F,H,G,ee){var ge=G.type;return ge===C?Z(F,H,G.props.children,ee,G.key):H!==null&&(H.elementType===ge||typeof ge=="object"&&ge!==null&&ge.$$typeof===D&&C_(ge)===H.type)?(H=d(H,G.props),fu(H,G),H.return=F,H):(H=af(G.type,G.key,G.props,null,F.mode,ee),fu(H,G),H.return=F,H)}function Q(F,H,G,ee){return H===null||H.tag!==4||H.stateNode.containerInfo!==G.containerInfo||H.stateNode.implementation!==G.implementation?(H=sp(G,F.mode,ee),H.return=F,H):(H=d(H,G.children||[]),H.return=F,H)}function Z(F,H,G,ee,ge){return H===null||H.tag!==7?(H=hs(G,F.mode,ee,ge),H.return=F,H):(H=d(H,G),H.return=F,H)}function ae(F,H,G){if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return H=ap(""+H,F.mode,G),H.return=F,H;if(typeof H=="object"&&H!==null){switch(H.$$typeof){case b:return G=af(H.type,H.key,H.props,null,F.mode,G),fu(G,H),G.return=F,G;case S:return H=sp(H,F.mode,G),H.return=F,H;case D:var ee=H._init;return H=ee(H._payload),ae(F,H,G)}if(Ee(H)||U(H))return H=hs(H,F.mode,G,null),H.return=F,H;if(typeof H.then=="function")return ae(F,bf(H),G);if(H.$$typeof===z)return ae(F,uf(F,H),G);Tf(F,H)}return null}function W(F,H,G,ee){var ge=H!==null?H.key:null;if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return ge!==null?null:T(F,H,""+G,ee);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case b:return G.key===ge?O(F,H,G,ee):null;case S:return G.key===ge?Q(F,H,G,ee):null;case D:return ge=G._init,G=ge(G._payload),W(F,H,G,ee)}if(Ee(G)||U(G))return ge!==null?null:Z(F,H,G,ee,null);if(typeof G.then=="function")return W(F,H,bf(G),ee);if(G.$$typeof===z)return W(F,H,uf(F,G),ee);Tf(F,G)}return null}function X(F,H,G,ee,ge){if(typeof ee=="string"&&ee!==""||typeof ee=="number"||typeof ee=="bigint")return F=F.get(G)||null,T(H,F,""+ee,ge);if(typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case b:return F=F.get(ee.key===null?G:ee.key)||null,O(H,F,ee,ge);case S:return F=F.get(ee.key===null?G:ee.key)||null,Q(H,F,ee,ge);case D:var Ue=ee._init;return ee=Ue(ee._payload),X(F,H,G,ee,ge)}if(Ee(ee)||U(ee))return F=F.get(G)||null,Z(H,F,ee,ge,null);if(typeof ee.then=="function")return X(F,H,G,bf(ee),ge);if(ee.$$typeof===z)return X(F,H,G,uf(H,ee),ge);Tf(H,ee)}return null}function Ce(F,H,G,ee){for(var ge=null,Ue=null,ye=H,De=H=0,Wt=null;ye!==null&&De<G.length;De++){ye.index>De?(Wt=ye,ye=null):Wt=ye.sibling;var We=W(F,ye,G[De],ee);if(We===null){ye===null&&(ye=Wt);break}i&&ye&&We.alternate===null&&s(F,ye),H=g(We,H,De),Ue===null?ge=We:Ue.sibling=We,Ue=We,ye=Wt}if(De===G.length)return l(F,ye),Xe&&ps(F,De),ge;if(ye===null){for(;De<G.length;De++)ye=ae(F,G[De],ee),ye!==null&&(H=g(ye,H,De),Ue===null?ge=ye:Ue.sibling=ye,Ue=ye);return Xe&&ps(F,De),ge}for(ye=c(ye);De<G.length;De++)Wt=X(ye,F,De,G[De],ee),Wt!==null&&(i&&Wt.alternate!==null&&ye.delete(Wt.key===null?De:Wt.key),H=g(Wt,H,De),Ue===null?ge=Wt:Ue.sibling=Wt,Ue=Wt);return i&&ye.forEach(function(ma){return s(F,ma)}),Xe&&ps(F,De),ge}function be(F,H,G,ee){if(G==null)throw Error(n(151));for(var ge=null,Ue=null,ye=H,De=H=0,Wt=null,We=G.next();ye!==null&&!We.done;De++,We=G.next()){ye.index>De?(Wt=ye,ye=null):Wt=ye.sibling;var ma=W(F,ye,We.value,ee);if(ma===null){ye===null&&(ye=Wt);break}i&&ye&&ma.alternate===null&&s(F,ye),H=g(ma,H,De),Ue===null?ge=ma:Ue.sibling=ma,Ue=ma,ye=Wt}if(We.done)return l(F,ye),Xe&&ps(F,De),ge;if(ye===null){for(;!We.done;De++,We=G.next())We=ae(F,We.value,ee),We!==null&&(H=g(We,H,De),Ue===null?ge=We:Ue.sibling=We,Ue=We);return Xe&&ps(F,De),ge}for(ye=c(ye);!We.done;De++,We=G.next())We=X(ye,F,De,We.value,ee),We!==null&&(i&&We.alternate!==null&&ye.delete(We.key===null?De:We.key),H=g(We,H,De),Ue===null?ge=We:Ue.sibling=We,Ue=We);return i&&ye.forEach(function(jR){return s(F,jR)}),Xe&&ps(F,De),ge}function ut(F,H,G,ee){if(typeof G=="object"&&G!==null&&G.type===C&&G.key===null&&(G=G.props.children),typeof G=="object"&&G!==null){switch(G.$$typeof){case b:e:{for(var ge=G.key;H!==null;){if(H.key===ge){if(ge=G.type,ge===C){if(H.tag===7){l(F,H.sibling),ee=d(H,G.props.children),ee.return=F,F=ee;break e}}else if(H.elementType===ge||typeof ge=="object"&&ge!==null&&ge.$$typeof===D&&C_(ge)===H.type){l(F,H.sibling),ee=d(H,G.props),fu(ee,G),ee.return=F,F=ee;break e}l(F,H);break}else s(F,H);H=H.sibling}G.type===C?(ee=hs(G.props.children,F.mode,ee,G.key),ee.return=F,F=ee):(ee=af(G.type,G.key,G.props,null,F.mode,ee),fu(ee,G),ee.return=F,F=ee)}return w(F);case S:e:{for(ge=G.key;H!==null;){if(H.key===ge)if(H.tag===4&&H.stateNode.containerInfo===G.containerInfo&&H.stateNode.implementation===G.implementation){l(F,H.sibling),ee=d(H,G.children||[]),ee.return=F,F=ee;break e}else{l(F,H);break}else s(F,H);H=H.sibling}ee=sp(G,F.mode,ee),ee.return=F,F=ee}return w(F);case D:return ge=G._init,G=ge(G._payload),ut(F,H,G,ee)}if(Ee(G))return Ce(F,H,G,ee);if(U(G)){if(ge=U(G),typeof ge!="function")throw Error(n(150));return G=ge.call(G),be(F,H,G,ee)}if(typeof G.then=="function")return ut(F,H,bf(G),ee);if(G.$$typeof===z)return ut(F,H,uf(F,G),ee);Tf(F,G)}return typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint"?(G=""+G,H!==null&&H.tag===6?(l(F,H.sibling),ee=d(H,G),ee.return=F,F=ee):(l(F,H),ee=ap(G,F.mode,ee),ee.return=F,F=ee),w(F)):l(F,H)}return function(F,H,G,ee){try{cu=0;var ge=ut(F,H,G,ee);return Ao=null,ge}catch(ye){if(ye===tu||ye===ff)throw ye;var Ue=kn(29,ye,null,F.mode);return Ue.lanes=ee,Ue.return=F,Ue}finally{}}}var Ro=k_(!0),I_=k_(!1),Qn=te(null),Cr=null;function ea(i){var s=i.alternate;ue(jt,jt.current&1),ue(Qn,i),Cr===null&&(s===null||bo.current!==null||s.memoizedState!==null)&&(Cr=i)}function x_(i){if(i.tag===22){if(ue(jt,jt.current),ue(Qn,i),Cr===null){var s=i.alternate;s!==null&&s.memoizedState!==null&&(Cr=i)}}else ta()}function ta(){ue(jt,jt.current),ue(Qn,Qn.current)}function mi(i){he(Qn),Cr===i&&(Cr=null),he(jt)}var jt=te(0);function Sf(i){for(var s=i;s!==null;){if(s.tag===13){var l=s.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||Cm(l)))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}function Bp(i,s,l,c){s=i.memoizedState,l=l(c,s),l=l==null?s:v({},s,l),i.memoizedState=l,i.lanes===0&&(i.updateQueue.baseState=l)}var jp={enqueueSetState:function(i,s,l){i=i._reactInternals;var c=On(),d=$i(c);d.payload=s,l!=null&&(d.callback=l),s=Zi(i,d,c),s!==null&&(Nn(s,i,c),ru(s,i,c))},enqueueReplaceState:function(i,s,l){i=i._reactInternals;var c=On(),d=$i(c);d.tag=1,d.payload=s,l!=null&&(d.callback=l),s=Zi(i,d,c),s!==null&&(Nn(s,i,c),ru(s,i,c))},enqueueForceUpdate:function(i,s){i=i._reactInternals;var l=On(),c=$i(l);c.tag=2,s!=null&&(c.callback=s),s=Zi(i,c,l),s!==null&&(Nn(s,i,l),ru(s,i,l))}};function M_(i,s,l,c,d,g,w){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(c,g,w):s.prototype&&s.prototype.isPureReactComponent?!Ql(l,c)||!Ql(d,g):!0}function O_(i,s,l,c){i=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(l,c),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(l,c),s.state!==i&&jp.enqueueReplaceState(s,s.state,null)}function ws(i,s){var l=s;if("ref"in s){l={};for(var c in s)c!=="ref"&&(l[c]=s[c])}if(i=i.defaultProps){l===s&&(l=v({},l));for(var d in i)l[d]===void 0&&(l[d]=i[d])}return l}var Df=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)};function N_(i){Df(i)}function P_(i){console.error(i)}function L_(i){Df(i)}function Af(i,s){try{var l=i.onUncaughtError;l(s.value,{componentStack:s.stack})}catch(c){setTimeout(function(){throw c})}}function V_(i,s,l){try{var c=i.onCaughtError;c(l.value,{componentStack:l.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(d){setTimeout(function(){throw d})}}function Hp(i,s,l){return l=$i(l),l.tag=3,l.payload={element:null},l.callback=function(){Af(i,s)},l}function U_(i){return i=$i(i),i.tag=3,i}function B_(i,s,l,c){var d=l.type.getDerivedStateFromError;if(typeof d=="function"){var g=c.value;i.payload=function(){return d(g)},i.callback=function(){V_(s,l,c)}}var w=l.stateNode;w!==null&&typeof w.componentDidCatch=="function"&&(i.callback=function(){V_(s,l,c),typeof d!="function"&&(oa===null?oa=new Set([this]):oa.add(this));var T=c.stack;this.componentDidCatch(c.value,{componentStack:T!==null?T:""})})}function jA(i,s,l,c,d){if(l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(s=l.alternate,s!==null&&Zl(s,l,d,!0),l=Qn.current,l!==null){switch(l.tag){case 13:return Cr===null?fm():l.alternate===null&&bt===0&&(bt=3),l.flags&=-257,l.flags|=65536,l.lanes=d,c===gp?l.flags|=16384:(s=l.updateQueue,s===null?l.updateQueue=new Set([c]):s.add(c),dm(i,c,d)),!1;case 22:return l.flags|=65536,c===gp?l.flags|=16384:(s=l.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([c])},l.updateQueue=s):(l=s.retryQueue,l===null?s.retryQueue=new Set([c]):l.add(c)),dm(i,c,d)),!1}throw Error(n(435,l.tag))}return dm(i,c,d),fm(),!1}if(Xe)return s=Qn.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=d,c!==up&&(i=Error(n(422),{cause:c}),$l(zn(i,l)))):(c!==up&&(s=Error(n(423),{cause:c}),$l(zn(s,l))),i=i.current.alternate,i.flags|=65536,d&=-d,i.lanes|=d,c=zn(c,l),d=Hp(i.stateNode,c,d),_p(i,d),bt!==4&&(bt=2)),!1;var g=Error(n(520),{cause:c});if(g=zn(g,l),yu===null?yu=[g]:yu.push(g),bt!==4&&(bt=2),s===null)return!0;c=zn(c,l),l=s;do{switch(l.tag){case 3:return l.flags|=65536,i=d&-d,l.lanes|=i,i=Hp(l.stateNode,c,i),_p(l,i),!1;case 1:if(s=l.type,g=l.stateNode,(l.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(oa===null||!oa.has(g))))return l.flags|=65536,d&=-d,l.lanes|=d,d=U_(d),B_(d,i,l,c),_p(l,d),!1}l=l.return}while(l!==null);return!1}var j_=Error(n(461)),Qt=!1;function en(i,s,l,c){s.child=i===null?I_(s,null,l,c):Ro(s,i.child,l,c)}function H_(i,s,l,c,d){l=l.render;var g=s.ref;if("ref"in c){var w={};for(var T in c)T!=="ref"&&(w[T]=c[T])}else w=c;return ys(s),c=Sp(i,s,l,w,g,d),T=Dp(),i!==null&&!Qt?(Ap(i,s,d),gi(i,s,d)):(Xe&&T&&op(s),s.flags|=1,en(i,s,c,d),s.child)}function F_(i,s,l,c,d){if(i===null){var g=l.type;return typeof g=="function"&&!ip(g)&&g.defaultProps===void 0&&l.compare===null?(s.tag=15,s.type=g,z_(i,s,g,c,d)):(i=af(l.type,null,c,s,s.mode,d),i.ref=s.ref,i.return=s,s.child=i)}if(g=i.child,!Wp(i,d)){var w=g.memoizedProps;if(l=l.compare,l=l!==null?l:Ql,l(w,c)&&i.ref===s.ref)return gi(i,s,d)}return s.flags|=1,i=ui(g,c),i.ref=s.ref,i.return=s,s.child=i}function z_(i,s,l,c,d){if(i!==null){var g=i.memoizedProps;if(Ql(g,c)&&i.ref===s.ref)if(Qt=!1,s.pendingProps=c=g,Wp(i,d))(i.flags&131072)!==0&&(Qt=!0);else return s.lanes=i.lanes,gi(i,s,d)}return Fp(i,s,l,c,d)}function Y_(i,s,l){var c=s.pendingProps,d=c.children,g=i!==null?i.memoizedState:null;if(c.mode==="hidden"){if((s.flags&128)!==0){if(c=g!==null?g.baseLanes|l:l,i!==null){for(d=s.child=i.child,g=0;d!==null;)g=g|d.lanes|d.childLanes,d=d.sibling;s.childLanes=g&~c}else s.childLanes=0,s.child=null;return q_(i,s,c,l)}if((l&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},i!==null&&cf(s,g!==null?g.cachePool:null),g!==null?zy(s,g):wp(),x_(s);else return s.lanes=s.childLanes=536870912,q_(i,s,g!==null?g.baseLanes|l:l,l)}else g!==null?(cf(s,g.cachePool),zy(s,g),ta(),s.memoizedState=null):(i!==null&&cf(s,null),wp(),ta());return en(i,s,d,l),s.child}function q_(i,s,l,c){var d=mp();return d=d===null?null:{parent:Bt._currentValue,pool:d},s.memoizedState={baseLanes:l,cachePool:d},i!==null&&cf(s,null),wp(),x_(s),i!==null&&Zl(i,s,c,!0),null}function Rf(i,s){var l=s.ref;if(l===null)i!==null&&i.ref!==null&&(s.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(n(284));(i===null||i.ref!==l)&&(s.flags|=4194816)}}function Fp(i,s,l,c,d){return ys(s),l=Sp(i,s,l,c,void 0,d),c=Dp(),i!==null&&!Qt?(Ap(i,s,d),gi(i,s,d)):(Xe&&c&&op(s),s.flags|=1,en(i,s,l,d),s.child)}function G_(i,s,l,c,d,g){return ys(s),s.updateQueue=null,l=qy(s,c,l,d),Yy(i),c=Dp(),i!==null&&!Qt?(Ap(i,s,g),gi(i,s,g)):(Xe&&c&&op(s),s.flags|=1,en(i,s,l,g),s.child)}function Q_(i,s,l,c,d){if(ys(s),s.stateNode===null){var g=vo,w=l.contextType;typeof w=="object"&&w!==null&&(g=un(w)),g=new l(c,g),s.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=jp,s.stateNode=g,g._reactInternals=s,g=s.stateNode,g.props=c,g.state=s.memoizedState,g.refs={},vp(s),w=l.contextType,g.context=typeof w=="object"&&w!==null?un(w):vo,g.state=s.memoizedState,w=l.getDerivedStateFromProps,typeof w=="function"&&(Bp(s,l,w,c),g.state=s.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(w=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),w!==g.state&&jp.enqueueReplaceState(g,g.state,null),au(s,c,g,d),iu(),g.state=s.memoizedState),typeof g.componentDidMount=="function"&&(s.flags|=4194308),c=!0}else if(i===null){g=s.stateNode;var T=s.memoizedProps,O=ws(l,T);g.props=O;var Q=g.context,Z=l.contextType;w=vo,typeof Z=="object"&&Z!==null&&(w=un(Z));var ae=l.getDerivedStateFromProps;Z=typeof ae=="function"||typeof g.getSnapshotBeforeUpdate=="function",T=s.pendingProps!==T,Z||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(T||Q!==w)&&O_(s,g,c,w),Xi=!1;var W=s.memoizedState;g.state=W,au(s,c,g,d),iu(),Q=s.memoizedState,T||W!==Q||Xi?(typeof ae=="function"&&(Bp(s,l,ae,c),Q=s.memoizedState),(O=Xi||M_(s,l,O,c,W,Q,w))?(Z||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(s.flags|=4194308)):(typeof g.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=c,s.memoizedState=Q),g.props=c,g.state=Q,g.context=w,c=O):(typeof g.componentDidMount=="function"&&(s.flags|=4194308),c=!1)}else{g=s.stateNode,yp(i,s),w=s.memoizedProps,Z=ws(l,w),g.props=Z,ae=s.pendingProps,W=g.context,Q=l.contextType,O=vo,typeof Q=="object"&&Q!==null&&(O=un(Q)),T=l.getDerivedStateFromProps,(Q=typeof T=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(w!==ae||W!==O)&&O_(s,g,c,O),Xi=!1,W=s.memoizedState,g.state=W,au(s,c,g,d),iu();var X=s.memoizedState;w!==ae||W!==X||Xi||i!==null&&i.dependencies!==null&&lf(i.dependencies)?(typeof T=="function"&&(Bp(s,l,T,c),X=s.memoizedState),(Z=Xi||M_(s,l,Z,c,W,X,O)||i!==null&&i.dependencies!==null&&lf(i.dependencies))?(Q||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(c,X,O),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(c,X,O)),typeof g.componentDidUpdate=="function"&&(s.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof g.componentDidUpdate!="function"||w===i.memoizedProps&&W===i.memoizedState||(s.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||w===i.memoizedProps&&W===i.memoizedState||(s.flags|=1024),s.memoizedProps=c,s.memoizedState=X),g.props=c,g.state=X,g.context=O,c=Z):(typeof g.componentDidUpdate!="function"||w===i.memoizedProps&&W===i.memoizedState||(s.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||w===i.memoizedProps&&W===i.memoizedState||(s.flags|=1024),c=!1)}return g=c,Rf(i,s),c=(s.flags&128)!==0,g||c?(g=s.stateNode,l=c&&typeof l.getDerivedStateFromError!="function"?null:g.render(),s.flags|=1,i!==null&&c?(s.child=Ro(s,i.child,null,d),s.child=Ro(s,null,l,d)):en(i,s,l,d),s.memoizedState=g.state,i=s.child):i=gi(i,s,d),i}function K_(i,s,l,c){return Xl(),s.flags|=256,en(i,s,l,c),s.child}var zp={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Yp(i){return{baseLanes:i,cachePool:Py()}}function qp(i,s,l){return i=i!==null?i.childLanes&~l:0,s&&(i|=Kn),i}function W_(i,s,l){var c=s.pendingProps,d=!1,g=(s.flags&128)!==0,w;if((w=g)||(w=i!==null&&i.memoizedState===null?!1:(jt.current&2)!==0),w&&(d=!0,s.flags&=-129),w=(s.flags&32)!==0,s.flags&=-33,i===null){if(Xe){if(d?ea(s):ta(),Xe){var T=wt,O;if(O=T){e:{for(O=T,T=Rr;O.nodeType!==8;){if(!T){T=null;break e}if(O=ur(O.nextSibling),O===null){T=null;break e}}T=O}T!==null?(s.memoizedState={dehydrated:T,treeContext:ds!==null?{id:ci,overflow:fi}:null,retryLane:536870912,hydrationErrors:null},O=kn(18,null,null,0),O.stateNode=T,O.return=s,s.child=O,yn=s,wt=null,O=!0):O=!1}O||gs(s)}if(T=s.memoizedState,T!==null&&(T=T.dehydrated,T!==null))return Cm(T)?s.lanes=32:s.lanes=536870912,null;mi(s)}return T=c.children,c=c.fallback,d?(ta(),d=s.mode,T=Cf({mode:"hidden",children:T},d),c=hs(c,d,l,null),T.return=s,c.return=s,T.sibling=c,s.child=T,d=s.child,d.memoizedState=Yp(l),d.childLanes=qp(i,w,l),s.memoizedState=zp,c):(ea(s),Gp(s,T))}if(O=i.memoizedState,O!==null&&(T=O.dehydrated,T!==null)){if(g)s.flags&256?(ea(s),s.flags&=-257,s=Qp(i,s,l)):s.memoizedState!==null?(ta(),s.child=i.child,s.flags|=128,s=null):(ta(),d=c.fallback,T=s.mode,c=Cf({mode:"visible",children:c.children},T),d=hs(d,T,l,null),d.flags|=2,c.return=s,d.return=s,c.sibling=d,s.child=c,Ro(s,i.child,null,l),c=s.child,c.memoizedState=Yp(l),c.childLanes=qp(i,w,l),s.memoizedState=zp,s=d);else if(ea(s),Cm(T)){if(w=T.nextSibling&&T.nextSibling.dataset,w)var Q=w.dgst;w=Q,c=Error(n(419)),c.stack="",c.digest=w,$l({value:c,source:null,stack:null}),s=Qp(i,s,l)}else if(Qt||Zl(i,s,l,!1),w=(l&i.childLanes)!==0,Qt||w){if(w=ht,w!==null&&(c=l&-l,c=(c&42)!==0?1:Fi(c),c=(c&(w.suspendedLanes|l))!==0?0:c,c!==0&&c!==O.retryLane))throw O.retryLane=c,go(i,c),Nn(w,i,c),j_;T.data==="$?"||fm(),s=Qp(i,s,l)}else T.data==="$?"?(s.flags|=192,s.child=i.child,s=null):(i=O.treeContext,wt=ur(T.nextSibling),yn=s,Xe=!0,ms=null,Rr=!1,i!==null&&(qn[Gn++]=ci,qn[Gn++]=fi,qn[Gn++]=ds,ci=i.id,fi=i.overflow,ds=s),s=Gp(s,c.children),s.flags|=4096);return s}return d?(ta(),d=c.fallback,T=s.mode,O=i.child,Q=O.sibling,c=ui(O,{mode:"hidden",children:c.children}),c.subtreeFlags=O.subtreeFlags&65011712,Q!==null?d=ui(Q,d):(d=hs(d,T,l,null),d.flags|=2),d.return=s,c.return=s,c.sibling=d,s.child=c,c=d,d=s.child,T=i.child.memoizedState,T===null?T=Yp(l):(O=T.cachePool,O!==null?(Q=Bt._currentValue,O=O.parent!==Q?{parent:Q,pool:Q}:O):O=Py(),T={baseLanes:T.baseLanes|l,cachePool:O}),d.memoizedState=T,d.childLanes=qp(i,w,l),s.memoizedState=zp,c):(ea(s),l=i.child,i=l.sibling,l=ui(l,{mode:"visible",children:c.children}),l.return=s,l.sibling=null,i!==null&&(w=s.deletions,w===null?(s.deletions=[i],s.flags|=16):w.push(i)),s.child=l,s.memoizedState=null,l)}function Gp(i,s){return s=Cf({mode:"visible",children:s},i.mode),s.return=i,i.child=s}function Cf(i,s){return i=kn(22,i,null,s),i.lanes=0,i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},i}function Qp(i,s,l){return Ro(s,i.child,null,l),i=Gp(s,s.pendingProps.children),i.flags|=2,s.memoizedState=null,i}function X_(i,s,l){i.lanes|=s;var c=i.alternate;c!==null&&(c.lanes|=s),fp(i.return,s,l)}function Kp(i,s,l,c,d){var g=i.memoizedState;g===null?i.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:c,tail:l,tailMode:d}:(g.isBackwards=s,g.rendering=null,g.renderingStartTime=0,g.last=c,g.tail=l,g.tailMode=d)}function $_(i,s,l){var c=s.pendingProps,d=c.revealOrder,g=c.tail;if(en(i,s,c.children,l),c=jt.current,(c&2)!==0)c=c&1|2,s.flags|=128;else{if(i!==null&&(i.flags&128)!==0)e:for(i=s.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&X_(i,l,s);else if(i.tag===19)X_(i,l,s);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break e;for(;i.sibling===null;){if(i.return===null||i.return===s)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}c&=1}switch(ue(jt,c),d){case"forwards":for(l=s.child,d=null;l!==null;)i=l.alternate,i!==null&&Sf(i)===null&&(d=l),l=l.sibling;l=d,l===null?(d=s.child,s.child=null):(d=l.sibling,l.sibling=null),Kp(s,!1,d,l,g);break;case"backwards":for(l=null,d=s.child,s.child=null;d!==null;){if(i=d.alternate,i!==null&&Sf(i)===null){s.child=d;break}i=d.sibling,d.sibling=l,l=d,d=i}Kp(s,!0,l,null,g);break;case"together":Kp(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function gi(i,s,l){if(i!==null&&(s.dependencies=i.dependencies),sa|=s.lanes,(l&s.childLanes)===0)if(i!==null){if(Zl(i,s,l,!1),(l&s.childLanes)===0)return null}else return null;if(i!==null&&s.child!==i.child)throw Error(n(153));if(s.child!==null){for(i=s.child,l=ui(i,i.pendingProps),s.child=l,l.return=s;i.sibling!==null;)i=i.sibling,l=l.sibling=ui(i,i.pendingProps),l.return=s;l.sibling=null}return s.child}function Wp(i,s){return(i.lanes&s)!==0?!0:(i=i.dependencies,!!(i!==null&&lf(i)))}function HA(i,s,l){switch(s.tag){case 3:ft(s,s.stateNode.containerInfo),Wi(s,Bt,i.memoizedState.cache),Xl();break;case 27:case 5:Hi(s);break;case 4:ft(s,s.stateNode.containerInfo);break;case 10:Wi(s,s.type,s.memoizedProps.value);break;case 13:var c=s.memoizedState;if(c!==null)return c.dehydrated!==null?(ea(s),s.flags|=128,null):(l&s.child.childLanes)!==0?W_(i,s,l):(ea(s),i=gi(i,s,l),i!==null?i.sibling:null);ea(s);break;case 19:var d=(i.flags&128)!==0;if(c=(l&s.childLanes)!==0,c||(Zl(i,s,l,!1),c=(l&s.childLanes)!==0),d){if(c)return $_(i,s,l);s.flags|=128}if(d=s.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),ue(jt,jt.current),c)break;return null;case 22:case 23:return s.lanes=0,Y_(i,s,l);case 24:Wi(s,Bt,i.memoizedState.cache)}return gi(i,s,l)}function Z_(i,s,l){if(i!==null)if(i.memoizedProps!==s.pendingProps)Qt=!0;else{if(!Wp(i,l)&&(s.flags&128)===0)return Qt=!1,HA(i,s,l);Qt=(i.flags&131072)!==0}else Qt=!1,Xe&&(s.flags&1048576)!==0&&Cy(s,of,s.index);switch(s.lanes=0,s.tag){case 16:e:{i=s.pendingProps;var c=s.elementType,d=c._init;if(c=d(c._payload),s.type=c,typeof c=="function")ip(c)?(i=ws(c,i),s.tag=1,s=Q_(null,s,c,i,l)):(s.tag=0,s=Fp(null,s,c,i,l));else{if(c!=null){if(d=c.$$typeof,d===re){s.tag=11,s=H_(null,s,c,i,l);break e}else if(d===x){s.tag=14,s=F_(null,s,c,i,l);break e}}throw s=Re(c)||c,Error(n(306,s,""))}}return s;case 0:return Fp(i,s,s.type,s.pendingProps,l);case 1:return c=s.type,d=ws(c,s.pendingProps),Q_(i,s,c,d,l);case 3:e:{if(ft(s,s.stateNode.containerInfo),i===null)throw Error(n(387));c=s.pendingProps;var g=s.memoizedState;d=g.element,yp(i,s),au(s,c,null,l);var w=s.memoizedState;if(c=w.cache,Wi(s,Bt,c),c!==g.cache&&hp(s,[Bt],l,!0),iu(),c=w.element,g.isDehydrated)if(g={element:c,isDehydrated:!1,cache:w.cache},s.updateQueue.baseState=g,s.memoizedState=g,s.flags&256){s=K_(i,s,c,l);break e}else if(c!==d){d=zn(Error(n(424)),s),$l(d),s=K_(i,s,c,l);break e}else{switch(i=s.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(wt=ur(i.firstChild),yn=s,Xe=!0,ms=null,Rr=!0,l=I_(s,null,c,l),s.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(Xl(),c===d){s=gi(i,s,l);break e}en(i,s,c,l)}s=s.child}return s;case 26:return Rf(i,s),i===null?(l=nE(s.type,null,s.pendingProps,null))?s.memoizedState=l:Xe||(l=s.type,i=s.pendingProps,c=Ff(Ie.current).createElement(l),c[Lt]=s,c[xt]=i,nn(c,l,i),Dt(c),s.stateNode=c):s.memoizedState=nE(s.type,i.memoizedProps,s.pendingProps,i.memoizedState),null;case 27:return Hi(s),i===null&&Xe&&(c=s.stateNode=J0(s.type,s.pendingProps,Ie.current),yn=s,Rr=!0,d=wt,ca(s.type)?(km=d,wt=ur(c.firstChild)):wt=d),en(i,s,s.pendingProps.children,l),Rf(i,s),i===null&&(s.flags|=4194304),s.child;case 5:return i===null&&Xe&&((d=c=wt)&&(c=mR(c,s.type,s.pendingProps,Rr),c!==null?(s.stateNode=c,yn=s,wt=ur(c.firstChild),Rr=!1,d=!0):d=!1),d||gs(s)),Hi(s),d=s.type,g=s.pendingProps,w=i!==null?i.memoizedProps:null,c=g.children,Dm(d,g)?c=null:w!==null&&Dm(d,w)&&(s.flags|=32),s.memoizedState!==null&&(d=Sp(i,s,OA,null,null,l),Ru._currentValue=d),Rf(i,s),en(i,s,c,l),s.child;case 6:return i===null&&Xe&&((i=l=wt)&&(l=gR(l,s.pendingProps,Rr),l!==null?(s.stateNode=l,yn=s,wt=null,i=!0):i=!1),i||gs(s)),null;case 13:return W_(i,s,l);case 4:return ft(s,s.stateNode.containerInfo),c=s.pendingProps,i===null?s.child=Ro(s,null,c,l):en(i,s,c,l),s.child;case 11:return H_(i,s,s.type,s.pendingProps,l);case 7:return en(i,s,s.pendingProps,l),s.child;case 8:return en(i,s,s.pendingProps.children,l),s.child;case 12:return en(i,s,s.pendingProps.children,l),s.child;case 10:return c=s.pendingProps,Wi(s,s.type,c.value),en(i,s,c.children,l),s.child;case 9:return d=s.type._context,c=s.pendingProps.children,ys(s),d=un(d),c=c(d),s.flags|=1,en(i,s,c,l),s.child;case 14:return F_(i,s,s.type,s.pendingProps,l);case 15:return z_(i,s,s.type,s.pendingProps,l);case 19:return $_(i,s,l);case 31:return c=s.pendingProps,l=s.mode,c={mode:c.mode,children:c.children},i===null?(l=Cf(c,l),l.ref=s.ref,s.child=l,l.return=s,s=l):(l=ui(i.child,c),l.ref=s.ref,s.child=l,l.return=s,s=l),s;case 22:return Y_(i,s,l);case 24:return ys(s),c=un(Bt),i===null?(d=mp(),d===null&&(d=ht,g=dp(),d.pooledCache=g,g.refCount++,g!==null&&(d.pooledCacheLanes|=l),d=g),s.memoizedState={parent:c,cache:d},vp(s),Wi(s,Bt,d)):((i.lanes&l)!==0&&(yp(i,s),au(s,null,null,l),iu()),d=i.memoizedState,g=s.memoizedState,d.parent!==c?(d={parent:c,cache:c},s.memoizedState=d,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=d),Wi(s,Bt,c)):(c=g.cache,Wi(s,Bt,c),c!==d.cache&&hp(s,[Bt],l,!0))),en(i,s,s.pendingProps.children,l),s.child;case 29:throw s.pendingProps}throw Error(n(156,s.tag))}function vi(i){i.flags|=4}function J_(i,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!oE(s)){if(s=Qn.current,s!==null&&((qe&4194048)===qe?Cr!==null:(qe&62914560)!==qe&&(qe&536870912)===0||s!==Cr))throw nu=gp,Ly;i.flags|=8192}}function kf(i,s){s!==null&&(i.flags|=4),i.flags&16384&&(s=i.tag!==22?kl():536870912,i.lanes|=s,xo|=s)}function hu(i,s){if(!Xe)switch(i.tailMode){case"hidden":s=i.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?i.tail=null:l.sibling=null;break;case"collapsed":l=i.tail;for(var c=null;l!==null;)l.alternate!==null&&(c=l),l=l.sibling;c===null?s||i.tail===null?i.tail=null:i.tail.sibling=null:c.sibling=null}}function gt(i){var s=i.alternate!==null&&i.alternate.child===i.child,l=0,c=0;if(s)for(var d=i.child;d!==null;)l|=d.lanes|d.childLanes,c|=d.subtreeFlags&65011712,c|=d.flags&65011712,d.return=i,d=d.sibling;else for(d=i.child;d!==null;)l|=d.lanes|d.childLanes,c|=d.subtreeFlags,c|=d.flags,d.return=i,d=d.sibling;return i.subtreeFlags|=c,i.childLanes=l,s}function FA(i,s,l){var c=s.pendingProps;switch(lp(s),s.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return gt(s),null;case 1:return gt(s),null;case 3:return l=s.stateNode,c=null,i!==null&&(c=i.memoizedState.cache),s.memoizedState.cache!==c&&(s.flags|=2048),di(Bt),mr(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(i===null||i.child===null)&&(Wl(s)?vi(s):i===null||i.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,xy())),gt(s),null;case 26:return l=s.memoizedState,i===null?(vi(s),l!==null?(gt(s),J_(s,l)):(gt(s),s.flags&=-16777217)):l?l!==i.memoizedState?(vi(s),gt(s),J_(s,l)):(gt(s),s.flags&=-16777217):(i.memoizedProps!==c&&vi(s),gt(s),s.flags&=-16777217),null;case 27:Xr(s),l=Ie.current;var d=s.type;if(i!==null&&s.stateNode!=null)i.memoizedProps!==c&&vi(s);else{if(!c){if(s.stateNode===null)throw Error(n(166));return gt(s),null}i=_e.current,Wl(s)?ky(s):(i=J0(d,c,l),s.stateNode=i,vi(s))}return gt(s),null;case 5:if(Xr(s),l=s.type,i!==null&&s.stateNode!=null)i.memoizedProps!==c&&vi(s);else{if(!c){if(s.stateNode===null)throw Error(n(166));return gt(s),null}if(i=_e.current,Wl(s))ky(s);else{switch(d=Ff(Ie.current),i){case 1:i=d.createElementNS("http://www.w3.org/2000/svg",l);break;case 2:i=d.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;default:switch(l){case"svg":i=d.createElementNS("http://www.w3.org/2000/svg",l);break;case"math":i=d.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;case"script":i=d.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i=typeof c.is=="string"?d.createElement("select",{is:c.is}):d.createElement("select"),c.multiple?i.multiple=!0:c.size&&(i.size=c.size);break;default:i=typeof c.is=="string"?d.createElement(l,{is:c.is}):d.createElement(l)}}i[Lt]=s,i[xt]=c;e:for(d=s.child;d!==null;){if(d.tag===5||d.tag===6)i.appendChild(d.stateNode);else if(d.tag!==4&&d.tag!==27&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===s)break e;for(;d.sibling===null;){if(d.return===null||d.return===s)break e;d=d.return}d.sibling.return=d.return,d=d.sibling}s.stateNode=i;e:switch(nn(i,l,c),l){case"button":case"input":case"select":case"textarea":i=!!c.autoFocus;break e;case"img":i=!0;break e;default:i=!1}i&&vi(s)}}return gt(s),s.flags&=-16777217,null;case 6:if(i&&s.stateNode!=null)i.memoizedProps!==c&&vi(s);else{if(typeof c!="string"&&s.stateNode===null)throw Error(n(166));if(i=Ie.current,Wl(s)){if(i=s.stateNode,l=s.memoizedProps,c=null,d=yn,d!==null)switch(d.tag){case 27:case 5:c=d.memoizedProps}i[Lt]=s,i=!!(i.nodeValue===l||c!==null&&c.suppressHydrationWarning===!0||G0(i.nodeValue,l)),i||gs(s)}else i=Ff(i).createTextNode(c),i[Lt]=s,s.stateNode=i}return gt(s),null;case 13:if(c=s.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(d=Wl(s),c!==null&&c.dehydrated!==null){if(i===null){if(!d)throw Error(n(318));if(d=s.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(n(317));d[Lt]=s}else Xl(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;gt(s),d=!1}else d=xy(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=d),d=!0;if(!d)return s.flags&256?(mi(s),s):(mi(s),null)}if(mi(s),(s.flags&128)!==0)return s.lanes=l,s;if(l=c!==null,i=i!==null&&i.memoizedState!==null,l){c=s.child,d=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(d=c.alternate.memoizedState.cachePool.pool);var g=null;c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(g=c.memoizedState.cachePool.pool),g!==d&&(c.flags|=2048)}return l!==i&&l&&(s.child.flags|=8192),kf(s,s.updateQueue),gt(s),null;case 4:return mr(),i===null&&Em(s.stateNode.containerInfo),gt(s),null;case 10:return di(s.type),gt(s),null;case 19:if(he(jt),d=s.memoizedState,d===null)return gt(s),null;if(c=(s.flags&128)!==0,g=d.rendering,g===null)if(c)hu(d,!1);else{if(bt!==0||i!==null&&(i.flags&128)!==0)for(i=s.child;i!==null;){if(g=Sf(i),g!==null){for(s.flags|=128,hu(d,!1),i=g.updateQueue,s.updateQueue=i,kf(s,i),s.subtreeFlags=0,i=l,l=s.child;l!==null;)Ry(l,i),l=l.sibling;return ue(jt,jt.current&1|2),s.child}i=i.sibling}d.tail!==null&&Vn()>Mf&&(s.flags|=128,c=!0,hu(d,!1),s.lanes=4194304)}else{if(!c)if(i=Sf(g),i!==null){if(s.flags|=128,c=!0,i=i.updateQueue,s.updateQueue=i,kf(s,i),hu(d,!0),d.tail===null&&d.tailMode==="hidden"&&!g.alternate&&!Xe)return gt(s),null}else 2*Vn()-d.renderingStartTime>Mf&&l!==536870912&&(s.flags|=128,c=!0,hu(d,!1),s.lanes=4194304);d.isBackwards?(g.sibling=s.child,s.child=g):(i=d.last,i!==null?i.sibling=g:s.child=g,d.last=g)}return d.tail!==null?(s=d.tail,d.rendering=s,d.tail=s.sibling,d.renderingStartTime=Vn(),s.sibling=null,i=jt.current,ue(jt,c?i&1|2:i&1),s):(gt(s),null);case 22:case 23:return mi(s),bp(),c=s.memoizedState!==null,i!==null?i.memoizedState!==null!==c&&(s.flags|=8192):c&&(s.flags|=8192),c?(l&536870912)!==0&&(s.flags&128)===0&&(gt(s),s.subtreeFlags&6&&(s.flags|=8192)):gt(s),l=s.updateQueue,l!==null&&kf(s,l.retryQueue),l=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),c=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(c=s.memoizedState.cachePool.pool),c!==l&&(s.flags|=2048),i!==null&&he(_s),null;case 24:return l=null,i!==null&&(l=i.memoizedState.cache),s.memoizedState.cache!==l&&(s.flags|=2048),di(Bt),gt(s),null;case 25:return null;case 30:return null}throw Error(n(156,s.tag))}function zA(i,s){switch(lp(s),s.tag){case 1:return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 3:return di(Bt),mr(),i=s.flags,(i&65536)!==0&&(i&128)===0?(s.flags=i&-65537|128,s):null;case 26:case 27:case 5:return Xr(s),null;case 13:if(mi(s),i=s.memoizedState,i!==null&&i.dehydrated!==null){if(s.alternate===null)throw Error(n(340));Xl()}return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 19:return he(jt),null;case 4:return mr(),null;case 10:return di(s.type),null;case 22:case 23:return mi(s),bp(),i!==null&&he(_s),i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 24:return di(Bt),null;case 25:return null;default:return null}}function e0(i,s){switch(lp(s),s.tag){case 3:di(Bt),mr();break;case 26:case 27:case 5:Xr(s);break;case 4:mr();break;case 13:mi(s);break;case 19:he(jt);break;case 10:di(s.type);break;case 22:case 23:mi(s),bp(),i!==null&&he(_s);break;case 24:di(Bt)}}function du(i,s){try{var l=s.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var d=c.next;l=d;do{if((l.tag&i)===i){c=void 0;var g=l.create,w=l.inst;c=g(),w.destroy=c}l=l.next}while(l!==d)}}catch(T){ct(s,s.return,T)}}function na(i,s,l){try{var c=s.updateQueue,d=c!==null?c.lastEffect:null;if(d!==null){var g=d.next;c=g;do{if((c.tag&i)===i){var w=c.inst,T=w.destroy;if(T!==void 0){w.destroy=void 0,d=s;var O=l,Q=T;try{Q()}catch(Z){ct(d,O,Z)}}}c=c.next}while(c!==g)}}catch(Z){ct(s,s.return,Z)}}function t0(i){var s=i.updateQueue;if(s!==null){var l=i.stateNode;try{Fy(s,l)}catch(c){ct(i,i.return,c)}}}function n0(i,s,l){l.props=ws(i.type,i.memoizedProps),l.state=i.memoizedState;try{l.componentWillUnmount()}catch(c){ct(i,s,c)}}function pu(i,s){try{var l=i.ref;if(l!==null){switch(i.tag){case 26:case 27:case 5:var c=i.stateNode;break;case 30:c=i.stateNode;break;default:c=i.stateNode}typeof l=="function"?i.refCleanup=l(c):l.current=c}}catch(d){ct(i,s,d)}}function kr(i,s){var l=i.ref,c=i.refCleanup;if(l!==null)if(typeof c=="function")try{c()}catch(d){ct(i,s,d)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(d){ct(i,s,d)}else l.current=null}function r0(i){var s=i.type,l=i.memoizedProps,c=i.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":l.autoFocus&&c.focus();break e;case"img":l.src?c.src=l.src:l.srcSet&&(c.srcset=l.srcSet)}}catch(d){ct(i,i.return,d)}}function Xp(i,s,l){try{var c=i.stateNode;cR(c,i.type,l,s),c[xt]=s}catch(d){ct(i,i.return,d)}}function i0(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&ca(i.type)||i.tag===4}function $p(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||i0(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&ca(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Zp(i,s,l){var c=i.tag;if(c===5||c===6)i=i.stateNode,s?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(i,s):(s=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,s.appendChild(i),l=l._reactRootContainer,l!=null||s.onclick!==null||(s.onclick=Hf));else if(c!==4&&(c===27&&ca(i.type)&&(l=i.stateNode,s=null),i=i.child,i!==null))for(Zp(i,s,l),i=i.sibling;i!==null;)Zp(i,s,l),i=i.sibling}function If(i,s,l){var c=i.tag;if(c===5||c===6)i=i.stateNode,s?l.insertBefore(i,s):l.appendChild(i);else if(c!==4&&(c===27&&ca(i.type)&&(l=i.stateNode),i=i.child,i!==null))for(If(i,s,l),i=i.sibling;i!==null;)If(i,s,l),i=i.sibling}function a0(i){var s=i.stateNode,l=i.memoizedProps;try{for(var c=i.type,d=s.attributes;d.length;)s.removeAttributeNode(d[0]);nn(s,c,l),s[Lt]=i,s[xt]=l}catch(g){ct(i,i.return,g)}}var yi=!1,Rt=!1,Jp=!1,s0=typeof WeakSet=="function"?WeakSet:Set,Kt=null;function YA(i,s){if(i=i.containerInfo,Tm=Kf,i=vy(i),$d(i)){if("selectionStart"in i)var l={start:i.selectionStart,end:i.selectionEnd};else e:{l=(l=i.ownerDocument)&&l.defaultView||window;var c=l.getSelection&&l.getSelection();if(c&&c.rangeCount!==0){l=c.anchorNode;var d=c.anchorOffset,g=c.focusNode;c=c.focusOffset;try{l.nodeType,g.nodeType}catch{l=null;break e}var w=0,T=-1,O=-1,Q=0,Z=0,ae=i,W=null;t:for(;;){for(var X;ae!==l||d!==0&&ae.nodeType!==3||(T=w+d),ae!==g||c!==0&&ae.nodeType!==3||(O=w+c),ae.nodeType===3&&(w+=ae.nodeValue.length),(X=ae.firstChild)!==null;)W=ae,ae=X;for(;;){if(ae===i)break t;if(W===l&&++Q===d&&(T=w),W===g&&++Z===c&&(O=w),(X=ae.nextSibling)!==null)break;ae=W,W=ae.parentNode}ae=X}l=T===-1||O===-1?null:{start:T,end:O}}else l=null}l=l||{start:0,end:0}}else l=null;for(Sm={focusedElem:i,selectionRange:l},Kf=!1,Kt=s;Kt!==null;)if(s=Kt,i=s.child,(s.subtreeFlags&1024)!==0&&i!==null)i.return=s,Kt=i;else for(;Kt!==null;){switch(s=Kt,g=s.alternate,i=s.flags,s.tag){case 0:break;case 11:case 15:break;case 1:if((i&1024)!==0&&g!==null){i=void 0,l=s,d=g.memoizedProps,g=g.memoizedState,c=l.stateNode;try{var Ce=ws(l.type,d,l.elementType===l.type);i=c.getSnapshotBeforeUpdate(Ce,g),c.__reactInternalSnapshotBeforeUpdate=i}catch(be){ct(l,l.return,be)}}break;case 3:if((i&1024)!==0){if(i=s.stateNode.containerInfo,l=i.nodeType,l===9)Rm(i);else if(l===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":Rm(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(n(163))}if(i=s.sibling,i!==null){i.return=s.return,Kt=i;break}Kt=s.return}}function o0(i,s,l){var c=l.flags;switch(l.tag){case 0:case 11:case 15:ra(i,l),c&4&&du(5,l);break;case 1:if(ra(i,l),c&4)if(i=l.stateNode,s===null)try{i.componentDidMount()}catch(w){ct(l,l.return,w)}else{var d=ws(l.type,s.memoizedProps);s=s.memoizedState;try{i.componentDidUpdate(d,s,i.__reactInternalSnapshotBeforeUpdate)}catch(w){ct(l,l.return,w)}}c&64&&t0(l),c&512&&pu(l,l.return);break;case 3:if(ra(i,l),c&64&&(i=l.updateQueue,i!==null)){if(s=null,l.child!==null)switch(l.child.tag){case 27:case 5:s=l.child.stateNode;break;case 1:s=l.child.stateNode}try{Fy(i,s)}catch(w){ct(l,l.return,w)}}break;case 27:s===null&&c&4&&a0(l);case 26:case 5:ra(i,l),s===null&&c&4&&r0(l),c&512&&pu(l,l.return);break;case 12:ra(i,l);break;case 13:ra(i,l),c&4&&c0(i,l),c&64&&(i=l.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(l=JA.bind(null,l),vR(i,l))));break;case 22:if(c=l.memoizedState!==null||yi,!c){s=s!==null&&s.memoizedState!==null||Rt,d=yi;var g=Rt;yi=c,(Rt=s)&&!g?ia(i,l,(l.subtreeFlags&8772)!==0):ra(i,l),yi=d,Rt=g}break;case 30:break;default:ra(i,l)}}function l0(i){var s=i.alternate;s!==null&&(i.alternate=null,l0(s)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(s=i.stateNode,s!==null&&qi(s)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var pt=null,Tn=!1;function _i(i,s,l){for(l=l.child;l!==null;)u0(i,s,l),l=l.sibling}function u0(i,s,l){if(tt&&typeof tt.onCommitFiberUnmount=="function")try{tt.onCommitFiberUnmount(Et,l)}catch{}switch(l.tag){case 26:Rt||kr(l,s),_i(i,s,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:Rt||kr(l,s);var c=pt,d=Tn;ca(l.type)&&(pt=l.stateNode,Tn=!1),_i(i,s,l),Tu(l.stateNode),pt=c,Tn=d;break;case 5:Rt||kr(l,s);case 6:if(c=pt,d=Tn,pt=null,_i(i,s,l),pt=c,Tn=d,pt!==null)if(Tn)try{(pt.nodeType===9?pt.body:pt.nodeName==="HTML"?pt.ownerDocument.body:pt).removeChild(l.stateNode)}catch(g){ct(l,s,g)}else try{pt.removeChild(l.stateNode)}catch(g){ct(l,s,g)}break;case 18:pt!==null&&(Tn?(i=pt,$0(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,l.stateNode),xu(i)):$0(pt,l.stateNode));break;case 4:c=pt,d=Tn,pt=l.stateNode.containerInfo,Tn=!0,_i(i,s,l),pt=c,Tn=d;break;case 0:case 11:case 14:case 15:Rt||na(2,l,s),Rt||na(4,l,s),_i(i,s,l);break;case 1:Rt||(kr(l,s),c=l.stateNode,typeof c.componentWillUnmount=="function"&&n0(l,s,c)),_i(i,s,l);break;case 21:_i(i,s,l);break;case 22:Rt=(c=Rt)||l.memoizedState!==null,_i(i,s,l),Rt=c;break;default:_i(i,s,l)}}function c0(i,s){if(s.memoizedState===null&&(i=s.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{xu(i)}catch(l){ct(s,s.return,l)}}function qA(i){switch(i.tag){case 13:case 19:var s=i.stateNode;return s===null&&(s=i.stateNode=new s0),s;case 22:return i=i.stateNode,s=i._retryCache,s===null&&(s=i._retryCache=new s0),s;default:throw Error(n(435,i.tag))}}function em(i,s){var l=qA(i);s.forEach(function(c){var d=eR.bind(null,i,c);l.has(c)||(l.add(c),c.then(d,d))})}function In(i,s){var l=s.deletions;if(l!==null)for(var c=0;c<l.length;c++){var d=l[c],g=i,w=s,T=w;e:for(;T!==null;){switch(T.tag){case 27:if(ca(T.type)){pt=T.stateNode,Tn=!1;break e}break;case 5:pt=T.stateNode,Tn=!1;break e;case 3:case 4:pt=T.stateNode.containerInfo,Tn=!0;break e}T=T.return}if(pt===null)throw Error(n(160));u0(g,w,d),pt=null,Tn=!1,g=d.alternate,g!==null&&(g.return=null),d.return=null}if(s.subtreeFlags&13878)for(s=s.child;s!==null;)f0(s,i),s=s.sibling}var lr=null;function f0(i,s){var l=i.alternate,c=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:In(s,i),xn(i),c&4&&(na(3,i,i.return),du(3,i),na(5,i,i.return));break;case 1:In(s,i),xn(i),c&512&&(Rt||l===null||kr(l,l.return)),c&64&&yi&&(i=i.updateQueue,i!==null&&(c=i.callbacks,c!==null&&(l=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=l===null?c:l.concat(c))));break;case 26:var d=lr;if(In(s,i),xn(i),c&512&&(Rt||l===null||kr(l,l.return)),c&4){var g=l!==null?l.memoizedState:null;if(c=i.memoizedState,l===null)if(c===null)if(i.stateNode===null){e:{c=i.type,l=i.memoizedProps,d=d.ownerDocument||d;t:switch(c){case"title":g=d.getElementsByTagName("title")[0],(!g||g[Xa]||g[Lt]||g.namespaceURI==="http://www.w3.org/2000/svg"||g.hasAttribute("itemprop"))&&(g=d.createElement(c),d.head.insertBefore(g,d.querySelector("head > title"))),nn(g,c,l),g[Lt]=i,Dt(g),c=g;break e;case"link":var w=aE("link","href",d).get(c+(l.href||""));if(w){for(var T=0;T<w.length;T++)if(g=w[T],g.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&g.getAttribute("rel")===(l.rel==null?null:l.rel)&&g.getAttribute("title")===(l.title==null?null:l.title)&&g.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){w.splice(T,1);break t}}g=d.createElement(c),nn(g,c,l),d.head.appendChild(g);break;case"meta":if(w=aE("meta","content",d).get(c+(l.content||""))){for(T=0;T<w.length;T++)if(g=w[T],g.getAttribute("content")===(l.content==null?null:""+l.content)&&g.getAttribute("name")===(l.name==null?null:l.name)&&g.getAttribute("property")===(l.property==null?null:l.property)&&g.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&g.getAttribute("charset")===(l.charSet==null?null:l.charSet)){w.splice(T,1);break t}}g=d.createElement(c),nn(g,c,l),d.head.appendChild(g);break;default:throw Error(n(468,c))}g[Lt]=i,Dt(g),c=g}i.stateNode=c}else sE(d,i.type,i.stateNode);else i.stateNode=iE(d,c,i.memoizedProps);else g!==c?(g===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):g.count--,c===null?sE(d,i.type,i.stateNode):iE(d,c,i.memoizedProps)):c===null&&i.stateNode!==null&&Xp(i,i.memoizedProps,l.memoizedProps)}break;case 27:In(s,i),xn(i),c&512&&(Rt||l===null||kr(l,l.return)),l!==null&&c&4&&Xp(i,i.memoizedProps,l.memoizedProps);break;case 5:if(In(s,i),xn(i),c&512&&(Rt||l===null||kr(l,l.return)),i.flags&32){d=i.stateNode;try{Bn(d,"")}catch(X){ct(i,i.return,X)}}c&4&&i.stateNode!=null&&(d=i.memoizedProps,Xp(i,d,l!==null?l.memoizedProps:d)),c&1024&&(Jp=!0);break;case 6:if(In(s,i),xn(i),c&4){if(i.stateNode===null)throw Error(n(162));c=i.memoizedProps,l=i.stateNode;try{l.nodeValue=c}catch(X){ct(i,i.return,X)}}break;case 3:if(qf=null,d=lr,lr=zf(s.containerInfo),In(s,i),lr=d,xn(i),c&4&&l!==null&&l.memoizedState.isDehydrated)try{xu(s.containerInfo)}catch(X){ct(i,i.return,X)}Jp&&(Jp=!1,h0(i));break;case 4:c=lr,lr=zf(i.stateNode.containerInfo),In(s,i),xn(i),lr=c;break;case 12:In(s,i),xn(i);break;case 13:In(s,i),xn(i),i.child.flags&8192&&i.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(sm=Vn()),c&4&&(c=i.updateQueue,c!==null&&(i.updateQueue=null,em(i,c)));break;case 22:d=i.memoizedState!==null;var O=l!==null&&l.memoizedState!==null,Q=yi,Z=Rt;if(yi=Q||d,Rt=Z||O,In(s,i),Rt=Z,yi=Q,xn(i),c&8192)e:for(s=i.stateNode,s._visibility=d?s._visibility&-2:s._visibility|1,d&&(l===null||O||yi||Rt||bs(i)),l=null,s=i;;){if(s.tag===5||s.tag===26){if(l===null){O=l=s;try{if(g=O.stateNode,d)w=g.style,typeof w.setProperty=="function"?w.setProperty("display","none","important"):w.display="none";else{T=O.stateNode;var ae=O.memoizedProps.style,W=ae!=null&&ae.hasOwnProperty("display")?ae.display:null;T.style.display=W==null||typeof W=="boolean"?"":(""+W).trim()}}catch(X){ct(O,O.return,X)}}}else if(s.tag===6){if(l===null){O=s;try{O.stateNode.nodeValue=d?"":O.memoizedProps}catch(X){ct(O,O.return,X)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===i)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break e;for(;s.sibling===null;){if(s.return===null||s.return===i)break e;l===s&&(l=null),s=s.return}l===s&&(l=null),s.sibling.return=s.return,s=s.sibling}c&4&&(c=i.updateQueue,c!==null&&(l=c.retryQueue,l!==null&&(c.retryQueue=null,em(i,l))));break;case 19:In(s,i),xn(i),c&4&&(c=i.updateQueue,c!==null&&(i.updateQueue=null,em(i,c)));break;case 30:break;case 21:break;default:In(s,i),xn(i)}}function xn(i){var s=i.flags;if(s&2){try{for(var l,c=i.return;c!==null;){if(i0(c)){l=c;break}c=c.return}if(l==null)throw Error(n(160));switch(l.tag){case 27:var d=l.stateNode,g=$p(i);If(i,g,d);break;case 5:var w=l.stateNode;l.flags&32&&(Bn(w,""),l.flags&=-33);var T=$p(i);If(i,T,w);break;case 3:case 4:var O=l.stateNode.containerInfo,Q=$p(i);Zp(i,Q,O);break;default:throw Error(n(161))}}catch(Z){ct(i,i.return,Z)}i.flags&=-3}s&4096&&(i.flags&=-4097)}function h0(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var s=i;h0(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),i=i.sibling}}function ra(i,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)o0(i,s.alternate,s),s=s.sibling}function bs(i){for(i=i.child;i!==null;){var s=i;switch(s.tag){case 0:case 11:case 14:case 15:na(4,s,s.return),bs(s);break;case 1:kr(s,s.return);var l=s.stateNode;typeof l.componentWillUnmount=="function"&&n0(s,s.return,l),bs(s);break;case 27:Tu(s.stateNode);case 26:case 5:kr(s,s.return),bs(s);break;case 22:s.memoizedState===null&&bs(s);break;case 30:bs(s);break;default:bs(s)}i=i.sibling}}function ia(i,s,l){for(l=l&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var c=s.alternate,d=i,g=s,w=g.flags;switch(g.tag){case 0:case 11:case 15:ia(d,g,l),du(4,g);break;case 1:if(ia(d,g,l),c=g,d=c.stateNode,typeof d.componentDidMount=="function")try{d.componentDidMount()}catch(Q){ct(c,c.return,Q)}if(c=g,d=c.updateQueue,d!==null){var T=c.stateNode;try{var O=d.shared.hiddenCallbacks;if(O!==null)for(d.shared.hiddenCallbacks=null,d=0;d<O.length;d++)Hy(O[d],T)}catch(Q){ct(c,c.return,Q)}}l&&w&64&&t0(g),pu(g,g.return);break;case 27:a0(g);case 26:case 5:ia(d,g,l),l&&c===null&&w&4&&r0(g),pu(g,g.return);break;case 12:ia(d,g,l);break;case 13:ia(d,g,l),l&&w&4&&c0(d,g);break;case 22:g.memoizedState===null&&ia(d,g,l),pu(g,g.return);break;case 30:break;default:ia(d,g,l)}s=s.sibling}}function tm(i,s){var l=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),i=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(i=s.memoizedState.cachePool.pool),i!==l&&(i!=null&&i.refCount++,l!=null&&Jl(l))}function nm(i,s){i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&Jl(i))}function Ir(i,s,l,c){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)d0(i,s,l,c),s=s.sibling}function d0(i,s,l,c){var d=s.flags;switch(s.tag){case 0:case 11:case 15:Ir(i,s,l,c),d&2048&&du(9,s);break;case 1:Ir(i,s,l,c);break;case 3:Ir(i,s,l,c),d&2048&&(i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&Jl(i)));break;case 12:if(d&2048){Ir(i,s,l,c),i=s.stateNode;try{var g=s.memoizedProps,w=g.id,T=g.onPostCommit;typeof T=="function"&&T(w,s.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(O){ct(s,s.return,O)}}else Ir(i,s,l,c);break;case 13:Ir(i,s,l,c);break;case 23:break;case 22:g=s.stateNode,w=s.alternate,s.memoizedState!==null?g._visibility&2?Ir(i,s,l,c):mu(i,s):g._visibility&2?Ir(i,s,l,c):(g._visibility|=2,Co(i,s,l,c,(s.subtreeFlags&10256)!==0)),d&2048&&tm(w,s);break;case 24:Ir(i,s,l,c),d&2048&&nm(s.alternate,s);break;default:Ir(i,s,l,c)}}function Co(i,s,l,c,d){for(d=d&&(s.subtreeFlags&10256)!==0,s=s.child;s!==null;){var g=i,w=s,T=l,O=c,Q=w.flags;switch(w.tag){case 0:case 11:case 15:Co(g,w,T,O,d),du(8,w);break;case 23:break;case 22:var Z=w.stateNode;w.memoizedState!==null?Z._visibility&2?Co(g,w,T,O,d):mu(g,w):(Z._visibility|=2,Co(g,w,T,O,d)),d&&Q&2048&&tm(w.alternate,w);break;case 24:Co(g,w,T,O,d),d&&Q&2048&&nm(w.alternate,w);break;default:Co(g,w,T,O,d)}s=s.sibling}}function mu(i,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var l=i,c=s,d=c.flags;switch(c.tag){case 22:mu(l,c),d&2048&&tm(c.alternate,c);break;case 24:mu(l,c),d&2048&&nm(c.alternate,c);break;default:mu(l,c)}s=s.sibling}}var gu=8192;function ko(i){if(i.subtreeFlags&gu)for(i=i.child;i!==null;)p0(i),i=i.sibling}function p0(i){switch(i.tag){case 26:ko(i),i.flags&gu&&i.memoizedState!==null&&IR(lr,i.memoizedState,i.memoizedProps);break;case 5:ko(i);break;case 3:case 4:var s=lr;lr=zf(i.stateNode.containerInfo),ko(i),lr=s;break;case 22:i.memoizedState===null&&(s=i.alternate,s!==null&&s.memoizedState!==null?(s=gu,gu=16777216,ko(i),gu=s):ko(i));break;default:ko(i)}}function m0(i){var s=i.alternate;if(s!==null&&(i=s.child,i!==null)){s.child=null;do s=i.sibling,i.sibling=null,i=s;while(i!==null)}}function vu(i){var s=i.deletions;if((i.flags&16)!==0){if(s!==null)for(var l=0;l<s.length;l++){var c=s[l];Kt=c,v0(c,i)}m0(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)g0(i),i=i.sibling}function g0(i){switch(i.tag){case 0:case 11:case 15:vu(i),i.flags&2048&&na(9,i,i.return);break;case 3:vu(i);break;case 12:vu(i);break;case 22:var s=i.stateNode;i.memoizedState!==null&&s._visibility&2&&(i.return===null||i.return.tag!==13)?(s._visibility&=-3,xf(i)):vu(i);break;default:vu(i)}}function xf(i){var s=i.deletions;if((i.flags&16)!==0){if(s!==null)for(var l=0;l<s.length;l++){var c=s[l];Kt=c,v0(c,i)}m0(i)}for(i=i.child;i!==null;){switch(s=i,s.tag){case 0:case 11:case 15:na(8,s,s.return),xf(s);break;case 22:l=s.stateNode,l._visibility&2&&(l._visibility&=-3,xf(s));break;default:xf(s)}i=i.sibling}}function v0(i,s){for(;Kt!==null;){var l=Kt;switch(l.tag){case 0:case 11:case 15:na(8,l,s);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var c=l.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:Jl(l.memoizedState.cache)}if(c=l.child,c!==null)c.return=l,Kt=c;else e:for(l=i;Kt!==null;){c=Kt;var d=c.sibling,g=c.return;if(l0(c),c===l){Kt=null;break e}if(d!==null){d.return=g,Kt=d;break e}Kt=g}}}var GA={getCacheForType:function(i){var s=un(Bt),l=s.data.get(i);return l===void 0&&(l=i(),s.data.set(i,l)),l}},QA=typeof WeakMap=="function"?WeakMap:Map,nt=0,ht=null,Be=null,qe=0,rt=0,Mn=null,aa=!1,Io=!1,rm=!1,Ei=0,bt=0,sa=0,Ts=0,im=0,Kn=0,xo=0,yu=null,Sn=null,am=!1,sm=0,Mf=1/0,Of=null,oa=null,tn=0,la=null,Mo=null,Oo=0,om=0,lm=null,y0=null,_u=0,um=null;function On(){if((nt&2)!==0&&qe!==0)return qe&-qe;if(Y.T!==null){var i=Eo;return i!==0?i:gm()}return zi()}function _0(){Kn===0&&(Kn=(qe&536870912)===0||Xe?Cl():536870912);var i=Qn.current;return i!==null&&(i.flags|=32),Kn}function Nn(i,s,l){(i===ht&&(rt===2||rt===9)||i.cancelPendingCommit!==null)&&(No(i,0),ua(i,qe,Kn,!1)),Zr(i,l),((nt&2)===0||i!==ht)&&(i===ht&&((nt&2)===0&&(Ts|=l),bt===4&&ua(i,qe,Kn,!1)),xr(i))}function E0(i,s,l){if((nt&6)!==0)throw Error(n(327));var c=!l&&(s&124)===0&&(s&i.expiredLanes)===0||Wa(i,s),d=c?XA(i,s):hm(i,s,!0),g=c;do{if(d===0){Io&&!c&&ua(i,s,0,!1);break}else{if(l=i.current.alternate,g&&!KA(l)){d=hm(i,s,!1),g=!1;continue}if(d===2){if(g=s,i.errorRecoveryDisabledLanes&g)var w=0;else w=i.pendingLanes&-536870913,w=w!==0?w:w&536870912?536870912:0;if(w!==0){s=w;e:{var T=i;d=yu;var O=T.current.memoizedState.isDehydrated;if(O&&(No(T,w).flags|=256),w=hm(T,w,!1),w!==2){if(rm&&!O){T.errorRecoveryDisabledLanes|=g,Ts|=g,d=4;break e}g=Sn,Sn=d,g!==null&&(Sn===null?Sn=g:Sn.push.apply(Sn,g))}d=w}if(g=!1,d!==2)continue}}if(d===1){No(i,0),ua(i,s,0,!0);break}e:{switch(c=i,g=d,g){case 0:case 1:throw Error(n(345));case 4:if((s&4194048)!==s)break;case 6:ua(c,s,Kn,!aa);break e;case 2:Sn=null;break;case 3:case 5:break;default:throw Error(n(329))}if((s&62914560)===s&&(d=sm+300-Vn(),10<d)){if(ua(c,s,Kn,!aa),Xs(c,0,!0)!==0)break e;c.timeoutHandle=W0(w0.bind(null,c,l,Sn,Of,am,s,Kn,Ts,xo,aa,g,2,-0,0),d);break e}w0(c,l,Sn,Of,am,s,Kn,Ts,xo,aa,g,0,-0,0)}}break}while(!0);xr(i)}function w0(i,s,l,c,d,g,w,T,O,Q,Z,ae,W,X){if(i.timeoutHandle=-1,ae=s.subtreeFlags,(ae&8192||(ae&16785408)===16785408)&&(Au={stylesheets:null,count:0,unsuspend:kR},p0(s),ae=xR(),ae!==null)){i.cancelPendingCommit=ae(C0.bind(null,i,s,g,l,c,d,w,T,O,Z,1,W,X)),ua(i,g,w,!Q);return}C0(i,s,g,l,c,d,w,T,O)}function KA(i){for(var s=i;;){var l=s.tag;if((l===0||l===11||l===15)&&s.flags&16384&&(l=s.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var c=0;c<l.length;c++){var d=l[c],g=d.getSnapshot;d=d.value;try{if(!Cn(g(),d))return!1}catch{return!1}}if(l=s.child,s.subtreeFlags&16384&&l!==null)l.return=s,s=l;else{if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function ua(i,s,l,c){s&=~im,s&=~Ts,i.suspendedLanes|=s,i.pingedLanes&=~s,c&&(i.warmLanes|=s),c=i.expirationTimes;for(var d=s;0<d;){var g=31-ln(d),w=1<<g;c[g]=-1,d&=~w}l!==0&&gr(i,l,s)}function Nf(){return(nt&6)===0?(Eu(0),!1):!0}function cm(){if(Be!==null){if(rt===0)var i=Be.return;else i=Be,hi=vs=null,Rp(i),Ao=null,cu=0,i=Be;for(;i!==null;)e0(i.alternate,i),i=i.return;Be=null}}function No(i,s){var l=i.timeoutHandle;l!==-1&&(i.timeoutHandle=-1,hR(l)),l=i.cancelPendingCommit,l!==null&&(i.cancelPendingCommit=null,l()),cm(),ht=i,Be=l=ui(i.current,null),qe=s,rt=0,Mn=null,aa=!1,Io=Wa(i,s),rm=!1,xo=Kn=im=Ts=sa=bt=0,Sn=yu=null,am=!1,(s&8)!==0&&(s|=s&32);var c=i.entangledLanes;if(c!==0)for(i=i.entanglements,c&=s;0<c;){var d=31-ln(c),g=1<<d;s|=i[d],c&=~g}return Ei=s,tf(),l}function b0(i,s){Ne=null,Y.H=wf,s===tu||s===ff?(s=By(),rt=3):s===Ly?(s=By(),rt=4):rt=s===j_?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,Mn=s,Be===null&&(bt=1,Af(i,zn(s,i.current)))}function T0(){var i=Y.H;return Y.H=wf,i===null?wf:i}function S0(){var i=Y.A;return Y.A=GA,i}function fm(){bt=4,aa||(qe&4194048)!==qe&&Qn.current!==null||(Io=!0),(sa&134217727)===0&&(Ts&134217727)===0||ht===null||ua(ht,qe,Kn,!1)}function hm(i,s,l){var c=nt;nt|=2;var d=T0(),g=S0();(ht!==i||qe!==s)&&(Of=null,No(i,s)),s=!1;var w=bt;e:do try{if(rt!==0&&Be!==null){var T=Be,O=Mn;switch(rt){case 8:cm(),w=6;break e;case 3:case 2:case 9:case 6:Qn.current===null&&(s=!0);var Q=rt;if(rt=0,Mn=null,Po(i,T,O,Q),l&&Io){w=0;break e}break;default:Q=rt,rt=0,Mn=null,Po(i,T,O,Q)}}WA(),w=bt;break}catch(Z){b0(i,Z)}while(!0);return s&&i.shellSuspendCounter++,hi=vs=null,nt=c,Y.H=d,Y.A=g,Be===null&&(ht=null,qe=0,tf()),w}function WA(){for(;Be!==null;)D0(Be)}function XA(i,s){var l=nt;nt|=2;var c=T0(),d=S0();ht!==i||qe!==s?(Of=null,Mf=Vn()+500,No(i,s)):Io=Wa(i,s);e:do try{if(rt!==0&&Be!==null){s=Be;var g=Mn;t:switch(rt){case 1:rt=0,Mn=null,Po(i,s,g,1);break;case 2:case 9:if(Vy(g)){rt=0,Mn=null,A0(s);break}s=function(){rt!==2&&rt!==9||ht!==i||(rt=7),xr(i)},g.then(s,s);break e;case 3:rt=7;break e;case 4:rt=5;break e;case 7:Vy(g)?(rt=0,Mn=null,A0(s)):(rt=0,Mn=null,Po(i,s,g,7));break;case 5:var w=null;switch(Be.tag){case 26:w=Be.memoizedState;case 5:case 27:var T=Be;if(!w||oE(w)){rt=0,Mn=null;var O=T.sibling;if(O!==null)Be=O;else{var Q=T.return;Q!==null?(Be=Q,Pf(Q)):Be=null}break t}}rt=0,Mn=null,Po(i,s,g,5);break;case 6:rt=0,Mn=null,Po(i,s,g,6);break;case 8:cm(),bt=6;break e;default:throw Error(n(462))}}$A();break}catch(Z){b0(i,Z)}while(!0);return hi=vs=null,Y.H=c,Y.A=d,nt=l,Be!==null?0:(ht=null,qe=0,tf(),bt)}function $A(){for(;Be!==null&&!Sl();)D0(Be)}function D0(i){var s=Z_(i.alternate,i,Ei);i.memoizedProps=i.pendingProps,s===null?Pf(i):Be=s}function A0(i){var s=i,l=s.alternate;switch(s.tag){case 15:case 0:s=G_(l,s,s.pendingProps,s.type,void 0,qe);break;case 11:s=G_(l,s,s.pendingProps,s.type.render,s.ref,qe);break;case 5:Rp(s);default:e0(l,s),s=Be=Ry(s,Ei),s=Z_(l,s,Ei)}i.memoizedProps=i.pendingProps,s===null?Pf(i):Be=s}function Po(i,s,l,c){hi=vs=null,Rp(s),Ao=null,cu=0;var d=s.return;try{if(jA(i,d,s,l,qe)){bt=1,Af(i,zn(l,i.current)),Be=null;return}}catch(g){if(d!==null)throw Be=d,g;bt=1,Af(i,zn(l,i.current)),Be=null;return}s.flags&32768?(Xe||c===1?i=!0:Io||(qe&536870912)!==0?i=!1:(aa=i=!0,(c===2||c===9||c===3||c===6)&&(c=Qn.current,c!==null&&c.tag===13&&(c.flags|=16384))),R0(s,i)):Pf(s)}function Pf(i){var s=i;do{if((s.flags&32768)!==0){R0(s,aa);return}i=s.return;var l=FA(s.alternate,s,Ei);if(l!==null){Be=l;return}if(s=s.sibling,s!==null){Be=s;return}Be=s=i}while(s!==null);bt===0&&(bt=5)}function R0(i,s){do{var l=zA(i.alternate,i);if(l!==null){l.flags&=32767,Be=l;return}if(l=i.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!s&&(i=i.sibling,i!==null)){Be=i;return}Be=i=l}while(i!==null);bt=6,Be=null}function C0(i,s,l,c,d,g,w,T,O){i.cancelPendingCommit=null;do Lf();while(tn!==0);if((nt&6)!==0)throw Error(n(327));if(s!==null){if(s===i.current)throw Error(n(177));if(g=s.lanes|s.childLanes,g|=np,Il(i,l,g,w,T,O),i===ht&&(Be=ht=null,qe=0),Mo=s,la=i,Oo=l,om=g,lm=d,y0=c,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,tR(qa,function(){return O0(),null})):(i.callbackNode=null,i.callbackPriority=0),c=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||c){c=Y.T,Y.T=null,d=ne.p,ne.p=2,w=nt,nt|=4;try{YA(i,s,l)}finally{nt=w,ne.p=d,Y.T=c}}tn=1,k0(),I0(),x0()}}function k0(){if(tn===1){tn=0;var i=la,s=Mo,l=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||l){l=Y.T,Y.T=null;var c=ne.p;ne.p=2;var d=nt;nt|=4;try{f0(s,i);var g=Sm,w=vy(i.containerInfo),T=g.focusedElem,O=g.selectionRange;if(w!==T&&T&&T.ownerDocument&&gy(T.ownerDocument.documentElement,T)){if(O!==null&&$d(T)){var Q=O.start,Z=O.end;if(Z===void 0&&(Z=Q),"selectionStart"in T)T.selectionStart=Q,T.selectionEnd=Math.min(Z,T.value.length);else{var ae=T.ownerDocument||document,W=ae&&ae.defaultView||window;if(W.getSelection){var X=W.getSelection(),Ce=T.textContent.length,be=Math.min(O.start,Ce),ut=O.end===void 0?be:Math.min(O.end,Ce);!X.extend&&be>ut&&(w=ut,ut=be,be=w);var F=my(T,be),H=my(T,ut);if(F&&H&&(X.rangeCount!==1||X.anchorNode!==F.node||X.anchorOffset!==F.offset||X.focusNode!==H.node||X.focusOffset!==H.offset)){var G=ae.createRange();G.setStart(F.node,F.offset),X.removeAllRanges(),be>ut?(X.addRange(G),X.extend(H.node,H.offset)):(G.setEnd(H.node,H.offset),X.addRange(G))}}}}for(ae=[],X=T;X=X.parentNode;)X.nodeType===1&&ae.push({element:X,left:X.scrollLeft,top:X.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<ae.length;T++){var ee=ae[T];ee.element.scrollLeft=ee.left,ee.element.scrollTop=ee.top}}Kf=!!Tm,Sm=Tm=null}finally{nt=d,ne.p=c,Y.T=l}}i.current=s,tn=2}}function I0(){if(tn===2){tn=0;var i=la,s=Mo,l=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||l){l=Y.T,Y.T=null;var c=ne.p;ne.p=2;var d=nt;nt|=4;try{o0(i,s.alternate,s)}finally{nt=d,ne.p=c,Y.T=l}}tn=3}}function x0(){if(tn===4||tn===3){tn=0,Ic();var i=la,s=Mo,l=Oo,c=y0;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?tn=5:(tn=0,Mo=la=null,M0(i,i.pendingLanes));var d=i.pendingLanes;if(d===0&&(oa=null),$s(l),s=s.stateNode,tt&&typeof tt.onCommitFiberRoot=="function")try{tt.onCommitFiberRoot(Et,s,void 0,(s.current.flags&128)===128)}catch{}if(c!==null){s=Y.T,d=ne.p,ne.p=2,Y.T=null;try{for(var g=i.onRecoverableError,w=0;w<c.length;w++){var T=c[w];g(T.value,{componentStack:T.stack})}}finally{Y.T=s,ne.p=d}}(Oo&3)!==0&&Lf(),xr(i),d=i.pendingLanes,(l&4194090)!==0&&(d&42)!==0?i===um?_u++:(_u=0,um=i):_u=0,Eu(0)}}function M0(i,s){(i.pooledCacheLanes&=s)===0&&(s=i.pooledCache,s!=null&&(i.pooledCache=null,Jl(s)))}function Lf(i){return k0(),I0(),x0(),O0()}function O0(){if(tn!==5)return!1;var i=la,s=om;om=0;var l=$s(Oo),c=Y.T,d=ne.p;try{ne.p=32>l?32:l,Y.T=null,l=lm,lm=null;var g=la,w=Oo;if(tn=0,Mo=la=null,Oo=0,(nt&6)!==0)throw Error(n(331));var T=nt;if(nt|=4,g0(g.current),d0(g,g.current,w,l),nt=T,Eu(0,!1),tt&&typeof tt.onPostCommitFiberRoot=="function")try{tt.onPostCommitFiberRoot(Et,g)}catch{}return!0}finally{ne.p=d,Y.T=c,M0(i,s)}}function N0(i,s,l){s=zn(l,s),s=Hp(i.stateNode,s,2),i=Zi(i,s,2),i!==null&&(Zr(i,2),xr(i))}function ct(i,s,l){if(i.tag===3)N0(i,i,l);else for(;s!==null;){if(s.tag===3){N0(s,i,l);break}else if(s.tag===1){var c=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(oa===null||!oa.has(c))){i=zn(l,i),l=U_(2),c=Zi(s,l,2),c!==null&&(B_(l,c,s,i),Zr(c,2),xr(c));break}}s=s.return}}function dm(i,s,l){var c=i.pingCache;if(c===null){c=i.pingCache=new QA;var d=new Set;c.set(s,d)}else d=c.get(s),d===void 0&&(d=new Set,c.set(s,d));d.has(l)||(rm=!0,d.add(l),i=ZA.bind(null,i,s,l),s.then(i,i))}function ZA(i,s,l){var c=i.pingCache;c!==null&&c.delete(s),i.pingedLanes|=i.suspendedLanes&l,i.warmLanes&=~l,ht===i&&(qe&l)===l&&(bt===4||bt===3&&(qe&62914560)===qe&&300>Vn()-sm?(nt&2)===0&&No(i,0):im|=l,xo===qe&&(xo=0)),xr(i)}function P0(i,s){s===0&&(s=kl()),i=go(i,s),i!==null&&(Zr(i,s),xr(i))}function JA(i){var s=i.memoizedState,l=0;s!==null&&(l=s.retryLane),P0(i,l)}function eR(i,s){var l=0;switch(i.tag){case 13:var c=i.stateNode,d=i.memoizedState;d!==null&&(l=d.retryLane);break;case 19:c=i.stateNode;break;case 22:c=i.stateNode._retryCache;break;default:throw Error(n(314))}c!==null&&c.delete(s),P0(i,l)}function tR(i,s){return za(i,s)}var Vf=null,Lo=null,pm=!1,Uf=!1,mm=!1,Ss=0;function xr(i){i!==Lo&&i.next===null&&(Lo===null?Vf=Lo=i:Lo=Lo.next=i),Uf=!0,pm||(pm=!0,rR())}function Eu(i,s){if(!mm&&Uf){mm=!0;do for(var l=!1,c=Vf;c!==null;){if(i!==0){var d=c.pendingLanes;if(d===0)var g=0;else{var w=c.suspendedLanes,T=c.pingedLanes;g=(1<<31-ln(42|i)+1)-1,g&=d&~(w&~T),g=g&201326741?g&201326741|1:g?g|2:0}g!==0&&(l=!0,B0(c,g))}else g=qe,g=Xs(c,c===ht?g:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(g&3)===0||Wa(c,g)||(l=!0,B0(c,g));c=c.next}while(l);mm=!1}}function nR(){L0()}function L0(){Uf=pm=!1;var i=0;Ss!==0&&(fR()&&(i=Ss),Ss=0);for(var s=Vn(),l=null,c=Vf;c!==null;){var d=c.next,g=V0(c,s);g===0?(c.next=null,l===null?Vf=d:l.next=d,d===null&&(Lo=l)):(l=c,(i!==0||(g&3)!==0)&&(Uf=!0)),c=d}Eu(i)}function V0(i,s){for(var l=i.suspendedLanes,c=i.pingedLanes,d=i.expirationTimes,g=i.pendingLanes&-62914561;0<g;){var w=31-ln(g),T=1<<w,O=d[w];O===-1?((T&l)===0||(T&c)!==0)&&(d[w]=Rl(T,s)):O<=s&&(i.expiredLanes|=T),g&=~T}if(s=ht,l=qe,l=Xs(i,i===s?l:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),c=i.callbackNode,l===0||i===s&&(rt===2||rt===9)||i.cancelPendingCommit!==null)return c!==null&&c!==null&&Ya(c),i.callbackNode=null,i.callbackPriority=0;if((l&3)===0||Wa(i,l)){if(s=l&-l,s===i.callbackPriority)return s;switch(c!==null&&Ya(c),$s(l)){case 2:case 8:l=Ks;break;case 32:l=qa;break;case 268435456:l=Ws;break;default:l=qa}return c=U0.bind(null,i),l=za(l,c),i.callbackPriority=s,i.callbackNode=l,s}return c!==null&&c!==null&&Ya(c),i.callbackPriority=2,i.callbackNode=null,2}function U0(i,s){if(tn!==0&&tn!==5)return i.callbackNode=null,i.callbackPriority=0,null;var l=i.callbackNode;if(Lf()&&i.callbackNode!==l)return null;var c=qe;return c=Xs(i,i===ht?c:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),c===0?null:(E0(i,c,s),V0(i,Vn()),i.callbackNode!=null&&i.callbackNode===l?U0.bind(null,i):null)}function B0(i,s){if(Lf())return null;E0(i,s,!0)}function rR(){dR(function(){(nt&6)!==0?za(Dl,nR):L0()})}function gm(){return Ss===0&&(Ss=Cl()),Ss}function j0(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:ro(""+i)}function H0(i,s){var l=s.ownerDocument.createElement("input");return l.name=s.name,l.value=s.value,i.id&&l.setAttribute("form",i.id),s.parentNode.insertBefore(l,s),i=new FormData(i),l.parentNode.removeChild(l),i}function iR(i,s,l,c,d){if(s==="submit"&&l&&l.stateNode===d){var g=j0((d[xt]||null).action),w=c.submitter;w&&(s=(s=w[xt]||null)?j0(s.formAction):w.getAttribute("formAction"),s!==null&&(g=s,w=null));var T=new io("action","action",null,c,d);i.push({event:T,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(Ss!==0){var O=w?H0(d,w):new FormData(d);Lp(l,{pending:!0,data:O,method:d.method,action:g},null,O)}}else typeof g=="function"&&(T.preventDefault(),O=w?H0(d,w):new FormData(d),Lp(l,{pending:!0,data:O,method:d.method,action:g},g,O))},currentTarget:d}]})}}for(var vm=0;vm<tp.length;vm++){var ym=tp[vm],aR=ym.toLowerCase(),sR=ym[0].toUpperCase()+ym.slice(1);or(aR,"on"+sR)}or(Ey,"onAnimationEnd"),or(wy,"onAnimationIteration"),or(by,"onAnimationStart"),or("dblclick","onDoubleClick"),or("focusin","onFocus"),or("focusout","onBlur"),or(TA,"onTransitionRun"),or(SA,"onTransitionStart"),or(DA,"onTransitionCancel"),or(Ty,"onTransitionEnd"),ei("onMouseEnter",["mouseout","mouseover"]),ei("onMouseLeave",["mouseout","mouseover"]),ei("onPointerEnter",["pointerout","pointerover"]),ei("onPointerLeave",["pointerout","pointerover"]),ar("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ar("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ar("onBeforeInput",["compositionend","keypress","textInput","paste"]),ar("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ar("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ar("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var wu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),oR=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(wu));function F0(i,s){s=(s&4)!==0;for(var l=0;l<i.length;l++){var c=i[l],d=c.event;c=c.listeners;e:{var g=void 0;if(s)for(var w=c.length-1;0<=w;w--){var T=c[w],O=T.instance,Q=T.currentTarget;if(T=T.listener,O!==g&&d.isPropagationStopped())break e;g=T,d.currentTarget=Q;try{g(d)}catch(Z){Df(Z)}d.currentTarget=null,g=O}else for(w=0;w<c.length;w++){if(T=c[w],O=T.instance,Q=T.currentTarget,T=T.listener,O!==g&&d.isPropagationStopped())break e;g=T,d.currentTarget=Q;try{g(d)}catch(Z){Df(Z)}d.currentTarget=null,g=O}}}}function je(i,s){var l=s[Ml];l===void 0&&(l=s[Ml]=new Set);var c=i+"__bubble";l.has(c)||(z0(s,i,2,!1),l.add(c))}function _m(i,s,l){var c=0;s&&(c|=4),z0(l,i,c,s)}var Bf="_reactListening"+Math.random().toString(36).slice(2);function Em(i){if(!i[Bf]){i[Bf]=!0,Ol.forEach(function(l){l!=="selectionchange"&&(oR.has(l)||_m(l,!1,i),_m(l,!0,i))});var s=i.nodeType===9?i:i.ownerDocument;s===null||s[Bf]||(s[Bf]=!0,_m("selectionchange",!1,s))}}function z0(i,s,l,c){switch(dE(s)){case 2:var d=NR;break;case 8:d=PR;break;default:d=Nm}l=d.bind(null,s,l,i),d=void 0,!Hn||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(d=!0),c?d!==void 0?i.addEventListener(s,l,{capture:!0,passive:d}):i.addEventListener(s,l,!0):d!==void 0?i.addEventListener(s,l,{passive:d}):i.addEventListener(s,l,!1)}function wm(i,s,l,c,d){var g=c;if((s&1)===0&&(s&2)===0&&c!==null)e:for(;;){if(c===null)return;var w=c.tag;if(w===3||w===4){var T=c.stateNode.containerInfo;if(T===d)break;if(w===4)for(w=c.return;w!==null;){var O=w.tag;if((O===3||O===4)&&w.stateNode.containerInfo===d)return;w=w.return}for(;T!==null;){if(w=Jr(T),w===null)return;if(O=w.tag,O===5||O===6||O===26||O===27){c=g=w;continue e}T=T.parentNode}}c=c.return}jc(function(){var Q=g,Z=jn(l),ae=[];e:{var W=Sy.get(i);if(W!==void 0){var X=io,Ce=i;switch(i){case"keypress":if(br(l)===0)break e;case"keydown":case"keyup":X=co;break;case"focusin":Ce="focus",X=oo;break;case"focusout":Ce="blur",X=oo;break;case"beforeblur":case"afterblur":X=oo;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":X=Fn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":X=Qd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":X=Kc;break;case Ey:case wy:case by:X=lo;break;case Ty:X=Xc;break;case"scroll":case"scrollend":X=Hc;break;case"wheel":X=fo;break;case"copy":case"cut":case"paste":X=uo;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":X=ql;break;case"toggle":case"beforetoggle":X=Zc}var be=(s&4)!==0,ut=!be&&(i==="scroll"||i==="scrollend"),F=be?W!==null?W+"Capture":null:W;be=[];for(var H=Q,G;H!==null;){var ee=H;if(G=ee.stateNode,ee=ee.tag,ee!==5&&ee!==26&&ee!==27||G===null||F===null||(ee=rs(H,F),ee!=null&&be.push(bu(H,ee,G))),ut)break;H=H.return}0<be.length&&(W=new X(W,Ce,null,l,Z),ae.push({event:W,listeners:be}))}}if((s&7)===0){e:{if(W=i==="mouseover"||i==="pointerover",X=i==="mouseout"||i==="pointerout",W&&l!==ri&&(Ce=l.relatedTarget||l.fromElement)&&(Jr(Ce)||Ce[Un]))break e;if((X||W)&&(W=Z.window===Z?Z:(W=Z.ownerDocument)?W.defaultView||W.parentWindow:window,X?(Ce=l.relatedTarget||l.toElement,X=Q,Ce=Ce?Jr(Ce):null,Ce!==null&&(ut=o(Ce),be=Ce.tag,Ce!==ut||be!==5&&be!==27&&be!==6)&&(Ce=null)):(X=null,Ce=Q),X!==Ce)){if(be=Fn,ee="onMouseLeave",F="onMouseEnter",H="mouse",(i==="pointerout"||i==="pointerover")&&(be=ql,ee="onPointerLeave",F="onPointerEnter",H="pointer"),ut=X==null?W:yr(X),G=Ce==null?W:yr(Ce),W=new be(ee,H+"leave",X,l,Z),W.target=ut,W.relatedTarget=G,ee=null,Jr(Z)===Q&&(be=new be(F,H+"enter",Ce,l,Z),be.target=G,be.relatedTarget=ut,ee=be),ut=ee,X&&Ce)t:{for(be=X,F=Ce,H=0,G=be;G;G=Vo(G))H++;for(G=0,ee=F;ee;ee=Vo(ee))G++;for(;0<H-G;)be=Vo(be),H--;for(;0<G-H;)F=Vo(F),G--;for(;H--;){if(be===F||F!==null&&be===F.alternate)break t;be=Vo(be),F=Vo(F)}be=null}else be=null;X!==null&&Y0(ae,W,X,be,!1),Ce!==null&&ut!==null&&Y0(ae,ut,Ce,be,!0)}}e:{if(W=Q?yr(Q):window,X=W.nodeName&&W.nodeName.toLowerCase(),X==="select"||X==="input"&&W.type==="file")var ge=uy;else if(Ut(W))if(cy)ge=EA;else{ge=yA;var Ue=vA}else X=W.nodeName,!X||X.toLowerCase()!=="input"||W.type!=="checkbox"&&W.type!=="radio"?Q&&Ul(Q.elementType)&&(ge=uy):ge=_A;if(ge&&(ge=ge(i,Q))){li(ae,ge,l,Z);break e}Ue&&Ue(i,W,Q),i==="focusout"&&Q&&W.type==="number"&&Q.memoizedProps.value!=null&&Qi(W,"number",W.value)}switch(Ue=Q?yr(Q):window,i){case"focusin":(Ut(Ue)||Ue.contentEditable==="true")&&(ho=Ue,Zd=Q,Kl=null);break;case"focusout":Kl=Zd=ho=null;break;case"mousedown":Jd=!0;break;case"contextmenu":case"mouseup":case"dragend":Jd=!1,yy(ae,l,Z);break;case"selectionchange":if(bA)break;case"keydown":case"keyup":yy(ae,l,Z)}var ye;if(Dr)e:{switch(i){case"compositionstart":var De="onCompositionStart";break e;case"compositionend":De="onCompositionEnd";break e;case"compositionupdate":De="onCompositionUpdate";break e}De=void 0}else ze?$(i,l)&&(De="onCompositionEnd"):i==="keydown"&&l.keyCode===229&&(De="onCompositionStart");De&&(E&&l.locale!=="ko"&&(ze||De!=="onCompositionStart"?De==="onCompositionEnd"&&ze&&(ye=jl()):(wr=Z,Ki="value"in wr?wr.value:wr.textContent,ze=!0)),Ue=jf(Q,De),0<Ue.length&&(De=new zl(De,i,null,l,Z),ae.push({event:De,listeners:Ue}),ye?De.data=ye:(ye=ce(l),ye!==null&&(De.data=ye)))),(ye=y?Vt(i,l):Ye(i,l))&&(De=jf(Q,"onBeforeInput"),0<De.length&&(Ue=new zl("onBeforeInput","beforeinput",null,l,Z),ae.push({event:Ue,listeners:De}),Ue.data=ye)),iR(ae,i,Q,l,Z)}F0(ae,s)})}function bu(i,s,l){return{instance:i,listener:s,currentTarget:l}}function jf(i,s){for(var l=s+"Capture",c=[];i!==null;){var d=i,g=d.stateNode;if(d=d.tag,d!==5&&d!==26&&d!==27||g===null||(d=rs(i,l),d!=null&&c.unshift(bu(i,d,g)),d=rs(i,s),d!=null&&c.push(bu(i,d,g))),i.tag===3)return c;i=i.return}return[]}function Vo(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function Y0(i,s,l,c,d){for(var g=s._reactName,w=[];l!==null&&l!==c;){var T=l,O=T.alternate,Q=T.stateNode;if(T=T.tag,O!==null&&O===c)break;T!==5&&T!==26&&T!==27||Q===null||(O=Q,d?(Q=rs(l,g),Q!=null&&w.unshift(bu(l,Q,O))):d||(Q=rs(l,g),Q!=null&&w.push(bu(l,Q,O)))),l=l.return}w.length!==0&&i.push({event:s,listeners:w})}var lR=/\r\n?/g,uR=/\u0000|\uFFFD/g;function q0(i){return(typeof i=="string"?i:""+i).replace(lR,`
`).replace(uR,"")}function G0(i,s){return s=q0(s),q0(i)===s}function Hf(){}function lt(i,s,l,c,d,g){switch(l){case"children":typeof c=="string"?s==="body"||s==="textarea"&&c===""||Bn(i,c):(typeof c=="number"||typeof c=="bigint")&&s!=="body"&&Bn(i,""+c);break;case"className":_r(i,"class",c);break;case"tabIndex":_r(i,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":_r(i,l,c);break;case"style":Vl(i,c,g);break;case"data":if(s!=="object"){_r(i,"data",c);break}case"src":case"href":if(c===""&&(s!=="a"||l!=="href")){i.removeAttribute(l);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){i.removeAttribute(l);break}c=ro(""+c),i.setAttribute(l,c);break;case"action":case"formAction":if(typeof c=="function"){i.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof g=="function"&&(l==="formAction"?(s!=="input"&&lt(i,s,"name",d.name,d,null),lt(i,s,"formEncType",d.formEncType,d,null),lt(i,s,"formMethod",d.formMethod,d,null),lt(i,s,"formTarget",d.formTarget,d,null)):(lt(i,s,"encType",d.encType,d,null),lt(i,s,"method",d.method,d,null),lt(i,s,"target",d.target,d,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){i.removeAttribute(l);break}c=ro(""+c),i.setAttribute(l,c);break;case"onClick":c!=null&&(i.onclick=Hf);break;case"onScroll":c!=null&&je("scroll",i);break;case"onScrollEnd":c!=null&&je("scrollend",i);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(n(61));if(l=c.__html,l!=null){if(d.children!=null)throw Error(n(60));i.innerHTML=l}}break;case"multiple":i.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":i.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){i.removeAttribute("xlink:href");break}l=ro(""+c),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?i.setAttribute(l,""+c):i.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?i.setAttribute(l,""):i.removeAttribute(l);break;case"capture":case"download":c===!0?i.setAttribute(l,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?i.setAttribute(l,c):i.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?i.setAttribute(l,c):i.removeAttribute(l);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?i.removeAttribute(l):i.setAttribute(l,c);break;case"popover":je("beforetoggle",i),je("toggle",i),Gi(i,"popover",c);break;case"xlinkActuate":Zt(i,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":Zt(i,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":Zt(i,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":Zt(i,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":Zt(i,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":Zt(i,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":Zt(i,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":Zt(i,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":Zt(i,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":Gi(i,"is",c);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=qd.get(l)||l,Gi(i,l,c))}}function bm(i,s,l,c,d,g){switch(l){case"style":Vl(i,c,g);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(n(61));if(l=c.__html,l!=null){if(d.children!=null)throw Error(n(60));i.innerHTML=l}}break;case"children":typeof c=="string"?Bn(i,c):(typeof c=="number"||typeof c=="bigint")&&Bn(i,""+c);break;case"onScroll":c!=null&&je("scroll",i);break;case"onScrollEnd":c!=null&&je("scrollend",i);break;case"onClick":c!=null&&(i.onclick=Hf);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Zs.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(d=l.endsWith("Capture"),s=l.slice(2,d?l.length-7:void 0),g=i[xt]||null,g=g!=null?g[l]:null,typeof g=="function"&&i.removeEventListener(s,g,d),typeof c=="function")){typeof g!="function"&&g!==null&&(l in i?i[l]=null:i.hasAttribute(l)&&i.removeAttribute(l)),i.addEventListener(s,c,d);break e}l in i?i[l]=c:c===!0?i.setAttribute(l,""):Gi(i,l,c)}}}function nn(i,s,l){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":je("error",i),je("load",i);var c=!1,d=!1,g;for(g in l)if(l.hasOwnProperty(g)){var w=l[g];if(w!=null)switch(g){case"src":c=!0;break;case"srcSet":d=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(n(137,s));default:lt(i,s,g,w,l,null)}}d&&lt(i,s,"srcSet",l.srcSet,l,null),c&&lt(i,s,"src",l.src,l,null);return;case"input":je("invalid",i);var T=g=w=d=null,O=null,Q=null;for(c in l)if(l.hasOwnProperty(c)){var Z=l[c];if(Z!=null)switch(c){case"name":d=Z;break;case"type":w=Z;break;case"checked":O=Z;break;case"defaultChecked":Q=Z;break;case"value":g=Z;break;case"defaultValue":T=Z;break;case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(n(137,s));break;default:lt(i,s,c,Z,l,null)}}es(i,g,T,O,Q,w,d,!1),no(i);return;case"select":je("invalid",i),c=w=g=null;for(d in l)if(l.hasOwnProperty(d)&&(T=l[d],T!=null))switch(d){case"value":g=T;break;case"defaultValue":w=T;break;case"multiple":c=T;default:lt(i,s,d,T,l,null)}s=g,l=w,i.multiple=!!c,s!=null?ni(i,!!c,s,!1):l!=null&&ni(i,!!c,l,!0);return;case"textarea":je("invalid",i),g=d=c=null;for(w in l)if(l.hasOwnProperty(w)&&(T=l[w],T!=null))switch(w){case"value":c=T;break;case"defaultValue":d=T;break;case"children":g=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(n(91));break;default:lt(i,s,w,T,l,null)}ts(i,c,d,g),no(i);return;case"option":for(O in l)if(l.hasOwnProperty(O)&&(c=l[O],c!=null))switch(O){case"selected":i.selected=c&&typeof c!="function"&&typeof c!="symbol";break;default:lt(i,s,O,c,l,null)}return;case"dialog":je("beforetoggle",i),je("toggle",i),je("cancel",i),je("close",i);break;case"iframe":case"object":je("load",i);break;case"video":case"audio":for(c=0;c<wu.length;c++)je(wu[c],i);break;case"image":je("error",i),je("load",i);break;case"details":je("toggle",i);break;case"embed":case"source":case"link":je("error",i),je("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Q in l)if(l.hasOwnProperty(Q)&&(c=l[Q],c!=null))switch(Q){case"children":case"dangerouslySetInnerHTML":throw Error(n(137,s));default:lt(i,s,Q,c,l,null)}return;default:if(Ul(s)){for(Z in l)l.hasOwnProperty(Z)&&(c=l[Z],c!==void 0&&bm(i,s,Z,c,l,void 0));return}}for(T in l)l.hasOwnProperty(T)&&(c=l[T],c!=null&&lt(i,s,T,c,l,null))}function cR(i,s,l,c){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var d=null,g=null,w=null,T=null,O=null,Q=null,Z=null;for(X in l){var ae=l[X];if(l.hasOwnProperty(X)&&ae!=null)switch(X){case"checked":break;case"value":break;case"defaultValue":O=ae;default:c.hasOwnProperty(X)||lt(i,s,X,null,c,ae)}}for(var W in c){var X=c[W];if(ae=l[W],c.hasOwnProperty(W)&&(X!=null||ae!=null))switch(W){case"type":g=X;break;case"name":d=X;break;case"checked":Q=X;break;case"defaultChecked":Z=X;break;case"value":w=X;break;case"defaultValue":T=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(n(137,s));break;default:X!==ae&&lt(i,s,W,X,c,ae)}}Rn(i,w,T,O,Q,Z,g,d);return;case"select":X=w=T=W=null;for(g in l)if(O=l[g],l.hasOwnProperty(g)&&O!=null)switch(g){case"value":break;case"multiple":X=O;default:c.hasOwnProperty(g)||lt(i,s,g,null,c,O)}for(d in c)if(g=c[d],O=l[d],c.hasOwnProperty(d)&&(g!=null||O!=null))switch(d){case"value":W=g;break;case"defaultValue":T=g;break;case"multiple":w=g;default:g!==O&&lt(i,s,d,g,c,O)}s=T,l=w,c=X,W!=null?ni(i,!!l,W,!1):!!c!=!!l&&(s!=null?ni(i,!!l,s,!0):ni(i,!!l,l?[]:"",!1));return;case"textarea":X=W=null;for(T in l)if(d=l[T],l.hasOwnProperty(T)&&d!=null&&!c.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:lt(i,s,T,null,c,d)}for(w in c)if(d=c[w],g=l[w],c.hasOwnProperty(w)&&(d!=null||g!=null))switch(w){case"value":W=d;break;case"defaultValue":X=d;break;case"children":break;case"dangerouslySetInnerHTML":if(d!=null)throw Error(n(91));break;default:d!==g&&lt(i,s,w,d,c,g)}st(i,W,X);return;case"option":for(var Ce in l)if(W=l[Ce],l.hasOwnProperty(Ce)&&W!=null&&!c.hasOwnProperty(Ce))switch(Ce){case"selected":i.selected=!1;break;default:lt(i,s,Ce,null,c,W)}for(O in c)if(W=c[O],X=l[O],c.hasOwnProperty(O)&&W!==X&&(W!=null||X!=null))switch(O){case"selected":i.selected=W&&typeof W!="function"&&typeof W!="symbol";break;default:lt(i,s,O,W,c,X)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var be in l)W=l[be],l.hasOwnProperty(be)&&W!=null&&!c.hasOwnProperty(be)&&lt(i,s,be,null,c,W);for(Q in c)if(W=c[Q],X=l[Q],c.hasOwnProperty(Q)&&W!==X&&(W!=null||X!=null))switch(Q){case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(n(137,s));break;default:lt(i,s,Q,W,c,X)}return;default:if(Ul(s)){for(var ut in l)W=l[ut],l.hasOwnProperty(ut)&&W!==void 0&&!c.hasOwnProperty(ut)&&bm(i,s,ut,void 0,c,W);for(Z in c)W=c[Z],X=l[Z],!c.hasOwnProperty(Z)||W===X||W===void 0&&X===void 0||bm(i,s,Z,W,c,X);return}}for(var F in l)W=l[F],l.hasOwnProperty(F)&&W!=null&&!c.hasOwnProperty(F)&&lt(i,s,F,null,c,W);for(ae in c)W=c[ae],X=l[ae],!c.hasOwnProperty(ae)||W===X||W==null&&X==null||lt(i,s,ae,W,c,X)}var Tm=null,Sm=null;function Ff(i){return i.nodeType===9?i:i.ownerDocument}function Q0(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function K0(i,s){if(i===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&s==="foreignObject"?0:i}function Dm(i,s){return i==="textarea"||i==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Am=null;function fR(){var i=window.event;return i&&i.type==="popstate"?i===Am?!1:(Am=i,!0):(Am=null,!1)}var W0=typeof setTimeout=="function"?setTimeout:void 0,hR=typeof clearTimeout=="function"?clearTimeout:void 0,X0=typeof Promise=="function"?Promise:void 0,dR=typeof queueMicrotask=="function"?queueMicrotask:typeof X0<"u"?function(i){return X0.resolve(null).then(i).catch(pR)}:W0;function pR(i){setTimeout(function(){throw i})}function ca(i){return i==="head"}function $0(i,s){var l=s,c=0,d=0;do{var g=l.nextSibling;if(i.removeChild(l),g&&g.nodeType===8)if(l=g.data,l==="/$"){if(0<c&&8>c){l=c;var w=i.ownerDocument;if(l&1&&Tu(w.documentElement),l&2&&Tu(w.body),l&4)for(l=w.head,Tu(l),w=l.firstChild;w;){var T=w.nextSibling,O=w.nodeName;w[Xa]||O==="SCRIPT"||O==="STYLE"||O==="LINK"&&w.rel.toLowerCase()==="stylesheet"||l.removeChild(w),w=T}}if(d===0){i.removeChild(g),xu(s);return}d--}else l==="$"||l==="$?"||l==="$!"?d++:c=l.charCodeAt(0)-48;else c=0;l=g}while(l);xu(s)}function Rm(i){var s=i.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var l=s;switch(s=s.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":Rm(l),qi(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}i.removeChild(l)}}function mR(i,s,l,c){for(;i.nodeType===1;){var d=l;if(i.nodeName.toLowerCase()!==s.toLowerCase()){if(!c&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(c){if(!i[Xa])switch(s){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(g=i.getAttribute("rel"),g==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(g!==d.rel||i.getAttribute("href")!==(d.href==null||d.href===""?null:d.href)||i.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin)||i.getAttribute("title")!==(d.title==null?null:d.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(g=i.getAttribute("src"),(g!==(d.src==null?null:d.src)||i.getAttribute("type")!==(d.type==null?null:d.type)||i.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin))&&g&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(s==="input"&&i.type==="hidden"){var g=d.name==null?null:""+d.name;if(d.type==="hidden"&&i.getAttribute("name")===g)return i}else return i;if(i=ur(i.nextSibling),i===null)break}return null}function gR(i,s,l){if(s==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!l||(i=ur(i.nextSibling),i===null))return null;return i}function Cm(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState==="complete"}function vR(i,s){var l=i.ownerDocument;if(i.data!=="$?"||l.readyState==="complete")s();else{var c=function(){s(),l.removeEventListener("DOMContentLoaded",c)};l.addEventListener("DOMContentLoaded",c),i._reactRetry=c}}function ur(i){for(;i!=null;i=i.nextSibling){var s=i.nodeType;if(s===1||s===3)break;if(s===8){if(s=i.data,s==="$"||s==="$!"||s==="$?"||s==="F!"||s==="F")break;if(s==="/$")return null}}return i}var km=null;function Z0(i){i=i.previousSibling;for(var s=0;i;){if(i.nodeType===8){var l=i.data;if(l==="$"||l==="$!"||l==="$?"){if(s===0)return i;s--}else l==="/$"&&s++}i=i.previousSibling}return null}function J0(i,s,l){switch(s=Ff(l),i){case"html":if(i=s.documentElement,!i)throw Error(n(452));return i;case"head":if(i=s.head,!i)throw Error(n(453));return i;case"body":if(i=s.body,!i)throw Error(n(454));return i;default:throw Error(n(451))}}function Tu(i){for(var s=i.attributes;s.length;)i.removeAttributeNode(s[0]);qi(i)}var Wn=new Map,eE=new Set;function zf(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var wi=ne.d;ne.d={f:yR,r:_R,D:ER,C:wR,L:bR,m:TR,X:DR,S:SR,M:AR};function yR(){var i=wi.f(),s=Nf();return i||s}function _R(i){var s=vr(i);s!==null&&s.tag===5&&s.type==="form"?E_(s):wi.r(i)}var Uo=typeof document>"u"?null:document;function tE(i,s,l){var c=Uo;if(c&&typeof s=="string"&&s){var d=Mt(s);d='link[rel="'+i+'"][href="'+d+'"]',typeof l=="string"&&(d+='[crossorigin="'+l+'"]'),eE.has(d)||(eE.add(d),i={rel:i,crossOrigin:l,href:s},c.querySelector(d)===null&&(s=c.createElement("link"),nn(s,"link",i),Dt(s),c.head.appendChild(s)))}}function ER(i){wi.D(i),tE("dns-prefetch",i,null)}function wR(i,s){wi.C(i,s),tE("preconnect",i,s)}function bR(i,s,l){wi.L(i,s,l);var c=Uo;if(c&&i&&s){var d='link[rel="preload"][as="'+Mt(s)+'"]';s==="image"&&l&&l.imageSrcSet?(d+='[imagesrcset="'+Mt(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(d+='[imagesizes="'+Mt(l.imageSizes)+'"]')):d+='[href="'+Mt(i)+'"]';var g=d;switch(s){case"style":g=Bo(i);break;case"script":g=jo(i)}Wn.has(g)||(i=v({rel:"preload",href:s==="image"&&l&&l.imageSrcSet?void 0:i,as:s},l),Wn.set(g,i),c.querySelector(d)!==null||s==="style"&&c.querySelector(Su(g))||s==="script"&&c.querySelector(Du(g))||(s=c.createElement("link"),nn(s,"link",i),Dt(s),c.head.appendChild(s)))}}function TR(i,s){wi.m(i,s);var l=Uo;if(l&&i){var c=s&&typeof s.as=="string"?s.as:"script",d='link[rel="modulepreload"][as="'+Mt(c)+'"][href="'+Mt(i)+'"]',g=d;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":g=jo(i)}if(!Wn.has(g)&&(i=v({rel:"modulepreload",href:i},s),Wn.set(g,i),l.querySelector(d)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(Du(g)))return}c=l.createElement("link"),nn(c,"link",i),Dt(c),l.head.appendChild(c)}}}function SR(i,s,l){wi.S(i,s,l);var c=Uo;if(c&&i){var d=mn(c).hoistableStyles,g=Bo(i);s=s||"default";var w=d.get(g);if(!w){var T={loading:0,preload:null};if(w=c.querySelector(Su(g)))T.loading=5;else{i=v({rel:"stylesheet",href:i,"data-precedence":s},l),(l=Wn.get(g))&&Im(i,l);var O=w=c.createElement("link");Dt(O),nn(O,"link",i),O._p=new Promise(function(Q,Z){O.onload=Q,O.onerror=Z}),O.addEventListener("load",function(){T.loading|=1}),O.addEventListener("error",function(){T.loading|=2}),T.loading|=4,Yf(w,s,c)}w={type:"stylesheet",instance:w,count:1,state:T},d.set(g,w)}}}function DR(i,s){wi.X(i,s);var l=Uo;if(l&&i){var c=mn(l).hoistableScripts,d=jo(i),g=c.get(d);g||(g=l.querySelector(Du(d)),g||(i=v({src:i,async:!0},s),(s=Wn.get(d))&&xm(i,s),g=l.createElement("script"),Dt(g),nn(g,"link",i),l.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},c.set(d,g))}}function AR(i,s){wi.M(i,s);var l=Uo;if(l&&i){var c=mn(l).hoistableScripts,d=jo(i),g=c.get(d);g||(g=l.querySelector(Du(d)),g||(i=v({src:i,async:!0,type:"module"},s),(s=Wn.get(d))&&xm(i,s),g=l.createElement("script"),Dt(g),nn(g,"link",i),l.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},c.set(d,g))}}function nE(i,s,l,c){var d=(d=Ie.current)?zf(d):null;if(!d)throw Error(n(446));switch(i){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(s=Bo(l.href),l=mn(d).hoistableStyles,c=l.get(s),c||(c={type:"style",instance:null,count:0,state:null},l.set(s,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){i=Bo(l.href);var g=mn(d).hoistableStyles,w=g.get(i);if(w||(d=d.ownerDocument||d,w={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},g.set(i,w),(g=d.querySelector(Su(i)))&&!g._p&&(w.instance=g,w.state.loading=5),Wn.has(i)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},Wn.set(i,l),g||RR(d,i,l,w.state))),s&&c===null)throw Error(n(528,""));return w}if(s&&c!==null)throw Error(n(529,""));return null;case"script":return s=l.async,l=l.src,typeof l=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=jo(l),l=mn(d).hoistableScripts,c=l.get(s),c||(c={type:"script",instance:null,count:0,state:null},l.set(s,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(n(444,i))}}function Bo(i){return'href="'+Mt(i)+'"'}function Su(i){return'link[rel="stylesheet"]['+i+"]"}function rE(i){return v({},i,{"data-precedence":i.precedence,precedence:null})}function RR(i,s,l,c){i.querySelector('link[rel="preload"][as="style"]['+s+"]")?c.loading=1:(s=i.createElement("link"),c.preload=s,s.addEventListener("load",function(){return c.loading|=1}),s.addEventListener("error",function(){return c.loading|=2}),nn(s,"link",l),Dt(s),i.head.appendChild(s))}function jo(i){return'[src="'+Mt(i)+'"]'}function Du(i){return"script[async]"+i}function iE(i,s,l){if(s.count++,s.instance===null)switch(s.type){case"style":var c=i.querySelector('style[data-href~="'+Mt(l.href)+'"]');if(c)return s.instance=c,Dt(c),c;var d=v({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return c=(i.ownerDocument||i).createElement("style"),Dt(c),nn(c,"style",d),Yf(c,l.precedence,i),s.instance=c;case"stylesheet":d=Bo(l.href);var g=i.querySelector(Su(d));if(g)return s.state.loading|=4,s.instance=g,Dt(g),g;c=rE(l),(d=Wn.get(d))&&Im(c,d),g=(i.ownerDocument||i).createElement("link"),Dt(g);var w=g;return w._p=new Promise(function(T,O){w.onload=T,w.onerror=O}),nn(g,"link",c),s.state.loading|=4,Yf(g,l.precedence,i),s.instance=g;case"script":return g=jo(l.src),(d=i.querySelector(Du(g)))?(s.instance=d,Dt(d),d):(c=l,(d=Wn.get(g))&&(c=v({},l),xm(c,d)),i=i.ownerDocument||i,d=i.createElement("script"),Dt(d),nn(d,"link",c),i.head.appendChild(d),s.instance=d);case"void":return null;default:throw Error(n(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(c=s.instance,s.state.loading|=4,Yf(c,l.precedence,i));return s.instance}function Yf(i,s,l){for(var c=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),d=c.length?c[c.length-1]:null,g=d,w=0;w<c.length;w++){var T=c[w];if(T.dataset.precedence===s)g=T;else if(g!==d)break}g?g.parentNode.insertBefore(i,g.nextSibling):(s=l.nodeType===9?l.head:l,s.insertBefore(i,s.firstChild))}function Im(i,s){i.crossOrigin==null&&(i.crossOrigin=s.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=s.referrerPolicy),i.title==null&&(i.title=s.title)}function xm(i,s){i.crossOrigin==null&&(i.crossOrigin=s.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=s.referrerPolicy),i.integrity==null&&(i.integrity=s.integrity)}var qf=null;function aE(i,s,l){if(qf===null){var c=new Map,d=qf=new Map;d.set(l,c)}else d=qf,c=d.get(l),c||(c=new Map,d.set(l,c));if(c.has(i))return c;for(c.set(i,null),l=l.getElementsByTagName(i),d=0;d<l.length;d++){var g=l[d];if(!(g[Xa]||g[Lt]||i==="link"&&g.getAttribute("rel")==="stylesheet")&&g.namespaceURI!=="http://www.w3.org/2000/svg"){var w=g.getAttribute(s)||"";w=i+w;var T=c.get(w);T?T.push(g):c.set(w,[g])}}return c}function sE(i,s,l){i=i.ownerDocument||i,i.head.insertBefore(l,s==="title"?i.querySelector("head > title"):null)}function CR(i,s,l){if(l===1||s.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return i=s.disabled,typeof s.precedence=="string"&&i==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function oE(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}var Au=null;function kR(){}function IR(i,s,l){if(Au===null)throw Error(n(475));var c=Au;if(s.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var d=Bo(l.href),g=i.querySelector(Su(d));if(g){i=g._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(c.count++,c=Gf.bind(c),i.then(c,c)),s.state.loading|=4,s.instance=g,Dt(g);return}g=i.ownerDocument||i,l=rE(l),(d=Wn.get(d))&&Im(l,d),g=g.createElement("link"),Dt(g);var w=g;w._p=new Promise(function(T,O){w.onload=T,w.onerror=O}),nn(g,"link",l),s.instance=g}c.stylesheets===null&&(c.stylesheets=new Map),c.stylesheets.set(s,i),(i=s.state.preload)&&(s.state.loading&3)===0&&(c.count++,s=Gf.bind(c),i.addEventListener("load",s),i.addEventListener("error",s))}}function xR(){if(Au===null)throw Error(n(475));var i=Au;return i.stylesheets&&i.count===0&&Mm(i,i.stylesheets),0<i.count?function(s){var l=setTimeout(function(){if(i.stylesheets&&Mm(i,i.stylesheets),i.unsuspend){var c=i.unsuspend;i.unsuspend=null,c()}},6e4);return i.unsuspend=s,function(){i.unsuspend=null,clearTimeout(l)}}:null}function Gf(){if(this.count--,this.count===0){if(this.stylesheets)Mm(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var Qf=null;function Mm(i,s){i.stylesheets=null,i.unsuspend!==null&&(i.count++,Qf=new Map,s.forEach(MR,i),Qf=null,Gf.call(i))}function MR(i,s){if(!(s.state.loading&4)){var l=Qf.get(i);if(l)var c=l.get(null);else{l=new Map,Qf.set(i,l);for(var d=i.querySelectorAll("link[data-precedence],style[data-precedence]"),g=0;g<d.length;g++){var w=d[g];(w.nodeName==="LINK"||w.getAttribute("media")!=="not all")&&(l.set(w.dataset.precedence,w),c=w)}c&&l.set(null,c)}d=s.instance,w=d.getAttribute("data-precedence"),g=l.get(w)||c,g===c&&l.set(null,d),l.set(w,d),this.count++,c=Gf.bind(this),d.addEventListener("load",c),d.addEventListener("error",c),g?g.parentNode.insertBefore(d,g.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(d,i.firstChild)),s.state.loading|=4}}var Ru={$$typeof:z,Provider:null,Consumer:null,_currentValue:le,_currentValue2:le,_threadCount:0};function OR(i,s,l,c,d,g,w,T){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=$r(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=$r(0),this.hiddenUpdates=$r(null),this.identifierPrefix=c,this.onUncaughtError=d,this.onCaughtError=g,this.onRecoverableError=w,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=T,this.incompleteTransitions=new Map}function lE(i,s,l,c,d,g,w,T,O,Q,Z,ae){return i=new OR(i,s,l,w,T,O,Q,ae),s=1,g===!0&&(s|=24),g=kn(3,null,null,s),i.current=g,g.stateNode=i,s=dp(),s.refCount++,i.pooledCache=s,s.refCount++,g.memoizedState={element:c,isDehydrated:l,cache:s},vp(g),i}function uE(i){return i?(i=vo,i):vo}function cE(i,s,l,c,d,g){d=uE(d),c.context===null?c.context=d:c.pendingContext=d,c=$i(s),c.payload={element:l},g=g===void 0?null:g,g!==null&&(c.callback=g),l=Zi(i,c,s),l!==null&&(Nn(l,i,s),ru(l,i,s))}function fE(i,s){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var l=i.retryLane;i.retryLane=l!==0&&l<s?l:s}}function Om(i,s){fE(i,s),(i=i.alternate)&&fE(i,s)}function hE(i){if(i.tag===13){var s=go(i,67108864);s!==null&&Nn(s,i,67108864),Om(i,67108864)}}var Kf=!0;function NR(i,s,l,c){var d=Y.T;Y.T=null;var g=ne.p;try{ne.p=2,Nm(i,s,l,c)}finally{ne.p=g,Y.T=d}}function PR(i,s,l,c){var d=Y.T;Y.T=null;var g=ne.p;try{ne.p=8,Nm(i,s,l,c)}finally{ne.p=g,Y.T=d}}function Nm(i,s,l,c){if(Kf){var d=Pm(c);if(d===null)wm(i,s,c,Wf,l),pE(i,c);else if(VR(d,i,s,l,c))c.stopPropagation();else if(pE(i,c),s&4&&-1<LR.indexOf(i)){for(;d!==null;){var g=vr(d);if(g!==null)switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var w=ir(g.pendingLanes);if(w!==0){var T=g;for(T.pendingLanes|=2,T.entangledLanes|=2;w;){var O=1<<31-ln(w);T.entanglements[1]|=O,w&=~O}xr(g),(nt&6)===0&&(Mf=Vn()+500,Eu(0))}}break;case 13:T=go(g,2),T!==null&&Nn(T,g,2),Nf(),Om(g,2)}if(g=Pm(c),g===null&&wm(i,s,c,Wf,l),g===d)break;d=g}d!==null&&c.stopPropagation()}else wm(i,s,c,null,l)}}function Pm(i){return i=jn(i),Lm(i)}var Wf=null;function Lm(i){if(Wf=null,i=Jr(i),i!==null){var s=o(i);if(s===null)i=null;else{var l=s.tag;if(l===13){if(i=u(s),i!==null)return i;i=null}else if(l===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;i=null}else s!==i&&(i=null)}}return Wf=i,null}function dE(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Bd()){case Dl:return 2;case Ks:return 8;case qa:case jd:return 32;case Ws:return 268435456;default:return 32}default:return 32}}var Vm=!1,fa=null,ha=null,da=null,Cu=new Map,ku=new Map,pa=[],LR="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function pE(i,s){switch(i){case"focusin":case"focusout":fa=null;break;case"dragenter":case"dragleave":ha=null;break;case"mouseover":case"mouseout":da=null;break;case"pointerover":case"pointerout":Cu.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":ku.delete(s.pointerId)}}function Iu(i,s,l,c,d,g){return i===null||i.nativeEvent!==g?(i={blockedOn:s,domEventName:l,eventSystemFlags:c,nativeEvent:g,targetContainers:[d]},s!==null&&(s=vr(s),s!==null&&hE(s)),i):(i.eventSystemFlags|=c,s=i.targetContainers,d!==null&&s.indexOf(d)===-1&&s.push(d),i)}function VR(i,s,l,c,d){switch(s){case"focusin":return fa=Iu(fa,i,s,l,c,d),!0;case"dragenter":return ha=Iu(ha,i,s,l,c,d),!0;case"mouseover":return da=Iu(da,i,s,l,c,d),!0;case"pointerover":var g=d.pointerId;return Cu.set(g,Iu(Cu.get(g)||null,i,s,l,c,d)),!0;case"gotpointercapture":return g=d.pointerId,ku.set(g,Iu(ku.get(g)||null,i,s,l,c,d)),!0}return!1}function mE(i){var s=Jr(i.target);if(s!==null){var l=o(s);if(l!==null){if(s=l.tag,s===13){if(s=u(l),s!==null){i.blockedOn=s,Oc(i.priority,function(){if(l.tag===13){var c=On();c=Fi(c);var d=go(l,c);d!==null&&Nn(d,l,c),Om(l,c)}});return}}else if(s===3&&l.stateNode.current.memoizedState.isDehydrated){i.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Xf(i){if(i.blockedOn!==null)return!1;for(var s=i.targetContainers;0<s.length;){var l=Pm(i.nativeEvent);if(l===null){l=i.nativeEvent;var c=new l.constructor(l.type,l);ri=c,l.target.dispatchEvent(c),ri=null}else return s=vr(l),s!==null&&hE(s),i.blockedOn=l,!1;s.shift()}return!0}function gE(i,s,l){Xf(i)&&l.delete(s)}function UR(){Vm=!1,fa!==null&&Xf(fa)&&(fa=null),ha!==null&&Xf(ha)&&(ha=null),da!==null&&Xf(da)&&(da=null),Cu.forEach(gE),ku.forEach(gE)}function $f(i,s){i.blockedOn===s&&(i.blockedOn=null,Vm||(Vm=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,UR)))}var Zf=null;function vE(i){Zf!==i&&(Zf=i,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Zf===i&&(Zf=null);for(var s=0;s<i.length;s+=3){var l=i[s],c=i[s+1],d=i[s+2];if(typeof c!="function"){if(Lm(c||l)===null)continue;break}var g=vr(l);g!==null&&(i.splice(s,3),s-=3,Lp(g,{pending:!0,data:d,method:l.method,action:c},c,d))}}))}function xu(i){function s(O){return $f(O,i)}fa!==null&&$f(fa,i),ha!==null&&$f(ha,i),da!==null&&$f(da,i),Cu.forEach(s),ku.forEach(s);for(var l=0;l<pa.length;l++){var c=pa[l];c.blockedOn===i&&(c.blockedOn=null)}for(;0<pa.length&&(l=pa[0],l.blockedOn===null);)mE(l),l.blockedOn===null&&pa.shift();if(l=(i.ownerDocument||i).$$reactFormReplay,l!=null)for(c=0;c<l.length;c+=3){var d=l[c],g=l[c+1],w=d[xt]||null;if(typeof g=="function")w||vE(l);else if(w){var T=null;if(g&&g.hasAttribute("formAction")){if(d=g,w=g[xt]||null)T=w.formAction;else if(Lm(d)!==null)continue}else T=w.action;typeof T=="function"?l[c+1]=T:(l.splice(c,3),c-=3),vE(l)}}}function Um(i){this._internalRoot=i}Jf.prototype.render=Um.prototype.render=function(i){var s=this._internalRoot;if(s===null)throw Error(n(409));var l=s.current,c=On();cE(l,c,i,s,null,null)},Jf.prototype.unmount=Um.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var s=i.containerInfo;cE(i.current,2,null,i,null,null),Nf(),s[Un]=null}};function Jf(i){this._internalRoot=i}Jf.prototype.unstable_scheduleHydration=function(i){if(i){var s=zi();i={blockedOn:null,target:i,priority:s};for(var l=0;l<pa.length&&s!==0&&s<pa[l].priority;l++);pa.splice(l,0,i),l===0&&mE(i)}};var yE=e.version;if(yE!=="19.1.0")throw Error(n(527,yE,"19.1.0"));ne.findDOMNode=function(i){var s=i._reactInternals;if(s===void 0)throw typeof i.render=="function"?Error(n(188)):(i=Object.keys(i).join(","),Error(n(268,i)));return i=p(s),i=i!==null?m(i):null,i=i===null?null:i.stateNode,i};var BR={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:Y,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var eh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!eh.isDisabled&&eh.supportsFiber)try{Et=eh.inject(BR),tt=eh}catch{}}return Ou.createRoot=function(i,s){if(!a(i))throw Error(n(299));var l=!1,c="",d=N_,g=P_,w=L_,T=null;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(c=s.identifierPrefix),s.onUncaughtError!==void 0&&(d=s.onUncaughtError),s.onCaughtError!==void 0&&(g=s.onCaughtError),s.onRecoverableError!==void 0&&(w=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(T=s.unstable_transitionCallbacks)),s=lE(i,1,!1,null,null,l,c,d,g,w,T,null),i[Un]=s.current,Em(i),new Um(s)},Ou.hydrateRoot=function(i,s,l){if(!a(i))throw Error(n(299));var c=!1,d="",g=N_,w=P_,T=L_,O=null,Q=null;return l!=null&&(l.unstable_strictMode===!0&&(c=!0),l.identifierPrefix!==void 0&&(d=l.identifierPrefix),l.onUncaughtError!==void 0&&(g=l.onUncaughtError),l.onCaughtError!==void 0&&(w=l.onCaughtError),l.onRecoverableError!==void 0&&(T=l.onRecoverableError),l.unstable_transitionCallbacks!==void 0&&(O=l.unstable_transitionCallbacks),l.formState!==void 0&&(Q=l.formState)),s=lE(i,1,!0,s,l??null,c,d,g,w,T,O,Q),s.context=uE(null),l=s.current,c=On(),c=Fi(c),d=$i(c),d.callback=null,Zi(l,d,c),l=c,s.current.lanes=l,Zr(s,l),xr(s),i[Un]=s.current,Em(i),new Jf(s)},Ou.version="19.1.0",Ou}var CE;function ZR(){if(CE)return Hm.exports;CE=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Hm.exports=$R(),Hm.exports}var JR=ZR(),Nu={},kE;function eC(){if(kE)return Nu;kE=1,Object.defineProperty(Nu,"__esModule",{value:!0}),Nu.parse=u,Nu.serialize=m;const r=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,n=/^[\u0020-\u003A\u003D-\u007E]*$/,a=Object.prototype.toString,o=(()=>{const b=function(){};return b.prototype=Object.create(null),b})();function u(b,S){const C=new o,N=b.length;if(N<2)return C;const I=(S==null?void 0:S.decode)||v;let j=0;do{const K=b.indexOf("=",j);if(K===-1)break;const z=b.indexOf(";",j),re=z===-1?N:z;if(K>re){j=b.lastIndexOf(";",K-1)+1;continue}const ie=f(b,j,K),fe=p(b,K,ie),x=b.slice(ie,fe);if(C[x]===void 0){let D=f(b,K+1,re),R=p(b,re,D);const M=I(b.slice(D,R));C[x]=M}j=re+1}while(j<N);return C}function f(b,S,C){do{const N=b.charCodeAt(S);if(N!==32&&N!==9)return S}while(++S<C);return C}function p(b,S,C){for(;S>C;){const N=b.charCodeAt(--S);if(N!==32&&N!==9)return S+1}return C}function m(b,S,C){const N=(C==null?void 0:C.encode)||encodeURIComponent;if(!r.test(b))throw new TypeError(`argument name is invalid: ${b}`);const I=N(S);if(!e.test(I))throw new TypeError(`argument val is invalid: ${S}`);let j=b+"="+I;if(!C)return j;if(C.maxAge!==void 0){if(!Number.isInteger(C.maxAge))throw new TypeError(`option maxAge is invalid: ${C.maxAge}`);j+="; Max-Age="+C.maxAge}if(C.domain){if(!t.test(C.domain))throw new TypeError(`option domain is invalid: ${C.domain}`);j+="; Domain="+C.domain}if(C.path){if(!n.test(C.path))throw new TypeError(`option path is invalid: ${C.path}`);j+="; Path="+C.path}if(C.expires){if(!_(C.expires)||!Number.isFinite(C.expires.valueOf()))throw new TypeError(`option expires is invalid: ${C.expires}`);j+="; Expires="+C.expires.toUTCString()}if(C.httpOnly&&(j+="; HttpOnly"),C.secure&&(j+="; Secure"),C.partitioned&&(j+="; Partitioned"),C.priority)switch(typeof C.priority=="string"?C.priority.toLowerCase():void 0){case"low":j+="; Priority=Low";break;case"medium":j+="; Priority=Medium";break;case"high":j+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${C.priority}`)}if(C.sameSite)switch(typeof C.sameSite=="string"?C.sameSite.toLowerCase():C.sameSite){case!0:case"strict":j+="; SameSite=Strict";break;case"lax":j+="; SameSite=Lax";break;case"none":j+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${C.sameSite}`)}return j}function v(b){if(b.indexOf("%")===-1)return b;try{return decodeURIComponent(b)}catch{return b}}function _(b){return a.call(b)==="[object Date]"}return Nu}eC();/**
 * react-router v7.5.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var IE="popstate";function tC(r={}){function e(n,a){let{pathname:o,search:u,hash:f}=n.location;return dg("",{pathname:o,search:u,hash:f},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function t(n,a){return typeof a=="string"?a:Zu(a)}return rC(e,t,null,r)}function yt(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function zr(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function nC(){return Math.random().toString(36).substring(2,10)}function xE(r,e){return{usr:r.state,key:r.key,idx:e}}function dg(r,e,t=null,n){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?pl(e):e,state:t,key:e&&e.key||n||nC()}}function Zu({pathname:r="/",search:e="",hash:t=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(r+=t.charAt(0)==="#"?t:"#"+t),r}function pl(r){let e={};if(r){let t=r.indexOf("#");t>=0&&(e.hash=r.substring(t),r=r.substring(0,t));let n=r.indexOf("?");n>=0&&(e.search=r.substring(n),r=r.substring(0,n)),r&&(e.pathname=r)}return e}function rC(r,e,t,n={}){let{window:a=document.defaultView,v5Compat:o=!1}=n,u=a.history,f="POP",p=null,m=v();m==null&&(m=0,u.replaceState({...u.state,idx:m},""));function v(){return(u.state||{idx:null}).idx}function _(){f="POP";let I=v(),j=I==null?null:I-m;m=I,p&&p({action:f,location:N.location,delta:j})}function b(I,j){f="PUSH";let K=dg(N.location,I,j);m=v()+1;let z=xE(K,m),re=N.createHref(K);try{u.pushState(z,"",re)}catch(ie){if(ie instanceof DOMException&&ie.name==="DataCloneError")throw ie;a.location.assign(re)}o&&p&&p({action:f,location:N.location,delta:1})}function S(I,j){f="REPLACE";let K=dg(N.location,I,j);m=v();let z=xE(K,m),re=N.createHref(K);u.replaceState(z,"",re),o&&p&&p({action:f,location:N.location,delta:0})}function C(I){let j=a.location.origin!=="null"?a.location.origin:a.location.href,K=typeof I=="string"?I:Zu(I);return K=K.replace(/ $/,"%20"),yt(j,`No window.location.(origin|href) available to create URL for href: ${K}`),new URL(K,j)}let N={get action(){return f},get location(){return r(a,u)},listen(I){if(p)throw new Error("A history only accepts one active listener");return a.addEventListener(IE,_),p=I,()=>{a.removeEventListener(IE,_),p=null}},createHref(I){return e(a,I)},createURL:C,encodeLocation(I){let j=C(I);return{pathname:j.pathname,search:j.search,hash:j.hash}},push:b,replace:S,go(I){return u.go(I)}};return N}function qb(r,e,t="/"){return iC(r,e,t,!1)}function iC(r,e,t,n){let a=typeof e=="string"?pl(e):e,o=Mi(a.pathname||"/",t);if(o==null)return null;let u=Gb(r);aC(u);let f=null;for(let p=0;f==null&&p<u.length;++p){let m=gC(o);f=pC(u[p],m,n)}return f}function Gb(r,e=[],t=[],n=""){let a=(o,u,f)=>{let p={relativePath:f===void 0?o.path||"":f,caseSensitive:o.caseSensitive===!0,childrenIndex:u,route:o};p.relativePath.startsWith("/")&&(yt(p.relativePath.startsWith(n),`Absolute route path "${p.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(n.length));let m=Si([n,p.relativePath]),v=t.concat(p);o.children&&o.children.length>0&&(yt(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${m}".`),Gb(o.children,e,v,m)),!(o.path==null&&!o.index)&&e.push({path:m,score:hC(m,o.index),routesMeta:v})};return r.forEach((o,u)=>{var f;if(o.path===""||!((f=o.path)!=null&&f.includes("?")))a(o,u);else for(let p of Qb(o.path))a(o,u,p)}),e}function Qb(r){let e=r.split("/");if(e.length===0)return[];let[t,...n]=e,a=t.endsWith("?"),o=t.replace(/\?$/,"");if(n.length===0)return a?[o,""]:[o];let u=Qb(n.join("/")),f=[];return f.push(...u.map(p=>p===""?o:[o,p].join("/"))),a&&f.push(...u),f.map(p=>r.startsWith("/")&&p===""?"/":p)}function aC(r){r.sort((e,t)=>e.score!==t.score?t.score-e.score:dC(e.routesMeta.map(n=>n.childrenIndex),t.routesMeta.map(n=>n.childrenIndex)))}var sC=/^:[\w-]+$/,oC=3,lC=2,uC=1,cC=10,fC=-2,ME=r=>r==="*";function hC(r,e){let t=r.split("/"),n=t.length;return t.some(ME)&&(n+=fC),e&&(n+=lC),t.filter(a=>!ME(a)).reduce((a,o)=>a+(sC.test(o)?oC:o===""?uC:cC),n)}function dC(r,e){return r.length===e.length&&r.slice(0,-1).every((n,a)=>n===e[a])?r[r.length-1]-e[e.length-1]:0}function pC(r,e,t=!1){let{routesMeta:n}=r,a={},o="/",u=[];for(let f=0;f<n.length;++f){let p=n[f],m=f===n.length-1,v=o==="/"?e:e.slice(o.length)||"/",_=Mh({path:p.relativePath,caseSensitive:p.caseSensitive,end:m},v),b=p.route;if(!_&&m&&t&&!n[n.length-1].route.index&&(_=Mh({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},v)),!_)return null;Object.assign(a,_.params),u.push({params:a,pathname:Si([o,_.pathname]),pathnameBase:EC(Si([o,_.pathnameBase])),route:b}),_.pathnameBase!=="/"&&(o=Si([o,_.pathnameBase]))}return u}function Mh(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[t,n]=mC(r.path,r.caseSensitive,r.end),a=e.match(t);if(!a)return null;let o=a[0],u=o.replace(/(.)\/+$/,"$1"),f=a.slice(1);return{params:n.reduce((m,{paramName:v,isOptional:_},b)=>{if(v==="*"){let C=f[b]||"";u=o.slice(0,o.length-C.length).replace(/(.)\/+$/,"$1")}const S=f[b];return _&&!S?m[v]=void 0:m[v]=(S||"").replace(/%2F/g,"/"),m},{}),pathname:o,pathnameBase:u,pattern:r}}function mC(r,e=!1,t=!0){zr(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let n=[],a="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,f,p)=>(n.push({paramName:f,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return r.endsWith("*")?(n.push({paramName:"*"}),a+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?a+="\\/*$":r!==""&&r!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),n]}function gC(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return zr(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function Mi(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,n=r.charAt(t);return n&&n!=="/"?null:r.slice(t)||"/"}function vC(r,e="/"){let{pathname:t,search:n="",hash:a=""}=typeof r=="string"?pl(r):r;return{pathname:t?t.startsWith("/")?t:yC(t,e):e,search:wC(n),hash:bC(a)}}function yC(r,e){let t=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(a=>{a===".."?t.length>1&&t.pop():a!=="."&&t.push(a)}),t.length>1?t.join("/"):"/"}function qm(r,e,t,n){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function _C(r){return r.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function Kb(r){let e=_C(r);return e.map((t,n)=>n===e.length-1?t.pathname:t.pathnameBase)}function Wb(r,e,t,n=!1){let a;typeof r=="string"?a=pl(r):(a={...r},yt(!a.pathname||!a.pathname.includes("?"),qm("?","pathname","search",a)),yt(!a.pathname||!a.pathname.includes("#"),qm("#","pathname","hash",a)),yt(!a.search||!a.search.includes("#"),qm("#","search","hash",a)));let o=r===""||a.pathname==="",u=o?"/":a.pathname,f;if(u==null)f=t;else{let _=e.length-1;if(!n&&u.startsWith("..")){let b=u.split("/");for(;b[0]==="..";)b.shift(),_-=1;a.pathname=b.join("/")}f=_>=0?e[_]:"/"}let p=vC(a,f),m=u&&u!=="/"&&u.endsWith("/"),v=(o||u===".")&&t.endsWith("/");return!p.pathname.endsWith("/")&&(m||v)&&(p.pathname+="/"),p}var Si=r=>r.join("/").replace(/\/\/+/g,"/"),EC=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),wC=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,bC=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function TC(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}var Xb=["POST","PUT","PATCH","DELETE"];new Set(Xb);var SC=["GET",...Xb];new Set(SC);var ml=V.createContext(null);ml.displayName="DataRouter";var hd=V.createContext(null);hd.displayName="DataRouterState";var $b=V.createContext({isTransitioning:!1});$b.displayName="ViewTransition";var DC=V.createContext(new Map);DC.displayName="Fetchers";var AC=V.createContext(null);AC.displayName="Await";var Qr=V.createContext(null);Qr.displayName="Navigation";var dc=V.createContext(null);dc.displayName="Location";var Kr=V.createContext({outlet:null,matches:[],isDataRoute:!1});Kr.displayName="Route";var Kg=V.createContext(null);Kg.displayName="RouteError";function RC(r,{relative:e}={}){yt(pc(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:n}=V.useContext(Qr),{hash:a,pathname:o,search:u}=mc(r,{relative:e}),f=o;return t!=="/"&&(f=o==="/"?t:Si([t,o])),n.createHref({pathname:f,search:u,hash:a})}function pc(){return V.useContext(dc)!=null}function Ui(){return yt(pc(),"useLocation() may be used only in the context of a <Router> component."),V.useContext(dc).location}var Zb="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Jb(r){V.useContext(Qr).static||V.useLayoutEffect(r)}function CC(){let{isDataRoute:r}=V.useContext(Kr);return r?FC():kC()}function kC(){yt(pc(),"useNavigate() may be used only in the context of a <Router> component.");let r=V.useContext(ml),{basename:e,navigator:t}=V.useContext(Qr),{matches:n}=V.useContext(Kr),{pathname:a}=Ui(),o=JSON.stringify(Kb(n)),u=V.useRef(!1);return Jb(()=>{u.current=!0}),V.useCallback((p,m={})=>{if(zr(u.current,Zb),!u.current)return;if(typeof p=="number"){t.go(p);return}let v=Wb(p,JSON.parse(o),a,m.relative==="path");r==null&&e!=="/"&&(v.pathname=v.pathname==="/"?e:Si([e,v.pathname])),(m.replace?t.replace:t.push)(v,m.state,m)},[e,t,o,a,r])}V.createContext(null);function IC(){let{matches:r}=V.useContext(Kr),e=r[r.length-1];return e?e.params:{}}function mc(r,{relative:e}={}){let{matches:t}=V.useContext(Kr),{pathname:n}=Ui(),a=JSON.stringify(Kb(t));return V.useMemo(()=>Wb(r,JSON.parse(a),n,e==="path"),[r,a,n,e])}function xC(r,e){return eT(r,e)}function eT(r,e,t,n){var K;yt(pc(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a,static:o}=V.useContext(Qr),{matches:u}=V.useContext(Kr),f=u[u.length-1],p=f?f.params:{},m=f?f.pathname:"/",v=f?f.pathnameBase:"/",_=f&&f.route;{let z=_&&_.path||"";tT(m,!_||z.endsWith("*")||z.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${m}" (under <Route path="${z}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${z}"> to <Route path="${z==="/"?"*":`${z}/*`}">.`)}let b=Ui(),S;if(e){let z=typeof e=="string"?pl(e):e;yt(v==="/"||((K=z.pathname)==null?void 0:K.startsWith(v)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${v}" but pathname "${z.pathname}" was given in the \`location\` prop.`),S=z}else S=b;let C=S.pathname||"/",N=C;if(v!=="/"){let z=v.replace(/^\//,"").split("/");N="/"+C.replace(/^\//,"").split("/").slice(z.length).join("/")}let I=!o&&t&&t.matches&&t.matches.length>0?t.matches:qb(r,{pathname:N});zr(_||I!=null,`No routes matched location "${S.pathname}${S.search}${S.hash}" `),zr(I==null||I[I.length-1].route.element!==void 0||I[I.length-1].route.Component!==void 0||I[I.length-1].route.lazy!==void 0,`Matched leaf route at location "${S.pathname}${S.search}${S.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let j=LC(I&&I.map(z=>Object.assign({},z,{params:Object.assign({},p,z.params),pathname:Si([v,a.encodeLocation?a.encodeLocation(z.pathname).pathname:z.pathname]),pathnameBase:z.pathnameBase==="/"?v:Si([v,a.encodeLocation?a.encodeLocation(z.pathnameBase).pathname:z.pathnameBase])})),u,t,n);return e&&j?V.createElement(dc.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...S},navigationType:"POP"}},j):j}function MC(){let r=HC(),e=TC(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),t=r instanceof Error?r.stack:null,n="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:n},o={padding:"2px 4px",backgroundColor:n},u=null;return console.error("Error handled by React Router default ErrorBoundary:",r),u=V.createElement(V.Fragment,null,V.createElement("p",null," Hey developer "),V.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",V.createElement("code",{style:o},"ErrorBoundary")," or"," ",V.createElement("code",{style:o},"errorElement")," prop on your route.")),V.createElement(V.Fragment,null,V.createElement("h2",null,"Unexpected Application Error!"),V.createElement("h3",{style:{fontStyle:"italic"}},e),t?V.createElement("pre",{style:a},t):null,u)}var OC=V.createElement(MC,null),NC=class extends V.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){console.error("React Router caught the following error during render",r,e)}render(){return this.state.error!==void 0?V.createElement(Kr.Provider,{value:this.props.routeContext},V.createElement(Kg.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function PC({routeContext:r,match:e,children:t}){let n=V.useContext(ml);return n&&n.static&&n.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=e.route.id),V.createElement(Kr.Provider,{value:r},t)}function LC(r,e=[],t=null,n=null){if(r==null){if(!t)return null;if(t.errors)r=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)r=t.matches;else return null}let a=r,o=t==null?void 0:t.errors;if(o!=null){let p=a.findIndex(m=>m.route.id&&(o==null?void 0:o[m.route.id])!==void 0);yt(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),a=a.slice(0,Math.min(a.length,p+1))}let u=!1,f=-1;if(t)for(let p=0;p<a.length;p++){let m=a[p];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(f=p),m.route.id){let{loaderData:v,errors:_}=t,b=m.route.loader&&!v.hasOwnProperty(m.route.id)&&(!_||_[m.route.id]===void 0);if(m.route.lazy||b){u=!0,f>=0?a=a.slice(0,f+1):a=[a[0]];break}}}return a.reduceRight((p,m,v)=>{let _,b=!1,S=null,C=null;t&&(_=o&&m.route.id?o[m.route.id]:void 0,S=m.route.errorElement||OC,u&&(f<0&&v===0?(tT("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),b=!0,C=null):f===v&&(b=!0,C=m.route.hydrateFallbackElement||null)));let N=e.concat(a.slice(0,v+1)),I=()=>{let j;return _?j=S:b?j=C:m.route.Component?j=V.createElement(m.route.Component,null):m.route.element?j=m.route.element:j=p,V.createElement(PC,{match:m,routeContext:{outlet:p,matches:N,isDataRoute:t!=null},children:j})};return t&&(m.route.ErrorBoundary||m.route.errorElement||v===0)?V.createElement(NC,{location:t.location,revalidation:t.revalidation,component:S,error:_,children:I(),routeContext:{outlet:null,matches:N,isDataRoute:!0}}):I()},null)}function Wg(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function VC(r){let e=V.useContext(ml);return yt(e,Wg(r)),e}function UC(r){let e=V.useContext(hd);return yt(e,Wg(r)),e}function BC(r){let e=V.useContext(Kr);return yt(e,Wg(r)),e}function Xg(r){let e=BC(r),t=e.matches[e.matches.length-1];return yt(t.route.id,`${r} can only be used on routes that contain a unique "id"`),t.route.id}function jC(){return Xg("useRouteId")}function HC(){var n;let r=V.useContext(Kg),e=UC("useRouteError"),t=Xg("useRouteError");return r!==void 0?r:(n=e.errors)==null?void 0:n[t]}function FC(){let{router:r}=VC("useNavigate"),e=Xg("useNavigate"),t=V.useRef(!1);return Jb(()=>{t.current=!0}),V.useCallback(async(a,o={})=>{zr(t.current,Zb),t.current&&(typeof a=="number"?r.navigate(a):await r.navigate(a,{fromRouteId:e,...o}))},[r,e])}var OE={};function tT(r,e,t){!e&&!OE[r]&&(OE[r]=!0,zr(!1,t))}V.memo(zC);function zC({routes:r,future:e,state:t}){return eT(r,void 0,t,e)}function ya(r){yt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function YC({basename:r="/",children:e=null,location:t,navigationType:n="POP",navigator:a,static:o=!1}){yt(!pc(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=r.replace(/^\/*/,"/"),f=V.useMemo(()=>({basename:u,navigator:a,static:o,future:{}}),[u,a,o]);typeof t=="string"&&(t=pl(t));let{pathname:p="/",search:m="",hash:v="",state:_=null,key:b="default"}=t,S=V.useMemo(()=>{let C=Mi(p,u);return C==null?null:{location:{pathname:C,search:m,hash:v,state:_,key:b},navigationType:n}},[u,p,m,v,_,b,n]);return zr(S!=null,`<Router basename="${u}"> is not able to match the URL "${p}${m}${v}" because it does not start with the basename, so the <Router> won't render anything.`),S==null?null:V.createElement(Qr.Provider,{value:f},V.createElement(dc.Provider,{children:e,value:S}))}function qC({children:r,location:e}){return xC(pg(r),e)}function pg(r,e=[]){let t=[];return V.Children.forEach(r,(n,a)=>{if(!V.isValidElement(n))return;let o=[...e,a];if(n.type===V.Fragment){t.push.apply(t,pg(n.props.children,o));return}yt(n.type===ya,`[${typeof n.type=="string"?n.type:n.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),yt(!n.props.index||!n.props.children,"An index route cannot have child routes.");let u={id:n.props.id||o.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,hydrateFallbackElement:n.props.hydrateFallbackElement,HydrateFallback:n.props.HydrateFallback,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.hasErrorBoundary===!0||n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(u.children=pg(n.props.children,o)),t.push(u)}),t}var mh="get",gh="application/x-www-form-urlencoded";function dd(r){return r!=null&&typeof r.tagName=="string"}function GC(r){return dd(r)&&r.tagName.toLowerCase()==="button"}function QC(r){return dd(r)&&r.tagName.toLowerCase()==="form"}function KC(r){return dd(r)&&r.tagName.toLowerCase()==="input"}function WC(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function XC(r,e){return r.button===0&&(!e||e==="_self")&&!WC(r)}var th=null;function $C(){if(th===null)try{new FormData(document.createElement("form"),0),th=!1}catch{th=!0}return th}var ZC=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Gm(r){return r!=null&&!ZC.has(r)?(zr(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${gh}"`),null):r}function JC(r,e){let t,n,a,o,u;if(QC(r)){let f=r.getAttribute("action");n=f?Mi(f,e):null,t=r.getAttribute("method")||mh,a=Gm(r.getAttribute("enctype"))||gh,o=new FormData(r)}else if(GC(r)||KC(r)&&(r.type==="submit"||r.type==="image")){let f=r.form;if(f==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=r.getAttribute("formaction")||f.getAttribute("action");if(n=p?Mi(p,e):null,t=r.getAttribute("formmethod")||f.getAttribute("method")||mh,a=Gm(r.getAttribute("formenctype"))||Gm(f.getAttribute("enctype"))||gh,o=new FormData(f,r),!$C()){let{name:m,type:v,value:_}=r;if(v==="image"){let b=m?`${m}.`:"";o.append(`${b}x`,"0"),o.append(`${b}y`,"0")}else m&&o.append(m,_)}}else{if(dd(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=mh,n=null,a=gh,u=r}return o&&a==="text/plain"&&(u=o,o=void 0),{action:n,method:t.toLowerCase(),encType:a,formData:o,body:u}}function $g(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}async function e1(r,e){if(r.id in e)return e[r.id];try{let t=await import(r.module);return e[r.id]=t,t}catch(t){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function t1(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function n1(r,e,t){let n=await Promise.all(r.map(async a=>{let o=e.routes[a.route.id];if(o){let u=await e1(o,t);return u.links?u.links():[]}return[]}));return s1(n.flat(1).filter(t1).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function NE(r,e,t,n,a,o){let u=(p,m)=>t[m]?p.route.id!==t[m].route.id:!0,f=(p,m)=>{var v;return t[m].pathname!==p.pathname||((v=t[m].route.path)==null?void 0:v.endsWith("*"))&&t[m].params["*"]!==p.params["*"]};return o==="assets"?e.filter((p,m)=>u(p,m)||f(p,m)):o==="data"?e.filter((p,m)=>{var _;let v=n.routes[p.route.id];if(!v||!v.hasLoader)return!1;if(u(p,m)||f(p,m))return!0;if(p.route.shouldRevalidate){let b=p.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:((_=t[0])==null?void 0:_.params)||{},nextUrl:new URL(r,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function r1(r,e,{includeHydrateFallback:t}={}){return i1(r.map(n=>{let a=e.routes[n.route.id];if(!a)return[];let o=[a.module];return a.clientActionModule&&(o=o.concat(a.clientActionModule)),a.clientLoaderModule&&(o=o.concat(a.clientLoaderModule)),t&&a.hydrateFallbackModule&&(o=o.concat(a.hydrateFallbackModule)),a.imports&&(o=o.concat(a.imports)),o}).flat(1))}function i1(r){return[...new Set(r)]}function a1(r){let e={},t=Object.keys(r).sort();for(let n of t)e[n]=r[n];return e}function s1(r,e){let t=new Set;return new Set(e),r.reduce((n,a)=>{let o=JSON.stringify(a1(a));return t.has(o)||(t.add(o),n.push({key:o,link:a})),n},[])}var o1=new Set([100,101,204,205]);function l1(r,e){let t=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return t.pathname==="/"?t.pathname="_root.data":e&&Mi(t.pathname,e)==="/"?t.pathname=`${e.replace(/\/$/,"")}/_root.data`:t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function nT(){let r=V.useContext(ml);return $g(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function u1(){let r=V.useContext(hd);return $g(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var Zg=V.createContext(void 0);Zg.displayName="FrameworkContext";function rT(){let r=V.useContext(Zg);return $g(r,"You must render this element inside a <HydratedRouter> element"),r}function c1(r,e){let t=V.useContext(Zg),[n,a]=V.useState(!1),[o,u]=V.useState(!1),{onFocus:f,onBlur:p,onMouseEnter:m,onMouseLeave:v,onTouchStart:_}=e,b=V.useRef(null);V.useEffect(()=>{if(r==="render"&&u(!0),r==="viewport"){let N=j=>{j.forEach(K=>{u(K.isIntersecting)})},I=new IntersectionObserver(N,{threshold:.5});return b.current&&I.observe(b.current),()=>{I.disconnect()}}},[r]),V.useEffect(()=>{if(n){let N=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(N)}}},[n]);let S=()=>{a(!0)},C=()=>{a(!1),u(!1)};return t?r!=="intent"?[o,b,{}]:[o,b,{onFocus:Pu(f,S),onBlur:Pu(p,C),onMouseEnter:Pu(m,S),onMouseLeave:Pu(v,C),onTouchStart:Pu(_,S)}]:[!1,b,{}]}function Pu(r,e){return t=>{r&&r(t),t.defaultPrevented||e(t)}}function f1({page:r,...e}){let{router:t}=nT(),n=V.useMemo(()=>qb(t.routes,r,t.basename),[t.routes,r,t.basename]);return n?V.createElement(d1,{page:r,matches:n,...e}):null}function h1(r){let{manifest:e,routeModules:t}=rT(),[n,a]=V.useState([]);return V.useEffect(()=>{let o=!1;return n1(r,e,t).then(u=>{o||a(u)}),()=>{o=!0}},[r,e,t]),n}function d1({page:r,matches:e,...t}){let n=Ui(),{manifest:a,routeModules:o}=rT(),{basename:u}=nT(),{loaderData:f,matches:p}=u1(),m=V.useMemo(()=>NE(r,e,p,a,n,"data"),[r,e,p,a,n]),v=V.useMemo(()=>NE(r,e,p,a,n,"assets"),[r,e,p,a,n]),_=V.useMemo(()=>{if(r===n.pathname+n.search+n.hash)return[];let C=new Set,N=!1;if(e.forEach(j=>{var z;let K=a.routes[j.route.id];!K||!K.hasLoader||(!m.some(re=>re.route.id===j.route.id)&&j.route.id in f&&((z=o[j.route.id])!=null&&z.shouldRevalidate)||K.hasClientLoader?N=!0:C.add(j.route.id))}),C.size===0)return[];let I=l1(r,u);return N&&C.size>0&&I.searchParams.set("_routes",e.filter(j=>C.has(j.route.id)).map(j=>j.route.id).join(",")),[I.pathname+I.search]},[u,f,n,a,m,e,r,o]),b=V.useMemo(()=>r1(v,a),[v,a]),S=h1(v);return V.createElement(V.Fragment,null,_.map(C=>V.createElement("link",{key:C,rel:"prefetch",as:"fetch",href:C,...t})),b.map(C=>V.createElement("link",{key:C,rel:"modulepreload",href:C,...t})),S.map(({key:C,link:N})=>V.createElement("link",{key:C,...N})))}function p1(...r){return e=>{r.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var iT=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{iT&&(window.__reactRouterVersion="7.5.1")}catch{}function m1({basename:r,children:e,window:t}){let n=V.useRef();n.current==null&&(n.current=tC({window:t,v5Compat:!0}));let a=n.current,[o,u]=V.useState({action:a.action,location:a.location}),f=V.useCallback(p=>{V.startTransition(()=>u(p))},[u]);return V.useLayoutEffect(()=>a.listen(f),[a,f]),V.createElement(YC,{basename:r,children:e,location:o.location,navigationType:o.action,navigator:a})}var aT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,sT=V.forwardRef(function({onClick:e,discover:t="render",prefetch:n="none",relative:a,reloadDocument:o,replace:u,state:f,target:p,to:m,preventScrollReset:v,viewTransition:_,...b},S){let{basename:C}=V.useContext(Qr),N=typeof m=="string"&&aT.test(m),I,j=!1;if(typeof m=="string"&&N&&(I=m,iT))try{let R=new URL(window.location.href),M=m.startsWith("//")?new URL(R.protocol+m):new URL(m),P=Mi(M.pathname,C);M.origin===R.origin&&P!=null?m=P+M.search+M.hash:j=!0}catch{zr(!1,`<Link to="${m}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let K=RC(m,{relative:a}),[z,re,ie]=c1(n,b),fe=_1(m,{replace:u,state:f,target:p,preventScrollReset:v,relative:a,viewTransition:_});function x(R){e&&e(R),R.defaultPrevented||fe(R)}let D=V.createElement("a",{...b,...ie,href:I||K,onClick:j||o?e:x,ref:p1(S,re),target:p,"data-discover":!N&&t==="render"?"true":void 0});return z&&!N?V.createElement(V.Fragment,null,D,V.createElement(f1,{page:K})):D});sT.displayName="Link";var g1=V.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:n="",end:a=!1,style:o,to:u,viewTransition:f,children:p,...m},v){let _=mc(u,{relative:m.relative}),b=Ui(),S=V.useContext(hd),{navigator:C,basename:N}=V.useContext(Qr),I=S!=null&&S1(_)&&f===!0,j=C.encodeLocation?C.encodeLocation(_).pathname:_.pathname,K=b.pathname,z=S&&S.navigation&&S.navigation.location?S.navigation.location.pathname:null;t||(K=K.toLowerCase(),z=z?z.toLowerCase():null,j=j.toLowerCase()),z&&N&&(z=Mi(z,N)||z);const re=j!=="/"&&j.endsWith("/")?j.length-1:j.length;let ie=K===j||!a&&K.startsWith(j)&&K.charAt(re)==="/",fe=z!=null&&(z===j||!a&&z.startsWith(j)&&z.charAt(j.length)==="/"),x={isActive:ie,isPending:fe,isTransitioning:I},D=ie?e:void 0,R;typeof n=="function"?R=n(x):R=[n,ie?"active":null,fe?"pending":null,I?"transitioning":null].filter(Boolean).join(" ");let M=typeof o=="function"?o(x):o;return V.createElement(sT,{...m,"aria-current":D,className:R,ref:v,style:M,to:u,viewTransition:f},typeof p=="function"?p(x):p)});g1.displayName="NavLink";var v1=V.forwardRef(({discover:r="render",fetcherKey:e,navigate:t,reloadDocument:n,replace:a,state:o,method:u=mh,action:f,onSubmit:p,relative:m,preventScrollReset:v,viewTransition:_,...b},S)=>{let C=b1(),N=T1(f,{relative:m}),I=u.toLowerCase()==="get"?"get":"post",j=typeof f=="string"&&aT.test(f),K=z=>{if(p&&p(z),z.defaultPrevented)return;z.preventDefault();let re=z.nativeEvent.submitter,ie=(re==null?void 0:re.getAttribute("formmethod"))||u;C(re||z.currentTarget,{fetcherKey:e,method:ie,navigate:t,replace:a,state:o,relative:m,preventScrollReset:v,viewTransition:_})};return V.createElement("form",{ref:S,method:I,action:N,onSubmit:n?p:K,...b,"data-discover":!j&&r==="render"?"true":void 0})});v1.displayName="Form";function y1(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function oT(r){let e=V.useContext(ml);return yt(e,y1(r)),e}function _1(r,{target:e,replace:t,state:n,preventScrollReset:a,relative:o,viewTransition:u}={}){let f=CC(),p=Ui(),m=mc(r,{relative:o});return V.useCallback(v=>{if(XC(v,e)){v.preventDefault();let _=t!==void 0?t:Zu(p)===Zu(m);f(r,{replace:_,state:n,preventScrollReset:a,relative:o,viewTransition:u})}},[p,f,m,t,n,e,r,a,o,u])}var E1=0,w1=()=>`__${String(++E1)}__`;function b1(){let{router:r}=oT("useSubmit"),{basename:e}=V.useContext(Qr),t=jC();return V.useCallback(async(n,a={})=>{let{action:o,method:u,encType:f,formData:p,body:m}=JC(n,e);if(a.navigate===!1){let v=a.fetcherKey||w1();await r.fetch(v,t,a.action||o,{preventScrollReset:a.preventScrollReset,formData:p,body:m,formMethod:a.method||u,formEncType:a.encType||f,flushSync:a.flushSync})}else await r.navigate(a.action||o,{preventScrollReset:a.preventScrollReset,formData:p,body:m,formMethod:a.method||u,formEncType:a.encType||f,replace:a.replace,state:a.state,fromRouteId:t,flushSync:a.flushSync,viewTransition:a.viewTransition})},[r,e,t])}function T1(r,{relative:e}={}){let{basename:t}=V.useContext(Qr),n=V.useContext(Kr);yt(n,"useFormAction must be used inside a RouteContext");let[a]=n.matches.slice(-1),o={...mc(r||".",{relative:e})},u=Ui();if(r==null){o.search=u.search;let f=new URLSearchParams(o.search),p=f.getAll("index");if(p.some(v=>v==="")){f.delete("index"),p.filter(_=>_).forEach(_=>f.append("index",_));let v=f.toString();o.search=v?`?${v}`:""}}return(!r||r===".")&&a.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(o.pathname=o.pathname==="/"?t:Si([t,o.pathname])),Zu(o)}function S1(r,e={}){let t=V.useContext($b);yt(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=oT("useViewTransitionState"),a=mc(r,{relative:e.relative});if(!t.isTransitioning)return!1;let o=Mi(t.currentLocation.pathname,n)||t.currentLocation.pathname,u=Mi(t.nextLocation.pathname,n)||t.nextLocation.pathname;return Mh(a.pathname,u)!=null||Mh(a.pathname,o)!=null}new TextEncoder;[...o1];var lT=Yb();const D1=zb(lT),A1="/assets/hytte-B67Z78iM.png",R1="/assets/cabin1-CtXbMou4.png",C1="/assets/cabin2-BenUgYoM.png",k1="/assets/cabin3-Yoxkw0Ej.png",I1="/assets/cabin4-C29Qjiw7.png",x1="/assets/cabin5-CHrZPZiD.png",M1="/assets/cabin6-DY5o2Ytf.png",O1="/assets/cabin7-BqTBO_5p.png",N1="/assets/cabin8-B3owjgf5.png",P1="/assets/cabin9-BQMa7R2I.png",L1="/assets/cabin10-DVxCEGI2.png",Os=[{id:"cabin-001",images:[R1],categories:["Skog","Avsides"],title:"Skogro Hytte",description:"En koselig tmmerhytte dypt inne i skogen  perfekt for en rolig helg unna byen.",maxGuests:4,location:"Trysil, Innlandet",amenities:["Peis","Vedovn","Terrasse"],pricePerNight:950},{id:"cabin-002",images:[C1],categories:["Fjell","Familie"],title:"Fjellheimen",description:"Romslig fjellhytte med panoramautsikt, ideell for familieferier.",maxGuests:6,location:"Hemsedal, Viken",amenities:["Badstu","Kjkken","Wifi"],pricePerNight:1200},{id:"cabin-003",images:[k1],categories:["Innsj","Romantisk"],title:"Vannkanten",description:"Sjarmerende liten hytte rett ved vannet  perfekt for to.",maxGuests:2,location:"Seljord, Telemark",amenities:["Blplass","Robt","Solnedgang"],pricePerNight:850},{id:"cabin-004",images:[I1],categories:["Luksus","Avsides"],title:"Nordlys Retreat",description:"Eksklusiv hytte i nord med store vinduer  perfekt for  se nordlyset.",maxGuests:5,location:"Alta, Troms og Finnmark",amenities:["Jacuzzi","Peis","Fullt kjkken"],pricePerNight:2e3},{id:"cabin-005",images:[x1],categories:["Skog","Enkel"],title:"Granly",description:"Enkel og sjarmerende hytte omringet av grantrr  tilbake til naturen.",maxGuests:3,location:"Eidsvoll, Akershus",amenities:["Vedovn","Utetoalett","Natursti"],pricePerNight:600},{id:"cabin-006",images:[M1],categories:["Fjell","Avsides"],title:"Hgfjellbu",description:"Tradisjonell hytte hyt til fjells med fantastisk utsikt og fredelig atmosfre.",maxGuests:4,location:"Rondane, Innlandet",amenities:["Peis","Turstier","Kjkken"],pricePerNight:1100},{id:"cabin-007",images:[O1],categories:["Innsj","Familie"],title:"Sjgltt",description:"Familievennlig hytte ved innsj med god plass og kort vei til badestrand.",maxGuests:6,location:"Norefjell, Viken",amenities:["Bt","Grillplass","Wifi"],pricePerNight:1250},{id:"cabin-008",images:[N1],categories:["Romantisk","Luksus"],title:"Eventyrhytta",description:"Eksklusiv og romantisk hytte med jacuzzi og utsikt over fjellene.",maxGuests:2,location:"Geiranger, Mre og Romsdal",amenities:["Jacuzzi","Peis","Privat terrasse"],pricePerNight:2200},{id:"cabin-009",images:[P1],categories:["Skog","Familie"],title:"Tretopphytten",description:"Unik tretopphytte midt i skogen  en spennende opplevelse for hele familien.",maxGuests:5,location:"Hurdal, Akershus",amenities:["Tretopptur","Kjkken","Terrasse"],pricePerNight:1350},{id:"cabin-010",images:[L1],categories:["Avsides","Enkel"],title:"Stillhet",description:"Minimalistisk hytte uten strm og vann  perfekt for  koble helt av.",maxGuests:2,location:"Setesdal, Agder",amenities:["Vedovn","Utetoalett","Stjernehimmel"],pricePerNight:500}];function uT(r){let e=[];for(let t=0;t<Os.length;t++){const n=Os[t];n.location.toLowerCase().includes(r.toLowerCase())&&e.push(n)}return e}function V1(r){let e=[];for(let t=0;t<Os.length;t++){const n=Os[t];n.maxGuests===r&&e.push(n)}return e}function U1(r){for(let e=0;e<Os.length;e++){const t=Os[e];if(t.id===r)return t}}function B1(){const[r,e]=V.useState([]),t=n=>e(uT(n.target.value));return B.jsxs("div",{className:"home-container",children:[B.jsx("img",{src:A1,alt:"Bakgrunnsbilde av en skog.",className:"background-image"}),B.jsxs("div",{className:"home-content",children:[B.jsx("h3",{className:"home-title",children:"Hytte Leie  Finn din perfekte hytte i naturen"}),B.jsx("p",{className:"home-description",children:"Lei en koselig hytte i vakre omgivelser, fra skog til fjell. Enkel booking og unike opplevelser for ro og eventyr  alt p ett sted."}),B.jsxs("div",{className:"searchbar",children:[B.jsx("input",{type:"text",id:"searchbar",placeholder:"Finn din hytte her",onChange:t}),B.jsx("svg",{width:"100%",height:"100%",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:B.jsx("path",{d:"M21 21L17.5001 17.5M20 11.5C20 16.1944 16.1944 20 11.5 20C6.80558 20 3 16.1944 3 11.5C3 6.80558 6.80558 3 11.5 3C16.1944 3 20 6.80558 20 11.5Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})]}),B.jsx("div",{className:"cabin-recommendations",children:r.map((n,a)=>B.jsxs("a",{href:`/hytter/${n.id}`,style:{borderTopLeftRadius:a===0?"4px":"0",borderTopRightRadius:a===0?"4px":"0",borderBottomLeftRadius:a===r.length-1?"4px":"0",borderBottomRightRadius:a===r.length-1?"4px":"0"},children:[n.title,", ",n.location]},a))})]})]})}function j1(){return B.jsx("div",{className:"main-page-container",children:B.jsx("div",{className:"main-page-content",children:B.jsx(B1,{})})})}const H1={user:null},Jg=V.createContext(H1),F1=()=>{};var PE={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cT=function(r){const e=[];let t=0;for(let n=0;n<r.length;n++){let a=r.charCodeAt(n);a<128?e[t++]=a:a<2048?(e[t++]=a>>6|192,e[t++]=a&63|128):(a&64512)===55296&&n+1<r.length&&(r.charCodeAt(n+1)&64512)===56320?(a=65536+((a&1023)<<10)+(r.charCodeAt(++n)&1023),e[t++]=a>>18|240,e[t++]=a>>12&63|128,e[t++]=a>>6&63|128,e[t++]=a&63|128):(e[t++]=a>>12|224,e[t++]=a>>6&63|128,e[t++]=a&63|128)}return e},z1=function(r){const e=[];let t=0,n=0;for(;t<r.length;){const a=r[t++];if(a<128)e[n++]=String.fromCharCode(a);else if(a>191&&a<224){const o=r[t++];e[n++]=String.fromCharCode((a&31)<<6|o&63)}else if(a>239&&a<365){const o=r[t++],u=r[t++],f=r[t++],p=((a&7)<<18|(o&63)<<12|(u&63)<<6|f&63)-65536;e[n++]=String.fromCharCode(55296+(p>>10)),e[n++]=String.fromCharCode(56320+(p&1023))}else{const o=r[t++],u=r[t++];e[n++]=String.fromCharCode((a&15)<<12|(o&63)<<6|u&63)}}return e.join("")},fT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let a=0;a<r.length;a+=3){const o=r[a],u=a+1<r.length,f=u?r[a+1]:0,p=a+2<r.length,m=p?r[a+2]:0,v=o>>2,_=(o&3)<<4|f>>4;let b=(f&15)<<2|m>>6,S=m&63;p||(S=64,u||(b=64)),n.push(t[v],t[_],t[b],t[S])}return n.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(cT(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):z1(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let a=0;a<r.length;){const o=t[r.charAt(a++)],f=a<r.length?t[r.charAt(a)]:0;++a;const m=a<r.length?t[r.charAt(a)]:64;++a;const _=a<r.length?t[r.charAt(a)]:64;if(++a,o==null||f==null||m==null||_==null)throw new Y1;const b=o<<2|f>>4;if(n.push(b),m!==64){const S=f<<4&240|m>>2;if(n.push(S),_!==64){const C=m<<6&192|_;n.push(C)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class Y1 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const q1=function(r){const e=cT(r);return fT.encodeByteArray(e,!0)},Oh=function(r){return q1(r).replace(/\./g,"")},hT=function(r){try{return fT.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G1(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q1=()=>G1().__FIREBASE_DEFAULTS__,K1=()=>{if(typeof process>"u"||typeof PE>"u")return;const r=PE.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},W1=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&hT(r[1]);return e&&JSON.parse(e)},pd=()=>{try{return F1()||Q1()||K1()||W1()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},dT=r=>{var e,t;return(t=(e=pd())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[r]},X1=r=>{const e=dT(r);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const n=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),n]:[e.substring(0,t),n]},pT=()=>{var r;return(r=pd())===null||r===void 0?void 0:r.config},mT=r=>{var e;return(e=pd())===null||e===void 0?void 0:e[`_${r}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $1{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,n))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z1(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},n=e||"demo-project",a=r.iat||0,o=r.sub||r.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:a,exp:a+3600,auth_time:a,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},r);return[Oh(JSON.stringify(t)),Oh(JSON.stringify(u)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function J1(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(pn())}function ek(){var r;const e=(r=pd())===null||r===void 0?void 0:r.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function tk(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function nk(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function rk(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function ik(){const r=pn();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function ak(){return!ek()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function sk(){try{return typeof indexedDB=="object"}catch{return!1}}function ok(){return new Promise((r,e)=>{try{let t=!0;const n="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(n);a.onsuccess=()=>{a.result.close(),t||self.indexedDB.deleteDatabase(n),r(!0)},a.onupgradeneeded=()=>{t=!1},a.onerror=()=>{var o;e(((o=a.error)===null||o===void 0?void 0:o.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lk="FirebaseError";class Bi extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name=lk,Object.setPrototypeOf(this,Bi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,gc.prototype.create)}}class gc{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e,...t){const n=t[0]||{},a=`${this.service}/${e}`,o=this.errors[e],u=o?uk(o,n):"Error",f=`${this.serviceName}: ${u} (${a}).`;return new Bi(a,f,n)}}function uk(r,e){return r.replace(ck,(t,n)=>{const a=e[n];return a!=null?String(a):`<${n}?>`})}const ck=/\{\$([^}]+)}/g;function fk(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function Ns(r,e){if(r===e)return!0;const t=Object.keys(r),n=Object.keys(e);for(const a of t){if(!n.includes(a))return!1;const o=r[a],u=e[a];if(LE(o)&&LE(u)){if(!Ns(o,u))return!1}else if(o!==u)return!1}for(const a of n)if(!t.includes(a))return!1;return!0}function LE(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vc(r){const e=[];for(const[t,n]of Object.entries(r))Array.isArray(n)?n.forEach(a=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(n));return e.length?"&"+e.join("&"):""}function ju(r){const e={};return r.replace(/^\?/,"").split("&").forEach(n=>{if(n){const[a,o]=n.split("=");e[decodeURIComponent(a)]=decodeURIComponent(o)}}),e}function Hu(r){const e=r.indexOf("?");if(!e)return"";const t=r.indexOf("#",e);return r.substring(e,t>0?t:void 0)}function hk(r,e){const t=new dk(r,e);return t.subscribe.bind(t)}class dk{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(n=>{this.error(n)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,n){let a;if(e===void 0&&t===void 0&&n===void 0)throw new Error("Missing Observer.");pk(e,["next","error","complete"])?a=e:a={next:e,error:t,complete:n},a.next===void 0&&(a.next=Qm),a.error===void 0&&(a.error=Qm),a.complete===void 0&&(a.complete=Qm);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(n){typeof console<"u"&&console.error&&console.error(n)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function pk(r,e){if(typeof r!="object"||r===null)return!1;for(const t of e)if(t in r&&typeof r[t]=="function")return!0;return!1}function Qm(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tr(r){return r&&r._delegate?r._delegate:r}class Ps{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ds="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mk{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const n=new $1;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:t});a&&n.resolve(a)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),a=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(a)return null;throw o}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(vk(e))try{this.getOrInitializeService({instanceIdentifier:Ds})}catch{}for(const[t,n]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(t);try{const o=this.getOrInitializeService({instanceIdentifier:a});n.resolve(o)}catch{}}}}clearInstance(e=Ds){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ds){return this.instances.has(e)}getOptions(e=Ds){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[o,u]of this.instancesDeferred.entries()){const f=this.normalizeInstanceIdentifier(o);n===f&&u.resolve(a)}return a}onInit(e,t){var n;const a=this.normalizeInstanceIdentifier(t),o=(n=this.onInitCallbacks.get(a))!==null&&n!==void 0?n:new Set;o.add(e),this.onInitCallbacks.set(a,o);const u=this.instances.get(a);return u&&e(u,a),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const a of n)try{a(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:gk(e),options:t}),this.instances.set(e,n),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch{}return n||null}normalizeInstanceIdentifier(e=Ds){return this.component?this.component.multipleInstances?e:Ds:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function gk(r){return r===Ds?void 0:r}function vk(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yk{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new mk(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var He;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(He||(He={}));const _k={debug:He.DEBUG,verbose:He.VERBOSE,info:He.INFO,warn:He.WARN,error:He.ERROR,silent:He.SILENT},Ek=He.INFO,wk={[He.DEBUG]:"log",[He.VERBOSE]:"log",[He.INFO]:"info",[He.WARN]:"warn",[He.ERROR]:"error"},bk=(r,e,...t)=>{if(e<r.logLevel)return;const n=new Date().toISOString(),a=wk[e];if(a)console[a](`[${n}]  ${r.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class ev{constructor(e){this.name=e,this._logLevel=Ek,this._logHandler=bk,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in He))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?_k[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,He.DEBUG,...e),this._logHandler(this,He.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,He.VERBOSE,...e),this._logHandler(this,He.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,He.INFO,...e),this._logHandler(this,He.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,He.WARN,...e),this._logHandler(this,He.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,He.ERROR,...e),this._logHandler(this,He.ERROR,...e)}}const Tk=(r,e)=>e.some(t=>r instanceof t);let VE,UE;function Sk(){return VE||(VE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Dk(){return UE||(UE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const gT=new WeakMap,mg=new WeakMap,vT=new WeakMap,Km=new WeakMap,tv=new WeakMap;function Ak(r){const e=new Promise((t,n)=>{const a=()=>{r.removeEventListener("success",o),r.removeEventListener("error",u)},o=()=>{t(Sa(r.result)),a()},u=()=>{n(r.error),a()};r.addEventListener("success",o),r.addEventListener("error",u)});return e.then(t=>{t instanceof IDBCursor&&gT.set(t,r)}).catch(()=>{}),tv.set(e,r),e}function Rk(r){if(mg.has(r))return;const e=new Promise((t,n)=>{const a=()=>{r.removeEventListener("complete",o),r.removeEventListener("error",u),r.removeEventListener("abort",u)},o=()=>{t(),a()},u=()=>{n(r.error||new DOMException("AbortError","AbortError")),a()};r.addEventListener("complete",o),r.addEventListener("error",u),r.addEventListener("abort",u)});mg.set(r,e)}let gg={get(r,e,t){if(r instanceof IDBTransaction){if(e==="done")return mg.get(r);if(e==="objectStoreNames")return r.objectStoreNames||vT.get(r);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Sa(r[e])},set(r,e,t){return r[e]=t,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function Ck(r){gg=r(gg)}function kk(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const n=r.call(Wm(this),e,...t);return vT.set(n,e.sort?e.sort():[e]),Sa(n)}:Dk().includes(r)?function(...e){return r.apply(Wm(this),e),Sa(gT.get(this))}:function(...e){return Sa(r.apply(Wm(this),e))}}function Ik(r){return typeof r=="function"?kk(r):(r instanceof IDBTransaction&&Rk(r),Tk(r,Sk())?new Proxy(r,gg):r)}function Sa(r){if(r instanceof IDBRequest)return Ak(r);if(Km.has(r))return Km.get(r);const e=Ik(r);return e!==r&&(Km.set(r,e),tv.set(e,r)),e}const Wm=r=>tv.get(r);function xk(r,e,{blocked:t,upgrade:n,blocking:a,terminated:o}={}){const u=indexedDB.open(r,e),f=Sa(u);return n&&u.addEventListener("upgradeneeded",p=>{n(Sa(u.result),p.oldVersion,p.newVersion,Sa(u.transaction),p)}),t&&u.addEventListener("blocked",p=>t(p.oldVersion,p.newVersion,p)),f.then(p=>{o&&p.addEventListener("close",()=>o()),a&&p.addEventListener("versionchange",m=>a(m.oldVersion,m.newVersion,m))}).catch(()=>{}),f}const Mk=["get","getKey","getAll","getAllKeys","count"],Ok=["put","add","delete","clear"],Xm=new Map;function BE(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(Xm.get(e))return Xm.get(e);const t=e.replace(/FromIndex$/,""),n=e!==t,a=Ok.includes(t);if(!(t in(n?IDBIndex:IDBObjectStore).prototype)||!(a||Mk.includes(t)))return;const o=async function(u,...f){const p=this.transaction(u,a?"readwrite":"readonly");let m=p.store;return n&&(m=m.index(f.shift())),(await Promise.all([m[t](...f),a&&p.done]))[0]};return Xm.set(e,o),o}Ck(r=>({...r,get:(e,t,n)=>BE(e,t)||r.get(e,t,n),has:(e,t)=>!!BE(e,t)||r.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nk{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(Pk(t)){const n=t.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(t=>t).join(" ")}}function Pk(r){const e=r.getComponent();return(e==null?void 0:e.type)==="VERSION"}const vg="@firebase/app",jE="0.11.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oi=new ev("@firebase/app"),Lk="@firebase/app-compat",Vk="@firebase/analytics-compat",Uk="@firebase/analytics",Bk="@firebase/app-check-compat",jk="@firebase/app-check",Hk="@firebase/auth",Fk="@firebase/auth-compat",zk="@firebase/database",Yk="@firebase/data-connect",qk="@firebase/database-compat",Gk="@firebase/functions",Qk="@firebase/functions-compat",Kk="@firebase/installations",Wk="@firebase/installations-compat",Xk="@firebase/messaging",$k="@firebase/messaging-compat",Zk="@firebase/performance",Jk="@firebase/performance-compat",eI="@firebase/remote-config",tI="@firebase/remote-config-compat",nI="@firebase/storage",rI="@firebase/storage-compat",iI="@firebase/firestore",aI="@firebase/vertexai",sI="@firebase/firestore-compat",oI="firebase",lI="11.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yg="[DEFAULT]",uI={[vg]:"fire-core",[Lk]:"fire-core-compat",[Uk]:"fire-analytics",[Vk]:"fire-analytics-compat",[jk]:"fire-app-check",[Bk]:"fire-app-check-compat",[Hk]:"fire-auth",[Fk]:"fire-auth-compat",[zk]:"fire-rtdb",[Yk]:"fire-data-connect",[qk]:"fire-rtdb-compat",[Gk]:"fire-fn",[Qk]:"fire-fn-compat",[Kk]:"fire-iid",[Wk]:"fire-iid-compat",[Xk]:"fire-fcm",[$k]:"fire-fcm-compat",[Zk]:"fire-perf",[Jk]:"fire-perf-compat",[eI]:"fire-rc",[tI]:"fire-rc-compat",[nI]:"fire-gcs",[rI]:"fire-gcs-compat",[iI]:"fire-fst",[sI]:"fire-fst-compat",[aI]:"fire-vertex","fire-js":"fire-js",[oI]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nh=new Map,cI=new Map,_g=new Map;function HE(r,e){try{r.container.addComponent(e)}catch(t){Oi.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,t)}}function Jo(r){const e=r.name;if(_g.has(e))return Oi.debug(`There were multiple attempts to register component ${e}.`),!1;_g.set(e,r);for(const t of Nh.values())HE(t,r);for(const t of cI.values())HE(t,r);return!0}function nv(r,e){const t=r.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),r.container.getProvider(e)}function Pn(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fI={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Da=new gc("app","Firebase",fI);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hI{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new Ps("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Da.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gl=lI;function yT(r,e={}){let t=r;typeof e!="object"&&(e={name:e});const n=Object.assign({name:yg,automaticDataCollectionEnabled:!1},e),a=n.name;if(typeof a!="string"||!a)throw Da.create("bad-app-name",{appName:String(a)});if(t||(t=pT()),!t)throw Da.create("no-options");const o=Nh.get(a);if(o){if(Ns(t,o.options)&&Ns(n,o.config))return o;throw Da.create("duplicate-app",{appName:a})}const u=new yk(a);for(const p of _g.values())u.addComponent(p);const f=new hI(t,n,u);return Nh.set(a,f),f}function _T(r=yg){const e=Nh.get(r);if(!e&&r===yg&&pT())return yT();if(!e)throw Da.create("no-app",{appName:r});return e}function Aa(r,e,t){var n;let a=(n=uI[r])!==null&&n!==void 0?n:r;t&&(a+=`-${t}`);const o=a.match(/\s|\//),u=e.match(/\s|\//);if(o||u){const f=[`Unable to register library "${a}" with version "${e}":`];o&&f.push(`library name "${a}" contains illegal characters (whitespace or "/")`),o&&u&&f.push("and"),u&&f.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Oi.warn(f.join(" "));return}Jo(new Ps(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dI="firebase-heartbeat-database",pI=1,Ju="firebase-heartbeat-store";let $m=null;function ET(){return $m||($m=xk(dI,pI,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(Ju)}catch(t){console.warn(t)}}}}).catch(r=>{throw Da.create("idb-open",{originalErrorMessage:r.message})})),$m}async function mI(r){try{const t=(await ET()).transaction(Ju),n=await t.objectStore(Ju).get(wT(r));return await t.done,n}catch(e){if(e instanceof Bi)Oi.warn(e.message);else{const t=Da.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Oi.warn(t.message)}}}async function FE(r,e){try{const n=(await ET()).transaction(Ju,"readwrite");await n.objectStore(Ju).put(e,wT(r)),await n.done}catch(t){if(t instanceof Bi)Oi.warn(t.message);else{const n=Da.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});Oi.warn(n.message)}}}function wT(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gI=1024,vI=30;class yI{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new EI(t),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}async triggerHeartbeat(){var e,t;try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=zE();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(u=>u.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:a}),this._heartbeatsCache.heartbeats.length>vI){const u=wI(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(u,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(n){Oi.warn(n)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=zE(),{heartbeatsToSend:n,unsentEntries:a}=_I(this._heartbeatsCache.heartbeats),o=Oh(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return Oi.warn(t),""}}}function zE(){return new Date().toISOString().substring(0,10)}function _I(r,e=gI){const t=[];let n=r.slice();for(const a of r){const o=t.find(u=>u.agent===a.agent);if(o){if(o.dates.push(a.date),YE(t)>e){o.dates.pop();break}}else if(t.push({agent:a.agent,dates:[a.date]}),YE(t)>e){t.pop();break}n=n.slice(1)}return{heartbeatsToSend:t,unsentEntries:n}}class EI{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return sk()?ok().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await mI(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const a=await this.read();return FE(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const a=await this.read();return FE(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function YE(r){return Oh(JSON.stringify({version:2,heartbeats:r})).length}function wI(r){if(r.length===0)return-1;let e=0,t=r[0].date;for(let n=1;n<r.length;n++)r[n].date<t&&(t=r[n].date,e=n);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bI(r){Jo(new Ps("platform-logger",e=>new Nk(e),"PRIVATE")),Jo(new Ps("heartbeat",e=>new yI(e),"PRIVATE")),Aa(vg,jE,r),Aa(vg,jE,"esm2017"),Aa("fire-js","")}bI("");var TI="firebase",SI="11.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Aa(TI,SI,"app");function rv(r,e){var t={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(r);a<n.length;a++)e.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(r,n[a])&&(t[n[a]]=r[n[a]]);return t}function bT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const DI=bT,TT=new gc("auth","Firebase",bT());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ph=new ev("@firebase/auth");function AI(r,...e){Ph.logLevel<=He.WARN&&Ph.warn(`Auth (${gl}): ${r}`,...e)}function vh(r,...e){Ph.logLevel<=He.ERROR&&Ph.error(`Auth (${gl}): ${r}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nr(r,...e){throw av(r,...e)}function hr(r,...e){return av(r,...e)}function iv(r,e,t){const n=Object.assign(Object.assign({},DI()),{[e]:t});return new gc("auth","Firebase",n).create(e,{appName:r.name})}function Di(r){return iv(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function RI(r,e,t){const n=t;if(!(e instanceof n))throw n.name!==e.constructor.name&&nr(r,"argument-error"),iv(r,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function av(r,...e){if(typeof r!="string"){const t=e[0],n=[...e.slice(1)];return n[0]&&(n[0].appName=r.name),r._errorFactory.create(t,...n)}return TT.create(r,...e)}function Ae(r,e,...t){if(!r)throw av(e,...t)}function bi(r){const e="INTERNAL ASSERTION FAILED: "+r;throw vh(e),new Error(e)}function Ni(r,e){r||bi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Eg(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.href)||""}function CI(){return qE()==="http:"||qE()==="https:"}function qE(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kI(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(CI()||nk()||"connection"in navigator)?navigator.onLine:!0}function II(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yc{constructor(e,t){this.shortDelay=e,this.longDelay=t,Ni(t>e,"Short delay should be less than long delay!"),this.isMobile=J1()||rk()}get(){return kI()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sv(r,e){Ni(r.emulator,"Emulator should always be set here");const{url:t}=r.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ST{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;bi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;bi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;bi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xI={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MI=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],OI=new yc(3e4,6e4);function Ba(r,e){return r.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:r.tenantId}):e}async function ja(r,e,t,n,a={}){return DT(r,a,async()=>{let o={},u={};n&&(e==="GET"?u=n:o={body:JSON.stringify(n)});const f=vc(Object.assign({key:r.config.apiKey},u)).slice(1),p=await r._getAdditionalHeaders();p["Content-Type"]="application/json",r.languageCode&&(p["X-Firebase-Locale"]=r.languageCode);const m=Object.assign({method:e,headers:p},o);return tk()||(m.referrerPolicy="no-referrer"),ST.fetch()(await AT(r,r.config.apiHost,t,f),m)})}async function DT(r,e,t){r._canInitEmulator=!1;const n=Object.assign(Object.assign({},xI),e);try{const a=new PI(r),o=await Promise.race([t(),a.promise]);a.clearNetworkTimeout();const u=await o.json();if("needConfirmation"in u)throw nh(r,"account-exists-with-different-credential",u);if(o.ok&&!("errorMessage"in u))return u;{const f=o.ok?u.errorMessage:u.error.message,[p,m]=f.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw nh(r,"credential-already-in-use",u);if(p==="EMAIL_EXISTS")throw nh(r,"email-already-in-use",u);if(p==="USER_DISABLED")throw nh(r,"user-disabled",u);const v=n[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(m)throw iv(r,v,m);nr(r,v)}}catch(a){if(a instanceof Bi)throw a;nr(r,"network-request-failed",{message:String(a)})}}async function _c(r,e,t,n,a={}){const o=await ja(r,e,t,n,a);return"mfaPendingCredential"in o&&nr(r,"multi-factor-auth-required",{_serverResponse:o}),o}async function AT(r,e,t,n){const a=`${e}${t}?${n}`,o=r,u=o.config.emulator?sv(r.config,a):`${r.config.apiScheme}://${a}`;return MI.includes(t)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(u).toString():u}function NI(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class PI{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,n)=>{this.timer=setTimeout(()=>n(hr(this.auth,"network-request-failed")),OI.get())})}}function nh(r,e,t){const n={appName:r.name};t.email&&(n.email=t.email),t.phoneNumber&&(n.phoneNumber=t.phoneNumber);const a=hr(r,e,n);return a.customData._tokenResponse=t,a}function GE(r){return r!==void 0&&r.enterprise!==void 0}class LI{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return NI(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function VI(r,e){return ja(r,"GET","/v2/recaptchaConfig",Ba(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UI(r,e){return ja(r,"POST","/v1/accounts:delete",e)}async function Lh(r,e){return ja(r,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qu(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function BI(r,e=!1){const t=tr(r),n=await t.getIdToken(e),a=ov(n);Ae(a&&a.exp&&a.auth_time&&a.iat,t.auth,"internal-error");const o=typeof a.firebase=="object"?a.firebase:void 0,u=o==null?void 0:o.sign_in_provider;return{claims:a,token:n,authTime:Qu(Zm(a.auth_time)),issuedAtTime:Qu(Zm(a.iat)),expirationTime:Qu(Zm(a.exp)),signInProvider:u||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function Zm(r){return Number(r)*1e3}function ov(r){const[e,t,n]=r.split(".");if(e===void 0||t===void 0||n===void 0)return vh("JWT malformed, contained fewer than 3 sections"),null;try{const a=hT(t);return a?JSON.parse(a):(vh("Failed to decode base64 JWT payload"),null)}catch(a){return vh("Caught error parsing JWT payload as JSON",a==null?void 0:a.toString()),null}}function QE(r){const e=ov(r);return Ae(e,"internal-error"),Ae(typeof e.exp<"u","internal-error"),Ae(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ec(r,e,t=!1){if(t)return e;try{return await e}catch(n){throw n instanceof Bi&&jI(n)&&r.auth.currentUser===r&&await r.auth.signOut(),n}}function jI({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HI{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const a=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,a)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wg{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Qu(this.lastLoginAt),this.creationTime=Qu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vh(r){var e;const t=r.auth,n=await r.getIdToken(),a=await ec(r,Lh(t,{idToken:n}));Ae(a==null?void 0:a.users.length,t,"internal-error");const o=a.users[0];r._notifyReloadListener(o);const u=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?RT(o.providerUserInfo):[],f=zI(r.providerData,u),p=r.isAnonymous,m=!(r.email&&o.passwordHash)&&!(f!=null&&f.length),v=p?m:!1,_={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:f,metadata:new wg(o.createdAt,o.lastLoginAt),isAnonymous:v};Object.assign(r,_)}async function FI(r){const e=tr(r);await Vh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function zI(r,e){return[...r.filter(n=>!e.some(a=>a.providerId===n.providerId)),...e]}function RT(r){return r.map(e=>{var{providerId:t}=e,n=rv(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YI(r,e){const t=await DT(r,{},async()=>{const n=vc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:o}=r.config,u=await AT(r,a,"/v1/token",`key=${o}`),f=await r._getAdditionalHeaders();return f["Content-Type"]="application/x-www-form-urlencoded",ST.fetch()(u,{method:"POST",headers:f,body:n})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function qI(r,e){return ja(r,"POST","/v2/accounts:revokeToken",Ba(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ae(e.idToken,"internal-error"),Ae(typeof e.idToken<"u","internal-error"),Ae(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):QE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Ae(e.length!==0,"internal-error");const t=QE(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Ae(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:a,expiresIn:o}=await YI(e,t);this.updateTokensAndExpiration(n,a,Number(o))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+n*1e3}static fromJSON(e,t){const{refreshToken:n,accessToken:a,expirationTime:o}=t,u=new Qo;return n&&(Ae(typeof n=="string","internal-error",{appName:e}),u.refreshToken=n),a&&(Ae(typeof a=="string","internal-error",{appName:e}),u.accessToken=a),o&&(Ae(typeof o=="number","internal-error",{appName:e}),u.expirationTime=o),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Qo,this.toJSON())}_performRefresh(){return bi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ga(r,e){Ae(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class cr{constructor(e){var{uid:t,auth:n,stsTokenManager:a}=e,o=rv(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new HI(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new wg(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const t=await ec(this,this.stsTokenManager.getToken(this.auth,e));return Ae(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return BI(this,e)}reload(){return FI(this)}_assign(e){this!==e&&(Ae(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new cr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Ae(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await Vh(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Pn(this.auth.app))return Promise.reject(Di(this.auth));const e=await this.getIdToken();return await ec(this,UI(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,a,o,u,f,p,m,v;const _=(n=t.displayName)!==null&&n!==void 0?n:void 0,b=(a=t.email)!==null&&a!==void 0?a:void 0,S=(o=t.phoneNumber)!==null&&o!==void 0?o:void 0,C=(u=t.photoURL)!==null&&u!==void 0?u:void 0,N=(f=t.tenantId)!==null&&f!==void 0?f:void 0,I=(p=t._redirectEventId)!==null&&p!==void 0?p:void 0,j=(m=t.createdAt)!==null&&m!==void 0?m:void 0,K=(v=t.lastLoginAt)!==null&&v!==void 0?v:void 0,{uid:z,emailVerified:re,isAnonymous:ie,providerData:fe,stsTokenManager:x}=t;Ae(z&&x,e,"internal-error");const D=Qo.fromJSON(this.name,x);Ae(typeof z=="string",e,"internal-error"),ga(_,e.name),ga(b,e.name),Ae(typeof re=="boolean",e,"internal-error"),Ae(typeof ie=="boolean",e,"internal-error"),ga(S,e.name),ga(C,e.name),ga(N,e.name),ga(I,e.name),ga(j,e.name),ga(K,e.name);const R=new cr({uid:z,auth:e,email:b,emailVerified:re,displayName:_,isAnonymous:ie,photoURL:C,phoneNumber:S,tenantId:N,stsTokenManager:D,createdAt:j,lastLoginAt:K});return fe&&Array.isArray(fe)&&(R.providerData=fe.map(M=>Object.assign({},M))),I&&(R._redirectEventId=I),R}static async _fromIdTokenResponse(e,t,n=!1){const a=new Qo;a.updateFromServerResponse(t);const o=new cr({uid:t.localId,auth:e,stsTokenManager:a,isAnonymous:n});return await Vh(o),o}static async _fromGetAccountInfoResponse(e,t,n){const a=t.users[0];Ae(a.localId!==void 0,"internal-error");const o=a.providerUserInfo!==void 0?RT(a.providerUserInfo):[],u=!(a.email&&a.passwordHash)&&!(o!=null&&o.length),f=new Qo;f.updateFromIdToken(n);const p=new cr({uid:a.localId,auth:e,stsTokenManager:f,isAnonymous:u}),m={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:o,metadata:new wg(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!(o!=null&&o.length)};return Object.assign(p,m),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KE=new Map;function Ti(r){Ni(r instanceof Function,"Expected a class definition");let e=KE.get(r);return e?(Ni(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,KE.set(r,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}CT.type="NONE";const WE=CT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yh(r,e,t){return`firebase:${r}:${e}:${t}`}class Ko{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:a,name:o}=this.auth;this.fullUserKey=yh(this.userKey,a.apiKey,o),this.fullPersistenceKey=yh("persistence",a.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await Lh(this.auth,{idToken:e}).catch(()=>{});return t?cr._fromGetAccountInfoResponse(this.auth,t,e):null}return cr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,n="authUser"){if(!t.length)return new Ko(Ti(WE),e,n);const a=(await Promise.all(t.map(async m=>{if(await m._isAvailable())return m}))).filter(m=>m);let o=a[0]||Ti(WE);const u=yh(n,e.config.apiKey,e.name);let f=null;for(const m of t)try{const v=await m._get(u);if(v){let _;if(typeof v=="string"){const b=await Lh(e,{idToken:v}).catch(()=>{});if(!b)break;_=await cr._fromGetAccountInfoResponse(e,b,v)}else _=cr._fromJSON(e,v);m!==o&&(f=_),o=m;break}}catch{}const p=a.filter(m=>m._shouldAllowMigration);return!o._shouldAllowMigration||!p.length?new Ko(o,e,n):(o=p[0],f&&await o._set(u,f.toJSON()),await Promise.all(t.map(async m=>{if(m!==o)try{await m._remove(u)}catch{}})),new Ko(o,e,n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XE(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(MT(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(kT(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(NT(e))return"Blackberry";if(PT(e))return"Webos";if(IT(e))return"Safari";if((e.includes("chrome/")||xT(e))&&!e.includes("edge/"))return"Chrome";if(OT(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=r.match(t);if((n==null?void 0:n.length)===2)return n[1]}return"Other"}function kT(r=pn()){return/firefox\//i.test(r)}function IT(r=pn()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function xT(r=pn()){return/crios\//i.test(r)}function MT(r=pn()){return/iemobile/i.test(r)}function OT(r=pn()){return/android/i.test(r)}function NT(r=pn()){return/blackberry/i.test(r)}function PT(r=pn()){return/webos/i.test(r)}function lv(r=pn()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function GI(r=pn()){var e;return lv(r)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function QI(){return ik()&&document.documentMode===10}function LT(r=pn()){return lv(r)||OT(r)||PT(r)||NT(r)||/windows phone/i.test(r)||MT(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VT(r,e=[]){let t;switch(r){case"Browser":t=XE(pn());break;case"Worker":t=`${XE(pn())}-${r}`;break;default:t=r}const n=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${gl}/${n}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KI{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=o=>new Promise((u,f)=>{try{const p=e(o);u(p)}catch(p){f(p)}});n.onAbort=t,this.queue.push(n);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(n){t.reverse();for(const a of t)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:n==null?void 0:n.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WI(r,e={}){return ja(r,"GET","/v2/passwordPolicy",Ba(r,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XI=6;class $I{constructor(e){var t,n,a,o;const u=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=u.minPasswordLength)!==null&&t!==void 0?t:XI,u.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=u.maxPasswordLength),u.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=u.containsLowercaseCharacter),u.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=u.containsUppercaseCharacter),u.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=u.containsNumericCharacter),u.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=u.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(a=(n=e.allowedNonAlphanumericCharacters)===null||n===void 0?void 0:n.join(""))!==null&&a!==void 0?a:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,n,a,o,u,f;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,p),this.validatePasswordCharacterOptions(e,p),p.isValid&&(p.isValid=(t=p.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),p.isValid&&(p.isValid=(n=p.meetsMaxPasswordLength)!==null&&n!==void 0?n:!0),p.isValid&&(p.isValid=(a=p.containsLowercaseLetter)!==null&&a!==void 0?a:!0),p.isValid&&(p.isValid=(o=p.containsUppercaseLetter)!==null&&o!==void 0?o:!0),p.isValid&&(p.isValid=(u=p.containsNumericCharacter)!==null&&u!==void 0?u:!0),p.isValid&&(p.isValid=(f=p.containsNonAlphanumericCharacter)!==null&&f!==void 0?f:!0),p}validatePasswordLengthOptions(e,t){const n=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),a&&(t.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let n;for(let a=0;a<e.length;a++)n=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(t,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,t,n,a,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZI{constructor(e,t,n,a){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new $E(this),this.idTokenSubscription=new $E(this),this.beforeStateQueue=new KI(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=TT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Ti(t)),this._initializationPromise=this.queue(async()=>{var n,a,o;if(!this._deleted&&(this.persistenceManager=await Ko.create(this,e),(n=this._resolvePersistenceManagerAvailable)===null||n===void 0||n.call(this),!this._deleted)){if(!((a=this._popupRedirectResolver)===null||a===void 0)&&a._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await Lh(this,{idToken:e}),n=await cr._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(n)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(Pn(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(f,f))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let a=n,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,f=a==null?void 0:a._redirectEventId,p=await this.tryRedirectSignIn(e);(!u||u===f)&&(p!=null&&p.user)&&(a=p.user,o=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(a)}catch(u){a=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return Ae(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Vh(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=II()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Pn(this.app))return Promise.reject(Di(this));const t=e?tr(e):null;return t&&Ae(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Ae(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Pn(this.app)?Promise.reject(Di(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Pn(this.app)?Promise.reject(Di(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ti(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await WI(this),t=new $I(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new gc("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged(()=>{n(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),n={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(n.tenantId=this.tenantId),await qI(this,n)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return e===null?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Ti(e)||this._popupRedirectResolver;Ae(t,this,"argument-error"),this.redirectPersistenceManager=await Ko.create(this,[Ti(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,a){if(this._deleted)return()=>{};const o=typeof t=="function"?t:t.next.bind(t);let u=!1;const f=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ae(f,this,"internal-error"),f.then(()=>{u||o(this.currentUser)}),typeof t=="function"){const p=e.addObserver(t,n,a);return()=>{u=!0,p()}}else{const p=e.addObserver(t);return()=>{u=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ae(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=VT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const a=await this._getAppCheckToken();return a&&(t["X-Firebase-AppCheck"]=a),t}async _getAppCheckToken(){var e;if(Pn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&AI(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function Ha(r){return tr(r)}class $E{constructor(e){this.auth=e,this.observer=null,this.addObserver=hk(t=>this.observer=t)}get next(){return Ae(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let md={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function JI(r){md=r}function UT(r){return md.loadJS(r)}function ex(){return md.recaptchaEnterpriseScript}function tx(){return md.gapiScript}function nx(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class rx{constructor(){this.enterprise=new ix}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class ix{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const ax="recaptcha-enterprise",BT="NO_RECAPTCHA";class sx{constructor(e){this.type=ax,this.auth=Ha(e)}async verify(e="verify",t=!1){async function n(o){if(!t){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(u,f)=>{VI(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)f(new Error("recaptcha Enterprise site key undefined"));else{const m=new LI(p);return o.tenantId==null?o._agentRecaptchaConfig=m:o._tenantRecaptchaConfigs[o.tenantId]=m,u(m.siteKey)}}).catch(p=>{f(p)})})}function a(o,u,f){const p=window.grecaptcha;GE(p)?p.enterprise.ready(()=>{p.enterprise.execute(o,{action:e}).then(m=>{u(m)}).catch(()=>{u(BT)})}):f(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new rx().execute("siteKey",{action:"verify"}):new Promise((o,u)=>{n(this.auth).then(f=>{if(!t&&GE(window.grecaptcha))a(f,o,u);else{if(typeof window>"u"){u(new Error("RecaptchaVerifier is only supported in browser"));return}let p=ex();p.length!==0&&(p+=f),UT(p).then(()=>{a(f,o,u)}).catch(m=>{u(m)})}}).catch(f=>{u(f)})})}}async function ZE(r,e,t,n=!1,a=!1){const o=new sx(r);let u;if(a)u=BT;else try{u=await o.verify(t)}catch{u=await o.verify(t,!0)}const f=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in f){const p=f.phoneEnrollmentInfo.phoneNumber,m=f.phoneEnrollmentInfo.recaptchaToken;Object.assign(f,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:m,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in f){const p=f.phoneSignInInfo.recaptchaToken;Object.assign(f,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return f}return n?Object.assign(f,{captchaResp:u}):Object.assign(f,{captchaResponse:u}),Object.assign(f,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(f,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),f}async function bg(r,e,t,n,a){var o;if(!((o=r._getRecaptchaConfig())===null||o===void 0)&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await ZE(r,e,t,t==="getOobCode");return n(r,u)}else return n(r,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const f=await ZE(r,e,t,t==="getOobCode");return n(r,f)}else return Promise.reject(u)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ox(r,e){const t=nv(r,"auth");if(t.isInitialized()){const a=t.getImmediate(),o=t.getOptions();if(Ns(o,e??{}))return a;nr(a,"already-initialized")}return t.initialize({options:e})}function lx(r,e){const t=(e==null?void 0:e.persistence)||[],n=(Array.isArray(t)?t:[t]).map(Ti);e!=null&&e.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(n,e==null?void 0:e.popupRedirectResolver)}function ux(r,e,t){const n=Ha(r);Ae(/^https?:\/\//.test(e),n,"invalid-emulator-scheme");const a=!1,o=jT(e),{host:u,port:f}=cx(e),p=f===null?"":`:${f}`,m={url:`${o}//${u}${p}/`},v=Object.freeze({host:u,port:f,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!n._canInitEmulator){Ae(n.config.emulator&&n.emulatorConfig,n,"emulator-config-failed"),Ae(Ns(m,n.config.emulator)&&Ns(v,n.emulatorConfig),n,"emulator-config-failed");return}n.config.emulator=m,n.emulatorConfig=v,n.settings.appVerificationDisabledForTesting=!0,fx()}function jT(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function cx(r){const e=jT(r),t=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!t)return{host:"",port:null};const n=t[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(n);if(a){const o=a[1];return{host:o,port:JE(n.substr(o.length+1))}}else{const[o,u]=n.split(":");return{host:o,port:JE(u)}}}function JE(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function fx(){function r(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uv{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return bi("not implemented")}_getIdTokenResponse(e){return bi("not implemented")}_linkToIdToken(e,t){return bi("not implemented")}_getReauthenticationResolver(e){return bi("not implemented")}}async function hx(r,e){return ja(r,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dx(r,e){return _c(r,"POST","/v1/accounts:signInWithPassword",Ba(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function px(r,e){return _c(r,"POST","/v1/accounts:signInWithEmailLink",Ba(r,e))}async function mx(r,e){return _c(r,"POST","/v1/accounts:signInWithEmailLink",Ba(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tc extends uv{constructor(e,t,n,a=null){super("password",n),this._email=e,this._password=t,this._tenantId=a}static _fromEmailAndPassword(e,t){return new tc(e,t,"password")}static _fromEmailAndCode(e,t,n=null){return new tc(e,t,"emailLink",n)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return bg(e,t,"signInWithPassword",dx);case"emailLink":return px(e,{email:this._email,oobCode:this._password});default:nr(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const n={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return bg(e,n,"signUpPassword",hx);case"emailLink":return mx(e,{idToken:t,email:this._email,oobCode:this._password});default:nr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wo(r,e){return _c(r,"POST","/v1/accounts:signInWithIdp",Ba(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gx="http://localhost";class Ls extends uv{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Ls(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):nr("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:n,signInMethod:a}=t,o=rv(t,["providerId","signInMethod"]);if(!n||!a)return null;const u=new Ls(n,a);return u.idToken=o.idToken||void 0,u.accessToken=o.accessToken||void 0,u.secret=o.secret,u.nonce=o.nonce,u.pendingToken=o.pendingToken||null,u}_getIdTokenResponse(e){const t=this.buildRequest();return Wo(e,t)}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,Wo(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Wo(e,t)}buildRequest(){const e={requestUri:gx,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=vc(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vx(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function yx(r){const e=ju(Hu(r)).link,t=e?ju(Hu(e)).deep_link_id:null,n=ju(Hu(r)).deep_link_id;return(n?ju(Hu(n)).link:null)||n||t||e||r}class cv{constructor(e){var t,n,a,o,u,f;const p=ju(Hu(e)),m=(t=p.apiKey)!==null&&t!==void 0?t:null,v=(n=p.oobCode)!==null&&n!==void 0?n:null,_=vx((a=p.mode)!==null&&a!==void 0?a:null);Ae(m&&v&&_,"argument-error"),this.apiKey=m,this.operation=_,this.code=v,this.continueUrl=(o=p.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(u=p.languageCode)!==null&&u!==void 0?u:null,this.tenantId=(f=p.tenantId)!==null&&f!==void 0?f:null}static parseLink(e){const t=yx(e);try{return new cv(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vl{constructor(){this.providerId=vl.PROVIDER_ID}static credential(e,t){return tc._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=cv.parseLink(t);return Ae(n,"argument-error"),tc._fromEmailAndCode(e,n.code,n.tenantId)}}vl.PROVIDER_ID="password";vl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";vl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fv{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ec extends fv{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _a extends Ec{constructor(){super("facebook.com")}static credential(e){return Ls._fromParams({providerId:_a.PROVIDER_ID,signInMethod:_a.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return _a.credentialFromTaggedObject(e)}static credentialFromError(e){return _a.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return _a.credential(e.oauthAccessToken)}catch{return null}}}_a.FACEBOOK_SIGN_IN_METHOD="facebook.com";_a.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pr extends Ec{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Ls._fromParams({providerId:Pr.PROVIDER_ID,signInMethod:Pr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Pr.credentialFromTaggedObject(e)}static credentialFromError(e){return Pr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:n}=e;if(!t&&!n)return null;try{return Pr.credential(t,n)}catch{return null}}}Pr.GOOGLE_SIGN_IN_METHOD="google.com";Pr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ea extends Ec{constructor(){super("github.com")}static credential(e){return Ls._fromParams({providerId:Ea.PROVIDER_ID,signInMethod:Ea.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ea.credentialFromTaggedObject(e)}static credentialFromError(e){return Ea.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ea.credential(e.oauthAccessToken)}catch{return null}}}Ea.GITHUB_SIGN_IN_METHOD="github.com";Ea.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wa extends Ec{constructor(){super("twitter.com")}static credential(e,t){return Ls._fromParams({providerId:wa.PROVIDER_ID,signInMethod:wa.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return wa.credentialFromTaggedObject(e)}static credentialFromError(e){return wa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:n}=e;if(!t||!n)return null;try{return wa.credential(t,n)}catch{return null}}}wa.TWITTER_SIGN_IN_METHOD="twitter.com";wa.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _x(r,e){return _c(r,"POST","/v1/accounts:signUp",Ba(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vs{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n,a=!1){const o=await cr._fromIdTokenResponse(e,n,a),u=ew(n);return new Vs({user:o,providerId:u,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const a=ew(n);return new Vs({user:e,providerId:a,_tokenResponse:n,operationType:t})}}function ew(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uh extends Bi{constructor(e,t,n,a){var o;super(t.code,t.message),this.operationType=n,this.user=a,Object.setPrototypeOf(this,Uh.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,a){return new Uh(e,t,n,a)}}function HT(r,e,t,n){return(e==="reauthenticate"?t._getReauthenticationResolver(r):t._getIdTokenResponse(r)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?Uh._fromErrorAndOperation(r,o,e,n):o})}async function Ex(r,e,t=!1){const n=await ec(r,e._linkToIdToken(r.auth,await r.getIdToken()),t);return Vs._forOperation(r,"link",n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wx(r,e,t=!1){const{auth:n}=r;if(Pn(n.app))return Promise.reject(Di(n));const a="reauthenticate";try{const o=await ec(r,HT(n,a,e,r),t);Ae(o.idToken,n,"internal-error");const u=ov(o.idToken);Ae(u,n,"internal-error");const{sub:f}=u;return Ae(r.uid===f,n,"user-mismatch"),Vs._forOperation(r,a,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&nr(n,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FT(r,e,t=!1){if(Pn(r.app))return Promise.reject(Di(r));const n="signIn",a=await HT(r,n,e),o=await Vs._fromIdTokenResponse(r,n,a);return t||await r._updateCurrentUser(o.user),o}async function bx(r,e){return FT(Ha(r),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zT(r){const e=Ha(r);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function Tx(r,e,t){if(Pn(r.app))return Promise.reject(Di(r));const n=Ha(r),u=await bg(n,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",_x).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&zT(r),p}),f=await Vs._fromIdTokenResponse(n,"signIn",u);return await n._updateCurrentUser(f.user),f}function Sx(r,e,t){return Pn(r.app)?Promise.reject(Di(r)):bx(tr(r),vl.credential(e,t)).catch(async n=>{throw n.code==="auth/password-does-not-meet-requirements"&&zT(r),n})}function Dx(r,e,t,n){return tr(r).onIdTokenChanged(e,t,n)}function Ax(r,e,t){return tr(r).beforeAuthStateChanged(e,t)}function Rx(r){return tr(r).signOut()}const Bh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YT{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Bh,"1"),this.storage.removeItem(Bh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cx=1e3,kx=10;class qT extends YT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=LT(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),a=this.localCache[t];n!==a&&e(t,a,n)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((u,f,p)=>{this.notifyListeners(u,p)});return}const n=e.key;t?this.detachListener():this.stopPolling();const a=()=>{const u=this.storage.getItem(n);!t&&this.localCache[n]===u||this.notifyListeners(n,u)},o=this.storage.getItem(n);QI()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,kx):a()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const a of Array.from(n))a(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)})},Cx)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}qT.type="LOCAL";const Ix=qT;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GT extends YT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}GT.type="SESSION";const QT=GT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xx(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gd{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(a=>a.isListeningto(e));if(t)return t;const n=new gd(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:a,data:o}=t.data,u=this.handlersMap[a];if(!(u!=null&&u.size))return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:a});const f=Array.from(u).map(async m=>m(t.origin,o)),p=await xx(f);t.ports[0].postMessage({status:"done",eventId:n,eventType:a,response:p})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}gd.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hv(r="",e=10){let t="";for(let n=0;n<e;n++)t+=Math.floor(Math.random()*10);return r+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mx{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,n=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let o,u;return new Promise((f,p)=>{const m=hv("",20);a.port1.start();const v=setTimeout(()=>{p(new Error("unsupported_event"))},n);u={messageChannel:a,onMessage(_){const b=_;if(b.data.eventId===m)switch(b.data.status){case"ack":clearTimeout(v),o=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),f(b.data.response);break;default:clearTimeout(v),clearTimeout(o),p(new Error("invalid_response"));break}}},this.handlers.add(u),a.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:m,data:t},[a.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Br(){return window}function Ox(r){Br().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KT(){return typeof Br().WorkerGlobalScope<"u"&&typeof Br().importScripts=="function"}async function Nx(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Px(){var r;return((r=navigator==null?void 0:navigator.serviceWorker)===null||r===void 0?void 0:r.controller)||null}function Lx(){return KT()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WT="firebaseLocalStorageDb",Vx=1,jh="firebaseLocalStorage",XT="fbase_key";class wc{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function vd(r,e){return r.transaction([jh],e?"readwrite":"readonly").objectStore(jh)}function Ux(){const r=indexedDB.deleteDatabase(WT);return new wc(r).toPromise()}function Tg(){const r=indexedDB.open(WT,Vx);return new Promise((e,t)=>{r.addEventListener("error",()=>{t(r.error)}),r.addEventListener("upgradeneeded",()=>{const n=r.result;try{n.createObjectStore(jh,{keyPath:XT})}catch(a){t(a)}}),r.addEventListener("success",async()=>{const n=r.result;n.objectStoreNames.contains(jh)?e(n):(n.close(),await Ux(),e(await Tg()))})})}async function tw(r,e,t){const n=vd(r,!0).put({[XT]:e,value:t});return new wc(n).toPromise()}async function Bx(r,e){const t=vd(r,!1).get(e),n=await new wc(t).toPromise();return n===void 0?null:n.value}function nw(r,e){const t=vd(r,!0).delete(e);return new wc(t).toPromise()}const jx=800,Hx=3;class $T{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Tg(),this.db)}async _withRetries(e){let t=0;for(;;)try{const n=await this._openDb();return await e(n)}catch(n){if(t++>Hx)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return KT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=gd._getInstance(Lx()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await Nx(),!this.activeServiceWorker)return;this.sender=new Mx(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&!((e=n[0])===null||e===void 0)&&e.fulfilled&&!((t=n[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||Px()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Tg();return await tw(e,Bh,"1"),await nw(e,Bh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(n=>tw(n,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(n=>Bx(n,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>nw(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const o=vd(a,!1).getAll();return new wc(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],n=new Set;if(e.length!==0)for(const{fbase_key:a,value:o}of e)n.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(o)&&(this.notifyListeners(a,o),t.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!n.has(a)&&(this.notifyListeners(a,null),t.push(a));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const a of Array.from(n))a(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),jx)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}$T.type="LOCAL";const Fx=$T;new yc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZT(r,e){return e?Ti(e):(Ae(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dv extends uv{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Wo(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Wo(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Wo(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function zx(r){return FT(r.auth,new dv(r),r.bypassAuthState)}function Yx(r){const{auth:e,user:t}=r;return Ae(t,e,"internal-error"),wx(t,new dv(r),r.bypassAuthState)}async function qx(r){const{auth:e,user:t}=r;return Ae(t,e,"internal-error"),Ex(t,new dv(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JT{constructor(e,t,n,a,o=!1){this.auth=e,this.resolver=n,this.user=a,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:a,tenantId:o,error:u,type:f}=e;if(u){this.reject(u);return}const p={auth:this.auth,requestUri:t,sessionId:n,tenantId:o||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(f)(p))}catch(m){this.reject(m)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return zx;case"linkViaPopup":case"linkViaRedirect":return qx;case"reauthViaPopup":case"reauthViaRedirect":return Yx;default:nr(this.auth,"internal-error")}}resolve(e){Ni(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ni(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gx=new yc(2e3,1e4);async function eS(r,e,t){if(Pn(r.app))return Promise.reject(hr(r,"operation-not-supported-in-this-environment"));const n=Ha(r);RI(r,e,fv);const a=ZT(n,t);return new Rs(n,"signInViaPopup",e,a).executeNotNull()}class Rs extends JT{constructor(e,t,n,a,o){super(e,t,a,o),this.provider=n,this.authWindow=null,this.pollId=null,Rs.currentPopupAction&&Rs.currentPopupAction.cancel(),Rs.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ae(e,this.auth,"internal-error"),e}async onExecution(){Ni(this.filter.length===1,"Popup operations only handle one event");const e=hv();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(hr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(hr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Rs.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,n;if(!((n=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||n===void 0)&&n.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(hr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Gx.get())};e()}}Rs.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qx="pendingRedirect",_h=new Map;class Kx extends JT{constructor(e,t,n=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,n),this.eventId=null}async execute(){let e=_h.get(this.auth._key());if(!e){try{const n=await Wx(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(n)}catch(t){e=()=>Promise.reject(t)}_h.set(this.auth._key(),e)}return this.bypassAuthState||_h.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Wx(r,e){const t=Zx(e),n=$x(r);if(!await n._isAvailable())return!1;const a=await n._get(t)==="true";return await n._remove(t),a}function Xx(r,e){_h.set(r._key(),e)}function $x(r){return Ti(r._redirectPersistence)}function Zx(r){return yh(Qx,r.config.apiKey,r.name)}async function Jx(r,e,t=!1){if(Pn(r.app))return Promise.reject(Di(r));const n=Ha(r),a=ZT(n,e),u=await new Kx(n,a,t).execute();return u&&!t&&(delete u.user._redirectEventId,await n._persistUserIfCurrent(u.user),await n._setRedirectUser(null,e)),u}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eM=10*60*1e3;class tM{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!nM(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var n;if(e.error&&!tS(e)){const a=((n=e.error.code)===null||n===void 0?void 0:n.split("auth/")[1])||"internal-error";t.onError(hr(this.auth,a))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=eM&&this.cachedEventUids.clear(),this.cachedEventUids.has(rw(e))}saveEventToCache(e){this.cachedEventUids.add(rw(e)),this.lastProcessedEventTime=Date.now()}}function rw(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function tS({type:r,error:e}){return r==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function nM(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return tS(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rM(r,e={}){return ja(r,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iM=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,aM=/^https?/;async function sM(r){if(r.config.emulator)return;const{authorizedDomains:e}=await rM(r);for(const t of e)try{if(oM(t))return}catch{}nr(r,"unauthorized-domain")}function oM(r){const e=Eg(),{protocol:t,hostname:n}=new URL(e);if(r.startsWith("chrome-extension://")){const u=new URL(r);return u.hostname===""&&n===""?t==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&u.hostname===n}if(!aM.test(t))return!1;if(iM.test(r))return n===r;const a=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(n)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lM=new yc(3e4,6e4);function iw(){const r=Br().___jsl;if(r!=null&&r.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let t=0;t<r.CP.length;t++)r.CP[t]=null}}function uM(r){return new Promise((e,t)=>{var n,a,o;function u(){iw(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{iw(),t(hr(r,"network-request-failed"))},timeout:lM.get()})}if(!((a=(n=Br().gapi)===null||n===void 0?void 0:n.iframes)===null||a===void 0)&&a.Iframe)e(gapi.iframes.getContext());else if(!((o=Br().gapi)===null||o===void 0)&&o.load)u();else{const f=nx("iframefcb");return Br()[f]=()=>{gapi.load?u():t(hr(r,"network-request-failed"))},UT(`${tx()}?onload=${f}`).catch(p=>t(p))}}).catch(e=>{throw Eh=null,e})}let Eh=null;function cM(r){return Eh=Eh||uM(r),Eh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fM=new yc(5e3,15e3),hM="__/auth/iframe",dM="emulator/auth/iframe",pM={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},mM=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function gM(r){const e=r.config;Ae(e.authDomain,r,"auth-domain-config-required");const t=e.emulator?sv(e,dM):`https://${r.config.authDomain}/${hM}`,n={apiKey:e.apiKey,appName:r.name,v:gl},a=mM.get(r.config.apiHost);a&&(n.eid=a);const o=r._getFrameworks();return o.length&&(n.fw=o.join(",")),`${t}?${vc(n).slice(1)}`}async function vM(r){const e=await cM(r),t=Br().gapi;return Ae(t,r,"internal-error"),e.open({where:document.body,url:gM(r),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:pM,dontclear:!0},n=>new Promise(async(a,o)=>{await n.restyle({setHideOnLeave:!1});const u=hr(r,"network-request-failed"),f=Br().setTimeout(()=>{o(u)},fM.get());function p(){Br().clearTimeout(f),a(n)}n.ping(p).then(p,()=>{o(u)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yM={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},_M=500,EM=600,wM="_blank",bM="http://localhost";class aw{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function TM(r,e,t,n=_M,a=EM){const o=Math.max((window.screen.availHeight-a)/2,0).toString(),u=Math.max((window.screen.availWidth-n)/2,0).toString();let f="";const p=Object.assign(Object.assign({},yM),{width:n.toString(),height:a.toString(),top:o,left:u}),m=pn().toLowerCase();t&&(f=xT(m)?wM:t),kT(m)&&(e=e||bM,p.scrollbars="yes");const v=Object.entries(p).reduce((b,[S,C])=>`${b}${S}=${C},`,"");if(GI(m)&&f!=="_self")return SM(e||"",f),new aw(null);const _=window.open(e||"",f,v);Ae(_,r,"popup-blocked");try{_.focus()}catch{}return new aw(_)}function SM(r,e){const t=document.createElement("a");t.href=r,t.target=e;const n=document.createEvent("MouseEvent");n.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(n)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DM="__/auth/handler",AM="emulator/auth/handler",RM=encodeURIComponent("fac");async function sw(r,e,t,n,a,o){Ae(r.config.authDomain,r,"auth-domain-config-required"),Ae(r.config.apiKey,r,"invalid-api-key");const u={apiKey:r.config.apiKey,appName:r.name,authType:t,redirectUrl:n,v:gl,eventId:a};if(e instanceof fv){e.setDefaultLanguage(r.languageCode),u.providerId=e.providerId||"",fk(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[v,_]of Object.entries({}))u[v]=_}if(e instanceof Ec){const v=e.getScopes().filter(_=>_!=="");v.length>0&&(u.scopes=v.join(","))}r.tenantId&&(u.tid=r.tenantId);const f=u;for(const v of Object.keys(f))f[v]===void 0&&delete f[v];const p=await r._getAppCheckToken(),m=p?`#${RM}=${encodeURIComponent(p)}`:"";return`${CM(r)}?${vc(f).slice(1)}${m}`}function CM({config:r}){return r.emulator?sv(r,AM):`https://${r.authDomain}/${DM}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jm="webStorageSupport";class kM{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=QT,this._completeRedirectFn=Jx,this._overrideRedirectResult=Xx}async _openPopup(e,t,n,a){var o;Ni((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const u=await sw(e,t,n,Eg(),a);return TM(e,u,hv())}async _openRedirect(e,t,n,a){await this._originValidation(e);const o=await sw(e,t,n,Eg(),a);return Ox(o),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:a,promise:o}=this.eventManagers[t];return a?Promise.resolve(a):(Ni(o,"If manager is not set, promise should be"),o)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch(()=>{delete this.eventManagers[t]}),n}async initAndGetManager(e){const t=await vM(e),n=new tM(e);return t.register("authEvent",a=>(Ae(a==null?void 0:a.authEvent,e,"invalid-auth-event"),{status:n.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Jm,{type:Jm},a=>{var o;const u=(o=a==null?void 0:a[0])===null||o===void 0?void 0:o[Jm];u!==void 0&&t(!!u),nr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=sM(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return LT()||IT()||lv()}}const IM=kM;var ow="@firebase/auth",lw="1.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xM{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(n=>{e((n==null?void 0:n.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Ae(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MM(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function OM(r){Jo(new Ps("auth",(e,{options:t})=>{const n=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:u,authDomain:f}=n.options;Ae(u&&!u.includes(":"),"invalid-api-key",{appName:n.name});const p={apiKey:u,authDomain:f,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:VT(r)},m=new ZI(n,a,o,p);return lx(m,t),m},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,n)=>{e.getProvider("auth-internal").initialize()})),Jo(new Ps("auth-internal",e=>{const t=Ha(e.getProvider("auth").getImmediate());return(n=>new xM(n))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Aa(ow,lw,MM(r)),Aa(ow,lw,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NM=5*60,PM=mT("authIdTokenMaxAge")||NM;let uw=null;const LM=r=>async e=>{const t=e&&await e.getIdTokenResult(),n=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(n&&n>PM)return;const a=t==null?void 0:t.token;uw!==a&&(uw=a,await fetch(r,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function VM(r=_T()){const e=nv(r,"auth");if(e.isInitialized())return e.getImmediate();const t=ox(r,{popupRedirectResolver:IM,persistence:[Fx,Ix,QT]}),n=mT("authTokenSyncURL");if(n&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(n,location.origin);if(location.origin===o.origin){const u=LM(o.toString());Ax(t,u,()=>u(t.currentUser)),Dx(t,f=>u(f))}}const a=dT("auth");return a&&ux(t,`http://${a}`),t}function UM(){var r,e;return(e=(r=document.getElementsByTagName("head"))===null||r===void 0?void 0:r[0])!==null&&e!==void 0?e:document}JI({loadJS(r){return new Promise((e,t)=>{const n=document.createElement("script");n.setAttribute("src",r),n.onload=e,n.onerror=a=>{const o=hr("internal-error");o.customData=a,t(o)},n.type="text/javascript",n.charset="UTF-8",UM().appendChild(n)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});OM("Browser");var cw=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ra,nS;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(x,D){function R(){}R.prototype=D.prototype,x.D=D.prototype,x.prototype=new R,x.prototype.constructor=x,x.C=function(M,P,U){for(var k=Array(arguments.length-2),Re=2;Re<arguments.length;Re++)k[Re-2]=arguments[Re];return D.prototype[P].apply(M,k)}}function t(){this.blockSize=-1}function n(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(n,t),n.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(x,D,R){R||(R=0);var M=Array(16);if(typeof D=="string")for(var P=0;16>P;++P)M[P]=D.charCodeAt(R++)|D.charCodeAt(R++)<<8|D.charCodeAt(R++)<<16|D.charCodeAt(R++)<<24;else for(P=0;16>P;++P)M[P]=D[R++]|D[R++]<<8|D[R++]<<16|D[R++]<<24;D=x.g[0],R=x.g[1],P=x.g[2];var U=x.g[3],k=D+(U^R&(P^U))+M[0]+3614090360&4294967295;D=R+(k<<7&4294967295|k>>>25),k=U+(P^D&(R^P))+M[1]+3905402710&4294967295,U=D+(k<<12&4294967295|k>>>20),k=P+(R^U&(D^R))+M[2]+606105819&4294967295,P=U+(k<<17&4294967295|k>>>15),k=R+(D^P&(U^D))+M[3]+3250441966&4294967295,R=P+(k<<22&4294967295|k>>>10),k=D+(U^R&(P^U))+M[4]+4118548399&4294967295,D=R+(k<<7&4294967295|k>>>25),k=U+(P^D&(R^P))+M[5]+1200080426&4294967295,U=D+(k<<12&4294967295|k>>>20),k=P+(R^U&(D^R))+M[6]+2821735955&4294967295,P=U+(k<<17&4294967295|k>>>15),k=R+(D^P&(U^D))+M[7]+4249261313&4294967295,R=P+(k<<22&4294967295|k>>>10),k=D+(U^R&(P^U))+M[8]+1770035416&4294967295,D=R+(k<<7&4294967295|k>>>25),k=U+(P^D&(R^P))+M[9]+2336552879&4294967295,U=D+(k<<12&4294967295|k>>>20),k=P+(R^U&(D^R))+M[10]+4294925233&4294967295,P=U+(k<<17&4294967295|k>>>15),k=R+(D^P&(U^D))+M[11]+2304563134&4294967295,R=P+(k<<22&4294967295|k>>>10),k=D+(U^R&(P^U))+M[12]+1804603682&4294967295,D=R+(k<<7&4294967295|k>>>25),k=U+(P^D&(R^P))+M[13]+4254626195&4294967295,U=D+(k<<12&4294967295|k>>>20),k=P+(R^U&(D^R))+M[14]+2792965006&4294967295,P=U+(k<<17&4294967295|k>>>15),k=R+(D^P&(U^D))+M[15]+1236535329&4294967295,R=P+(k<<22&4294967295|k>>>10),k=D+(P^U&(R^P))+M[1]+4129170786&4294967295,D=R+(k<<5&4294967295|k>>>27),k=U+(R^P&(D^R))+M[6]+3225465664&4294967295,U=D+(k<<9&4294967295|k>>>23),k=P+(D^R&(U^D))+M[11]+643717713&4294967295,P=U+(k<<14&4294967295|k>>>18),k=R+(U^D&(P^U))+M[0]+3921069994&4294967295,R=P+(k<<20&4294967295|k>>>12),k=D+(P^U&(R^P))+M[5]+3593408605&4294967295,D=R+(k<<5&4294967295|k>>>27),k=U+(R^P&(D^R))+M[10]+38016083&4294967295,U=D+(k<<9&4294967295|k>>>23),k=P+(D^R&(U^D))+M[15]+3634488961&4294967295,P=U+(k<<14&4294967295|k>>>18),k=R+(U^D&(P^U))+M[4]+3889429448&4294967295,R=P+(k<<20&4294967295|k>>>12),k=D+(P^U&(R^P))+M[9]+568446438&4294967295,D=R+(k<<5&4294967295|k>>>27),k=U+(R^P&(D^R))+M[14]+3275163606&4294967295,U=D+(k<<9&4294967295|k>>>23),k=P+(D^R&(U^D))+M[3]+4107603335&4294967295,P=U+(k<<14&4294967295|k>>>18),k=R+(U^D&(P^U))+M[8]+1163531501&4294967295,R=P+(k<<20&4294967295|k>>>12),k=D+(P^U&(R^P))+M[13]+2850285829&4294967295,D=R+(k<<5&4294967295|k>>>27),k=U+(R^P&(D^R))+M[2]+4243563512&4294967295,U=D+(k<<9&4294967295|k>>>23),k=P+(D^R&(U^D))+M[7]+1735328473&4294967295,P=U+(k<<14&4294967295|k>>>18),k=R+(U^D&(P^U))+M[12]+2368359562&4294967295,R=P+(k<<20&4294967295|k>>>12),k=D+(R^P^U)+M[5]+4294588738&4294967295,D=R+(k<<4&4294967295|k>>>28),k=U+(D^R^P)+M[8]+2272392833&4294967295,U=D+(k<<11&4294967295|k>>>21),k=P+(U^D^R)+M[11]+1839030562&4294967295,P=U+(k<<16&4294967295|k>>>16),k=R+(P^U^D)+M[14]+4259657740&4294967295,R=P+(k<<23&4294967295|k>>>9),k=D+(R^P^U)+M[1]+2763975236&4294967295,D=R+(k<<4&4294967295|k>>>28),k=U+(D^R^P)+M[4]+1272893353&4294967295,U=D+(k<<11&4294967295|k>>>21),k=P+(U^D^R)+M[7]+4139469664&4294967295,P=U+(k<<16&4294967295|k>>>16),k=R+(P^U^D)+M[10]+3200236656&4294967295,R=P+(k<<23&4294967295|k>>>9),k=D+(R^P^U)+M[13]+681279174&4294967295,D=R+(k<<4&4294967295|k>>>28),k=U+(D^R^P)+M[0]+3936430074&4294967295,U=D+(k<<11&4294967295|k>>>21),k=P+(U^D^R)+M[3]+3572445317&4294967295,P=U+(k<<16&4294967295|k>>>16),k=R+(P^U^D)+M[6]+76029189&4294967295,R=P+(k<<23&4294967295|k>>>9),k=D+(R^P^U)+M[9]+3654602809&4294967295,D=R+(k<<4&4294967295|k>>>28),k=U+(D^R^P)+M[12]+3873151461&4294967295,U=D+(k<<11&4294967295|k>>>21),k=P+(U^D^R)+M[15]+530742520&4294967295,P=U+(k<<16&4294967295|k>>>16),k=R+(P^U^D)+M[2]+3299628645&4294967295,R=P+(k<<23&4294967295|k>>>9),k=D+(P^(R|~U))+M[0]+4096336452&4294967295,D=R+(k<<6&4294967295|k>>>26),k=U+(R^(D|~P))+M[7]+1126891415&4294967295,U=D+(k<<10&4294967295|k>>>22),k=P+(D^(U|~R))+M[14]+2878612391&4294967295,P=U+(k<<15&4294967295|k>>>17),k=R+(U^(P|~D))+M[5]+4237533241&4294967295,R=P+(k<<21&4294967295|k>>>11),k=D+(P^(R|~U))+M[12]+1700485571&4294967295,D=R+(k<<6&4294967295|k>>>26),k=U+(R^(D|~P))+M[3]+2399980690&4294967295,U=D+(k<<10&4294967295|k>>>22),k=P+(D^(U|~R))+M[10]+4293915773&4294967295,P=U+(k<<15&4294967295|k>>>17),k=R+(U^(P|~D))+M[1]+2240044497&4294967295,R=P+(k<<21&4294967295|k>>>11),k=D+(P^(R|~U))+M[8]+1873313359&4294967295,D=R+(k<<6&4294967295|k>>>26),k=U+(R^(D|~P))+M[15]+4264355552&4294967295,U=D+(k<<10&4294967295|k>>>22),k=P+(D^(U|~R))+M[6]+2734768916&4294967295,P=U+(k<<15&4294967295|k>>>17),k=R+(U^(P|~D))+M[13]+1309151649&4294967295,R=P+(k<<21&4294967295|k>>>11),k=D+(P^(R|~U))+M[4]+4149444226&4294967295,D=R+(k<<6&4294967295|k>>>26),k=U+(R^(D|~P))+M[11]+3174756917&4294967295,U=D+(k<<10&4294967295|k>>>22),k=P+(D^(U|~R))+M[2]+718787259&4294967295,P=U+(k<<15&4294967295|k>>>17),k=R+(U^(P|~D))+M[9]+3951481745&4294967295,x.g[0]=x.g[0]+D&4294967295,x.g[1]=x.g[1]+(P+(k<<21&4294967295|k>>>11))&4294967295,x.g[2]=x.g[2]+P&4294967295,x.g[3]=x.g[3]+U&4294967295}n.prototype.u=function(x,D){D===void 0&&(D=x.length);for(var R=D-this.blockSize,M=this.B,P=this.h,U=0;U<D;){if(P==0)for(;U<=R;)a(this,x,U),U+=this.blockSize;if(typeof x=="string"){for(;U<D;)if(M[P++]=x.charCodeAt(U++),P==this.blockSize){a(this,M),P=0;break}}else for(;U<D;)if(M[P++]=x[U++],P==this.blockSize){a(this,M),P=0;break}}this.h=P,this.o+=D},n.prototype.v=function(){var x=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);x[0]=128;for(var D=1;D<x.length-8;++D)x[D]=0;var R=8*this.o;for(D=x.length-8;D<x.length;++D)x[D]=R&255,R/=256;for(this.u(x),x=Array(16),D=R=0;4>D;++D)for(var M=0;32>M;M+=8)x[R++]=this.g[D]>>>M&255;return x};function o(x,D){var R=f;return Object.prototype.hasOwnProperty.call(R,x)?R[x]:R[x]=D(x)}function u(x,D){this.h=D;for(var R=[],M=!0,P=x.length-1;0<=P;P--){var U=x[P]|0;M&&U==D||(R[P]=U,M=!1)}this.g=R}var f={};function p(x){return-128<=x&&128>x?o(x,function(D){return new u([D|0],0>D?-1:0)}):new u([x|0],0>x?-1:0)}function m(x){if(isNaN(x)||!isFinite(x))return _;if(0>x)return I(m(-x));for(var D=[],R=1,M=0;x>=R;M++)D[M]=x/R|0,R*=4294967296;return new u(D,0)}function v(x,D){if(x.length==0)throw Error("number format error: empty string");if(D=D||10,2>D||36<D)throw Error("radix out of range: "+D);if(x.charAt(0)=="-")return I(v(x.substring(1),D));if(0<=x.indexOf("-"))throw Error('number format error: interior "-" character');for(var R=m(Math.pow(D,8)),M=_,P=0;P<x.length;P+=8){var U=Math.min(8,x.length-P),k=parseInt(x.substring(P,P+U),D);8>U?(U=m(Math.pow(D,U)),M=M.j(U).add(m(k))):(M=M.j(R),M=M.add(m(k)))}return M}var _=p(0),b=p(1),S=p(16777216);r=u.prototype,r.m=function(){if(N(this))return-I(this).m();for(var x=0,D=1,R=0;R<this.g.length;R++){var M=this.i(R);x+=(0<=M?M:4294967296+M)*D,D*=4294967296}return x},r.toString=function(x){if(x=x||10,2>x||36<x)throw Error("radix out of range: "+x);if(C(this))return"0";if(N(this))return"-"+I(this).toString(x);for(var D=m(Math.pow(x,6)),R=this,M="";;){var P=re(R,D).g;R=j(R,P.j(D));var U=((0<R.g.length?R.g[0]:R.h)>>>0).toString(x);if(R=P,C(R))return U+M;for(;6>U.length;)U="0"+U;M=U+M}},r.i=function(x){return 0>x?0:x<this.g.length?this.g[x]:this.h};function C(x){if(x.h!=0)return!1;for(var D=0;D<x.g.length;D++)if(x.g[D]!=0)return!1;return!0}function N(x){return x.h==-1}r.l=function(x){return x=j(this,x),N(x)?-1:C(x)?0:1};function I(x){for(var D=x.g.length,R=[],M=0;M<D;M++)R[M]=~x.g[M];return new u(R,~x.h).add(b)}r.abs=function(){return N(this)?I(this):this},r.add=function(x){for(var D=Math.max(this.g.length,x.g.length),R=[],M=0,P=0;P<=D;P++){var U=M+(this.i(P)&65535)+(x.i(P)&65535),k=(U>>>16)+(this.i(P)>>>16)+(x.i(P)>>>16);M=k>>>16,U&=65535,k&=65535,R[P]=k<<16|U}return new u(R,R[R.length-1]&-2147483648?-1:0)};function j(x,D){return x.add(I(D))}r.j=function(x){if(C(this)||C(x))return _;if(N(this))return N(x)?I(this).j(I(x)):I(I(this).j(x));if(N(x))return I(this.j(I(x)));if(0>this.l(S)&&0>x.l(S))return m(this.m()*x.m());for(var D=this.g.length+x.g.length,R=[],M=0;M<2*D;M++)R[M]=0;for(M=0;M<this.g.length;M++)for(var P=0;P<x.g.length;P++){var U=this.i(M)>>>16,k=this.i(M)&65535,Re=x.i(P)>>>16,Ee=x.i(P)&65535;R[2*M+2*P]+=k*Ee,K(R,2*M+2*P),R[2*M+2*P+1]+=U*Ee,K(R,2*M+2*P+1),R[2*M+2*P+1]+=k*Re,K(R,2*M+2*P+1),R[2*M+2*P+2]+=U*Re,K(R,2*M+2*P+2)}for(M=0;M<D;M++)R[M]=R[2*M+1]<<16|R[2*M];for(M=D;M<2*D;M++)R[M]=0;return new u(R,0)};function K(x,D){for(;(x[D]&65535)!=x[D];)x[D+1]+=x[D]>>>16,x[D]&=65535,D++}function z(x,D){this.g=x,this.h=D}function re(x,D){if(C(D))throw Error("division by zero");if(C(x))return new z(_,_);if(N(x))return D=re(I(x),D),new z(I(D.g),I(D.h));if(N(D))return D=re(x,I(D)),new z(I(D.g),D.h);if(30<x.g.length){if(N(x)||N(D))throw Error("slowDivide_ only works with positive integers.");for(var R=b,M=D;0>=M.l(x);)R=ie(R),M=ie(M);var P=fe(R,1),U=fe(M,1);for(M=fe(M,2),R=fe(R,2);!C(M);){var k=U.add(M);0>=k.l(x)&&(P=P.add(R),U=k),M=fe(M,1),R=fe(R,1)}return D=j(x,P.j(D)),new z(P,D)}for(P=_;0<=x.l(D);){for(R=Math.max(1,Math.floor(x.m()/D.m())),M=Math.ceil(Math.log(R)/Math.LN2),M=48>=M?1:Math.pow(2,M-48),U=m(R),k=U.j(D);N(k)||0<k.l(x);)R-=M,U=m(R),k=U.j(D);C(U)&&(U=b),P=P.add(U),x=j(x,k)}return new z(P,x)}r.A=function(x){return re(this,x).h},r.and=function(x){for(var D=Math.max(this.g.length,x.g.length),R=[],M=0;M<D;M++)R[M]=this.i(M)&x.i(M);return new u(R,this.h&x.h)},r.or=function(x){for(var D=Math.max(this.g.length,x.g.length),R=[],M=0;M<D;M++)R[M]=this.i(M)|x.i(M);return new u(R,this.h|x.h)},r.xor=function(x){for(var D=Math.max(this.g.length,x.g.length),R=[],M=0;M<D;M++)R[M]=this.i(M)^x.i(M);return new u(R,this.h^x.h)};function ie(x){for(var D=x.g.length+1,R=[],M=0;M<D;M++)R[M]=x.i(M)<<1|x.i(M-1)>>>31;return new u(R,x.h)}function fe(x,D){var R=D>>5;D%=32;for(var M=x.g.length-R,P=[],U=0;U<M;U++)P[U]=0<D?x.i(U+R)>>>D|x.i(U+R+1)<<32-D:x.i(U+R);return new u(P,x.h)}n.prototype.digest=n.prototype.v,n.prototype.reset=n.prototype.s,n.prototype.update=n.prototype.u,nS=n,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.A,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=m,u.fromString=v,Ra=u}).apply(typeof cw<"u"?cw:typeof self<"u"?self:typeof window<"u"?window:{});var rh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var rS,Fu,iS,wh,Sg,aS,sS,oS;(function(){var r,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(h,y,E){return h==Array.prototype||h==Object.prototype||(h[y]=E.value),h};function t(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof rh=="object"&&rh];for(var y=0;y<h.length;++y){var E=h[y];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var n=t(this);function a(h,y){if(y)e:{var E=n;h=h.split(".");for(var A=0;A<h.length-1;A++){var q=h[A];if(!(q in E))break e;E=E[q]}h=h[h.length-1],A=E[h],y=y(A),y!=A&&y!=null&&e(E,h,{configurable:!0,writable:!0,value:y})}}function o(h,y){h instanceof String&&(h+="");var E=0,A=!1,q={next:function(){if(!A&&E<h.length){var $=E++;return{value:y($,h[$]),done:!1}}return A=!0,{done:!0,value:void 0}}};return q[Symbol.iterator]=function(){return q},q}a("Array.prototype.values",function(h){return h||function(){return o(this,function(y,E){return E})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},f=this||self;function p(h){var y=typeof h;return y=y!="object"?y:h?Array.isArray(h)?"array":y:"null",y=="array"||y=="object"&&typeof h.length=="number"}function m(h){var y=typeof h;return y=="object"&&h!=null||y=="function"}function v(h,y,E){return h.call.apply(h.bind,arguments)}function _(h,y,E){if(!h)throw Error();if(2<arguments.length){var A=Array.prototype.slice.call(arguments,2);return function(){var q=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(q,A),h.apply(y,q)}}return function(){return h.apply(y,arguments)}}function b(h,y,E){return b=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?v:_,b.apply(null,arguments)}function S(h,y){var E=Array.prototype.slice.call(arguments,1);return function(){var A=E.slice();return A.push.apply(A,arguments),h.apply(this,A)}}function C(h,y){function E(){}E.prototype=y.prototype,h.aa=y.prototype,h.prototype=new E,h.prototype.constructor=h,h.Qb=function(A,q,$){for(var ce=Array(arguments.length-2),ze=2;ze<arguments.length;ze++)ce[ze-2]=arguments[ze];return y.prototype[q].apply(A,ce)}}function N(h){const y=h.length;if(0<y){const E=Array(y);for(let A=0;A<y;A++)E[A]=h[A];return E}return[]}function I(h,y){for(let E=1;E<arguments.length;E++){const A=arguments[E];if(p(A)){const q=h.length||0,$=A.length||0;h.length=q+$;for(let ce=0;ce<$;ce++)h[q+ce]=A[ce]}else h.push(A)}}class j{constructor(y,E){this.i=y,this.j=E,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function K(h){return/^[\s\xa0]*$/.test(h)}function z(){var h=f.navigator;return h&&(h=h.userAgent)?h:""}function re(h){return re[" "](h),h}re[" "]=function(){};var ie=z().indexOf("Gecko")!=-1&&!(z().toLowerCase().indexOf("webkit")!=-1&&z().indexOf("Edge")==-1)&&!(z().indexOf("Trident")!=-1||z().indexOf("MSIE")!=-1)&&z().indexOf("Edge")==-1;function fe(h,y,E){for(const A in h)y.call(E,h[A],A,h)}function x(h,y){for(const E in h)y.call(void 0,h[E],E,h)}function D(h){const y={};for(const E in h)y[E]=h[E];return y}const R="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function M(h,y){let E,A;for(let q=1;q<arguments.length;q++){A=arguments[q];for(E in A)h[E]=A[E];for(let $=0;$<R.length;$++)E=R[$],Object.prototype.hasOwnProperty.call(A,E)&&(h[E]=A[E])}}function P(h){var y=1;h=h.split(":");const E=[];for(;0<y&&h.length;)E.push(h.shift()),y--;return h.length&&E.push(h.join(":")),E}function U(h){f.setTimeout(()=>{throw h},0)}function k(){var h=we;let y=null;return h.g&&(y=h.g,h.g=h.g.next,h.g||(h.h=null),y.next=null),y}class Re{constructor(){this.h=this.g=null}add(y,E){const A=Ee.get();A.set(y,E),this.h?this.h.next=A:this.g=A,this.h=A}}var Ee=new j(()=>new Y,h=>h.reset());class Y{constructor(){this.next=this.g=this.h=null}set(y,E){this.h=y,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let ne,le=!1,we=new Re,L=()=>{const h=f.Promise.resolve(void 0);ne=()=>{h.then(te)}};var te=()=>{for(var h;h=k();){try{h.h.call(h.g)}catch(E){U(E)}var y=Ee;y.j(h),100>y.h&&(y.h++,h.next=y.g,y.g=h)}le=!1};function he(){this.s=this.s,this.C=this.C}he.prototype.s=!1,he.prototype.ma=function(){this.s||(this.s=!0,this.N())},he.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ue(h,y){this.type=h,this.g=this.target=y,this.defaultPrevented=!1}ue.prototype.h=function(){this.defaultPrevented=!0};var _e=function(){if(!f.addEventListener||!Object.defineProperty)return!1;var h=!1,y=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const E=()=>{};f.addEventListener("test",E,y),f.removeEventListener("test",E,y)}catch{}return h}();function Ve(h,y){if(ue.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h){var E=this.type=h.type,A=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;if(this.target=h.target||h.srcElement,this.g=y,y=h.relatedTarget){if(ie){e:{try{re(y.nodeName);var q=!0;break e}catch{}q=!1}q||(y=null)}}else E=="mouseover"?y=h.fromElement:E=="mouseout"&&(y=h.toElement);this.relatedTarget=y,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=typeof h.pointerType=="string"?h.pointerType:Ie[h.pointerType]||"",this.state=h.state,this.i=h,h.defaultPrevented&&Ve.aa.h.call(this)}}C(Ve,ue);var Ie={2:"touch",3:"pen",4:"mouse"};Ve.prototype.h=function(){Ve.aa.h.call(this);var h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var Yt="closure_listenable_"+(1e6*Math.random()|0),ft=0;function mr(h,y,E,A,q){this.listener=h,this.proxy=null,this.src=y,this.type=E,this.capture=!!A,this.ha=q,this.key=++ft,this.da=this.fa=!1}function Hi(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function Xr(h){this.src=h,this.g={},this.h=0}Xr.prototype.add=function(h,y,E,A,q){var $=h.toString();h=this.g[$],h||(h=this.g[$]=[],this.h++);var ce=za(h,y,A,q);return-1<ce?(y=h[ce],E||(y.fa=!1)):(y=new mr(y,this.src,$,!!A,q),y.fa=E,h.push(y)),y};function Fa(h,y){var E=y.type;if(E in h.g){var A=h.g[E],q=Array.prototype.indexOf.call(A,y,void 0),$;($=0<=q)&&Array.prototype.splice.call(A,q,1),$&&(Hi(y),h.g[E].length==0&&(delete h.g[E],h.h--))}}function za(h,y,E,A){for(var q=0;q<h.length;++q){var $=h[q];if(!$.da&&$.listener==y&&$.capture==!!E&&$.ha==A)return q}return-1}var Ya="closure_lm_"+(1e6*Math.random()|0),Sl={};function Ic(h,y,E,A,q){if(Array.isArray(y)){for(var $=0;$<y.length;$++)Ic(h,y[$],E,A,q);return null}return E=xc(E),h&&h[Yt]?h.K(y,E,m(A)?!!A.capture:!1,q):Vn(h,y,E,!1,A,q)}function Vn(h,y,E,A,q,$){if(!y)throw Error("Invalid event type");var ce=m(q)?!!q.capture:!!q,ze=Ws(h);if(ze||(h[Ya]=ze=new Xr(h)),E=ze.add(y,E,A,ce,$),E.proxy)return E;if(A=Bd(),E.proxy=A,A.src=h,A.listener=E,h.addEventListener)_e||(q=ce),q===void 0&&(q=!1),h.addEventListener(y.toString(),A,q);else if(h.attachEvent)h.attachEvent(qa(y.toString()),A);else if(h.addListener&&h.removeListener)h.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return E}function Bd(){function h(E){return y.call(h.src,h.listener,E)}const y=jd;return h}function Dl(h,y,E,A,q){if(Array.isArray(y))for(var $=0;$<y.length;$++)Dl(h,y[$],E,A,q);else A=m(A)?!!A.capture:!!A,E=xc(E),h&&h[Yt]?(h=h.i,y=String(y).toString(),y in h.g&&($=h.g[y],E=za($,E,A,q),-1<E&&(Hi($[E]),Array.prototype.splice.call($,E,1),$.length==0&&(delete h.g[y],h.h--)))):h&&(h=Ws(h))&&(y=h.g[y.toString()],h=-1,y&&(h=za(y,E,A,q)),(E=-1<h?y[h]:null)&&Ks(E))}function Ks(h){if(typeof h!="number"&&h&&!h.da){var y=h.src;if(y&&y[Yt])Fa(y.i,h);else{var E=h.type,A=h.proxy;y.removeEventListener?y.removeEventListener(E,A,h.capture):y.detachEvent?y.detachEvent(qa(E),A):y.addListener&&y.removeListener&&y.removeListener(A),(E=Ws(y))?(Fa(E,h),E.h==0&&(E.src=null,y[Ya]=null)):Hi(h)}}}function qa(h){return h in Sl?Sl[h]:Sl[h]="on"+h}function jd(h,y){if(h.da)h=!0;else{y=new Ve(y,this);var E=h.listener,A=h.ha||h.src;h.fa&&Ks(h),h=E.call(A,y)}return h}function Ws(h){return h=h[Ya],h instanceof Xr?h:null}var Al="__closure_events_fn_"+(1e9*Math.random()>>>0);function xc(h){return typeof h=="function"?h:(h[Al]||(h[Al]=function(y){return h.handleEvent(y)}),h[Al])}function Et(){he.call(this),this.i=new Xr(this),this.M=this,this.F=null}C(Et,he),Et.prototype[Yt]=!0,Et.prototype.removeEventListener=function(h,y,E,A){Dl(this,h,y,E,A)};function tt(h,y){var E,A=h.F;if(A)for(E=[];A;A=A.F)E.push(A);if(h=h.M,A=y.type||y,typeof y=="string")y=new ue(y,h);else if(y instanceof ue)y.target=y.target||h;else{var q=y;y=new ue(A,h),M(y,q)}if(q=!0,E)for(var $=E.length-1;0<=$;$--){var ce=y.g=E[$];q=An(ce,A,!0,y)&&q}if(ce=y.g=h,q=An(ce,A,!0,y)&&q,q=An(ce,A,!1,y)&&q,E)for($=0;$<E.length;$++)ce=y.g=E[$],q=An(ce,A,!1,y)&&q}Et.prototype.N=function(){if(Et.aa.N.call(this),this.i){var h=this.i,y;for(y in h.g){for(var E=h.g[y],A=0;A<E.length;A++)Hi(E[A]);delete h.g[y],h.h--}}this.F=null},Et.prototype.K=function(h,y,E,A){return this.i.add(String(h),y,!1,E,A)},Et.prototype.L=function(h,y,E,A){return this.i.add(String(h),y,!0,E,A)};function An(h,y,E,A){if(y=h.i.g[String(y)],!y)return!0;y=y.concat();for(var q=!0,$=0;$<y.length;++$){var ce=y[$];if(ce&&!ce.da&&ce.capture==E){var ze=ce.listener,Vt=ce.ha||ce.src;ce.fa&&Fa(h.i,ce),q=ze.call(Vt,A)!==!1&&q}}return q&&!A.defaultPrevented}function ln(h,y,E){if(typeof h=="function")E&&(h=b(h,E));else if(h&&typeof h.handleEvent=="function")h=b(h.handleEvent,h);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:f.setTimeout(h,y||0)}function Mc(h){h.g=ln(()=>{h.g=null,h.i&&(h.i=!1,Mc(h))},h.l);const y=h.h;h.h=null,h.m.apply(null,y)}class Hd extends he{constructor(y,E){super(),this.m=y,this.l=E,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:Mc(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ga(h){he.call(this),this.h=h,this.g={}}C(Ga,he);var Qa=[];function Ka(h){fe(h.g,function(y,E){this.g.hasOwnProperty(E)&&Ks(y)},h),h.g={}}Ga.prototype.N=function(){Ga.aa.N.call(this),Ka(this)},Ga.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ir=f.JSON.stringify,Xs=f.JSON.parse,Wa=class{stringify(h){return f.JSON.stringify(h,void 0)}parse(h){return f.JSON.parse(h,void 0)}};function Rl(){}Rl.prototype.h=null;function Cl(h){return h.h||(h.h=h.i())}function kl(){}var $r={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Zr(){ue.call(this,"d")}C(Zr,ue);function Il(){ue.call(this,"c")}C(Il,ue);var gr={},xl=null;function Fi(){return xl=xl||new Et}gr.La="serverreachability";function $s(h){ue.call(this,gr.La,h)}C($s,ue);function zi(h){const y=Fi();tt(y,new $s(y))}gr.STAT_EVENT="statevent";function Oc(h,y){ue.call(this,gr.STAT_EVENT,h),this.stat=y}C(Oc,ue);function dt(h){const y=Fi();tt(y,new Oc(y,h))}gr.Ma="timingevent";function Lt(h,y){ue.call(this,gr.Ma,h),this.size=y}C(Lt,ue);function xt(h,y){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){h()},y)}function Un(){this.g=!0}Un.prototype.xa=function(){this.g=!1};function Ml(h,y,E,A,q,$){h.info(function(){if(h.g)if($)for(var ce="",ze=$.split("&"),Vt=0;Vt<ze.length;Vt++){var Ye=ze[Vt].split("=");if(1<Ye.length){var Gt=Ye[0];Ye=Ye[1];var Ut=Gt.split("_");ce=2<=Ut.length&&Ut[1]=="type"?ce+(Gt+"="+Ye+"&"):ce+(Gt+"=redacted&")}}else ce=null;else ce=$;return"XMLHTTP REQ ("+A+") [attempt "+q+"]: "+y+`
`+E+`
`+ce})}function Fd(h,y,E,A,q,$,ce){h.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+q+"]: "+y+`
`+E+`
`+$+" "+ce})}function Yi(h,y,E,A){h.info(function(){return"XMLHTTP TEXT ("+y+"): "+Xa(h,E)+(A?" "+A:"")})}function Nc(h,y){h.info(function(){return"TIMEOUT: "+y})}Un.prototype.info=function(){};function Xa(h,y){if(!h.g)return y;if(!y)return null;try{var E=JSON.parse(y);if(E){for(h=0;h<E.length;h++)if(Array.isArray(E[h])){var A=E[h];if(!(2>A.length)){var q=A[1];if(Array.isArray(q)&&!(1>q.length)){var $=q[0];if($!="noop"&&$!="stop"&&$!="close")for(var ce=1;ce<q.length;ce++)q[ce]=""}}}}return ir(E)}catch{return y}}var qi={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Jr={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},vr;function yr(){}C(yr,Rl),yr.prototype.g=function(){return new XMLHttpRequest},yr.prototype.i=function(){return{}},vr=new yr;function mn(h,y,E,A){this.j=h,this.i=y,this.l=E,this.R=A||1,this.U=new Ga(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Dt}function Dt(){this.i=null,this.g="",this.h=!1}var Ol={},Zs={};function ar(h,y,E){h.L=1,h.v=ts(Rn(y)),h.m=E,h.P=!0,ei(h,null)}function ei(h,y){h.F=Date.now(),$a(h),h.A=Rn(h.v);var E=h.A,A=h.R;Array.isArray(A)||(A=[String(A)]),Bl(E.i,"t",A),h.C=0,E=h.j.J,h.h=new Dt,h.g=Xc(h.j,E?y:null,!h.m),0<h.O&&(h.M=new Hd(b(h.Y,h,h.g),h.O)),y=h.U,E=h.g,A=h.ca;var q="readystatechange";Array.isArray(q)||(q&&(Qa[0]=q.toString()),q=Qa);for(var $=0;$<q.length;$++){var ce=Ic(E,q[$],A||y.handleEvent,!1,y.h||y);if(!ce)break;y.g[ce.key]=ce}y=h.H?D(h.H):{},h.m?(h.u||(h.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.A,h.u,h.m,y)):(h.u="GET",h.g.ea(h.A,h.u,null,y)),zi(),Ml(h.i,h.u,h.A,h.l,h.R,h.m)}mn.prototype.ca=function(h){h=h.target;const y=this.M;y&&Fn(h)==3?y.j():this.Y(h)},mn.prototype.Y=function(h){try{if(h==this.g)e:{const Ut=Fn(this.g);var y=this.g.Ba();const li=this.g.Z();if(!(3>Ut)&&(Ut!=3||this.g&&(this.h.h||this.g.oa()||Fc(this.g)))){this.J||Ut!=4||y==7||(y==8||0>=li?zi(3):zi(2)),Gi(this);var E=this.g.Z();this.X=E;t:if(Pc(this)){var A=Fc(this.g);h="";var q=A.length,$=Fn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Zt(this),_r(this);var ce="";break t}this.h.i=new f.TextDecoder}for(y=0;y<q;y++)this.h.h=!0,h+=this.h.i.decode(A[y],{stream:!($&&y==q-1)});A.length=0,this.h.g+=h,this.C=0,ce=this.h.g}else ce=this.g.oa();if(this.o=E==200,Fd(this.i,this.u,this.A,this.l,this.R,Ut,E),this.o){if(this.T&&!this.K){t:{if(this.g){var ze,Vt=this.g;if((ze=Vt.g?Vt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!K(ze)){var Ye=ze;break t}}Ye=null}if(E=Ye)Yi(this.i,this.l,E,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Za(this,E);else{this.o=!1,this.s=3,dt(12),Zt(this),_r(this);break e}}if(this.P){E=!0;let Jt;for(;!this.J&&this.C<ce.length;)if(Jt=Lc(this,ce),Jt==Zs){Ut==4&&(this.s=4,dt(14),E=!1),Yi(this.i,this.l,null,"[Incomplete Response]");break}else if(Jt==Ol){this.s=4,dt(15),Yi(this.i,this.l,ce,"[Invalid Chunk]"),E=!1;break}else Yi(this.i,this.l,Jt,null),Za(this,Jt);if(Pc(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ut!=4||ce.length!=0||this.h.h||(this.s=1,dt(16),E=!1),this.o=this.o&&E,!E)Yi(this.i,this.l,ce,"[Invalid Chunked Response]"),Zt(this),_r(this);else if(0<ce.length&&!this.W){this.W=!0;var Gt=this.j;Gt.g==this&&Gt.ba&&!Gt.M&&(Gt.j.info("Great, no buffering proxy detected. Bytes received: "+ce.length),us(Gt),Gt.M=!0,dt(11))}}else Yi(this.i,this.l,ce,null),Za(this,ce);Ut==4&&Zt(this),this.o&&!this.J&&(Ut==4?Qc(this.j,this):(this.o=!1,$a(this)))}else Qd(this.g),E==400&&0<ce.indexOf("Unknown SID")?(this.s=3,dt(12)):(this.s=0,dt(13)),Zt(this),_r(this)}}}catch{}finally{}};function Pc(h){return h.g?h.u=="GET"&&h.L!=2&&h.j.Ca:!1}function Lc(h,y){var E=h.C,A=y.indexOf(`
`,E);return A==-1?Zs:(E=Number(y.substring(E,A)),isNaN(E)?Ol:(A+=1,A+E>y.length?Zs:(y=y.slice(A,A+E),h.C=A+E,y)))}mn.prototype.cancel=function(){this.J=!0,Zt(this)};function $a(h){h.S=Date.now()+h.I,Vc(h,h.I)}function Vc(h,y){if(h.B!=null)throw Error("WatchDog timer not null");h.B=xt(b(h.ba,h),y)}function Gi(h){h.B&&(f.clearTimeout(h.B),h.B=null)}mn.prototype.ba=function(){this.B=null;const h=Date.now();0<=h-this.S?(Nc(this.i,this.A),this.L!=2&&(zi(),dt(17)),Zt(this),this.s=2,_r(this)):Vc(this,this.S-h)};function _r(h){h.j.G==0||h.J||Qc(h.j,h)}function Zt(h){Gi(h);var y=h.M;y&&typeof y.ma=="function"&&y.ma(),h.M=null,Ka(h.U),h.g&&(y=h.g,h.g=null,y.abort(),y.ma())}function Za(h,y){try{var E=h.j;if(E.G!=0&&(E.g==h||Nl(E.h,h))){if(!h.K&&Nl(E.h,h)&&E.G==3){try{var A=E.Da.g.parse(y)}catch{A=null}if(Array.isArray(A)&&A.length==3){var q=A;if(q[0]==0){e:if(!E.u){if(E.g)if(E.g.F+3e3<h.F)co(E),lo(E);else break e;Yl(E),dt(18)}}else E.za=q[1],0<E.za-E.T&&37500>q[2]&&E.F&&E.v==0&&!E.C&&(E.C=xt(b(E.Za,E),6e3));if(1>=eo(E.h)&&E.ca){try{E.ca()}catch{}E.ca=void 0}}else oi(E,11)}else if((h.K||E.g==h)&&co(E),!K(y))for(q=E.Da.g.parse(y),y=0;y<q.length;y++){let Ye=q[y];if(E.T=Ye[0],Ye=Ye[1],E.G==2)if(Ye[0]=="c"){E.K=Ye[1],E.ia=Ye[2];const Gt=Ye[3];Gt!=null&&(E.la=Gt,E.j.info("VER="+E.la));const Ut=Ye[4];Ut!=null&&(E.Aa=Ut,E.j.info("SVER="+E.Aa));const li=Ye[5];li!=null&&typeof li=="number"&&0<li&&(A=1.5*li,E.L=A,E.j.info("backChannelRequestTimeoutMs_="+A)),A=E;const Jt=h.g;if(Jt){const Ar=Jt.g?Jt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ar){var $=A.h;$.g||Ar.indexOf("spdy")==-1&&Ar.indexOf("quic")==-1&&Ar.indexOf("h2")==-1||($.j=$.l,$.g=new Set,$.h&&(to($,$.h),$.h=null))}if(A.D){const Gl=Jt.g?Jt.g.getResponseHeader("X-HTTP-Session-Id"):null;Gl&&(A.ya=Gl,st(A.I,A.D,Gl))}}E.G=3,E.l&&E.l.ua(),E.ba&&(E.R=Date.now()-h.F,E.j.info("Handshake RTT: "+E.R+"ms")),A=E;var ce=h;if(A.qa=Wc(A,A.J?A.ia:null,A.W),ce.K){gn(A.h,ce);var ze=ce,Vt=A.L;Vt&&(ze.I=Vt),ze.B&&(Gi(ze),$a(ze)),A.g=ce}else qc(A);0<E.i.length&&uo(E)}else Ye[0]!="stop"&&Ye[0]!="close"||oi(E,7);else E.G==3&&(Ye[0]=="stop"||Ye[0]=="close"?Ye[0]=="stop"?oi(E,7):Fl(E):Ye[0]!="noop"&&E.l&&E.l.ta(Ye),E.v=0)}}zi(4)}catch{}}var Uc=class{constructor(h,y){this.g=h,this.map=y}};function ti(h){this.l=h||10,f.PerformanceNavigationTiming?(h=f.performance.getEntriesByType("navigation"),h=0<h.length&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Js(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function eo(h){return h.h?1:h.g?h.g.size:0}function Nl(h,y){return h.h?h.h==y:h.g?h.g.has(y):!1}function to(h,y){h.g?h.g.add(y):h.h=y}function gn(h,y){h.h&&h.h==y?h.h=null:h.g&&h.g.has(y)&&h.g.delete(y)}ti.prototype.cancel=function(){if(this.i=Pl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function Pl(h){if(h.h!=null)return h.i.concat(h.h.D);if(h.g!=null&&h.g.size!==0){let y=h.i;for(const E of h.g.values())y=y.concat(E.D);return y}return N(h.i)}function zd(h){if(h.V&&typeof h.V=="function")return h.V();if(typeof Map<"u"&&h instanceof Map||typeof Set<"u"&&h instanceof Set)return Array.from(h.values());if(typeof h=="string")return h.split("");if(p(h)){for(var y=[],E=h.length,A=0;A<E;A++)y.push(h[A]);return y}y=[],E=0;for(A in h)y[E++]=h[A];return y}function no(h){if(h.na&&typeof h.na=="function")return h.na();if(!h.V||typeof h.V!="function"){if(typeof Map<"u"&&h instanceof Map)return Array.from(h.keys());if(!(typeof Set<"u"&&h instanceof Set)){if(p(h)||typeof h=="string"){var y=[];h=h.length;for(var E=0;E<h;E++)y.push(E);return y}y=[],E=0;for(const A in h)y[E++]=A;return y}}}function Ll(h,y){if(h.forEach&&typeof h.forEach=="function")h.forEach(y,void 0);else if(p(h)||typeof h=="string")Array.prototype.forEach.call(h,y,void 0);else for(var E=no(h),A=zd(h),q=A.length,$=0;$<q;$++)y.call(void 0,A[$],E&&E[$],h)}var Ja=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Yd(h,y){if(h){h=h.split("&");for(var E=0;E<h.length;E++){var A=h[E].indexOf("="),q=null;if(0<=A){var $=h[E].substring(0,A);q=h[E].substring(A+1)}else $=h[E];y($,q?decodeURIComponent(q.replace(/\+/g," ")):"")}}}function Mt(h){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,h instanceof Mt){this.h=h.h,es(this,h.j),this.o=h.o,this.g=h.g,Qi(this,h.s),this.l=h.l;var y=h.i,E=new ri;E.i=y.i,y.g&&(E.g=new Map(y.g),E.h=y.h),ni(this,E),this.m=h.m}else h&&(y=String(h).match(Ja))?(this.h=!1,es(this,y[1]||"",!0),this.o=Bn(y[2]||""),this.g=Bn(y[3]||"",!0),Qi(this,y[4]),this.l=Bn(y[5]||"",!0),ni(this,y[6]||"",!0),this.m=Bn(y[7]||"")):(this.h=!1,this.i=new ri(null,this.h))}Mt.prototype.toString=function(){var h=[],y=this.j;y&&h.push(ns(y,Vl,!0),":");var E=this.g;return(E||y=="file")&&(h.push("//"),(y=this.o)&&h.push(ns(y,Vl,!0),"@"),h.push(encodeURIComponent(String(E)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.s,E!=null&&h.push(":",String(E))),(E=this.l)&&(this.g&&E.charAt(0)!="/"&&h.push("/"),h.push(ns(E,E.charAt(0)=="/"?qd:Ul,!0))),(E=this.i.toString())&&h.push("?",E),(E=this.m)&&h.push("#",ns(E,ro)),h.join("")};function Rn(h){return new Mt(h)}function es(h,y,E){h.j=E?Bn(y,!0):y,h.j&&(h.j=h.j.replace(/:$/,""))}function Qi(h,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);h.s=y}else h.s=null}function ni(h,y,E){y instanceof ri?(h.i=y,jc(h.i,h.h)):(E||(y=ns(y,Gd)),h.i=new ri(y,h.h))}function st(h,y,E){h.i.set(y,E)}function ts(h){return st(h,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),h}function Bn(h,y){return h?y?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function ns(h,y,E){return typeof h=="string"?(h=encodeURI(h).replace(y,Bc),E&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function Bc(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var Vl=/[#\/\?@]/g,Ul=/[#\?:]/g,qd=/[#\?]/g,Gd=/[#\?@]/g,ro=/#/g;function ri(h,y){this.h=this.g=null,this.i=h||null,this.j=!!y}function jn(h){h.g||(h.g=new Map,h.h=0,h.i&&Yd(h.i,function(y,E){h.add(decodeURIComponent(y.replace(/\+/g," ")),E)}))}r=ri.prototype,r.add=function(h,y){jn(this),this.i=null,h=Er(this,h);var E=this.g.get(h);return E||this.g.set(h,E=[]),E.push(y),this.h+=1,this};function ii(h,y){jn(h),y=Er(h,y),h.g.has(y)&&(h.i=null,h.h-=h.g.get(y).length,h.g.delete(y))}function ai(h,y){return jn(h),y=Er(h,y),h.g.has(y)}r.forEach=function(h,y){jn(this),this.g.forEach(function(E,A){E.forEach(function(q){h.call(y,q,A,this)},this)},this)},r.na=function(){jn(this);const h=Array.from(this.g.values()),y=Array.from(this.g.keys()),E=[];for(let A=0;A<y.length;A++){const q=h[A];for(let $=0;$<q.length;$++)E.push(y[A])}return E},r.V=function(h){jn(this);let y=[];if(typeof h=="string")ai(this,h)&&(y=y.concat(this.g.get(Er(this,h))));else{h=Array.from(this.g.values());for(let E=0;E<h.length;E++)y=y.concat(h[E])}return y},r.set=function(h,y){return jn(this),this.i=null,h=Er(this,h),ai(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[y]),this.h+=1,this},r.get=function(h,y){return h?(h=this.V(h),0<h.length?String(h[0]):y):y};function Bl(h,y,E){ii(h,y),0<E.length&&(h.i=null,h.g.set(Er(h,y),N(E)),h.h+=E.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],y=Array.from(this.g.keys());for(var E=0;E<y.length;E++){var A=y[E];const $=encodeURIComponent(String(A)),ce=this.V(A);for(A=0;A<ce.length;A++){var q=$;ce[A]!==""&&(q+="="+encodeURIComponent(String(ce[A]))),h.push(q)}}return this.i=h.join("&")};function Er(h,y){return y=String(y),h.j&&(y=y.toLowerCase()),y}function jc(h,y){y&&!h.j&&(jn(h),h.i=null,h.g.forEach(function(E,A){var q=A.toLowerCase();A!=q&&(ii(this,A),Bl(this,q,E))},h)),h.j=y}function rs(h,y){const E=new Un;if(f.Image){const A=new Image;A.onload=S(Hn,E,"TestLoadImage: loaded",!0,y,A),A.onerror=S(Hn,E,"TestLoadImage: error",!1,y,A),A.onabort=S(Hn,E,"TestLoadImage: abort",!1,y,A),A.ontimeout=S(Hn,E,"TestLoadImage: timeout",!1,y,A),f.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=h}else y(!1)}function sr(h,y){const E=new Un,A=new AbortController,q=setTimeout(()=>{A.abort(),Hn(E,"TestPingServer: timeout",!1,y)},1e4);fetch(h,{signal:A.signal}).then($=>{clearTimeout(q),$.ok?Hn(E,"TestPingServer: ok",!0,y):Hn(E,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(q),Hn(E,"TestPingServer: error",!1,y)})}function Hn(h,y,E,A,q){try{q&&(q.onload=null,q.onerror=null,q.onabort=null,q.ontimeout=null),A(E)}catch{}}function is(){this.g=new Wa}function wr(h,y,E){const A=E||"";try{Ll(h,function(q,$){let ce=q;m(q)&&(ce=ir(q)),y.push(A+$+"="+encodeURIComponent(ce))})}catch(q){throw y.push(A+"type="+encodeURIComponent("_badmap")),q}}function Ki(h){this.l=h.Ub||null,this.j=h.eb||!1}C(Ki,Rl),Ki.prototype.g=function(){return new si(this.l,this.j)},Ki.prototype.i=function(h){return function(){return h}}({});function si(h,y){Et.call(this),this.D=h,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}C(si,Et),r=si.prototype,r.open=function(h,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=h,this.A=y,this.readyState=1,Tr(this)},r.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};h&&(y.body=h),(this.D||f).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,br(this)),this.readyState=0},r.Sa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,Tr(this)),this.g&&(this.readyState=3,Tr(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;jl(this)}else h.text().then(this.Ra.bind(this),this.ga.bind(this))};function jl(h){h.j.read().then(h.Pa.bind(h)).catch(h.ga.bind(h))}r.Pa=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var y=h.value?h.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!h.done}))&&(this.response=this.responseText+=y)}h.done?br(this):Tr(this),this.readyState==3&&jl(this)}},r.Ra=function(h){this.g&&(this.response=this.responseText=h,br(this))},r.Qa=function(h){this.g&&(this.response=h,br(this))},r.ga=function(){this.g&&br(this)};function br(h){h.readyState=4,h.l=null,h.j=null,h.v=null,Tr(h)}r.setRequestHeader=function(h,y){this.u.append(h,y)},r.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],y=this.h.entries();for(var E=y.next();!E.done;)E=E.value,h.push(E[0]+": "+E[1]),E=y.next();return h.join(`\r
`)};function Tr(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(si.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function Hl(h){let y="";return fe(h,function(E,A){y+=A,y+=":",y+=E,y+=`\r
`}),y}function qt(h,y,E){e:{for(A in E){var A=!1;break e}A=!0}A||(E=Hl(E),typeof h=="string"?E!=null&&encodeURIComponent(String(E)):st(h,y,E))}function Ze(h){Et.call(this),this.headers=new Map,this.o=h||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}C(Ze,Et);var io=/^https?$/i,as=["POST","PUT"];r=Ze.prototype,r.Ha=function(h){this.J=h},r.ea=function(h,y,E,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);y=y?y.toUpperCase():"GET",this.D=h,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():vr.g(),this.v=this.o?Cl(this.o):Cl(vr),this.g.onreadystatechange=b(this.Ea,this);try{this.B=!0,this.g.open(y,String(h),!0),this.B=!1}catch($){Hc(this,$);return}if(h=E||"",E=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var q in A)E.set(q,A[q]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const $ of A.keys())E.set($,A.get($));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(E.keys()).find($=>$.toLowerCase()=="content-type"),q=f.FormData&&h instanceof f.FormData,!(0<=Array.prototype.indexOf.call(as,y,void 0))||A||q||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[$,ce]of E)this.g.setRequestHeader($,ce);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{ss(this),this.u=!0,this.g.send(h),this.u=!1}catch($){Hc(this,$)}};function Hc(h,y){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=y,h.m=5,ao(h),Sr(h)}function ao(h){h.A||(h.A=!0,tt(h,"complete"),tt(h,"error"))}r.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=h||7,tt(this,"complete"),tt(this,"abort"),Sr(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Sr(this,!0)),Ze.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?so(this):this.bb())},r.bb=function(){so(this)};function so(h){if(h.h&&typeof u<"u"&&(!h.v[1]||Fn(h)!=4||h.Z()!=2)){if(h.u&&Fn(h)==4)ln(h.Ea,0,h);else if(tt(h,"readystatechange"),Fn(h)==4){h.h=!1;try{const ce=h.Z();e:switch(ce){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var E;if(!(E=y)){var A;if(A=ce===0){var q=String(h.D).match(Ja)[1]||null;!q&&f.self&&f.self.location&&(q=f.self.location.protocol.slice(0,-1)),A=!io.test(q?q.toLowerCase():"")}E=A}if(E)tt(h,"complete"),tt(h,"success");else{h.m=6;try{var $=2<Fn(h)?h.g.statusText:""}catch{$=""}h.l=$+" ["+h.Z()+"]",ao(h)}}finally{Sr(h)}}}}function Sr(h,y){if(h.g){ss(h);const E=h.g,A=h.v[0]?()=>{}:null;h.g=null,h.v=null,y||tt(h,"ready");try{E.onreadystatechange=A}catch{}}}function ss(h){h.I&&(f.clearTimeout(h.I),h.I=null)}r.isActive=function(){return!!this.g};function Fn(h){return h.g?h.g.readyState:0}r.Z=function(){try{return 2<Fn(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(h){if(this.g){var y=this.g.responseText;return h&&y.indexOf(h)==0&&(y=y.substring(h.length)),Xs(y)}};function Fc(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.H){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function Qd(h){const y={};h=(h.g&&2<=Fn(h)&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<h.length;A++){if(K(h[A]))continue;var E=P(h[A]);const q=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const $=y[q]||[];y[q]=$,$.push(E)}x(y,function(A){return A.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function os(h,y,E){return E&&E.internalChannelParams&&E.internalChannelParams[h]||y}function oo(h){this.Aa=0,this.i=[],this.j=new Un,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=os("failFast",!1,h),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=os("baseRetryDelayMs",5e3,h),this.cb=os("retryDelaySeedMs",1e4,h),this.Wa=os("forwardChannelMaxRetries",2,h),this.wa=os("forwardChannelRequestTimeoutMs",2e4,h),this.pa=h&&h.xmlHttpFactory||void 0,this.Xa=h&&h.Tb||void 0,this.Ca=h&&h.useFetchStreams||!1,this.L=void 0,this.J=h&&h.supportsCrossDomainXhr||!1,this.K="",this.h=new ti(h&&h.concurrentRequestLimit),this.Da=new is,this.P=h&&h.fastHandshake||!1,this.O=h&&h.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=h&&h.Rb||!1,h&&h.xa&&this.j.xa(),h&&h.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&h&&h.detectBufferingProxy||!1,this.ja=void 0,h&&h.longPollingTimeout&&0<h.longPollingTimeout&&(this.ja=h.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=oo.prototype,r.la=8,r.G=1,r.connect=function(h,y,E,A){dt(0),this.W=h,this.H=y||{},E&&A!==void 0&&(this.H.OSID=E,this.H.OAID=A),this.F=this.X,this.I=Wc(this,null,this.W),uo(this)};function Fl(h){if(zc(h),h.G==3){var y=h.U++,E=Rn(h.I);if(st(E,"SID",h.K),st(E,"RID",y),st(E,"TYPE","terminate"),ls(h,E),y=new mn(h,h.j,y),y.L=2,y.v=ts(Rn(E)),E=!1,f.navigator&&f.navigator.sendBeacon)try{E=f.navigator.sendBeacon(y.v.toString(),"")}catch{}!E&&f.Image&&(new Image().src=y.v,E=!0),E||(y.g=Xc(y.j,null),y.g.ea(y.v)),y.F=Date.now(),$a(y)}Kc(h)}function lo(h){h.g&&(us(h),h.g.cancel(),h.g=null)}function zc(h){lo(h),h.u&&(f.clearTimeout(h.u),h.u=null),co(h),h.h.cancel(),h.s&&(typeof h.s=="number"&&f.clearTimeout(h.s),h.s=null)}function uo(h){if(!Js(h.h)&&!h.s){h.s=!0;var y=h.Ga;ne||L(),le||(ne(),le=!0),we.add(y,h),h.B=0}}function Kd(h,y){return eo(h.h)>=h.h.j-(h.s?1:0)?!1:h.s?(h.i=y.D.concat(h.i),!0):h.G==1||h.G==2||h.B>=(h.Va?0:h.Wa)?!1:(h.s=xt(b(h.Ga,h,y),ql(h,h.B)),h.B++,!0)}r.Ga=function(h){if(this.s)if(this.s=null,this.G==1){if(!h){this.U=Math.floor(1e5*Math.random()),h=this.U++;const q=new mn(this,this.j,h);let $=this.o;if(this.S&&($?($=D($),M($,this.S)):$=this.S),this.m!==null||this.O||(q.H=$,$=null),this.P)e:{for(var y=0,E=0;E<this.i.length;E++){t:{var A=this.i[E];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(y+=A,4096<y){y=E;break e}if(y===4096||E===this.i.length-1){y=E+1;break e}}y=1e3}else y=1e3;y=Yc(this,q,y),E=Rn(this.I),st(E,"RID",h),st(E,"CVER",22),this.D&&st(E,"X-HTTP-Session-Id",this.D),ls(this,E),$&&(this.O?y="headers="+encodeURIComponent(String(Hl($)))+"&"+y:this.m&&qt(E,this.m,$)),to(this.h,q),this.Ua&&st(E,"TYPE","init"),this.P?(st(E,"$req",y),st(E,"SID","null"),q.T=!0,ar(q,E,null)):ar(q,E,y),this.G=2}}else this.G==3&&(h?zl(this,h):this.i.length==0||Js(this.h)||zl(this))};function zl(h,y){var E;y?E=y.l:E=h.U++;const A=Rn(h.I);st(A,"SID",h.K),st(A,"RID",E),st(A,"AID",h.T),ls(h,A),h.m&&h.o&&qt(A,h.m,h.o),E=new mn(h,h.j,E,h.B+1),h.m===null&&(E.H=h.o),y&&(h.i=y.D.concat(h.i)),y=Yc(h,E,1e3),E.I=Math.round(.5*h.wa)+Math.round(.5*h.wa*Math.random()),to(h.h,E),ar(E,A,y)}function ls(h,y){h.H&&fe(h.H,function(E,A){st(y,A,E)}),h.l&&Ll({},function(E,A){st(y,A,E)})}function Yc(h,y,E){E=Math.min(h.i.length,E);var A=h.l?b(h.l.Na,h.l,h):null;e:{var q=h.i;let $=-1;for(;;){const ce=["count="+E];$==-1?0<E?($=q[0].g,ce.push("ofs="+$)):$=0:ce.push("ofs="+$);let ze=!0;for(let Vt=0;Vt<E;Vt++){let Ye=q[Vt].g;const Gt=q[Vt].map;if(Ye-=$,0>Ye)$=Math.max(0,q[Vt].g-100),ze=!1;else try{wr(Gt,ce,"req"+Ye+"_")}catch{A&&A(Gt)}}if(ze){A=ce.join("&");break e}}}return h=h.i.splice(0,E),y.D=h,A}function qc(h){if(!h.g&&!h.u){h.Y=1;var y=h.Fa;ne||L(),le||(ne(),le=!0),we.add(y,h),h.v=0}}function Yl(h){return h.g||h.u||3<=h.v?!1:(h.Y++,h.u=xt(b(h.Fa,h),ql(h,h.v)),h.v++,!0)}r.Fa=function(){if(this.u=null,Gc(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var h=2*this.R;this.j.info("BP detection timer enabled: "+h),this.A=xt(b(this.ab,this),h)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,dt(10),lo(this),Gc(this))};function us(h){h.A!=null&&(f.clearTimeout(h.A),h.A=null)}function Gc(h){h.g=new mn(h,h.j,"rpc",h.Y),h.m===null&&(h.g.H=h.o),h.g.O=0;var y=Rn(h.qa);st(y,"RID","rpc"),st(y,"SID",h.K),st(y,"AID",h.T),st(y,"CI",h.F?"0":"1"),!h.F&&h.ja&&st(y,"TO",h.ja),st(y,"TYPE","xmlhttp"),ls(h,y),h.m&&h.o&&qt(y,h.m,h.o),h.L&&(h.g.I=h.L);var E=h.g;h=h.ia,E.L=1,E.v=ts(Rn(y)),E.m=null,E.P=!0,ei(E,h)}r.Za=function(){this.C!=null&&(this.C=null,lo(this),Yl(this),dt(19))};function co(h){h.C!=null&&(f.clearTimeout(h.C),h.C=null)}function Qc(h,y){var E=null;if(h.g==y){co(h),us(h),h.g=null;var A=2}else if(Nl(h.h,y))E=y.D,gn(h.h,y),A=1;else return;if(h.G!=0){if(y.o)if(A==1){E=y.m?y.m.length:0,y=Date.now()-y.F;var q=h.B;A=Fi(),tt(A,new Lt(A,E)),uo(h)}else qc(h);else if(q=y.s,q==3||q==0&&0<y.X||!(A==1&&Kd(h,y)||A==2&&Yl(h)))switch(E&&0<E.length&&(y=h.h,y.i=y.i.concat(E)),q){case 1:oi(h,5);break;case 4:oi(h,10);break;case 3:oi(h,6);break;default:oi(h,2)}}}function ql(h,y){let E=h.Ta+Math.floor(Math.random()*h.cb);return h.isActive()||(E*=2),E*y}function oi(h,y){if(h.j.info("Error code "+y),y==2){var E=b(h.fb,h),A=h.Xa;const q=!A;A=new Mt(A||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||es(A,"https"),ts(A),q?rs(A.toString(),E):sr(A.toString(),E)}else dt(2);h.G=0,h.l&&h.l.sa(y),Kc(h),zc(h)}r.fb=function(h){h?(this.j.info("Successfully pinged google.com"),dt(2)):(this.j.info("Failed to ping google.com"),dt(1))};function Kc(h){if(h.G=0,h.ka=[],h.l){const y=Pl(h.h);(y.length!=0||h.i.length!=0)&&(I(h.ka,y),I(h.ka,h.i),h.h.i.length=0,N(h.i),h.i.length=0),h.l.ra()}}function Wc(h,y,E){var A=E instanceof Mt?Rn(E):new Mt(E);if(A.g!="")y&&(A.g=y+"."+A.g),Qi(A,A.s);else{var q=f.location;A=q.protocol,y=y?y+"."+q.hostname:q.hostname,q=+q.port;var $=new Mt(null);A&&es($,A),y&&($.g=y),q&&Qi($,q),E&&($.l=E),A=$}return E=h.D,y=h.ya,E&&y&&st(A,E,y),st(A,"VER",h.la),ls(h,A),A}function Xc(h,y,E){if(y&&!h.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=h.Ca&&!h.pa?new Ze(new Ki({eb:E})):new Ze(h.pa),y.Ha(h.J),y}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function $c(){}r=$c.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function fo(){}fo.prototype.g=function(h,y){return new vn(h,y)};function vn(h,y){Et.call(this),this.g=new oo(y),this.l=h,this.h=y&&y.messageUrlParams||null,h=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(h?h["X-WebChannel-Content-Type"]=y.messageContentType:h={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(h?h["X-WebChannel-Client-Profile"]=y.va:h={"X-WebChannel-Client-Profile":y.va}),this.g.S=h,(h=y&&y.Sb)&&!K(h)&&(this.g.m=h),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!K(y)&&(this.g.D=y,h=this.h,h!==null&&y in h&&(h=this.h,y in h&&delete h[y])),this.j=new Dr(this)}C(vn,Et),vn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},vn.prototype.close=function(){Fl(this.g)},vn.prototype.o=function(h){var y=this.g;if(typeof h=="string"){var E={};E.__data__=h,h=E}else this.u&&(E={},E.__data__=ir(h),h=E);y.i.push(new Uc(y.Ya++,h)),y.G==3&&uo(y)},vn.prototype.N=function(){this.g.l=null,delete this.j,Fl(this.g),delete this.g,vn.aa.N.call(this)};function Zc(h){Zr.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var y=h.__sm__;if(y){e:{for(const E in y){h=E;break e}h=void 0}(this.i=h)&&(h=this.i,y=y!==null&&h in y?y[h]:void 0),this.data=y}else this.data=h}C(Zc,Zr);function Jc(){Il.call(this),this.status=1}C(Jc,Il);function Dr(h){this.g=h}C(Dr,$c),Dr.prototype.ua=function(){tt(this.g,"a")},Dr.prototype.ta=function(h){tt(this.g,new Zc(h))},Dr.prototype.sa=function(h){tt(this.g,new Jc)},Dr.prototype.ra=function(){tt(this.g,"b")},fo.prototype.createWebChannel=fo.prototype.g,vn.prototype.send=vn.prototype.o,vn.prototype.open=vn.prototype.m,vn.prototype.close=vn.prototype.close,oS=function(){return new fo},sS=function(){return Fi()},aS=gr,Sg={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},qi.NO_ERROR=0,qi.TIMEOUT=8,qi.HTTP_ERROR=6,wh=qi,Jr.COMPLETE="complete",iS=Jr,kl.EventType=$r,$r.OPEN="a",$r.CLOSE="b",$r.ERROR="c",$r.MESSAGE="d",Et.prototype.listen=Et.prototype.K,Fu=kl,Ze.prototype.listenOnce=Ze.prototype.L,Ze.prototype.getLastError=Ze.prototype.Ka,Ze.prototype.getLastErrorCode=Ze.prototype.Ba,Ze.prototype.getStatus=Ze.prototype.Z,Ze.prototype.getResponseJson=Ze.prototype.Oa,Ze.prototype.getResponseText=Ze.prototype.oa,Ze.prototype.send=Ze.prototype.ea,Ze.prototype.setWithCredentials=Ze.prototype.Ha,rS=Ze}).apply(typeof rh<"u"?rh:typeof self<"u"?self:typeof window<"u"?window:{});const fw="@firebase/firestore",hw="4.7.10";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}hn.UNAUTHENTICATED=new hn(null),hn.GOOGLE_CREDENTIALS=new hn("google-credentials-uid"),hn.FIRST_PARTY=new hn("first-party-uid"),hn.MOCK_USER=new hn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let yl="11.5.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Us=new ev("@firebase/firestore");function Fo(){return Us.logLevel}function me(r,...e){if(Us.logLevel<=He.DEBUG){const t=e.map(pv);Us.debug(`Firestore (${yl}): ${r}`,...t)}}function Pi(r,...e){if(Us.logLevel<=He.ERROR){const t=e.map(pv);Us.error(`Firestore (${yl}): ${r}`,...t)}}function el(r,...e){if(Us.logLevel<=He.WARN){const t=e.map(pv);Us.warn(`Firestore (${yl}): ${r}`,...t)}}function pv(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ke(r="Unexpected state"){const e=`FIRESTORE (${yl}) INTERNAL ASSERTION FAILED: `+r;throw Pi(e),new Error(e)}function et(r,e){r||ke()}function Me(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Te extends Bi{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ca{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lS{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class BM{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(hn.UNAUTHENTICATED))}shutdown(){}}class jM{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class HM{constructor(e){this.t=e,this.currentUser=hn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){et(this.o===void 0);let n=this.i;const a=p=>this.i!==n?(n=this.i,t(p)):Promise.resolve();let o=new Ca;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Ca,e.enqueueRetryable(()=>a(this.currentUser))};const u=()=>{const p=o;e.enqueueRetryable(async()=>{await p.promise,await a(this.currentUser)})},f=p=>{me("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit(p=>f(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?f(p):(me("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Ca)}},0),u()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(n=>this.i!==e?(me("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):n?(et(typeof n.accessToken=="string"),new lS(n.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return et(e===null||typeof e=="string"),new hn(e)}}class FM{constructor(e,t,n){this.l=e,this.h=t,this.P=n,this.type="FirstParty",this.user=hn.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class zM{constructor(e,t,n){this.l=e,this.h=t,this.P=n}getToken(){return Promise.resolve(new FM(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(hn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class dw{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class YM{constructor(e,t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,Pn(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,t){et(this.o===void 0);const n=o=>{o.error!=null&&me("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const u=o.token!==this.R;return this.R=o.token,me("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>n(o))};const a=o=>{me("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>a(o)),setTimeout(()=>{if(!this.appCheck){const o=this.A.getImmediate({optional:!0});o?a(o):me("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new dw(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(et(typeof t.token=="string"),this.R=t.token,new dw(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qM(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let n=0;n<r;n++)t[n]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uS(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cS{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let n="";for(;n.length<20;){const a=qM(40);for(let o=0;o<a.length;++o)n.length<20&&a[o]<t&&(n+=e.charAt(a[o]%62))}return n}}function Pe(r,e){return r<e?-1:r>e?1:0}function Dg(r,e){let t=0;for(;t<r.length&&t<e.length;){const n=r.codePointAt(t),a=e.codePointAt(t);if(n!==a){if(n<128&&a<128)return Pe(n,a);{const o=uS(),u=GM(o.encode(pw(r,t)),o.encode(pw(e,t)));return u!==0?u:Pe(n,a)}}t+=n>65535?2:1}return Pe(r.length,e.length)}function pw(r,e){return r.codePointAt(e)>65535?r.substring(e,e+2):r.substring(e,e+1)}function GM(r,e){for(let t=0;t<r.length&&t<e.length;++t)if(r[t]!==e[t])return Pe(r[t],e[t]);return Pe(r.length,e.length)}function tl(r,e,t){return r.length===e.length&&r.every((n,a)=>t(n,e[a]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mw=-62135596800,gw=1e6;class Ft{static now(){return Ft.fromMillis(Date.now())}static fromDate(e){return Ft.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor((e-1e3*t)*gw);return new Ft(t,n)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Te(oe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Te(oe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<mw)throw new Te(oe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Te(oe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/gw}_compareTo(e){return this.seconds===e.seconds?Pe(this.nanoseconds,e.nanoseconds):Pe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-mw;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xe{static fromTimestamp(e){return new xe(e)}static min(){return new xe(new Ft(0,0))}static max(){return new xe(new Ft(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vw="__name__";class Mr{constructor(e,t,n){t===void 0?t=0:t>e.length&&ke(),n===void 0?n=e.length-t:n>e.length-t&&ke(),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return Mr.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Mr?e.forEach(n=>{t.push(n)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let a=0;a<n;a++){const o=Mr.compareSegments(e.get(a),t.get(a));if(o!==0)return o}return Pe(e.length,t.length)}static compareSegments(e,t){const n=Mr.isNumericId(e),a=Mr.isNumericId(t);return n&&!a?-1:!n&&a?1:n&&a?Mr.extractNumericId(e).compare(Mr.extractNumericId(t)):Dg(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ra.fromString(e.substring(4,e.length-2))}}class Tt extends Mr{construct(e,t,n){return new Tt(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const n of e){if(n.indexOf("//")>=0)throw new Te(oe.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);t.push(...n.split("/").filter(a=>a.length>0))}return new Tt(t)}static emptyPath(){return new Tt([])}}const QM=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class an extends Mr{construct(e,t,n){return new an(e,t,n)}static isValidIdentifier(e){return QM.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),an.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===vw}static keyField(){return new an([vw])}static fromServerFormat(e){const t=[];let n="",a=0;const o=()=>{if(n.length===0)throw new Te(oe.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(n),n=""};let u=!1;for(;a<e.length;){const f=e[a];if(f==="\\"){if(a+1===e.length)throw new Te(oe.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[a+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new Te(oe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=p,a+=2}else f==="`"?(u=!u,a++):f!=="."||u?(n+=f,a++):(o(),a++)}if(o(),u)throw new Te(oe.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new an(t)}static emptyPath(){return new an([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Se{constructor(e){this.path=e}static fromPath(e){return new Se(Tt.fromString(e))}static fromName(e){return new Se(Tt.fromString(e).popFirst(5))}static empty(){return new Se(Tt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Tt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Tt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Se(new Tt(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nc=-1;function KM(r,e){const t=r.toTimestamp().seconds,n=r.toTimestamp().nanoseconds+1,a=xe.fromTimestamp(n===1e9?new Ft(t+1,0):new Ft(t,n));return new xa(a,Se.empty(),e)}function WM(r){return new xa(r.readTime,r.key,nc)}class xa{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new xa(xe.min(),Se.empty(),nc)}static max(){return new xa(xe.max(),Se.empty(),nc)}}function XM(r,e){let t=r.readTime.compareTo(e.readTime);return t!==0?t:(t=Se.comparator(r.documentKey,e.documentKey),t!==0?t:Pe(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $M="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class ZM{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _l(r){if(r.code!==oe.FAILED_PRECONDITION||r.message!==$M)throw r;me("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class se{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&ke(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new se((n,a)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(n,a)},this.catchCallback=o=>{this.wrapFailure(t,o).next(n,a)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof se?t:se.resolve(t)}catch(t){return se.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):se.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):se.reject(t)}static resolve(e){return new se((t,n)=>{t(e)})}static reject(e){return new se((t,n)=>{n(e)})}static waitFor(e){return new se((t,n)=>{let a=0,o=0,u=!1;e.forEach(f=>{++a,f.next(()=>{++o,u&&o===a&&t()},p=>n(p))}),u=!0,o===a&&t()})}static or(e){let t=se.resolve(!1);for(const n of e)t=t.next(a=>a?se.resolve(a):n());return t}static forEach(e,t){const n=[];return e.forEach((a,o)=>{n.push(t.call(this,a,o))}),this.waitFor(n)}static mapArray(e,t){return new se((n,a)=>{const o=e.length,u=new Array(o);let f=0;for(let p=0;p<o;p++){const m=p;t(e[m]).next(v=>{u[m]=v,++f,f===o&&n(u)},v=>a(v))}})}static doWhile(e,t){return new se((n,a)=>{const o=()=>{e()===!0?t().next(()=>{o()},a):n()};o()})}}function JM(r){const e=r.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function El(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yd{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=n=>this.oe(n),this._e=n=>t.writeSequenceNumber(n))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}yd.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mv=-1;function _d(r){return r==null}function Hh(r){return r===0&&1/r==-1/0}function eO(r){return typeof r=="number"&&Number.isInteger(r)&&!Hh(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fS="";function tO(r){let e="";for(let t=0;t<r.length;t++)e.length>0&&(e=yw(e)),e=nO(r.get(t),e);return yw(e)}function nO(r,e){let t=e;const n=r.length;for(let a=0;a<n;a++){const o=r.charAt(a);switch(o){case"\0":t+="";break;case fS:t+="";break;default:t+=o}}return t}function yw(r){return r+fS+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _w(r){let e=0;for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e++;return e}function zs(r,e){for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e(t,r[t])}function hS(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _t{constructor(e,t){this.comparator=e,this.root=t||rn.EMPTY}insert(e,t){return new _t(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,rn.BLACK,null,null))}remove(e){return new _t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,rn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(n===0)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const a=this.comparator(e,n.key);if(a===0)return t+n.left.size;a<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,n)=>(e(t,n),!1))}toString(){const e=[];return this.inorderTraversal((t,n)=>(e.push(`${t}:${n}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ih(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ih(this.root,e,this.comparator,!1)}getReverseIterator(){return new ih(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ih(this.root,e,this.comparator,!0)}}class ih{constructor(e,t,n,a){this.isReverse=a,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?n(e.key,t):1,t&&a&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class rn{constructor(e,t,n,a,o){this.key=e,this.value=t,this.color=n??rn.RED,this.left=a??rn.EMPTY,this.right=o??rn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,a,o){return new rn(e??this.key,t??this.value,n??this.color,a??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let a=this;const o=n(e,a.key);return a=o<0?a.copy(null,null,null,a.left.insert(e,t,n),null):o===0?a.copy(null,t,null,null,null):a.copy(null,null,null,null,a.right.insert(e,t,n)),a.fixUp()}removeMin(){if(this.left.isEmpty())return rn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,a=this;if(t(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,t),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),t(e,a.key)===0){if(a.right.isEmpty())return rn.EMPTY;n=a.right.min(),a=a.copy(n.key,n.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,t))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,rn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,rn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ke();const e=this.left.check();if(e!==this.right.check())throw ke();return e+(this.isRed()?0:1)}}rn.EMPTY=null,rn.RED=!0,rn.BLACK=!1;rn.EMPTY=new class{constructor(){this.size=0}get key(){throw ke()}get value(){throw ke()}get color(){throw ke()}get left(){throw ke()}get right(){throw ke()}copy(e,t,n,a,o){return this}insert(e,t,n){return new rn(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zt{constructor(e){this.comparator=e,this.data=new _t(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,n)=>(e(t),!1))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const a=n.getNext();if(this.comparator(a.key,e[1])>=0)return;t(a.key)}}forEachWhile(e,t){let n;for(n=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Ew(this.data.getIterator())}getIteratorFrom(e){return new Ew(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(n=>{t=t.add(n)}),t}isEqual(e){if(!(e instanceof zt)||this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const a=t.getNext().key,o=n.getNext().key;if(this.comparator(a,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new zt(this.comparator);return t.data=e,t}}class Ew{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fr{constructor(e){this.fields=e,e.sort(an.comparator)}static empty(){return new fr([])}unionWith(e){let t=new zt(an.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new fr(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return tl(this.fields,e.fields,(t,n)=>t.isEqual(n))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dS extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class on{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(a){try{return atob(a)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new dS("Invalid base64 string: "+o):o}}(e);return new on(t)}static fromUint8Array(e){const t=function(a){let o="";for(let u=0;u<a.length;++u)o+=String.fromCharCode(a[u]);return o}(e);return new on(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const n=new Uint8Array(t.length);for(let a=0;a<t.length;a++)n[a]=t.charCodeAt(a);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Pe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}on.EMPTY_BYTE_STRING=new on("");const rO=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ma(r){if(et(!!r),typeof r=="string"){let e=0;const t=rO.exec(r);if(et(!!t),t[1]){let a=t[1];a=(a+"000000000").substr(0,9),e=Number(a)}const n=new Date(r);return{seconds:Math.floor(n.getTime()/1e3),nanos:e}}return{seconds:Ct(r.seconds),nanos:Ct(r.nanos)}}function Ct(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Oa(r){return typeof r=="string"?on.fromBase64String(r):on.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pS="server_timestamp",mS="__type__",gS="__previous_value__",vS="__local_write_time__";function gv(r){var e,t;return((t=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{})[mS])===null||t===void 0?void 0:t.stringValue)===pS}function Ed(r){const e=r.mapValue.fields[gS];return gv(e)?Ed(e):e}function rc(r){const e=Ma(r.mapValue.fields[vS].timestampValue);return new Ft(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iO{constructor(e,t,n,a,o,u,f,p,m){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=a,this.ssl=o,this.forceLongPolling=u,this.autoDetectLongPolling=f,this.longPollingOptions=p,this.useFetchStreams=m}}const Fh="(default)";class ic{constructor(e,t){this.projectId=e,this.database=t||Fh}static empty(){return new ic("","")}get isDefaultDatabase(){return this.database===Fh}isEqual(e){return e instanceof ic&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yS="__type__",aO="__max__",ah={mapValue:{}},_S="__vector__",zh="value";function Na(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?gv(r)?4:oO(r)?9007199254740991:sO(r)?10:11:ke()}function Yr(r,e){if(r===e)return!0;const t=Na(r);if(t!==Na(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return rc(r).isEqual(rc(e));case 3:return function(a,o){if(typeof a.timestampValue=="string"&&typeof o.timestampValue=="string"&&a.timestampValue.length===o.timestampValue.length)return a.timestampValue===o.timestampValue;const u=Ma(a.timestampValue),f=Ma(o.timestampValue);return u.seconds===f.seconds&&u.nanos===f.nanos}(r,e);case 5:return r.stringValue===e.stringValue;case 6:return function(a,o){return Oa(a.bytesValue).isEqual(Oa(o.bytesValue))}(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return function(a,o){return Ct(a.geoPointValue.latitude)===Ct(o.geoPointValue.latitude)&&Ct(a.geoPointValue.longitude)===Ct(o.geoPointValue.longitude)}(r,e);case 2:return function(a,o){if("integerValue"in a&&"integerValue"in o)return Ct(a.integerValue)===Ct(o.integerValue);if("doubleValue"in a&&"doubleValue"in o){const u=Ct(a.doubleValue),f=Ct(o.doubleValue);return u===f?Hh(u)===Hh(f):isNaN(u)&&isNaN(f)}return!1}(r,e);case 9:return tl(r.arrayValue.values||[],e.arrayValue.values||[],Yr);case 10:case 11:return function(a,o){const u=a.mapValue.fields||{},f=o.mapValue.fields||{};if(_w(u)!==_w(f))return!1;for(const p in u)if(u.hasOwnProperty(p)&&(f[p]===void 0||!Yr(u[p],f[p])))return!1;return!0}(r,e);default:return ke()}}function ac(r,e){return(r.values||[]).find(t=>Yr(t,e))!==void 0}function nl(r,e){if(r===e)return 0;const t=Na(r),n=Na(e);if(t!==n)return Pe(t,n);switch(t){case 0:case 9007199254740991:return 0;case 1:return Pe(r.booleanValue,e.booleanValue);case 2:return function(o,u){const f=Ct(o.integerValue||o.doubleValue),p=Ct(u.integerValue||u.doubleValue);return f<p?-1:f>p?1:f===p?0:isNaN(f)?isNaN(p)?0:-1:1}(r,e);case 3:return ww(r.timestampValue,e.timestampValue);case 4:return ww(rc(r),rc(e));case 5:return Dg(r.stringValue,e.stringValue);case 6:return function(o,u){const f=Oa(o),p=Oa(u);return f.compareTo(p)}(r.bytesValue,e.bytesValue);case 7:return function(o,u){const f=o.split("/"),p=u.split("/");for(let m=0;m<f.length&&m<p.length;m++){const v=Pe(f[m],p[m]);if(v!==0)return v}return Pe(f.length,p.length)}(r.referenceValue,e.referenceValue);case 8:return function(o,u){const f=Pe(Ct(o.latitude),Ct(u.latitude));return f!==0?f:Pe(Ct(o.longitude),Ct(u.longitude))}(r.geoPointValue,e.geoPointValue);case 9:return bw(r.arrayValue,e.arrayValue);case 10:return function(o,u){var f,p,m,v;const _=o.fields||{},b=u.fields||{},S=(f=_[zh])===null||f===void 0?void 0:f.arrayValue,C=(p=b[zh])===null||p===void 0?void 0:p.arrayValue,N=Pe(((m=S==null?void 0:S.values)===null||m===void 0?void 0:m.length)||0,((v=C==null?void 0:C.values)===null||v===void 0?void 0:v.length)||0);return N!==0?N:bw(S,C)}(r.mapValue,e.mapValue);case 11:return function(o,u){if(o===ah.mapValue&&u===ah.mapValue)return 0;if(o===ah.mapValue)return 1;if(u===ah.mapValue)return-1;const f=o.fields||{},p=Object.keys(f),m=u.fields||{},v=Object.keys(m);p.sort(),v.sort();for(let _=0;_<p.length&&_<v.length;++_){const b=Dg(p[_],v[_]);if(b!==0)return b;const S=nl(f[p[_]],m[v[_]]);if(S!==0)return S}return Pe(p.length,v.length)}(r.mapValue,e.mapValue);default:throw ke()}}function ww(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Pe(r,e);const t=Ma(r),n=Ma(e),a=Pe(t.seconds,n.seconds);return a!==0?a:Pe(t.nanos,n.nanos)}function bw(r,e){const t=r.values||[],n=e.values||[];for(let a=0;a<t.length&&a<n.length;++a){const o=nl(t[a],n[a]);if(o)return o}return Pe(t.length,n.length)}function rl(r){return Ag(r)}function Ag(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(t){const n=Ma(t);return`time(${n.seconds},${n.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?function(t){return Oa(t).toBase64()}(r.bytesValue):"referenceValue"in r?function(t){return Se.fromName(t).toString()}(r.referenceValue):"geoPointValue"in r?function(t){return`geo(${t.latitude},${t.longitude})`}(r.geoPointValue):"arrayValue"in r?function(t){let n="[",a=!0;for(const o of t.values||[])a?a=!1:n+=",",n+=Ag(o);return n+"]"}(r.arrayValue):"mapValue"in r?function(t){const n=Object.keys(t.fields||{}).sort();let a="{",o=!0;for(const u of n)o?o=!1:a+=",",a+=`${u}:${Ag(t.fields[u])}`;return a+"}"}(r.mapValue):ke()}function bh(r){switch(Na(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Ed(r);return e?16+bh(e):16;case 5:return 2*r.stringValue.length;case 6:return Oa(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return function(n){return(n.values||[]).reduce((a,o)=>a+bh(o),0)}(r.arrayValue);case 10:case 11:return function(n){let a=0;return zs(n.fields,(o,u)=>{a+=o.length+bh(u)}),a}(r.mapValue);default:throw ke()}}function Rg(r){return!!r&&"integerValue"in r}function vv(r){return!!r&&"arrayValue"in r}function Tw(r){return!!r&&"nullValue"in r}function Sw(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Th(r){return!!r&&"mapValue"in r}function sO(r){var e,t;return((t=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{})[yS])===null||t===void 0?void 0:t.stringValue)===_S}function Ku(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const e={mapValue:{fields:{}}};return zs(r.mapValue.fields,(t,n)=>e.mapValue.fields[t]=Ku(n)),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(r.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Ku(r.arrayValue.values[t]);return e}return Object.assign({},r)}function oO(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===aO}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jn{constructor(e){this.value=e}static empty(){return new Jn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!Th(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ku(t)}setAll(e){let t=an.emptyPath(),n={},a=[];e.forEach((u,f)=>{if(!t.isImmediateParentOf(f)){const p=this.getFieldsMap(t);this.applyChanges(p,n,a),n={},a=[],t=f.popLast()}u?n[f.lastSegment()]=Ku(u):a.push(f.lastSegment())});const o=this.getFieldsMap(t);this.applyChanges(o,n,a)}delete(e){const t=this.field(e.popLast());Th(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Yr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let a=t.mapValue.fields[e.get(n)];Th(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=a),t=a}return t.mapValue.fields}applyChanges(e,t,n){zs(t,(a,o)=>e[a]=o);for(const a of n)delete e[a]}clone(){return new Jn(Ku(this.value))}}function ES(r){const e=[];return zs(r.fields,(t,n)=>{const a=new an([t]);if(Th(n)){const o=ES(n.mapValue).fields;if(o.length===0)e.push(a);else for(const u of o)e.push(a.child(u))}else e.push(a)}),new fr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dn{constructor(e,t,n,a,o,u,f){this.key=e,this.documentType=t,this.version=n,this.readTime=a,this.createTime=o,this.data=u,this.documentState=f}static newInvalidDocument(e){return new dn(e,0,xe.min(),xe.min(),xe.min(),Jn.empty(),0)}static newFoundDocument(e,t,n,a){return new dn(e,1,t,xe.min(),n,a,0)}static newNoDocument(e,t){return new dn(e,2,t,xe.min(),xe.min(),Jn.empty(),0)}static newUnknownDocument(e,t){return new dn(e,3,t,xe.min(),xe.min(),Jn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(xe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Jn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Jn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=xe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof dn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new dn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yh{constructor(e,t){this.position=e,this.inclusive=t}}function Dw(r,e,t){let n=0;for(let a=0;a<r.position.length;a++){const o=e[a],u=r.position[a];if(o.field.isKeyField()?n=Se.comparator(Se.fromName(u.referenceValue),t.key):n=nl(u,t.data.field(o.field)),o.dir==="desc"&&(n*=-1),n!==0)break}return n}function Aw(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let t=0;t<r.position.length;t++)if(!Yr(r.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qh{constructor(e,t="asc"){this.field=e,this.dir=t}}function lO(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wS{}class Ht extends wS{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,n):new cO(e,t,n):t==="array-contains"?new dO(e,n):t==="in"?new pO(e,n):t==="not-in"?new mO(e,n):t==="array-contains-any"?new gO(e,n):new Ht(e,t,n)}static createKeyFieldInFilter(e,t,n){return t==="in"?new fO(e,n):new hO(e,n)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(nl(t,this.value)):t!==null&&Na(this.value)===Na(t)&&this.matchesComparison(nl(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ke()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class qr extends wS{constructor(e,t){super(),this.filters=e,this.op=t,this.ce=null}static create(e,t){return new qr(e,t)}matches(e){return bS(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function bS(r){return r.op==="and"}function TS(r){return uO(r)&&bS(r)}function uO(r){for(const e of r.filters)if(e instanceof qr)return!1;return!0}function Cg(r){if(r instanceof Ht)return r.field.canonicalString()+r.op.toString()+rl(r.value);if(TS(r))return r.filters.map(e=>Cg(e)).join(",");{const e=r.filters.map(t=>Cg(t)).join(",");return`${r.op}(${e})`}}function SS(r,e){return r instanceof Ht?function(n,a){return a instanceof Ht&&n.op===a.op&&n.field.isEqual(a.field)&&Yr(n.value,a.value)}(r,e):r instanceof qr?function(n,a){return a instanceof qr&&n.op===a.op&&n.filters.length===a.filters.length?n.filters.reduce((o,u,f)=>o&&SS(u,a.filters[f]),!0):!1}(r,e):void ke()}function DS(r){return r instanceof Ht?function(t){return`${t.field.canonicalString()} ${t.op} ${rl(t.value)}`}(r):r instanceof qr?function(t){return t.op.toString()+" {"+t.getFilters().map(DS).join(" ,")+"}"}(r):"Filter"}class cO extends Ht{constructor(e,t,n){super(e,t,n),this.key=Se.fromName(n.referenceValue)}matches(e){const t=Se.comparator(e.key,this.key);return this.matchesComparison(t)}}class fO extends Ht{constructor(e,t){super(e,"in",t),this.keys=AS("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class hO extends Ht{constructor(e,t){super(e,"not-in",t),this.keys=AS("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function AS(r,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(n=>Se.fromName(n.referenceValue))}class dO extends Ht{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return vv(t)&&ac(t.arrayValue,this.value)}}class pO extends Ht{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&ac(this.value.arrayValue,t)}}class mO extends Ht{constructor(e,t){super(e,"not-in",t)}matches(e){if(ac(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&!ac(this.value.arrayValue,t)}}class gO extends Ht{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!vv(t)||!t.arrayValue.values)&&t.arrayValue.values.some(n=>ac(this.value.arrayValue,n))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vO{constructor(e,t=null,n=[],a=[],o=null,u=null,f=null){this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=a,this.limit=o,this.startAt=u,this.endAt=f,this.le=null}}function Rw(r,e=null,t=[],n=[],a=null,o=null,u=null){return new vO(r,e,t,n,a,o,u)}function yv(r){const e=Me(r);if(e.le===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(n=>Cg(n)).join(","),t+="|ob:",t+=e.orderBy.map(n=>function(o){return o.field.canonicalString()+o.dir}(n)).join(","),_d(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(n=>rl(n)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(n=>rl(n)).join(",")),e.le=t}return e.le}function _v(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<r.orderBy.length;t++)if(!lO(r.orderBy[t],e.orderBy[t]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let t=0;t<r.filters.length;t++)if(!SS(r.filters[t],e.filters[t]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!Aw(r.startAt,e.startAt)&&Aw(r.endAt,e.endAt)}function kg(r){return Se.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wd{constructor(e,t=null,n=[],a=[],o=null,u="F",f=null,p=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=a,this.limit=o,this.limitType=u,this.startAt=f,this.endAt=p,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function yO(r,e,t,n,a,o,u,f){return new wd(r,e,t,n,a,o,u,f)}function Ev(r){return new wd(r)}function Cw(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function _O(r){return r.collectionGroup!==null}function Wu(r){const e=Me(r);if(e.he===null){e.he=[];const t=new Set;for(const o of e.explicitOrderBy)e.he.push(o),t.add(o.field.canonicalString());const n=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let f=new zt(an.comparator);return u.filters.forEach(p=>{p.getFlattenedFilters().forEach(m=>{m.isInequality()&&(f=f.add(m.field))})}),f})(e).forEach(o=>{t.has(o.canonicalString())||o.isKeyField()||e.he.push(new qh(o,n))}),t.has(an.keyField().canonicalString())||e.he.push(new qh(an.keyField(),n))}return e.he}function jr(r){const e=Me(r);return e.Pe||(e.Pe=EO(e,Wu(r))),e.Pe}function EO(r,e){if(r.limitType==="F")return Rw(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map(a=>{const o=a.dir==="desc"?"asc":"desc";return new qh(a.field,o)});const t=r.endAt?new Yh(r.endAt.position,r.endAt.inclusive):null,n=r.startAt?new Yh(r.startAt.position,r.startAt.inclusive):null;return Rw(r.path,r.collectionGroup,e,r.filters,r.limit,t,n)}}function Ig(r,e,t){return new wd(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,t,r.startAt,r.endAt)}function bd(r,e){return _v(jr(r),jr(e))&&r.limitType===e.limitType}function RS(r){return`${yv(jr(r))}|lt:${r.limitType}`}function zo(r){return`Query(target=${function(t){let n=t.path.canonicalString();return t.collectionGroup!==null&&(n+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(n+=`, filters: [${t.filters.map(a=>DS(a)).join(", ")}]`),_d(t.limit)||(n+=", limit: "+t.limit),t.orderBy.length>0&&(n+=`, orderBy: [${t.orderBy.map(a=>function(u){return`${u.field.canonicalString()} (${u.dir})`}(a)).join(", ")}]`),t.startAt&&(n+=", startAt: ",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(a=>rl(a)).join(",")),t.endAt&&(n+=", endAt: ",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(a=>rl(a)).join(",")),`Target(${n})`}(jr(r))}; limitType=${r.limitType})`}function Td(r,e){return e.isFoundDocument()&&function(n,a){const o=a.key.path;return n.collectionGroup!==null?a.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(o):Se.isDocumentKey(n.path)?n.path.isEqual(o):n.path.isImmediateParentOf(o)}(r,e)&&function(n,a){for(const o of Wu(n))if(!o.field.isKeyField()&&a.data.field(o.field)===null)return!1;return!0}(r,e)&&function(n,a){for(const o of n.filters)if(!o.matches(a))return!1;return!0}(r,e)&&function(n,a){return!(n.startAt&&!function(u,f,p){const m=Dw(u,f,p);return u.inclusive?m<=0:m<0}(n.startAt,Wu(n),a)||n.endAt&&!function(u,f,p){const m=Dw(u,f,p);return u.inclusive?m>=0:m>0}(n.endAt,Wu(n),a))}(r,e)}function wO(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function CS(r){return(e,t)=>{let n=!1;for(const a of Wu(r)){const o=bO(a,e,t);if(o!==0)return o;n=n||a.field.isKeyField()}return 0}}function bO(r,e,t){const n=r.field.isKeyField()?Se.comparator(e.key,t.key):function(o,u,f){const p=u.data.field(o),m=f.data.field(o);return p!==null&&m!==null?nl(p,m):ke()}(r.field,e,t);switch(r.dir){case"asc":return n;case"desc":return-1*n;default:return ke()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ys{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(n!==void 0){for(const[a,o]of n)if(this.equalsFn(a,e))return o}}has(e){return this.get(e)!==void 0}set(e,t){const n=this.mapKeyFn(e),a=this.inner[n];if(a===void 0)return this.inner[n]=[[e,t]],void this.innerSize++;for(let o=0;o<a.length;o++)if(this.equalsFn(a[o][0],e))return void(a[o]=[e,t]);a.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(n===void 0)return!1;for(let a=0;a<n.length;a++)if(this.equalsFn(n[a][0],e))return n.length===1?delete this.inner[t]:n.splice(a,1),this.innerSize--,!0;return!1}forEach(e){zs(this.inner,(t,n)=>{for(const[a,o]of n)e(a,o)})}isEmpty(){return hS(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TO=new _t(Se.comparator);function Li(){return TO}const kS=new _t(Se.comparator);function zu(...r){let e=kS;for(const t of r)e=e.insert(t.key,t);return e}function IS(r){let e=kS;return r.forEach((t,n)=>e=e.insert(t,n.overlayedDocument)),e}function Cs(){return Xu()}function xS(){return Xu()}function Xu(){return new Ys(r=>r.toString(),(r,e)=>r.isEqual(e))}const SO=new _t(Se.comparator),DO=new zt(Se.comparator);function Fe(...r){let e=DO;for(const t of r)e=e.add(t);return e}const AO=new zt(Pe);function RO(){return AO}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wv(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Hh(e)?"-0":e}}function MS(r){return{integerValue:""+r}}function CO(r,e){return eO(e)?MS(e):wv(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sd{constructor(){this._=void 0}}function kO(r,e,t){return r instanceof Gh?function(a,o){const u={fields:{[mS]:{stringValue:pS},[vS]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return o&&gv(o)&&(o=Ed(o)),o&&(u.fields[gS]=o),{mapValue:u}}(t,e):r instanceof sc?NS(r,e):r instanceof oc?PS(r,e):function(a,o){const u=OS(a,o),f=kw(u)+kw(a.Ie);return Rg(u)&&Rg(a.Ie)?MS(f):wv(a.serializer,f)}(r,e)}function IO(r,e,t){return r instanceof sc?NS(r,e):r instanceof oc?PS(r,e):t}function OS(r,e){return r instanceof Qh?function(n){return Rg(n)||function(o){return!!o&&"doubleValue"in o}(n)}(e)?e:{integerValue:0}:null}class Gh extends Sd{}class sc extends Sd{constructor(e){super(),this.elements=e}}function NS(r,e){const t=LS(e);for(const n of r.elements)t.some(a=>Yr(a,n))||t.push(n);return{arrayValue:{values:t}}}class oc extends Sd{constructor(e){super(),this.elements=e}}function PS(r,e){let t=LS(e);for(const n of r.elements)t=t.filter(a=>!Yr(a,n));return{arrayValue:{values:t}}}class Qh extends Sd{constructor(e,t){super(),this.serializer=e,this.Ie=t}}function kw(r){return Ct(r.integerValue||r.doubleValue)}function LS(r){return vv(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function xO(r,e){return r.field.isEqual(e.field)&&function(n,a){return n instanceof sc&&a instanceof sc||n instanceof oc&&a instanceof oc?tl(n.elements,a.elements,Yr):n instanceof Qh&&a instanceof Qh?Yr(n.Ie,a.Ie):n instanceof Gh&&a instanceof Gh}(r.transform,e.transform)}class MO{constructor(e,t){this.version=e,this.transformResults=t}}class Ai{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Ai}static exists(e){return new Ai(void 0,e)}static updateTime(e){return new Ai(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Sh(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class Dd{}function VS(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new BS(r.key,Ai.none()):new bc(r.key,r.data,Ai.none());{const t=r.data,n=Jn.empty();let a=new zt(an.comparator);for(let o of e.fields)if(!a.has(o)){let u=t.field(o);u===null&&o.length>1&&(o=o.popLast(),u=t.field(o)),u===null?n.delete(o):n.set(o,u),a=a.add(o)}return new qs(r.key,n,new fr(a.toArray()),Ai.none())}}function OO(r,e,t){r instanceof bc?function(a,o,u){const f=a.value.clone(),p=xw(a.fieldTransforms,o,u.transformResults);f.setAll(p),o.convertToFoundDocument(u.version,f).setHasCommittedMutations()}(r,e,t):r instanceof qs?function(a,o,u){if(!Sh(a.precondition,o))return void o.convertToUnknownDocument(u.version);const f=xw(a.fieldTransforms,o,u.transformResults),p=o.data;p.setAll(US(a)),p.setAll(f),o.convertToFoundDocument(u.version,p).setHasCommittedMutations()}(r,e,t):function(a,o,u){o.convertToNoDocument(u.version).setHasCommittedMutations()}(0,e,t)}function $u(r,e,t,n){return r instanceof bc?function(o,u,f,p){if(!Sh(o.precondition,u))return f;const m=o.value.clone(),v=Mw(o.fieldTransforms,p,u);return m.setAll(v),u.convertToFoundDocument(u.version,m).setHasLocalMutations(),null}(r,e,t,n):r instanceof qs?function(o,u,f,p){if(!Sh(o.precondition,u))return f;const m=Mw(o.fieldTransforms,p,u),v=u.data;return v.setAll(US(o)),v.setAll(m),u.convertToFoundDocument(u.version,v).setHasLocalMutations(),f===null?null:f.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(_=>_.field))}(r,e,t,n):function(o,u,f){return Sh(o.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):f}(r,e,t)}function NO(r,e){let t=null;for(const n of r.fieldTransforms){const a=e.data.field(n.field),o=OS(n.transform,a||null);o!=null&&(t===null&&(t=Jn.empty()),t.set(n.field,o))}return t||null}function Iw(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!function(n,a){return n===void 0&&a===void 0||!(!n||!a)&&tl(n,a,(o,u)=>xO(o,u))}(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class bc extends Dd{constructor(e,t,n,a=[]){super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class qs extends Dd{constructor(e,t,n,a,o=[]){super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=a,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function US(r){const e=new Map;return r.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const n=r.data.field(t);e.set(t,n)}}),e}function xw(r,e,t){const n=new Map;et(r.length===t.length);for(let a=0;a<t.length;a++){const o=r[a],u=o.transform,f=e.data.field(o.field);n.set(o.field,IO(u,f,t[a]))}return n}function Mw(r,e,t){const n=new Map;for(const a of r){const o=a.transform,u=t.data.field(a.field);n.set(a.field,kO(o,u,e))}return n}class BS extends Dd{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class PO extends Dd{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LO{constructor(e,t,n,a){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=a}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let a=0;a<this.mutations.length;a++){const o=this.mutations[a];o.key.isEqual(e.key)&&OO(o,e,n[a])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=$u(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=$u(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=xS();return this.mutations.forEach(a=>{const o=e.get(a.key),u=o.overlayedDocument;let f=this.applyToLocalView(u,o.mutatedFields);f=t.has(a.key)?null:f;const p=VS(u,f);p!==null&&n.set(a.key,p),u.isValidDocument()||u.convertToNoDocument(xe.min())}),n}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Fe())}isEqual(e){return this.batchId===e.batchId&&tl(this.mutations,e.mutations,(t,n)=>Iw(t,n))&&tl(this.baseMutations,e.baseMutations,(t,n)=>Iw(t,n))}}class bv{constructor(e,t,n,a){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=a}static from(e,t,n){et(e.mutations.length===n.length);let a=function(){return SO}();const o=e.mutations;for(let u=0;u<o.length;u++)a=a.insert(o[u].key,n[u].version);return new bv(e,t,n,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VO{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UO{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pt,Ge;function BO(r){switch(r){case oe.OK:return ke();case oe.CANCELLED:case oe.UNKNOWN:case oe.DEADLINE_EXCEEDED:case oe.RESOURCE_EXHAUSTED:case oe.INTERNAL:case oe.UNAVAILABLE:case oe.UNAUTHENTICATED:return!1;case oe.INVALID_ARGUMENT:case oe.NOT_FOUND:case oe.ALREADY_EXISTS:case oe.PERMISSION_DENIED:case oe.FAILED_PRECONDITION:case oe.ABORTED:case oe.OUT_OF_RANGE:case oe.UNIMPLEMENTED:case oe.DATA_LOSS:return!0;default:return ke()}}function jS(r){if(r===void 0)return Pi("GRPC error has no .code"),oe.UNKNOWN;switch(r){case Pt.OK:return oe.OK;case Pt.CANCELLED:return oe.CANCELLED;case Pt.UNKNOWN:return oe.UNKNOWN;case Pt.DEADLINE_EXCEEDED:return oe.DEADLINE_EXCEEDED;case Pt.RESOURCE_EXHAUSTED:return oe.RESOURCE_EXHAUSTED;case Pt.INTERNAL:return oe.INTERNAL;case Pt.UNAVAILABLE:return oe.UNAVAILABLE;case Pt.UNAUTHENTICATED:return oe.UNAUTHENTICATED;case Pt.INVALID_ARGUMENT:return oe.INVALID_ARGUMENT;case Pt.NOT_FOUND:return oe.NOT_FOUND;case Pt.ALREADY_EXISTS:return oe.ALREADY_EXISTS;case Pt.PERMISSION_DENIED:return oe.PERMISSION_DENIED;case Pt.FAILED_PRECONDITION:return oe.FAILED_PRECONDITION;case Pt.ABORTED:return oe.ABORTED;case Pt.OUT_OF_RANGE:return oe.OUT_OF_RANGE;case Pt.UNIMPLEMENTED:return oe.UNIMPLEMENTED;case Pt.DATA_LOSS:return oe.DATA_LOSS;default:return ke()}}(Ge=Pt||(Pt={}))[Ge.OK=0]="OK",Ge[Ge.CANCELLED=1]="CANCELLED",Ge[Ge.UNKNOWN=2]="UNKNOWN",Ge[Ge.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ge[Ge.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ge[Ge.NOT_FOUND=5]="NOT_FOUND",Ge[Ge.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ge[Ge.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ge[Ge.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ge[Ge.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ge[Ge.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ge[Ge.ABORTED=10]="ABORTED",Ge[Ge.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ge[Ge.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ge[Ge.INTERNAL=13]="INTERNAL",Ge[Ge.UNAVAILABLE=14]="UNAVAILABLE",Ge[Ge.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jO=new Ra([4294967295,4294967295],0);function Ow(r){const e=uS().encode(r),t=new nS;return t.update(e),new Uint8Array(t.digest())}function Nw(r){const e=new DataView(r.buffer),t=e.getUint32(0,!0),n=e.getUint32(4,!0),a=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Ra([t,n],0),new Ra([a,o],0)]}class Tv{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new Yu(`Invalid padding: ${t}`);if(n<0)throw new Yu(`Invalid hash count: ${n}`);if(e.length>0&&this.hashCount===0)throw new Yu(`Invalid hash count: ${n}`);if(e.length===0&&t!==0)throw new Yu(`Invalid padding when bitmap length is 0: ${t}`);this.Ee=8*e.length-t,this.de=Ra.fromNumber(this.Ee)}Ae(e,t,n){let a=e.add(t.multiply(Ra.fromNumber(n)));return a.compare(jO)===1&&(a=new Ra([a.getBits(0),a.getBits(1)],0)),a.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const t=Ow(e),[n,a]=Nw(t);for(let o=0;o<this.hashCount;o++){const u=this.Ae(n,a,o);if(!this.Re(u))return!1}return!0}static create(e,t,n){const a=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),u=new Tv(o,a,t);return n.forEach(f=>u.insert(f)),u}insert(e){if(this.Ee===0)return;const t=Ow(e),[n,a]=Nw(t);for(let o=0;o<this.hashCount;o++){const u=this.Ae(n,a,o);this.Ve(u)}}Ve(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class Yu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ad{constructor(e,t,n,a,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=a,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const a=new Map;return a.set(e,Tc.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new Ad(xe.min(),a,new _t(Pe),Li(),Fe())}}class Tc{constructor(e,t,n,a,o){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=a,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new Tc(n,t,Fe(),Fe(),Fe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dh{constructor(e,t,n,a){this.me=e,this.removedTargetIds=t,this.key=n,this.fe=a}}class HS{constructor(e,t){this.targetId=e,this.ge=t}}class FS{constructor(e,t,n=on.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=a}}class Pw{constructor(){this.pe=0,this.ye=Lw(),this.we=on.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(e){e.approximateByteSize()>0&&(this.be=!0,this.we=e)}Fe(){let e=Fe(),t=Fe(),n=Fe();return this.ye.forEach((a,o)=>{switch(o){case 0:e=e.add(a);break;case 2:t=t.add(a);break;case 1:n=n.add(a);break;default:ke()}}),new Tc(this.we,this.Se,e,t,n)}Me(){this.be=!1,this.ye=Lw()}xe(e,t){this.be=!0,this.ye=this.ye.insert(e,t)}Oe(e){this.be=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,et(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class HO{constructor(e){this.ke=e,this.qe=new Map,this.Qe=Li(),this.$e=sh(),this.Ue=sh(),this.Ke=new _t(Pe)}We(e){for(const t of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(t,e.fe):this.ze(t,e.key,e.fe);for(const t of e.removedTargetIds)this.ze(t,e.key,e.fe)}je(e){this.forEachTarget(e,t=>{const n=this.He(t);switch(e.state){case 0:this.Je(t)&&n.Ce(e.resumeToken);break;case 1:n.Be(),n.De||n.Me(),n.Ce(e.resumeToken);break;case 2:n.Be(),n.De||this.removeTarget(t);break;case 3:this.Je(t)&&(n.Le(),n.Ce(e.resumeToken));break;case 4:this.Je(t)&&(this.Ye(t),n.Ce(e.resumeToken));break;default:ke()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.qe.forEach((n,a)=>{this.Je(a)&&t(a)})}Ze(e){const t=e.targetId,n=e.ge.count,a=this.Xe(t);if(a){const o=a.target;if(kg(o))if(n===0){const u=new Se(o.path);this.ze(t,u,dn.newNoDocument(u,xe.min()))}else et(n===1);else{const u=this.et(t);if(u!==n){const f=this.tt(e),p=f?this.nt(f,e,u):1;if(p!==0){this.Ye(t);const m=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(t,m)}}}}}tt(e){const t=e.ge.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:n="",padding:a=0},hashCount:o=0}=t;let u,f;try{u=Oa(n).toUint8Array()}catch(p){if(p instanceof dS)return el("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{f=new Tv(u,a,o)}catch(p){return el(p instanceof Yu?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return f.Ee===0?null:f}nt(e,t,n){return t.ge.count===n-this.st(e,t.targetId)?0:2}st(e,t){const n=this.ke.getRemoteKeysForTarget(t);let a=0;return n.forEach(o=>{const u=this.ke.it(),f=`projects/${u.projectId}/databases/${u.database}/documents/${o.path.canonicalString()}`;e.mightContain(f)||(this.ze(t,o,null),a++)}),a}ot(e){const t=new Map;this.qe.forEach((o,u)=>{const f=this.Xe(u);if(f){if(o.current&&kg(f.target)){const p=new Se(f.target.path);this._t(p).has(u)||this.ut(u,p)||this.ze(u,p,dn.newNoDocument(p,e))}o.ve&&(t.set(u,o.Fe()),o.Me())}});let n=Fe();this.Ue.forEach((o,u)=>{let f=!0;u.forEachWhile(p=>{const m=this.Xe(p);return!m||m.purpose==="TargetPurposeLimboResolution"||(f=!1,!1)}),f&&(n=n.add(o))}),this.Qe.forEach((o,u)=>u.setReadTime(e));const a=new Ad(e,t,this.Ke,this.Qe,n);return this.Qe=Li(),this.$e=sh(),this.Ue=sh(),this.Ke=new _t(Pe),a}Ge(e,t){if(!this.Je(e))return;const n=this.ut(e,t.key)?2:0;this.He(e).xe(t.key,n),this.Qe=this.Qe.insert(t.key,t),this.$e=this.$e.insert(t.key,this._t(t.key).add(e)),this.Ue=this.Ue.insert(t.key,this.ct(t.key).add(e))}ze(e,t,n){if(!this.Je(e))return;const a=this.He(e);this.ut(e,t)?a.xe(t,1):a.Oe(t),this.Ue=this.Ue.insert(t,this.ct(t).delete(e)),this.Ue=this.Ue.insert(t,this.ct(t).add(e)),n&&(this.Qe=this.Qe.insert(t,n))}removeTarget(e){this.qe.delete(e)}et(e){const t=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let t=this.qe.get(e);return t||(t=new Pw,this.qe.set(e,t)),t}ct(e){let t=this.Ue.get(e);return t||(t=new zt(Pe),this.Ue=this.Ue.insert(e,t)),t}_t(e){let t=this.$e.get(e);return t||(t=new zt(Pe),this.$e=this.$e.insert(e,t)),t}Je(e){const t=this.Xe(e)!==null;return t||me("WatchChangeAggregator","Detected inactive target",e),t}Xe(e){const t=this.qe.get(e);return t&&t.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new Pw),this.ke.getRemoteKeysForTarget(e).forEach(t=>{this.ze(e,t,null)})}ut(e,t){return this.ke.getRemoteKeysForTarget(e).has(t)}}function sh(){return new _t(Se.comparator)}function Lw(){return new _t(Se.comparator)}const FO={asc:"ASCENDING",desc:"DESCENDING"},zO={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},YO={and:"AND",or:"OR"};class qO{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function xg(r,e){return r.useProto3Json||_d(e)?e:{value:e}}function Kh(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function zS(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function GO(r,e){return Kh(r,e.toTimestamp())}function Hr(r){return et(!!r),xe.fromTimestamp(function(t){const n=Ma(t);return new Ft(n.seconds,n.nanos)}(r))}function Sv(r,e){return Mg(r,e).canonicalString()}function Mg(r,e){const t=function(a){return new Tt(["projects",a.projectId,"databases",a.database])}(r).child("documents");return e===void 0?t:t.child(e)}function YS(r){const e=Tt.fromString(r);return et(WS(e)),e}function Og(r,e){return Sv(r.databaseId,e.path)}function eg(r,e){const t=YS(e);if(t.get(1)!==r.databaseId.projectId)throw new Te(oe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+r.databaseId.projectId);if(t.get(3)!==r.databaseId.database)throw new Te(oe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+r.databaseId.database);return new Se(GS(t))}function qS(r,e){return Sv(r.databaseId,e)}function QO(r){const e=YS(r);return e.length===4?Tt.emptyPath():GS(e)}function Ng(r){return new Tt(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function GS(r){return et(r.length>4&&r.get(4)==="documents"),r.popFirst(5)}function Vw(r,e,t){return{name:Og(r,e),fields:t.value.mapValue.fields}}function KO(r,e){let t;if("targetChange"in e){e.targetChange;const n=function(m){return m==="NO_CHANGE"?0:m==="ADD"?1:m==="REMOVE"?2:m==="CURRENT"?3:m==="RESET"?4:ke()}(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],o=function(m,v){return m.useProto3Json?(et(v===void 0||typeof v=="string"),on.fromBase64String(v||"")):(et(v===void 0||v instanceof Buffer||v instanceof Uint8Array),on.fromUint8Array(v||new Uint8Array))}(r,e.targetChange.resumeToken),u=e.targetChange.cause,f=u&&function(m){const v=m.code===void 0?oe.UNKNOWN:jS(m.code);return new Te(v,m.message||"")}(u);t=new FS(n,a,o,f||null)}else if("documentChange"in e){e.documentChange;const n=e.documentChange;n.document,n.document.name,n.document.updateTime;const a=eg(r,n.document.name),o=Hr(n.document.updateTime),u=n.document.createTime?Hr(n.document.createTime):xe.min(),f=new Jn({mapValue:{fields:n.document.fields}}),p=dn.newFoundDocument(a,o,u,f),m=n.targetIds||[],v=n.removedTargetIds||[];t=new Dh(m,v,p.key,p)}else if("documentDelete"in e){e.documentDelete;const n=e.documentDelete;n.document;const a=eg(r,n.document),o=n.readTime?Hr(n.readTime):xe.min(),u=dn.newNoDocument(a,o),f=n.removedTargetIds||[];t=new Dh([],f,u.key,u)}else if("documentRemove"in e){e.documentRemove;const n=e.documentRemove;n.document;const a=eg(r,n.document),o=n.removedTargetIds||[];t=new Dh([],o,a,null)}else{if(!("filter"in e))return ke();{e.filter;const n=e.filter;n.targetId;const{count:a=0,unchangedNames:o}=n,u=new UO(a,o),f=n.targetId;t=new HS(f,u)}}return t}function WO(r,e){let t;if(e instanceof bc)t={update:Vw(r,e.key,e.value)};else if(e instanceof BS)t={delete:Og(r,e.key)};else if(e instanceof qs)t={update:Vw(r,e.key,e.data),updateMask:iN(e.fieldMask)};else{if(!(e instanceof PO))return ke();t={verify:Og(r,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(n=>function(o,u){const f=u.transform;if(f instanceof Gh)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(f instanceof sc)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:f.elements}};if(f instanceof oc)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:f.elements}};if(f instanceof Qh)return{fieldPath:u.field.canonicalString(),increment:f.Ie};throw ke()}(0,n))),e.precondition.isNone||(t.currentDocument=function(a,o){return o.updateTime!==void 0?{updateTime:GO(a,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:ke()}(r,e.precondition)),t}function XO(r,e){return r&&r.length>0?(et(e!==void 0),r.map(t=>function(a,o){let u=a.updateTime?Hr(a.updateTime):Hr(o);return u.isEqual(xe.min())&&(u=Hr(o)),new MO(u,a.transformResults||[])}(t,e))):[]}function $O(r,e){return{documents:[qS(r,e.path)]}}function ZO(r,e){const t={structuredQuery:{}},n=e.path;let a;e.collectionGroup!==null?(a=n,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=n.popLast(),t.structuredQuery.from=[{collectionId:n.lastSegment()}]),t.parent=qS(r,a);const o=function(m){if(m.length!==0)return KS(qr.create(m,"and"))}(e.filters);o&&(t.structuredQuery.where=o);const u=function(m){if(m.length!==0)return m.map(v=>function(b){return{field:Yo(b.field),direction:tN(b.dir)}}(v))}(e.orderBy);u&&(t.structuredQuery.orderBy=u);const f=xg(r,e.limit);return f!==null&&(t.structuredQuery.limit=f),e.startAt&&(t.structuredQuery.startAt=function(m){return{before:m.inclusive,values:m.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(m){return{before:!m.inclusive,values:m.position}}(e.endAt)),{ht:t,parent:a}}function JO(r){let e=QO(r.parent);const t=r.structuredQuery,n=t.from?t.from.length:0;let a=null;if(n>0){et(n===1);const v=t.from[0];v.allDescendants?a=v.collectionId:e=e.child(v.collectionId)}let o=[];t.where&&(o=function(_){const b=QS(_);return b instanceof qr&&TS(b)?b.getFilters():[b]}(t.where));let u=[];t.orderBy&&(u=function(_){return _.map(b=>function(C){return new qh(qo(C.field),function(I){switch(I){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(C.direction))}(b))}(t.orderBy));let f=null;t.limit&&(f=function(_){let b;return b=typeof _=="object"?_.value:_,_d(b)?null:b}(t.limit));let p=null;t.startAt&&(p=function(_){const b=!!_.before,S=_.values||[];return new Yh(S,b)}(t.startAt));let m=null;return t.endAt&&(m=function(_){const b=!_.before,S=_.values||[];return new Yh(S,b)}(t.endAt)),yO(e,a,u,o,f,"F",p,m)}function eN(r,e){const t=function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ke()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function QS(r){return r.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const n=qo(t.unaryFilter.field);return Ht.create(n,"==",{doubleValue:NaN});case"IS_NULL":const a=qo(t.unaryFilter.field);return Ht.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=qo(t.unaryFilter.field);return Ht.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=qo(t.unaryFilter.field);return Ht.create(u,"!=",{nullValue:"NULL_VALUE"});default:return ke()}}(r):r.fieldFilter!==void 0?function(t){return Ht.create(qo(t.fieldFilter.field),function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ke()}}(t.fieldFilter.op),t.fieldFilter.value)}(r):r.compositeFilter!==void 0?function(t){return qr.create(t.compositeFilter.filters.map(n=>QS(n)),function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return ke()}}(t.compositeFilter.op))}(r):ke()}function tN(r){return FO[r]}function nN(r){return zO[r]}function rN(r){return YO[r]}function Yo(r){return{fieldPath:r.canonicalString()}}function qo(r){return an.fromServerFormat(r.fieldPath)}function KS(r){return r instanceof Ht?function(t){if(t.op==="=="){if(Sw(t.value))return{unaryFilter:{field:Yo(t.field),op:"IS_NAN"}};if(Tw(t.value))return{unaryFilter:{field:Yo(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(Sw(t.value))return{unaryFilter:{field:Yo(t.field),op:"IS_NOT_NAN"}};if(Tw(t.value))return{unaryFilter:{field:Yo(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Yo(t.field),op:nN(t.op),value:t.value}}}(r):r instanceof qr?function(t){const n=t.getFilters().map(a=>KS(a));return n.length===1?n[0]:{compositeFilter:{op:rN(t.op),filters:n}}}(r):ke()}function iN(r){const e=[];return r.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function WS(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ba{constructor(e,t,n,a,o=xe.min(),u=xe.min(),f=on.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=a,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=f,this.expectedCount=p}withSequenceNumber(e){return new ba(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new ba(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ba(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ba(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aN{constructor(e){this.Tt=e}}function sN(r){const e=JO({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?Ig(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oN{constructor(){this.Tn=new lN}addToCollectionParentIndex(e,t){return this.Tn.add(t),se.resolve()}getCollectionParents(e,t){return se.resolve(this.Tn.getEntries(t))}addFieldIndex(e,t){return se.resolve()}deleteFieldIndex(e,t){return se.resolve()}deleteAllFieldIndexes(e){return se.resolve()}createTargetIndexes(e,t){return se.resolve()}getDocumentsMatchingTarget(e,t){return se.resolve(null)}getIndexType(e,t){return se.resolve(0)}getFieldIndexes(e,t){return se.resolve([])}getNextCollectionGroupToUpdate(e){return se.resolve(null)}getMinOffset(e,t){return se.resolve(xa.min())}getMinOffsetFromCollectionGroup(e,t){return se.resolve(xa.min())}updateCollectionGroup(e,t,n){return se.resolve()}updateIndexEntries(e,t){return se.resolve()}}class lN{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),a=this.index[t]||new zt(Tt.comparator),o=!a.has(n);return this.index[t]=a.add(n),o}has(e){const t=e.lastSegment(),n=e.popLast(),a=this.index[t];return a&&a.has(n)}getEntries(e){return(this.index[e]||new zt(Tt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uw={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},XS=41943040;class Dn{static withCacheSize(e){return new Dn(e,Dn.DEFAULT_COLLECTION_PERCENTILE,Dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Dn.DEFAULT_COLLECTION_PERCENTILE=10,Dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Dn.DEFAULT=new Dn(XS,Dn.DEFAULT_COLLECTION_PERCENTILE,Dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Dn.DISABLED=new Dn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class il{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Un(){return new il(0)}static Kn(){return new il(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bw="LruGarbageCollector",uN=1048576;function jw([r,e],[t,n]){const a=Pe(r,t);return a===0?Pe(e,n):a}class cN{constructor(e){this.Hn=e,this.buffer=new zt(jw),this.Jn=0}Yn(){return++this.Jn}Zn(e){const t=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(t);else{const n=this.buffer.last();jw(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}}get maxValue(){return this.buffer.last()[0]}}class fN{constructor(e,t,n){this.garbageCollector=e,this.asyncQueue=t,this.localStore=n,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){me(Bw,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){El(t)?me(Bw,"Ignoring IndexedDB error during garbage collection: ",t):await _l(t)}await this.er(3e5)})}}class hN{constructor(e,t){this.tr=e,this.params=t}calculateTargetCount(e,t){return this.tr.nr(e).next(n=>Math.floor(t/100*n))}nthSequenceNumber(e,t){if(t===0)return se.resolve(yd.ae);const n=new cN(t);return this.tr.forEachTarget(e,a=>n.Zn(a.sequenceNumber)).next(()=>this.tr.rr(e,a=>n.Zn(a))).next(()=>n.maxValue)}removeTargets(e,t,n){return this.tr.removeTargets(e,t,n)}removeOrphanedDocuments(e,t){return this.tr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(me("LruGarbageCollector","Garbage collection skipped; disabled"),se.resolve(Uw)):this.getCacheSize(e).next(n=>n<this.params.cacheSizeCollectionThreshold?(me("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Uw):this.ir(e,t))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,t){let n,a,o,u,f,p,m;const v=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(_=>(_>this.params.maximumSequenceNumbersToCollect?(me("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${_}`),a=this.params.maximumSequenceNumbersToCollect):a=_,u=Date.now(),this.nthSequenceNumber(e,a))).next(_=>(n=_,f=Date.now(),this.removeTargets(e,n,t))).next(_=>(o=_,p=Date.now(),this.removeOrphanedDocuments(e,n))).next(_=>(m=Date.now(),Fo()<=He.DEBUG&&me("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-v}ms
	Determined least recently used ${a} in `+(f-u)+`ms
	Removed ${o} targets in `+(p-f)+`ms
	Removed ${_} documents in `+(m-p)+`ms
Total Duration: ${m-v}ms`),se.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:o,documentsRemoved:_})))}}function dN(r,e){return new hN(r,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pN{constructor(){this.changes=new Ys(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,dn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return n!==void 0?se.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mN{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gN{constructor(e,t,n,a){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=a}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next(a=>(n=a,this.remoteDocumentCache.getEntry(e,t))).next(a=>(n!==null&&$u(n.mutation,a,fr.empty(),Ft.now()),a))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(n=>this.getLocalViewOfDocuments(e,n,Fe()).next(()=>n))}getLocalViewOfDocuments(e,t,n=Fe()){const a=Cs();return this.populateOverlays(e,a,t).next(()=>this.computeViews(e,t,a,n).next(o=>{let u=zu();return o.forEach((f,p)=>{u=u.insert(f,p.overlayedDocument)}),u}))}getOverlayedDocuments(e,t){const n=Cs();return this.populateOverlays(e,n,t).next(()=>this.computeViews(e,t,n,Fe()))}populateOverlays(e,t,n){const a=[];return n.forEach(o=>{t.has(o)||a.push(o)}),this.documentOverlayCache.getOverlays(e,a).next(o=>{o.forEach((u,f)=>{t.set(u,f)})})}computeViews(e,t,n,a){let o=Li();const u=Xu(),f=function(){return Xu()}();return t.forEach((p,m)=>{const v=n.get(m.key);a.has(m.key)&&(v===void 0||v.mutation instanceof qs)?o=o.insert(m.key,m):v!==void 0?(u.set(m.key,v.mutation.getFieldMask()),$u(v.mutation,m,v.mutation.getFieldMask(),Ft.now())):u.set(m.key,fr.empty())}),this.recalculateAndSaveOverlays(e,o).next(p=>(p.forEach((m,v)=>u.set(m,v)),t.forEach((m,v)=>{var _;return f.set(m,new mN(v,(_=u.get(m))!==null&&_!==void 0?_:null))}),f))}recalculateAndSaveOverlays(e,t){const n=Xu();let a=new _t((u,f)=>u-f),o=Fe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(u=>{for(const f of u)f.keys().forEach(p=>{const m=t.get(p);if(m===null)return;let v=n.get(p)||fr.empty();v=f.applyToLocalView(m,v),n.set(p,v);const _=(a.get(f.batchId)||Fe()).add(p);a=a.insert(f.batchId,_)})}).next(()=>{const u=[],f=a.getReverseIterator();for(;f.hasNext();){const p=f.getNext(),m=p.key,v=p.value,_=xS();v.forEach(b=>{if(!o.has(b)){const S=VS(t.get(b),n.get(b));S!==null&&_.set(b,S),o=o.add(b)}}),u.push(this.documentOverlayCache.saveOverlays(e,m,_))}return se.waitFor(u)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(n=>this.recalculateAndSaveOverlays(e,n))}getDocumentsMatchingQuery(e,t,n,a){return function(u){return Se.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):_O(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,a):this.getDocumentsMatchingCollectionQuery(e,t,n,a)}getNextDocuments(e,t,n,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,a).next(o=>{const u=a-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,a-o.size):se.resolve(Cs());let f=nc,p=o;return u.next(m=>se.forEach(m,(v,_)=>(f<_.largestBatchId&&(f=_.largestBatchId),o.get(v)?se.resolve():this.remoteDocumentCache.getEntry(e,v).next(b=>{p=p.insert(v,b)}))).next(()=>this.populateOverlays(e,m,o)).next(()=>this.computeViews(e,p,m,Fe())).next(v=>({batchId:f,changes:IS(v)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Se(t)).next(n=>{let a=zu();return n.isFoundDocument()&&(a=a.insert(n.key,n)),a})}getDocumentsMatchingCollectionGroupQuery(e,t,n,a){const o=t.collectionGroup;let u=zu();return this.indexManager.getCollectionParents(e,o).next(f=>se.forEach(f,p=>{const m=function(_,b){return new wd(b,null,_.explicitOrderBy.slice(),_.filters.slice(),_.limit,_.limitType,_.startAt,_.endAt)}(t,p.child(o));return this.getDocumentsMatchingCollectionQuery(e,m,n,a).next(v=>{v.forEach((_,b)=>{u=u.insert(_,b)})})}).next(()=>u))}getDocumentsMatchingCollectionQuery(e,t,n,a){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next(u=>(o=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,o,a))).next(u=>{o.forEach((p,m)=>{const v=m.getKey();u.get(v)===null&&(u=u.insert(v,dn.newInvalidDocument(v)))});let f=zu();return u.forEach((p,m)=>{const v=o.get(p);v!==void 0&&$u(v.mutation,m,fr.empty(),Ft.now()),Td(t,m)&&(f=f.insert(p,m))}),f})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vN{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,t){return se.resolve(this.dr.get(t))}saveBundleMetadata(e,t){return this.dr.set(t.id,function(a){return{id:a.id,version:a.version,createTime:Hr(a.createTime)}}(t)),se.resolve()}getNamedQuery(e,t){return se.resolve(this.Ar.get(t))}saveNamedQuery(e,t){return this.Ar.set(t.name,function(a){return{name:a.name,query:sN(a.bundledQuery),readTime:Hr(a.readTime)}}(t)),se.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yN{constructor(){this.overlays=new _t(Se.comparator),this.Rr=new Map}getOverlay(e,t){return se.resolve(this.overlays.get(t))}getOverlays(e,t){const n=Cs();return se.forEach(t,a=>this.getOverlay(e,a).next(o=>{o!==null&&n.set(a,o)})).next(()=>n)}saveOverlays(e,t,n){return n.forEach((a,o)=>{this.Et(e,t,o)}),se.resolve()}removeOverlaysForBatchId(e,t,n){const a=this.Rr.get(n);return a!==void 0&&(a.forEach(o=>this.overlays=this.overlays.remove(o)),this.Rr.delete(n)),se.resolve()}getOverlaysForCollection(e,t,n){const a=Cs(),o=t.length+1,u=new Se(t.child("")),f=this.overlays.getIteratorFrom(u);for(;f.hasNext();){const p=f.getNext().value,m=p.getKey();if(!t.isPrefixOf(m.path))break;m.path.length===o&&p.largestBatchId>n&&a.set(p.getKey(),p)}return se.resolve(a)}getOverlaysForCollectionGroup(e,t,n,a){let o=new _t((m,v)=>m-v);const u=this.overlays.getIterator();for(;u.hasNext();){const m=u.getNext().value;if(m.getKey().getCollectionGroup()===t&&m.largestBatchId>n){let v=o.get(m.largestBatchId);v===null&&(v=Cs(),o=o.insert(m.largestBatchId,v)),v.set(m.getKey(),m)}}const f=Cs(),p=o.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((m,v)=>f.set(m,v)),!(f.size()>=a)););return se.resolve(f)}Et(e,t,n){const a=this.overlays.get(n.key);if(a!==null){const u=this.Rr.get(a.largestBatchId).delete(n.key);this.Rr.set(a.largestBatchId,u)}this.overlays=this.overlays.insert(n.key,new VO(t,n));let o=this.Rr.get(t);o===void 0&&(o=Fe(),this.Rr.set(t,o)),this.Rr.set(t,o.add(n.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _N{constructor(){this.sessionToken=on.EMPTY_BYTE_STRING}getSessionToken(e){return se.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,se.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dv{constructor(){this.Vr=new zt(Xt.mr),this.gr=new zt(Xt.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,t){const n=new Xt(e,t);this.Vr=this.Vr.add(n),this.gr=this.gr.add(n)}yr(e,t){e.forEach(n=>this.addReference(n,t))}removeReference(e,t){this.wr(new Xt(e,t))}Sr(e,t){e.forEach(n=>this.removeReference(n,t))}br(e){const t=new Se(new Tt([])),n=new Xt(t,e),a=new Xt(t,e+1),o=[];return this.gr.forEachInRange([n,a],u=>{this.wr(u),o.push(u.key)}),o}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const t=new Se(new Tt([])),n=new Xt(t,e),a=new Xt(t,e+1);let o=Fe();return this.gr.forEachInRange([n,a],u=>{o=o.add(u.key)}),o}containsKey(e){const t=new Xt(e,0),n=this.Vr.firstAfterOrEqual(t);return n!==null&&e.isEqual(n.key)}}class Xt{constructor(e,t){this.key=e,this.Cr=t}static mr(e,t){return Se.comparator(e.key,t.key)||Pe(e.Cr,t.Cr)}static pr(e,t){return Pe(e.Cr,t.Cr)||Se.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EN{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Fr=1,this.Mr=new zt(Xt.mr)}checkEmpty(e){return se.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,n,a){const o=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new LO(o,t,n,a);this.mutationQueue.push(u);for(const f of a)this.Mr=this.Mr.add(new Xt(f.key,o)),this.indexManager.addToCollectionParentIndex(e,f.key.path.popLast());return se.resolve(u)}lookupMutationBatch(e,t){return se.resolve(this.Or(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,a=this.Nr(n),o=a<0?0:a;return se.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return se.resolve(this.mutationQueue.length===0?mv:this.Fr-1)}getAllMutationBatches(e){return se.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new Xt(t,0),a=new Xt(t,Number.POSITIVE_INFINITY),o=[];return this.Mr.forEachInRange([n,a],u=>{const f=this.Or(u.Cr);o.push(f)}),se.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new zt(Pe);return t.forEach(a=>{const o=new Xt(a,0),u=new Xt(a,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([o,u],f=>{n=n.add(f.Cr)})}),se.resolve(this.Br(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,a=n.length+1;let o=n;Se.isDocumentKey(o)||(o=o.child(""));const u=new Xt(new Se(o),0);let f=new zt(Pe);return this.Mr.forEachWhile(p=>{const m=p.key.path;return!!n.isPrefixOf(m)&&(m.length===a&&(f=f.add(p.Cr)),!0)},u),se.resolve(this.Br(f))}Br(e){const t=[];return e.forEach(n=>{const a=this.Or(n);a!==null&&t.push(a)}),t}removeMutationBatch(e,t){et(this.Lr(t.batchId,"removed")===0),this.mutationQueue.shift();let n=this.Mr;return se.forEach(t.mutations,a=>{const o=new Xt(a.key,t.batchId);return n=n.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)}).next(()=>{this.Mr=n})}qn(e){}containsKey(e,t){const n=new Xt(t,0),a=this.Mr.firstAfterOrEqual(n);return se.resolve(t.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,se.resolve()}Lr(e,t){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const t=this.Nr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wN{constructor(e){this.kr=e,this.docs=function(){return new _t(Se.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,a=this.docs.get(n),o=a?a.size:0,u=this.kr(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:u}),this.size+=u-o,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return se.resolve(n?n.document.mutableCopy():dn.newInvalidDocument(t))}getEntries(e,t){let n=Li();return t.forEach(a=>{const o=this.docs.get(a);n=n.insert(a,o?o.document.mutableCopy():dn.newInvalidDocument(a))}),se.resolve(n)}getDocumentsMatchingQuery(e,t,n,a){let o=Li();const u=t.path,f=new Se(u.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(f);for(;p.hasNext();){const{key:m,value:{document:v}}=p.getNext();if(!u.isPrefixOf(m.path))break;m.path.length>u.length+1||XM(WM(v),n)<=0||(a.has(v.key)||Td(t,v))&&(o=o.insert(v.key,v.mutableCopy()))}return se.resolve(o)}getAllFromCollectionGroup(e,t,n,a){ke()}qr(e,t){return se.forEach(this.docs,n=>t(n))}newChangeBuffer(e){return new bN(this)}getSize(e){return se.resolve(this.size)}}class bN extends pN{constructor(e){super(),this.Ir=e}applyChanges(e){const t=[];return this.changes.forEach((n,a)=>{a.isValidDocument()?t.push(this.Ir.addEntry(e,a)):this.Ir.removeEntry(n)}),se.waitFor(t)}getFromCache(e,t){return this.Ir.getEntry(e,t)}getAllFromCache(e,t){return this.Ir.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TN{constructor(e){this.persistence=e,this.Qr=new Ys(t=>yv(t),_v),this.lastRemoteSnapshotVersion=xe.min(),this.highestTargetId=0,this.$r=0,this.Ur=new Dv,this.targetCount=0,this.Kr=il.Un()}forEachTarget(e,t){return this.Qr.forEach((n,a)=>t(a)),se.resolve()}getLastRemoteSnapshotVersion(e){return se.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return se.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Kr.next(),se.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.$r&&(this.$r=t),se.resolve()}zn(e){this.Qr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Kr=new il(t),this.highestTargetId=t),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,t){return this.zn(t),this.targetCount+=1,se.resolve()}updateTargetData(e,t){return this.zn(t),se.resolve()}removeTargetData(e,t){return this.Qr.delete(t.target),this.Ur.br(t.targetId),this.targetCount-=1,se.resolve()}removeTargets(e,t,n){let a=0;const o=[];return this.Qr.forEach((u,f)=>{f.sequenceNumber<=t&&n.get(f.targetId)===null&&(this.Qr.delete(u),o.push(this.removeMatchingKeysForTargetId(e,f.targetId)),a++)}),se.waitFor(o).next(()=>a)}getTargetCount(e){return se.resolve(this.targetCount)}getTargetData(e,t){const n=this.Qr.get(t)||null;return se.resolve(n)}addMatchingKeys(e,t,n){return this.Ur.yr(t,n),se.resolve()}removeMatchingKeys(e,t,n){this.Ur.Sr(t,n);const a=this.persistence.referenceDelegate,o=[];return a&&t.forEach(u=>{o.push(a.markPotentiallyOrphaned(e,u))}),se.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this.Ur.br(t),se.resolve()}getMatchingKeysForTargetId(e,t){const n=this.Ur.vr(t);return se.resolve(n)}containsKey(e,t){return se.resolve(this.Ur.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $S{constructor(e,t){this.Wr={},this.overlays={},this.Gr=new yd(0),this.zr=!1,this.zr=!0,this.jr=new _N,this.referenceDelegate=e(this),this.Hr=new TN(this),this.indexManager=new oN,this.remoteDocumentCache=function(a){return new wN(a)}(n=>this.referenceDelegate.Jr(n)),this.serializer=new aN(t),this.Yr=new vN(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new yN,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.Wr[e.toKey()];return n||(n=new EN(t,this.referenceDelegate),this.Wr[e.toKey()]=n),n}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,t,n){me("MemoryPersistence","Starting transaction:",e);const a=new SN(this.Gr.next());return this.referenceDelegate.Zr(),n(a).next(o=>this.referenceDelegate.Xr(a).next(()=>o)).toPromise().then(o=>(a.raiseOnCommittedEvent(),o))}ei(e,t){return se.or(Object.values(this.Wr).map(n=>()=>n.containsKey(e,t)))}}class SN extends ZM{constructor(e){super(),this.currentSequenceNumber=e}}class Av{constructor(e){this.persistence=e,this.ti=new Dv,this.ni=null}static ri(e){return new Av(e)}get ii(){if(this.ni)return this.ni;throw ke()}addReference(e,t,n){return this.ti.addReference(n,t),this.ii.delete(n.toString()),se.resolve()}removeReference(e,t,n){return this.ti.removeReference(n,t),this.ii.add(n.toString()),se.resolve()}markPotentiallyOrphaned(e,t){return this.ii.add(t.toString()),se.resolve()}removeTarget(e,t){this.ti.br(t.targetId).forEach(a=>this.ii.add(a.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next(a=>{a.forEach(o=>this.ii.add(o.toString()))}).next(()=>n.removeTargetData(e,t))}Zr(){this.ni=new Set}Xr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return se.forEach(this.ii,n=>{const a=Se.fromPath(n);return this.si(e,a).next(o=>{o||t.removeEntry(a,xe.min())})}).next(()=>(this.ni=null,t.apply(e)))}updateLimboDocument(e,t){return this.si(e,t).next(n=>{n?this.ii.delete(t.toString()):this.ii.add(t.toString())})}Jr(e){return 0}si(e,t){return se.or([()=>se.resolve(this.ti.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.ei(e,t)])}}class Wh{constructor(e,t){this.persistence=e,this.oi=new Ys(n=>tO(n.path),(n,a)=>n.isEqual(a)),this.garbageCollector=dN(this,t)}static ri(e,t){return new Wh(e,t)}Zr(){}Xr(e){return se.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}nr(e){const t=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(n=>t.next(a=>n+a))}sr(e){let t=0;return this.rr(e,n=>{t++}).next(()=>t)}rr(e,t){return se.forEach(this.oi,(n,a)=>this.ar(e,n,a).next(o=>o?se.resolve():t(a)))}removeTargets(e,t,n){return this.persistence.getTargetCache().removeTargets(e,t,n)}removeOrphanedDocuments(e,t){let n=0;const a=this.persistence.getRemoteDocumentCache(),o=a.newChangeBuffer();return a.qr(e,u=>this.ar(e,u,t).next(f=>{f||(n++,o.removeEntry(u,xe.min()))})).next(()=>o.apply(e)).next(()=>n)}markPotentiallyOrphaned(e,t){return this.oi.set(t,e.currentSequenceNumber),se.resolve()}removeTarget(e,t){const n=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,n)}addReference(e,t,n){return this.oi.set(n,e.currentSequenceNumber),se.resolve()}removeReference(e,t,n){return this.oi.set(n,e.currentSequenceNumber),se.resolve()}updateLimboDocument(e,t){return this.oi.set(t,e.currentSequenceNumber),se.resolve()}Jr(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=bh(e.data.value)),t}ar(e,t,n){return se.or([()=>this.persistence.ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const a=this.oi.get(t);return se.resolve(a!==void 0&&a>n)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rv{constructor(e,t,n,a){this.targetId=e,this.fromCache=t,this.Hi=n,this.Ji=a}static Yi(e,t){let n=Fe(),a=Fe();for(const o of t.docChanges)switch(o.type){case 0:n=n.add(o.doc.key);break;case 1:a=a.add(o.doc.key)}return new Rv(e,t.fromCache,n,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DN{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AN{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return ak()?8:JM(pn())>0?6:4}()}initialize(e,t){this.ns=e,this.indexManager=t,this.Zi=!0}getDocumentsMatchingQuery(e,t,n,a){const o={result:null};return this.rs(e,t).next(u=>{o.result=u}).next(()=>{if(!o.result)return this.ss(e,t,a,n).next(u=>{o.result=u})}).next(()=>{if(o.result)return;const u=new DN;return this._s(e,t,u).next(f=>{if(o.result=f,this.Xi)return this.us(e,t,u,f.size)})}).next(()=>o.result)}us(e,t,n,a){return n.documentReadCount<this.es?(Fo()<=He.DEBUG&&me("QueryEngine","SDK will not create cache indexes for query:",zo(t),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),se.resolve()):(Fo()<=He.DEBUG&&me("QueryEngine","Query:",zo(t),"scans",n.documentReadCount,"local documents and returns",a,"documents as results."),n.documentReadCount>this.ts*a?(Fo()<=He.DEBUG&&me("QueryEngine","The SDK decides to create cache indexes for query:",zo(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,jr(t))):se.resolve())}rs(e,t){if(Cw(t))return se.resolve(null);let n=jr(t);return this.indexManager.getIndexType(e,n).next(a=>a===0?null:(t.limit!==null&&a===1&&(t=Ig(t,null,"F"),n=jr(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next(o=>{const u=Fe(...o);return this.ns.getDocuments(e,u).next(f=>this.indexManager.getMinOffset(e,n).next(p=>{const m=this.cs(t,f);return this.ls(t,m,u,p.readTime)?this.rs(e,Ig(t,null,"F")):this.hs(e,m,t,p)}))})))}ss(e,t,n,a){return Cw(t)||a.isEqual(xe.min())?se.resolve(null):this.ns.getDocuments(e,n).next(o=>{const u=this.cs(t,o);return this.ls(t,u,n,a)?se.resolve(null):(Fo()<=He.DEBUG&&me("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),zo(t)),this.hs(e,u,t,KM(a,nc)).next(f=>f))})}cs(e,t){let n=new zt(CS(e));return t.forEach((a,o)=>{Td(e,o)&&(n=n.add(o))}),n}ls(e,t,n,a){if(e.limit===null)return!1;if(n.size!==t.size)return!0;const o=e.limitType==="F"?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(a)>0)}_s(e,t,n){return Fo()<=He.DEBUG&&me("QueryEngine","Using full collection scan to execute query:",zo(t)),this.ns.getDocumentsMatchingQuery(e,t,xa.min(),n)}hs(e,t,n,a){return this.ns.getDocumentsMatchingQuery(e,n,a).next(o=>(t.forEach(u=>{o=o.insert(u.key,u)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cv="LocalStore",RN=3e8;class CN{constructor(e,t,n,a){this.persistence=e,this.Ps=t,this.serializer=a,this.Ts=new _t(Pe),this.Is=new Ys(o=>yv(o),_v),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(n)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new gN(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ts))}}function kN(r,e,t,n){return new CN(r,e,t,n)}async function ZS(r,e){const t=Me(r);return await t.persistence.runTransaction("Handle user change","readonly",n=>{let a;return t.mutationQueue.getAllMutationBatches(n).next(o=>(a=o,t.As(e),t.mutationQueue.getAllMutationBatches(n))).next(o=>{const u=[],f=[];let p=Fe();for(const m of a){u.push(m.batchId);for(const v of m.mutations)p=p.add(v.key)}for(const m of o){f.push(m.batchId);for(const v of m.mutations)p=p.add(v.key)}return t.localDocuments.getDocuments(n,p).next(m=>({Rs:m,removedBatchIds:u,addedBatchIds:f}))})})}function IN(r,e){const t=Me(r);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",n=>{const a=e.batch.keys(),o=t.ds.newChangeBuffer({trackRemovals:!0});return function(f,p,m,v){const _=m.batch,b=_.keys();let S=se.resolve();return b.forEach(C=>{S=S.next(()=>v.getEntry(p,C)).next(N=>{const I=m.docVersions.get(C);et(I!==null),N.version.compareTo(I)<0&&(_.applyToRemoteDocument(N,m),N.isValidDocument()&&(N.setReadTime(m.commitVersion),v.addEntry(N)))})}),S.next(()=>f.mutationQueue.removeMutationBatch(p,_))}(t,n,e,o).next(()=>o.apply(n)).next(()=>t.mutationQueue.performConsistencyCheck(n)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(n,a,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(n,function(f){let p=Fe();for(let m=0;m<f.mutationResults.length;++m)f.mutationResults[m].transformResults.length>0&&(p=p.add(f.batch.mutations[m].key));return p}(e))).next(()=>t.localDocuments.getDocuments(n,a))})}function JS(r){const e=Me(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Hr.getLastRemoteSnapshotVersion(t))}function xN(r,e){const t=Me(r),n=e.snapshotVersion;let a=t.Ts;return t.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const u=t.ds.newChangeBuffer({trackRemovals:!0});a=t.Ts;const f=[];e.targetChanges.forEach((v,_)=>{const b=a.get(_);if(!b)return;f.push(t.Hr.removeMatchingKeys(o,v.removedDocuments,_).next(()=>t.Hr.addMatchingKeys(o,v.addedDocuments,_)));let S=b.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(_)!==null?S=S.withResumeToken(on.EMPTY_BYTE_STRING,xe.min()).withLastLimboFreeSnapshotVersion(xe.min()):v.resumeToken.approximateByteSize()>0&&(S=S.withResumeToken(v.resumeToken,n)),a=a.insert(_,S),function(N,I,j){return N.resumeToken.approximateByteSize()===0||I.snapshotVersion.toMicroseconds()-N.snapshotVersion.toMicroseconds()>=RN?!0:j.addedDocuments.size+j.modifiedDocuments.size+j.removedDocuments.size>0}(b,S,v)&&f.push(t.Hr.updateTargetData(o,S))});let p=Li(),m=Fe();if(e.documentUpdates.forEach(v=>{e.resolvedLimboDocuments.has(v)&&f.push(t.persistence.referenceDelegate.updateLimboDocument(o,v))}),f.push(MN(o,u,e.documentUpdates).next(v=>{p=v.Vs,m=v.fs})),!n.isEqual(xe.min())){const v=t.Hr.getLastRemoteSnapshotVersion(o).next(_=>t.Hr.setTargetsMetadata(o,o.currentSequenceNumber,n));f.push(v)}return se.waitFor(f).next(()=>u.apply(o)).next(()=>t.localDocuments.getLocalViewOfDocuments(o,p,m)).next(()=>p)}).then(o=>(t.Ts=a,o))}function MN(r,e,t){let n=Fe(),a=Fe();return t.forEach(o=>n=n.add(o)),e.getEntries(r,n).next(o=>{let u=Li();return t.forEach((f,p)=>{const m=o.get(f);p.isFoundDocument()!==m.isFoundDocument()&&(a=a.add(f)),p.isNoDocument()&&p.version.isEqual(xe.min())?(e.removeEntry(f,p.readTime),u=u.insert(f,p)):!m.isValidDocument()||p.version.compareTo(m.version)>0||p.version.compareTo(m.version)===0&&m.hasPendingWrites?(e.addEntry(p),u=u.insert(f,p)):me(Cv,"Ignoring outdated watch update for ",f,". Current version:",m.version," Watch version:",p.version)}),{Vs:u,fs:a}})}function ON(r,e){const t=Me(r);return t.persistence.runTransaction("Get next mutation batch","readonly",n=>(e===void 0&&(e=mv),t.mutationQueue.getNextMutationBatchAfterBatchId(n,e)))}function NN(r,e){const t=Me(r);return t.persistence.runTransaction("Allocate target","readwrite",n=>{let a;return t.Hr.getTargetData(n,e).next(o=>o?(a=o,se.resolve(a)):t.Hr.allocateTargetId(n).next(u=>(a=new ba(e,u,"TargetPurposeListen",n.currentSequenceNumber),t.Hr.addTargetData(n,a).next(()=>a))))}).then(n=>{const a=t.Ts.get(n.targetId);return(a===null||n.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(t.Ts=t.Ts.insert(n.targetId,n),t.Is.set(e,n.targetId)),n})}async function Pg(r,e,t){const n=Me(r),a=n.Ts.get(e),o=t?"readwrite":"readwrite-primary";try{t||await n.persistence.runTransaction("Release target",o,u=>n.persistence.referenceDelegate.removeTarget(u,a))}catch(u){if(!El(u))throw u;me(Cv,`Failed to update sequence numbers for target ${e}: ${u}`)}n.Ts=n.Ts.remove(e),n.Is.delete(a.target)}function Hw(r,e,t){const n=Me(r);let a=xe.min(),o=Fe();return n.persistence.runTransaction("Execute query","readwrite",u=>function(p,m,v){const _=Me(p),b=_.Is.get(v);return b!==void 0?se.resolve(_.Ts.get(b)):_.Hr.getTargetData(m,v)}(n,u,jr(e)).next(f=>{if(f)return a=f.lastLimboFreeSnapshotVersion,n.Hr.getMatchingKeysForTargetId(u,f.targetId).next(p=>{o=p})}).next(()=>n.Ps.getDocumentsMatchingQuery(u,e,t?a:xe.min(),t?o:Fe())).next(f=>(PN(n,wO(e),f),{documents:f,gs:o})))}function PN(r,e,t){let n=r.Es.get(e)||xe.min();t.forEach((a,o)=>{o.readTime.compareTo(n)>0&&(n=o.readTime)}),r.Es.set(e,n)}class Fw{constructor(){this.activeTargetIds=RO()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}bs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class LN{constructor(){this.ho=new Fw,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e,t=!0){return t&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,t,n){this.Po[e]=t}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new Fw,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VN{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zw="ConnectivityMonitor";class Yw{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){me(zw,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){me(zw,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let oh=null;function Lg(){return oh===null?oh=function(){return 268435456+Math.round(2147483648*Math.random())}():oh++,"0x"+oh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tg="RestConnection",UN={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class BN{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.po=t+"://"+e.host,this.yo=`projects/${n}/databases/${a}`,this.wo=this.databaseId.database===Fh?`project_id=${n}`:`project_id=${n}&database_id=${a}`}So(e,t,n,a,o){const u=Lg(),f=this.bo(e,t.toUriEncodedString());me(tg,`Sending RPC '${e}' ${u}:`,f,n);const p={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(p,a,o),this.vo(e,f,p,n).then(m=>(me(tg,`Received RPC '${e}' ${u}: `,m),m),m=>{throw el(tg,`RPC '${e}' ${u} failed with error: `,m,"url: ",f,"request:",n),m})}Co(e,t,n,a,o,u){return this.So(e,t,n,a,o)}Do(e,t,n){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+yl}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((a,o)=>e[o]=a),n&&n.headers.forEach((a,o)=>e[o]=a)}bo(e,t){const n=UN[e];return`${this.po}/v1/${t}:${n}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jN{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Uo(e){this.ko(e)}Ko(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fn="WebChannelConnection";class HN extends BN{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,t,n,a){const o=Lg();return new Promise((u,f)=>{const p=new rS;p.setWithCredentials(!0),p.listenOnce(iS.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case wh.NO_ERROR:const v=p.getResponseJson();me(fn,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(v)),u(v);break;case wh.TIMEOUT:me(fn,`RPC '${e}' ${o} timed out`),f(new Te(oe.DEADLINE_EXCEEDED,"Request time out"));break;case wh.HTTP_ERROR:const _=p.getStatus();if(me(fn,`RPC '${e}' ${o} failed with status:`,_,"response text:",p.getResponseText()),_>0){let b=p.getResponseJson();Array.isArray(b)&&(b=b[0]);const S=b==null?void 0:b.error;if(S&&S.status&&S.message){const C=function(I){const j=I.toLowerCase().replace(/_/g,"-");return Object.values(oe).indexOf(j)>=0?j:oe.UNKNOWN}(S.status);f(new Te(C,S.message))}else f(new Te(oe.UNKNOWN,"Server responded with status "+p.getStatus()))}else f(new Te(oe.UNAVAILABLE,"Connection failed."));break;default:ke()}}finally{me(fn,`RPC '${e}' ${o} completed.`)}});const m=JSON.stringify(a);me(fn,`RPC '${e}' ${o} sending request:`,a),p.send(t,"POST",m,n,15)})}Wo(e,t,n){const a=Lg(),o=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=oS(),f=sS(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},m=this.longPollingOptions.timeoutSeconds;m!==void 0&&(p.longPollingTimeout=Math.round(1e3*m)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Do(p.initMessageHeaders,t,n),p.encodeInitMessageHeaders=!0;const v=o.join("");me(fn,`Creating RPC '${e}' stream ${a}: ${v}`,p);const _=u.createWebChannel(v,p);let b=!1,S=!1;const C=new jN({Fo:I=>{S?me(fn,`Not sending because RPC '${e}' stream ${a} is closed:`,I):(b||(me(fn,`Opening RPC '${e}' stream ${a} transport.`),_.open(),b=!0),me(fn,`RPC '${e}' stream ${a} sending:`,I),_.send(I))},Mo:()=>_.close()}),N=(I,j,K)=>{I.listen(j,z=>{try{K(z)}catch(re){setTimeout(()=>{throw re},0)}})};return N(_,Fu.EventType.OPEN,()=>{S||(me(fn,`RPC '${e}' stream ${a} transport opened.`),C.Qo())}),N(_,Fu.EventType.CLOSE,()=>{S||(S=!0,me(fn,`RPC '${e}' stream ${a} transport closed`),C.Uo())}),N(_,Fu.EventType.ERROR,I=>{S||(S=!0,el(fn,`RPC '${e}' stream ${a} transport errored:`,I),C.Uo(new Te(oe.UNAVAILABLE,"The operation could not be completed")))}),N(_,Fu.EventType.MESSAGE,I=>{var j;if(!S){const K=I.data[0];et(!!K);const z=K,re=(z==null?void 0:z.error)||((j=z[0])===null||j===void 0?void 0:j.error);if(re){me(fn,`RPC '${e}' stream ${a} received error:`,re);const ie=re.status;let fe=function(R){const M=Pt[R];if(M!==void 0)return jS(M)}(ie),x=re.message;fe===void 0&&(fe=oe.INTERNAL,x="Unknown error status: "+ie+" with message "+re.message),S=!0,C.Uo(new Te(fe,x)),_.close()}else me(fn,`RPC '${e}' stream ${a} received:`,K),C.Ko(K)}}),N(f,aS.STAT_EVENT,I=>{I.stat===Sg.PROXY?me(fn,`RPC '${e}' stream ${a} detected buffering proxy`):I.stat===Sg.NOPROXY&&me(fn,`RPC '${e}' stream ${a} detected no buffering proxy`)}),setTimeout(()=>{C.$o()},0),C}}function ng(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rd(r){return new qO(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eD{constructor(e,t,n=1e3,a=1.5,o=6e4){this.Ti=e,this.timerId=t,this.Go=n,this.zo=a,this.jo=o,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const t=Math.floor(this.Ho+this.e_()),n=Math.max(0,Date.now()-this.Yo),a=Math.max(0,t-n);a>0&&me("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.Ho} ms, delay with jitter: ${t} ms, last attempt: ${n} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,a,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qw="PersistentStream";class tD{constructor(e,t,n,a,o,u,f,p){this.Ti=e,this.n_=n,this.r_=a,this.connection=o,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=f,this.listener=p,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new eD(e,t)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,t){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():t&&t.code===oe.RESOURCE_EXHAUSTED?(Pi(t.toString()),Pi("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):t&&t.code===oe.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(t)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),t=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([n,a])=>{this.i_===t&&this.V_(n,a)},n=>{e(()=>{const a=new Te(oe.UNKNOWN,"Fetching auth token failed: "+n.message);return this.m_(a)})})}V_(e,t){const n=this.R_(this.i_);this.stream=this.f_(e,t),this.stream.xo(()=>{n(()=>this.listener.xo())}),this.stream.No(()=>{n(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(a=>{n(()=>this.m_(a))}),this.stream.onMessage(a=>{n(()=>++this.__==1?this.g_(a):this.onNext(a))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return me(qw,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return t=>{this.Ti.enqueueAndForget(()=>this.i_===e?t():(me(qw,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class FN extends tD{constructor(e,t,n,a,o,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,a,u),this.serializer=o}f_(e,t){return this.connection.Wo("Listen",e,t)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const t=KO(this.serializer,e),n=function(o){if(!("targetChange"in o))return xe.min();const u=o.targetChange;return u.targetIds&&u.targetIds.length?xe.min():u.readTime?Hr(u.readTime):xe.min()}(e);return this.listener.p_(t,n)}y_(e){const t={};t.database=Ng(this.serializer),t.addTarget=function(o,u){let f;const p=u.target;if(f=kg(p)?{documents:$O(o,p)}:{query:ZO(o,p).ht},f.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){f.resumeToken=zS(o,u.resumeToken);const m=xg(o,u.expectedCount);m!==null&&(f.expectedCount=m)}else if(u.snapshotVersion.compareTo(xe.min())>0){f.readTime=Kh(o,u.snapshotVersion.toTimestamp());const m=xg(o,u.expectedCount);m!==null&&(f.expectedCount=m)}return f}(this.serializer,e);const n=eN(this.serializer,e);n&&(t.labels=n),this.I_(t)}w_(e){const t={};t.database=Ng(this.serializer),t.removeTarget=e,this.I_(t)}}class zN extends tD{constructor(e,t,n,a,o,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,a,u),this.serializer=o}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(e,t){return this.connection.Wo("Write",e,t)}g_(e){return et(!!e.streamToken),this.lastStreamToken=e.streamToken,et(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){et(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const t=XO(e.writeResults,e.commitTime),n=Hr(e.commitTime);return this.listener.v_(n,t)}C_(){const e={};e.database=Ng(this.serializer),this.I_(e)}b_(e){const t={streamToken:this.lastStreamToken,writes:e.map(n=>WO(this.serializer,n))};this.I_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YN{}class qN extends YN{constructor(e,t,n,a){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=a,this.F_=!1}M_(){if(this.F_)throw new Te(oe.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,t,n,a){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,u])=>this.connection.So(e,Mg(t,n),a,o,u)).catch(o=>{throw o.name==="FirebaseError"?(o.code===oe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Te(oe.UNKNOWN,o.toString())})}Co(e,t,n,a,o){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,f])=>this.connection.Co(e,Mg(t,n),a,u,f,o)).catch(u=>{throw u.name==="FirebaseError"?(u.code===oe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new Te(oe.UNKNOWN,u.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class GN{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(Pi(t),this.N_=!1):me("OnlineStateTracker",t)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bs="RemoteStore";class QN{constructor(e,t,n,a,o){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.U_=[],this.K_=new Map,this.W_=new Set,this.G_=[],this.z_=o,this.z_.To(u=>{n.enqueueAndForget(async()=>{Gs(this)&&(me(Bs,"Restarting streams for network reachability change."),await async function(p){const m=Me(p);m.W_.add(4),await Sc(m),m.j_.set("Unknown"),m.W_.delete(4),await Cd(m)}(this))})}),this.j_=new GN(n,a)}}async function Cd(r){if(Gs(r))for(const e of r.G_)await e(!0)}async function Sc(r){for(const e of r.G_)await e(!1)}function nD(r,e){const t=Me(r);t.K_.has(e.targetId)||(t.K_.set(e.targetId,e),Mv(t)?xv(t):wl(t).c_()&&Iv(t,e))}function kv(r,e){const t=Me(r),n=wl(t);t.K_.delete(e),n.c_()&&rD(t,e),t.K_.size===0&&(n.c_()?n.P_():Gs(t)&&t.j_.set("Unknown"))}function Iv(r,e){if(r.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(xe.min())>0){const t=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}wl(r).y_(e)}function rD(r,e){r.H_.Ne(e),wl(r).w_(e)}function xv(r){r.H_=new HO({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>r.K_.get(e)||null,it:()=>r.datastore.serializer.databaseId}),wl(r).start(),r.j_.B_()}function Mv(r){return Gs(r)&&!wl(r).u_()&&r.K_.size>0}function Gs(r){return Me(r).W_.size===0}function iD(r){r.H_=void 0}async function KN(r){r.j_.set("Online")}async function WN(r){r.K_.forEach((e,t)=>{Iv(r,e)})}async function XN(r,e){iD(r),Mv(r)?(r.j_.q_(e),xv(r)):r.j_.set("Unknown")}async function $N(r,e,t){if(r.j_.set("Online"),e instanceof FS&&e.state===2&&e.cause)try{await async function(a,o){const u=o.cause;for(const f of o.targetIds)a.K_.has(f)&&(await a.remoteSyncer.rejectListen(f,u),a.K_.delete(f),a.H_.removeTarget(f))}(r,e)}catch(n){me(Bs,"Failed to remove targets %s: %s ",e.targetIds.join(","),n),await Xh(r,n)}else if(e instanceof Dh?r.H_.We(e):e instanceof HS?r.H_.Ze(e):r.H_.je(e),!t.isEqual(xe.min()))try{const n=await JS(r.localStore);t.compareTo(n)>=0&&await function(o,u){const f=o.H_.ot(u);return f.targetChanges.forEach((p,m)=>{if(p.resumeToken.approximateByteSize()>0){const v=o.K_.get(m);v&&o.K_.set(m,v.withResumeToken(p.resumeToken,u))}}),f.targetMismatches.forEach((p,m)=>{const v=o.K_.get(p);if(!v)return;o.K_.set(p,v.withResumeToken(on.EMPTY_BYTE_STRING,v.snapshotVersion)),rD(o,p);const _=new ba(v.target,p,m,v.sequenceNumber);Iv(o,_)}),o.remoteSyncer.applyRemoteEvent(f)}(r,t)}catch(n){me(Bs,"Failed to raise snapshot:",n),await Xh(r,n)}}async function Xh(r,e,t){if(!El(e))throw e;r.W_.add(1),await Sc(r),r.j_.set("Offline"),t||(t=()=>JS(r.localStore)),r.asyncQueue.enqueueRetryable(async()=>{me(Bs,"Retrying IndexedDB access"),await t(),r.W_.delete(1),await Cd(r)})}function aD(r,e){return e().catch(t=>Xh(r,t,e))}async function kd(r){const e=Me(r),t=Pa(e);let n=e.U_.length>0?e.U_[e.U_.length-1].batchId:mv;for(;ZN(e);)try{const a=await ON(e.localStore,n);if(a===null){e.U_.length===0&&t.P_();break}n=a.batchId,JN(e,a)}catch(a){await Xh(e,a)}sD(e)&&oD(e)}function ZN(r){return Gs(r)&&r.U_.length<10}function JN(r,e){r.U_.push(e);const t=Pa(r);t.c_()&&t.S_&&t.b_(e.mutations)}function sD(r){return Gs(r)&&!Pa(r).u_()&&r.U_.length>0}function oD(r){Pa(r).start()}async function e2(r){Pa(r).C_()}async function t2(r){const e=Pa(r);for(const t of r.U_)e.b_(t.mutations)}async function n2(r,e,t){const n=r.U_.shift(),a=bv.from(n,e,t);await aD(r,()=>r.remoteSyncer.applySuccessfulWrite(a)),await kd(r)}async function r2(r,e){e&&Pa(r).S_&&await async function(n,a){if(function(u){return BO(u)&&u!==oe.ABORTED}(a.code)){const o=n.U_.shift();Pa(n).h_(),await aD(n,()=>n.remoteSyncer.rejectFailedWrite(o.batchId,a)),await kd(n)}}(r,e),sD(r)&&oD(r)}async function Gw(r,e){const t=Me(r);t.asyncQueue.verifyOperationInProgress(),me(Bs,"RemoteStore received new credentials");const n=Gs(t);t.W_.add(3),await Sc(t),n&&t.j_.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.W_.delete(3),await Cd(t)}async function i2(r,e){const t=Me(r);e?(t.W_.delete(2),await Cd(t)):e||(t.W_.add(2),await Sc(t),t.j_.set("Unknown"))}function wl(r){return r.J_||(r.J_=function(t,n,a){const o=Me(t);return o.M_(),new FN(n,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,a)}(r.datastore,r.asyncQueue,{xo:KN.bind(null,r),No:WN.bind(null,r),Lo:XN.bind(null,r),p_:$N.bind(null,r)}),r.G_.push(async e=>{e?(r.J_.h_(),Mv(r)?xv(r):r.j_.set("Unknown")):(await r.J_.stop(),iD(r))})),r.J_}function Pa(r){return r.Y_||(r.Y_=function(t,n,a){const o=Me(t);return o.M_(),new zN(n,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,a)}(r.datastore,r.asyncQueue,{xo:()=>Promise.resolve(),No:e2.bind(null,r),Lo:r2.bind(null,r),D_:t2.bind(null,r),v_:n2.bind(null,r)}),r.G_.push(async e=>{e?(r.Y_.h_(),await kd(r)):(await r.Y_.stop(),r.U_.length>0&&(me(Bs,`Stopping write stream with ${r.U_.length} pending writes`),r.U_=[]))})),r.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ov{constructor(e,t,n,a,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=a,this.removalCallback=o,this.deferred=new Ca,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(u=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,n,a,o){const u=Date.now()+n,f=new Ov(e,t,u,a,o);return f.start(n),f}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Te(oe.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Nv(r,e){if(Pi("AsyncQueue",`${e}: ${r}`),El(r))return new Te(oe.UNAVAILABLE,`${e}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xo{static emptySet(e){return new Xo(e.comparator)}constructor(e){this.comparator=e?(t,n)=>e(t,n)||Se.comparator(t.key,n.key):(t,n)=>Se.comparator(t.key,n.key),this.keyedMap=zu(),this.sortedSet=new _t(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,n)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Xo)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const a=t.getNext().key,o=n.getNext().key;if(!a.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const n=new Xo;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qw{constructor(){this.Z_=new _t(Se.comparator)}track(e){const t=e.doc.key,n=this.Z_.get(t);n?e.type!==0&&n.type===3?this.Z_=this.Z_.insert(t,e):e.type===3&&n.type!==1?this.Z_=this.Z_.insert(t,{type:n.type,doc:e.doc}):e.type===2&&n.type===2?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):e.type===2&&n.type===0?this.Z_=this.Z_.insert(t,{type:0,doc:e.doc}):e.type===1&&n.type===0?this.Z_=this.Z_.remove(t):e.type===1&&n.type===2?this.Z_=this.Z_.insert(t,{type:1,doc:n.doc}):e.type===0&&n.type===1?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):ke():this.Z_=this.Z_.insert(t,e)}X_(){const e=[];return this.Z_.inorderTraversal((t,n)=>{e.push(n)}),e}}class al{constructor(e,t,n,a,o,u,f,p,m){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=a,this.mutatedKeys=o,this.fromCache=u,this.syncStateChanged=f,this.excludesMetadataChanges=p,this.hasCachedResults=m}static fromInitialDocuments(e,t,n,a,o){const u=[];return t.forEach(f=>{u.push({type:0,doc:f})}),new al(e,t,Xo.emptySet(t),u,n,a,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&bd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let a=0;a<t.length;a++)if(t[a].type!==n[a].type||!t[a].doc.isEqual(n[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a2{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class s2{constructor(){this.queries=Kw(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(t,n){const a=Me(t),o=a.queries;a.queries=Kw(),o.forEach((u,f)=>{for(const p of f.ta)p.onError(n)})})(this,new Te(oe.ABORTED,"Firestore shutting down"))}}function Kw(){return new Ys(r=>RS(r),bd)}async function o2(r,e){const t=Me(r);let n=3;const a=e.query;let o=t.queries.get(a);o?!o.na()&&e.ra()&&(n=2):(o=new a2,n=e.ra()?0:1);try{switch(n){case 0:o.ea=await t.onListen(a,!0);break;case 1:o.ea=await t.onListen(a,!1);break;case 2:await t.onFirstRemoteStoreListen(a)}}catch(u){const f=Nv(u,`Initialization of query '${zo(e.query)}' failed`);return void e.onError(f)}t.queries.set(a,o),o.ta.push(e),e.sa(t.onlineState),o.ea&&e.oa(o.ea)&&Pv(t)}async function l2(r,e){const t=Me(r),n=e.query;let a=3;const o=t.queries.get(n);if(o){const u=o.ta.indexOf(e);u>=0&&(o.ta.splice(u,1),o.ta.length===0?a=e.ra()?0:1:!o.na()&&e.ra()&&(a=2))}switch(a){case 0:return t.queries.delete(n),t.onUnlisten(n,!0);case 1:return t.queries.delete(n),t.onUnlisten(n,!1);case 2:return t.onLastRemoteStoreUnlisten(n);default:return}}function u2(r,e){const t=Me(r);let n=!1;for(const a of e){const o=a.query,u=t.queries.get(o);if(u){for(const f of u.ta)f.oa(a)&&(n=!0);u.ea=a}}n&&Pv(t)}function c2(r,e,t){const n=Me(r),a=n.queries.get(e);if(a)for(const o of a.ta)o.onError(t);n.queries.delete(e)}function Pv(r){r.ia.forEach(e=>{e.next()})}var Vg,Ww;(Ww=Vg||(Vg={}))._a="default",Ww.Cache="cache";class f2{constructor(e,t,n){this.query=e,this.aa=t,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=n||{}}oa(e){if(!this.options.includeMetadataChanges){const n=[];for(const a of e.docChanges)a.type!==3&&n.push(a);e=new al(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ua?this.la(e)&&(this.aa.next(e),t=!0):this.ha(e,this.onlineState)&&(this.Pa(e),t=!0),this.ca=e,t}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let t=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),t=!0),t}ha(e,t){if(!e.fromCache||!this.ra())return!0;const n=t!=="Offline";return(!this.options.Ta||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}la(e){if(e.docChanges.length>0)return!0;const t=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}Pa(e){e=al.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==Vg.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lD{constructor(e){this.key=e}}class uD{constructor(e){this.key=e}}class h2{constructor(e,t){this.query=e,this.fa=t,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=Fe(),this.mutatedKeys=Fe(),this.ya=CS(e),this.wa=new Xo(this.ya)}get Sa(){return this.fa}ba(e,t){const n=t?t.Da:new Qw,a=t?t.wa:this.wa;let o=t?t.mutatedKeys:this.mutatedKeys,u=a,f=!1;const p=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,m=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal((v,_)=>{const b=a.get(v),S=Td(this.query,_)?_:null,C=!!b&&this.mutatedKeys.has(b.key),N=!!S&&(S.hasLocalMutations||this.mutatedKeys.has(S.key)&&S.hasCommittedMutations);let I=!1;b&&S?b.data.isEqual(S.data)?C!==N&&(n.track({type:3,doc:S}),I=!0):this.va(b,S)||(n.track({type:2,doc:S}),I=!0,(p&&this.ya(S,p)>0||m&&this.ya(S,m)<0)&&(f=!0)):!b&&S?(n.track({type:0,doc:S}),I=!0):b&&!S&&(n.track({type:1,doc:b}),I=!0,(p||m)&&(f=!0)),I&&(S?(u=u.add(S),o=N?o.add(v):o.delete(v)):(u=u.delete(v),o=o.delete(v)))}),this.query.limit!==null)for(;u.size>this.query.limit;){const v=this.query.limitType==="F"?u.last():u.first();u=u.delete(v.key),o=o.delete(v.key),n.track({type:1,doc:v})}return{wa:u,Da:n,ls:f,mutatedKeys:o}}va(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n,a){const o=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const u=e.Da.X_();u.sort((v,_)=>function(S,C){const N=I=>{switch(I){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ke()}};return N(S)-N(C)}(v.type,_.type)||this.ya(v.doc,_.doc)),this.Ca(n),a=a!=null&&a;const f=t&&!a?this.Fa():[],p=this.pa.size===0&&this.current&&!a?1:0,m=p!==this.ga;return this.ga=p,u.length!==0||m?{snapshot:new al(this.query,e.wa,o,u,e.mutatedKeys,p===0,m,!1,!!n&&n.resumeToken.approximateByteSize()>0),Ma:f}:{Ma:f}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new Qw,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(t=>this.fa=this.fa.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.fa=this.fa.delete(t)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=Fe(),this.wa.forEach(n=>{this.xa(n.key)&&(this.pa=this.pa.add(n.key))});const t=[];return e.forEach(n=>{this.pa.has(n)||t.push(new uD(n))}),this.pa.forEach(n=>{e.has(n)||t.push(new lD(n))}),t}Oa(e){this.fa=e.gs,this.pa=Fe();const t=this.ba(e.documents);return this.applyChanges(t,!0)}Na(){return al.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const Lv="SyncEngine";class d2{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class p2{constructor(e){this.key=e,this.Ba=!1}}class m2{constructor(e,t,n,a,o,u){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=a,this.currentUser=o,this.maxConcurrentLimboResolutions=u,this.La={},this.ka=new Ys(f=>RS(f),bd),this.qa=new Map,this.Qa=new Set,this.$a=new _t(Se.comparator),this.Ua=new Map,this.Ka=new Dv,this.Wa={},this.Ga=new Map,this.za=il.Kn(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function g2(r,e,t=!0){const n=mD(r);let a;const o=n.ka.get(e);return o?(n.sharedClientState.addLocalQueryTarget(o.targetId),a=o.view.Na()):a=await cD(n,e,t,!0),a}async function v2(r,e){const t=mD(r);await cD(t,e,!0,!1)}async function cD(r,e,t,n){const a=await NN(r.localStore,jr(e)),o=a.targetId,u=r.sharedClientState.addLocalQueryTarget(o,t);let f;return n&&(f=await y2(r,e,o,u==="current",a.resumeToken)),r.isPrimaryClient&&t&&nD(r.remoteStore,a),f}async function y2(r,e,t,n,a){r.Ha=(_,b,S)=>async function(N,I,j,K){let z=I.view.ba(j);z.ls&&(z=await Hw(N.localStore,I.query,!1).then(({documents:x})=>I.view.ba(x,z)));const re=K&&K.targetChanges.get(I.targetId),ie=K&&K.targetMismatches.get(I.targetId)!=null,fe=I.view.applyChanges(z,N.isPrimaryClient,re,ie);return $w(N,I.targetId,fe.Ma),fe.snapshot}(r,_,b,S);const o=await Hw(r.localStore,e,!0),u=new h2(e,o.gs),f=u.ba(o.documents),p=Tc.createSynthesizedTargetChangeForCurrentChange(t,n&&r.onlineState!=="Offline",a),m=u.applyChanges(f,r.isPrimaryClient,p);$w(r,t,m.Ma);const v=new d2(e,t,u);return r.ka.set(e,v),r.qa.has(t)?r.qa.get(t).push(e):r.qa.set(t,[e]),m.snapshot}async function _2(r,e,t){const n=Me(r),a=n.ka.get(e),o=n.qa.get(a.targetId);if(o.length>1)return n.qa.set(a.targetId,o.filter(u=>!bd(u,e))),void n.ka.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(a.targetId),n.sharedClientState.isActiveQueryTarget(a.targetId)||await Pg(n.localStore,a.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(a.targetId),t&&kv(n.remoteStore,a.targetId),Ug(n,a.targetId)}).catch(_l)):(Ug(n,a.targetId),await Pg(n.localStore,a.targetId,!0))}async function E2(r,e){const t=Me(r),n=t.ka.get(e),a=t.qa.get(n.targetId);t.isPrimaryClient&&a.length===1&&(t.sharedClientState.removeLocalQueryTarget(n.targetId),kv(t.remoteStore,n.targetId))}async function w2(r,e,t){const n=C2(r);try{const a=await function(u,f){const p=Me(u),m=Ft.now(),v=f.reduce((S,C)=>S.add(C.key),Fe());let _,b;return p.persistence.runTransaction("Locally write mutations","readwrite",S=>{let C=Li(),N=Fe();return p.ds.getEntries(S,v).next(I=>{C=I,C.forEach((j,K)=>{K.isValidDocument()||(N=N.add(j))})}).next(()=>p.localDocuments.getOverlayedDocuments(S,C)).next(I=>{_=I;const j=[];for(const K of f){const z=NO(K,_.get(K.key).overlayedDocument);z!=null&&j.push(new qs(K.key,z,ES(z.value.mapValue),Ai.exists(!0)))}return p.mutationQueue.addMutationBatch(S,m,j,f)}).next(I=>{b=I;const j=I.applyToLocalDocumentSet(_,N);return p.documentOverlayCache.saveOverlays(S,I.batchId,j)})}).then(()=>({batchId:b.batchId,changes:IS(_)}))}(n.localStore,e);n.sharedClientState.addPendingMutation(a.batchId),function(u,f,p){let m=u.Wa[u.currentUser.toKey()];m||(m=new _t(Pe)),m=m.insert(f,p),u.Wa[u.currentUser.toKey()]=m}(n,a.batchId,t),await Dc(n,a.changes),await kd(n.remoteStore)}catch(a){const o=Nv(a,"Failed to persist write");t.reject(o)}}async function fD(r,e){const t=Me(r);try{const n=await xN(t.localStore,e);e.targetChanges.forEach((a,o)=>{const u=t.Ua.get(o);u&&(et(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1),a.addedDocuments.size>0?u.Ba=!0:a.modifiedDocuments.size>0?et(u.Ba):a.removedDocuments.size>0&&(et(u.Ba),u.Ba=!1))}),await Dc(t,n,e)}catch(n){await _l(n)}}function Xw(r,e,t){const n=Me(r);if(n.isPrimaryClient&&t===0||!n.isPrimaryClient&&t===1){const a=[];n.ka.forEach((o,u)=>{const f=u.view.sa(e);f.snapshot&&a.push(f.snapshot)}),function(u,f){const p=Me(u);p.onlineState=f;let m=!1;p.queries.forEach((v,_)=>{for(const b of _.ta)b.sa(f)&&(m=!0)}),m&&Pv(p)}(n.eventManager,e),a.length&&n.La.p_(a),n.onlineState=e,n.isPrimaryClient&&n.sharedClientState.setOnlineState(e)}}async function b2(r,e,t){const n=Me(r);n.sharedClientState.updateQueryState(e,"rejected",t);const a=n.Ua.get(e),o=a&&a.key;if(o){let u=new _t(Se.comparator);u=u.insert(o,dn.newNoDocument(o,xe.min()));const f=Fe().add(o),p=new Ad(xe.min(),new Map,new _t(Pe),u,f);await fD(n,p),n.$a=n.$a.remove(o),n.Ua.delete(e),Vv(n)}else await Pg(n.localStore,e,!1).then(()=>Ug(n,e,t)).catch(_l)}async function T2(r,e){const t=Me(r),n=e.batch.batchId;try{const a=await IN(t.localStore,e);dD(t,n,null),hD(t,n),t.sharedClientState.updateMutationState(n,"acknowledged"),await Dc(t,a)}catch(a){await _l(a)}}async function S2(r,e,t){const n=Me(r);try{const a=await function(u,f){const p=Me(u);return p.persistence.runTransaction("Reject batch","readwrite-primary",m=>{let v;return p.mutationQueue.lookupMutationBatch(m,f).next(_=>(et(_!==null),v=_.keys(),p.mutationQueue.removeMutationBatch(m,_))).next(()=>p.mutationQueue.performConsistencyCheck(m)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(m,v,f)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(m,v)).next(()=>p.localDocuments.getDocuments(m,v))})}(n.localStore,e);dD(n,e,t),hD(n,e),n.sharedClientState.updateMutationState(e,"rejected",t),await Dc(n,a)}catch(a){await _l(a)}}function hD(r,e){(r.Ga.get(e)||[]).forEach(t=>{t.resolve()}),r.Ga.delete(e)}function dD(r,e,t){const n=Me(r);let a=n.Wa[n.currentUser.toKey()];if(a){const o=a.get(e);o&&(t?o.reject(t):o.resolve(),a=a.remove(e)),n.Wa[n.currentUser.toKey()]=a}}function Ug(r,e,t=null){r.sharedClientState.removeLocalQueryTarget(e);for(const n of r.qa.get(e))r.ka.delete(n),t&&r.La.Ja(n,t);r.qa.delete(e),r.isPrimaryClient&&r.Ka.br(e).forEach(n=>{r.Ka.containsKey(n)||pD(r,n)})}function pD(r,e){r.Qa.delete(e.path.canonicalString());const t=r.$a.get(e);t!==null&&(kv(r.remoteStore,t),r.$a=r.$a.remove(e),r.Ua.delete(t),Vv(r))}function $w(r,e,t){for(const n of t)n instanceof lD?(r.Ka.addReference(n.key,e),D2(r,n)):n instanceof uD?(me(Lv,"Document no longer in limbo: "+n.key),r.Ka.removeReference(n.key,e),r.Ka.containsKey(n.key)||pD(r,n.key)):ke()}function D2(r,e){const t=e.key,n=t.path.canonicalString();r.$a.get(t)||r.Qa.has(n)||(me(Lv,"New document in limbo: "+t),r.Qa.add(n),Vv(r))}function Vv(r){for(;r.Qa.size>0&&r.$a.size<r.maxConcurrentLimboResolutions;){const e=r.Qa.values().next().value;r.Qa.delete(e);const t=new Se(Tt.fromString(e)),n=r.za.next();r.Ua.set(n,new p2(t)),r.$a=r.$a.insert(t,n),nD(r.remoteStore,new ba(jr(Ev(t.path)),n,"TargetPurposeLimboResolution",yd.ae))}}async function Dc(r,e,t){const n=Me(r),a=[],o=[],u=[];n.ka.isEmpty()||(n.ka.forEach((f,p)=>{u.push(n.Ha(p,e,t).then(m=>{var v;if((m||t)&&n.isPrimaryClient){const _=m?!m.fromCache:(v=t==null?void 0:t.targetChanges.get(p.targetId))===null||v===void 0?void 0:v.current;n.sharedClientState.updateQueryState(p.targetId,_?"current":"not-current")}if(m){a.push(m);const _=Rv.Yi(p.targetId,m);o.push(_)}}))}),await Promise.all(u),n.La.p_(a),await async function(p,m){const v=Me(p);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",_=>se.forEach(m,b=>se.forEach(b.Hi,S=>v.persistence.referenceDelegate.addReference(_,b.targetId,S)).next(()=>se.forEach(b.Ji,S=>v.persistence.referenceDelegate.removeReference(_,b.targetId,S)))))}catch(_){if(!El(_))throw _;me(Cv,"Failed to update sequence numbers: "+_)}for(const _ of m){const b=_.targetId;if(!_.fromCache){const S=v.Ts.get(b),C=S.snapshotVersion,N=S.withLastLimboFreeSnapshotVersion(C);v.Ts=v.Ts.insert(b,N)}}}(n.localStore,o))}async function A2(r,e){const t=Me(r);if(!t.currentUser.isEqual(e)){me(Lv,"User change. New user:",e.toKey());const n=await ZS(t.localStore,e);t.currentUser=e,function(o,u){o.Ga.forEach(f=>{f.forEach(p=>{p.reject(new Te(oe.CANCELLED,u))})}),o.Ga.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,n.removedBatchIds,n.addedBatchIds),await Dc(t,n.Rs)}}function R2(r,e){const t=Me(r),n=t.Ua.get(e);if(n&&n.Ba)return Fe().add(n.key);{let a=Fe();const o=t.qa.get(e);if(!o)return a;for(const u of o){const f=t.ka.get(u);a=a.unionWith(f.view.Sa)}return a}}function mD(r){const e=Me(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=fD.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=R2.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=b2.bind(null,e),e.La.p_=u2.bind(null,e.eventManager),e.La.Ja=c2.bind(null,e.eventManager),e}function C2(r){const e=Me(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=T2.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=S2.bind(null,e),e}class $h{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Rd(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,t){return null}nu(e,t){return null}eu(e){return kN(this.persistence,new AN,e.initialUser,this.serializer)}Xa(e){return new $S(Av.ri,this.serializer)}Za(e){return new LN}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}$h.provider={build:()=>new $h};class k2 extends $h{constructor(e){super(),this.cacheSizeBytes=e}tu(e,t){et(this.persistence.referenceDelegate instanceof Wh);const n=this.persistence.referenceDelegate.garbageCollector;return new fN(n,e.asyncQueue,t)}Xa(e){const t=this.cacheSizeBytes!==void 0?Dn.withCacheSize(this.cacheSizeBytes):Dn.DEFAULT;return new $S(n=>Wh.ri(n,t),this.serializer)}}class Bg{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=n=>Xw(this.syncEngine,n,1),this.remoteStore.remoteSyncer.handleCredentialChange=A2.bind(null,this.syncEngine),await i2(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new s2}()}createDatastore(e){const t=Rd(e.databaseInfo.databaseId),n=function(o){return new HN(o)}(e.databaseInfo);return function(o,u,f,p){return new qN(o,u,f,p)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return function(n,a,o,u,f){return new QN(n,a,o,u,f)}(this.localStore,this.datastore,e.asyncQueue,t=>Xw(this.syncEngine,t,0),function(){return Yw.D()?new Yw:new VN}())}createSyncEngine(e,t){return function(a,o,u,f,p,m,v){const _=new m2(a,o,u,f,p,m);return v&&(_.ja=!0),_}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(a){const o=Me(a);me(Bs,"RemoteStore shutting down."),o.W_.add(5),await Sc(o),o.z_.shutdown(),o.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}Bg.provider={build:()=>new Bg};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I2{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):Pi("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const La="FirestoreClient";class x2{constructor(e,t,n,a,o){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=a,this.user=hn.UNAUTHENTICATED,this.clientId=cS.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(n,async u=>{me(La,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u}),this.appCheckCredentials.start(n,u=>(me(La,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ca;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const n=Nv(t,"Failed to shutdown persistence");e.reject(n)}}),e.promise}}async function rg(r,e){r.asyncQueue.verifyOperationInProgress(),me(La,"Initializing OfflineComponentProvider");const t=r.configuration;await e.initialize(t);let n=t.initialUser;r.setCredentialChangeListener(async a=>{n.isEqual(a)||(await ZS(e.localStore,a),n=a)}),e.persistence.setDatabaseDeletedListener(()=>r.terminate()),r._offlineComponents=e}async function Zw(r,e){r.asyncQueue.verifyOperationInProgress();const t=await M2(r);me(La,"Initializing OnlineComponentProvider"),await e.initialize(t,r.configuration),r.setCredentialChangeListener(n=>Gw(e.remoteStore,n)),r.setAppCheckTokenChangeListener((n,a)=>Gw(e.remoteStore,a)),r._onlineComponents=e}async function M2(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){me(La,"Using user provided OfflineComponentProvider");try{await rg(r,r._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(a){return a.name==="FirebaseError"?a.code===oe.FAILED_PRECONDITION||a.code===oe.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11}(t))throw t;el("Error using user provided cache. Falling back to memory cache: "+t),await rg(r,new $h)}}else me(La,"Using default OfflineComponentProvider"),await rg(r,new k2(void 0));return r._offlineComponents}async function gD(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(me(La,"Using user provided OnlineComponentProvider"),await Zw(r,r._uninitializedComponentsProvider._online)):(me(La,"Using default OnlineComponentProvider"),await Zw(r,new Bg))),r._onlineComponents}function O2(r){return gD(r).then(e=>e.syncEngine)}async function N2(r){const e=await gD(r),t=e.eventManager;return t.onListen=g2.bind(null,e.syncEngine),t.onUnlisten=_2.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=v2.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=E2.bind(null,e.syncEngine),t}function P2(r,e,t={}){const n=new Ca;return r.asyncQueue.enqueueAndForget(async()=>function(o,u,f,p,m){const v=new I2({next:b=>{v.su(),u.enqueueAndForget(()=>l2(o,_));const S=b.docs.has(f);!S&&b.fromCache?m.reject(new Te(oe.UNAVAILABLE,"Failed to get document because the client is offline.")):S&&b.fromCache&&p&&p.source==="server"?m.reject(new Te(oe.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):m.resolve(b)},error:b=>m.reject(b)}),_=new f2(Ev(f.path),v,{includeMetadataChanges:!0,Ta:!0});return o2(o,_)}(await N2(r),r.asyncQueue,e,t,n)),n.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vD(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jw=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L2(r,e,t){if(!t)throw new Te(oe.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function V2(r,e,t,n){if(e===!0&&n===!0)throw new Te(oe.INVALID_ARGUMENT,`${r} and ${t} cannot be used together.`)}function eb(r){if(!Se.isDocumentKey(r))throw new Te(oe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function Uv(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=function(n){return n.constructor?n.constructor.name:null}(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":ke()}function lc(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new Te(oe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Uv(r);throw new Te(oe.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yD="firestore.googleapis.com",tb=!0;class nb{constructor(e){var t,n;if(e.host===void 0){if(e.ssl!==void 0)throw new Te(oe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=yD,this.ssl=tb}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:tb;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=XS;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<uN)throw new Te(oe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}V2("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=vD((n=e.experimentalLongPollingOptions)!==null&&n!==void 0?n:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new Te(oe.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new Te(oe.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new Te(oe.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(n,a){return n.timeoutSeconds===a.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Bv{constructor(e,t,n,a){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new nb({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Te(oe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Te(oe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new nb(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new BM;switch(n.type){case"firstParty":return new zM(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new Te(oe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const n=Jw.get(t);n&&(me("ComponentProvider","Removing Datastore"),Jw.delete(t),n.terminate())}(this),Promise.resolve()}}function U2(r,e,t,n={}){var a;const o=(r=lc(r,Bv))._getSettings(),u=Object.assign(Object.assign({},o),{emulatorOptions:r._getEmulatorOptions()}),f=`${e}:${t}`;o.host!==yD&&o.host!==f&&el("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p=Object.assign(Object.assign({},o),{host:f,ssl:!1,emulatorOptions:n});if(!Ns(p,u)&&(r._setSettings(p),n.mockUserToken)){let m,v;if(typeof n.mockUserToken=="string")m=n.mockUserToken,v=hn.MOCK_USER;else{m=Z1(n.mockUserToken,(a=r._app)===null||a===void 0?void 0:a.options.projectId);const _=n.mockUserToken.sub||n.mockUserToken.user_id;if(!_)throw new Te(oe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new hn(_)}r._authCredentials=new jM(new lS(m,v))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jv{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new jv(this.firestore,e,this._query)}}class er{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new uc(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new er(this.firestore,e,this._key)}}class uc extends jv{constructor(e,t,n){super(e,t,Ev(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new er(this.firestore,null,new Se(e))}withConverter(e){return new uc(this.firestore,e,this._path)}}function Hv(r,e,...t){if(r=tr(r),arguments.length===1&&(e=cS.newId()),L2("doc","path",e),r instanceof Bv){const n=Tt.fromString(e,...t);return eb(n),new er(r,null,new Se(n))}{if(!(r instanceof er||r instanceof uc))throw new Te(oe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=r._path.child(Tt.fromString(e,...t));return eb(n),new er(r.firestore,r instanceof uc?r.converter:null,new Se(n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rb="AsyncQueue";class ib{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new eD(this,"async_queue_retry"),this.Su=()=>{const n=ng();n&&me(rb,"Visibility state changed to "+n.visibilityState),this.a_.t_()},this.bu=e;const t=ng();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const t=ng();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.Su)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const t=new Ca;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!El(e))throw e;me(rb,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const t=this.bu.then(()=>(this.pu=!0,e().catch(n=>{this.gu=n,this.pu=!1;const a=function(u){let f=u.message||"";return u.stack&&(f=u.stack.includes(u.message)?u.stack:u.message+`
`+u.stack),f}(n);throw Pi("INTERNAL UNHANDLED ERROR: ",a),n}).then(n=>(this.pu=!1,n))));return this.bu=t,t}enqueueAfterDelay(e,t,n){this.Du(),this.wu.indexOf(e)>-1&&(t=0);const a=Ov.createAndSchedule(this,e,t,n,o=>this.Fu(o));return this.fu.push(a),a}Du(){this.gu&&ke()}verifyOperationInProgress(){}async Mu(){let e;do e=this.bu,await e;while(e!==this.bu)}xu(e){for(const t of this.fu)if(t.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((t,n)=>t.targetTimeMs-n.targetTimeMs);for(const t of this.fu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const t=this.fu.indexOf(e);this.fu.splice(t,1)}}class Fv extends Bv{constructor(e,t,n,a){super(e,t,n,a),this.type="firestore",this._queue=new ib,this._persistenceKey=(a==null?void 0:a.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new ib(e),this._firestoreClient=void 0,await e}}}function B2(r,e){const t=typeof r=="object"?r:_T(),n=typeof r=="string"?r:Fh,a=nv(t,"firestore").getImmediate({identifier:n});if(!a._initialized){const o=X1("firestore");o&&U2(a,...o)}return a}function _D(r){if(r._terminated)throw new Te(oe.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||j2(r),r._firestoreClient}function j2(r){var e,t,n;const a=r._freezeSettings(),o=function(f,p,m,v){return new iO(f,p,m,v.host,v.ssl,v.experimentalForceLongPolling,v.experimentalAutoDetectLongPolling,vD(v.experimentalLongPollingOptions),v.useFetchStreams)}(r._databaseId,((e=r._app)===null||e===void 0?void 0:e.options.appId)||"",r._persistenceKey,a);r._componentsProvider||!((t=a.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((n=a.localCache)===null||n===void 0)&&n._onlineComponentProvider)&&(r._componentsProvider={_offline:a.localCache._offlineComponentProvider,_online:a.localCache._onlineComponentProvider}),r._firestoreClient=new x2(r._authCredentials,r._appCheckCredentials,r._queue,o,r._componentsProvider&&function(f){const p=f==null?void 0:f._online.build();return{_offline:f==null?void 0:f._offline.build(p),_online:p}}(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sl{constructor(e){this._byteString=e}static fromBase64String(e){try{return new sl(on.fromBase64String(e))}catch(t){throw new Te(oe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new sl(on.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zv{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new Te(oe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new an(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ED{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yv{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Te(oe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Te(oe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Pe(this._lat,e._lat)||Pe(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qv{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(n,a){if(n.length!==a.length)return!1;for(let o=0;o<n.length;++o)if(n[o]!==a[o])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H2=/^__.*__$/;class F2{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return this.fieldMask!==null?new qs(e,this.data,this.fieldMask,t,this.fieldTransforms):new bc(e,this.data,t,this.fieldTransforms)}}function wD(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ke()}}class Gv{constructor(e,t,n,a,o,u){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=a,o===void 0&&this.Bu(),this.fieldTransforms=o||[],this.fieldMask=u||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new Gv(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var t;const n=(t=this.path)===null||t===void 0?void 0:t.child(e),a=this.ku({path:n,Qu:!1});return a.$u(e),a}Uu(e){var t;const n=(t=this.path)===null||t===void 0?void 0:t.child(e),a=this.ku({path:n,Qu:!1});return a.Bu(),a}Ku(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return Zh(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(wD(this.Lu)&&H2.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class z2{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||Rd(e)}ju(e,t,n,a=!1){return new Gv({Lu:e,methodName:t,zu:n,path:an.emptyPath(),Qu:!1,Gu:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Y2(r){const e=r._freezeSettings(),t=Rd(r._databaseId);return new z2(r._databaseId,!!e.ignoreUndefinedProperties,t)}function q2(r,e,t,n,a,o={}){const u=r.ju(o.merge||o.mergeFields?2:0,e,t,a);DD("Data must be an object, but it was:",u,n);const f=TD(n,u);let p,m;if(o.merge)p=new fr(u.fieldMask),m=u.fieldTransforms;else if(o.mergeFields){const v=[];for(const _ of o.mergeFields){const b=G2(e,_,t);if(!u.contains(b))throw new Te(oe.INVALID_ARGUMENT,`Field '${b}' is specified in your field mask but missing from your input data.`);K2(v,b)||v.push(b)}p=new fr(v),m=u.fieldTransforms.filter(_=>p.covers(_.field))}else p=null,m=u.fieldTransforms;return new F2(new Jn(f),p,m)}function bD(r,e){if(SD(r=tr(r)))return DD("Unsupported field value:",e,r),TD(r,e);if(r instanceof ED)return function(n,a){if(!wD(a.Lu))throw a.Wu(`${n._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Wu(`${n._methodName}() is not currently supported inside arrays`);const o=n._toFieldTransform(a);o&&a.fieldTransforms.push(o)}(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(n,a){const o=[];let u=0;for(const f of n){let p=bD(f,a.Ku(u));p==null&&(p={nullValue:"NULL_VALUE"}),o.push(p),u++}return{arrayValue:{values:o}}}(r,e)}return function(n,a){if((n=tr(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return CO(a.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const o=Ft.fromDate(n);return{timestampValue:Kh(a.serializer,o)}}if(n instanceof Ft){const o=new Ft(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:Kh(a.serializer,o)}}if(n instanceof Yv)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof sl)return{bytesValue:zS(a.serializer,n._byteString)};if(n instanceof er){const o=a.databaseId,u=n.firestore._databaseId;if(!u.isEqual(o))throw a.Wu(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:Sv(n.firestore._databaseId||a.databaseId,n._key.path)}}if(n instanceof qv)return function(u,f){return{mapValue:{fields:{[yS]:{stringValue:_S},[zh]:{arrayValue:{values:u.toArray().map(m=>{if(typeof m!="number")throw f.Wu("VectorValues must only contain numeric values.");return wv(f.serializer,m)})}}}}}}(n,a);throw a.Wu(`Unsupported field value: ${Uv(n)}`)}(r,e)}function TD(r,e){const t={};return hS(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):zs(r,(n,a)=>{const o=bD(a,e.qu(n));o!=null&&(t[n]=o)}),{mapValue:{fields:t}}}function SD(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof Ft||r instanceof Yv||r instanceof sl||r instanceof er||r instanceof ED||r instanceof qv)}function DD(r,e,t){if(!SD(t)||!function(a){return typeof a=="object"&&a!==null&&(Object.getPrototypeOf(a)===Object.prototype||Object.getPrototypeOf(a)===null)}(t)){const n=Uv(t);throw n==="an object"?e.Wu(r+" a custom object"):e.Wu(r+" "+n)}}function G2(r,e,t){if((e=tr(e))instanceof zv)return e._internalPath;if(typeof e=="string")return AD(r,e);throw Zh("Field path arguments must be of type string or ",r,!1,void 0,t)}const Q2=new RegExp("[~\\*/\\[\\]]");function AD(r,e,t){if(e.search(Q2)>=0)throw Zh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,t);try{return new zv(...e.split("."))._internalPath}catch{throw Zh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,t)}}function Zh(r,e,t,n,a){const o=n&&!n.isEmpty(),u=a!==void 0;let f=`Function ${e}() called with invalid data`;t&&(f+=" (via `toFirestore()`)"),f+=". ";let p="";return(o||u)&&(p+=" (found",o&&(p+=` in field ${n}`),u&&(p+=` in document ${a}`),p+=")"),new Te(oe.INVALID_ARGUMENT,f+r+p)}function K2(r,e){return r.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RD{constructor(e,t,n,a,o){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=a,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new er(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new W2(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(CD("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class W2 extends RD{data(){return super.data()}}function CD(r,e){return typeof e=="string"?AD(r,e):e instanceof zv?e._internalPath:e._delegate._internalPath}class X2{convertValue(e,t="none"){switch(Na(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ct(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Oa(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw ke()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const n={};return zs(e,(a,o)=>{n[a]=this.convertValue(o,t)}),n}convertVectorValue(e){var t,n,a;const o=(a=(n=(t=e.fields)===null||t===void 0?void 0:t[zh].arrayValue)===null||n===void 0?void 0:n.values)===null||a===void 0?void 0:a.map(u=>Ct(u.doubleValue));return new qv(o)}convertGeoPoint(e){return new Yv(Ct(e.latitude),Ct(e.longitude))}convertArray(e,t){return(e.values||[]).map(n=>this.convertValue(n,t))}convertServerTimestamp(e,t){switch(t){case"previous":const n=Ed(e);return n==null?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(rc(e));default:return null}}convertTimestamp(e){const t=Ma(e);return new Ft(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=Tt.fromString(e);et(WS(n));const a=new ic(n.get(1),n.get(3)),o=new Se(n.popFirst(5));return a.isEqual(t)||Pi(`Document ${o} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $2(r,e,t){let n;return n=r?r.toFirestore(e):e,n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z2{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class kD extends RD{constructor(e,t,n,a,o,u){super(e,t,n,a,u),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new J2(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const n=this._document.data.field(CD("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}class J2 extends kD{data(e={}){return super.data(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qv(r){r=lc(r,er);const e=lc(r.firestore,Fv);return P2(_D(e),r._key).then(t=>rP(e,r,t))}class eP extends X2{constructor(e){super(),this.firestore=e}convertBytes(e){return new sl(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new er(this.firestore,null,t)}}function tP(r,e,t){r=lc(r,er);const n=lc(r.firestore,Fv),a=$2(r.converter,e);return nP(n,[q2(Y2(n),"setDoc",r._key,a,r.converter!==null,t).toMutation(r._key,Ai.none())])}function nP(r,e){return function(n,a){const o=new Ca;return n.asyncQueue.enqueueAndForget(async()=>w2(await O2(n),a,o)),o.promise}(_D(r),e)}function rP(r,e,t){const n=t.docs.get(e._key),a=new eP(r);return new kD(r,a,e._key,n,new Z2(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(a){yl=a})(gl),Jo(new Ps("firestore",(n,{instanceIdentifier:a,options:o})=>{const u=n.getProvider("app").getImmediate(),f=new Fv(new HM(n.getProvider("auth-internal")),new YM(u,n.getProvider("app-check-internal")),function(m,v){if(!Object.prototype.hasOwnProperty.apply(m.options,["projectId"]))throw new Te(oe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ic(m.options.projectId,v)}(u,a),u);return o=Object.assign({useFetchStreams:t},o),f._setSettings(o),f},"PUBLIC").setMultipleInstances(!0)),Aa(fw,hw,e),Aa(fw,hw,"esm2017")})();const iP={apiKey:"AIzaSyCBWTWgBgUK6W63rm2FQHeIyKBuQtk-0jE",authDomain:"hytteleie-d9ee4.firebaseapp.com",projectId:"hytteleie-d9ee4",storageBucket:"hytteleie-d9ee4.firebasestorage.app",messagingSenderId:"317187915570",appId:"1:317187915570:web:6ab3e00687dd257ca7612b"},ID=yT(iP),bl=VM(ID),Kv=B2(ID);async function aP(r,e){return(await Sx(bl,r,e)).user}async function sP(r,e){return(await Tx(bl,r,e)).user}async function oP(){const r=new Pr,t=(await eS(bl,r)).user,n=Hv(Kv,"users",t.uid),a=await Qv(n);if(!a.exists()||!a.data()){window.alert("Brukeren finnes ikke");return}else return t}async function lP(){const r=new Pr,t=(await eS(bl,r)).user,n=Hv(Kv,"users",t.uid);return(await Qv(n)).exists()||await tP(n,{uid:t.uid,name:t.displayName,email:t.email,photoURL:t.photoURL,createdAt:new Date}),console.log(t),t}function uP(){return Rx(bl)}function cP({props:r}){const[e,t]=V.useState(!1),o=Ui().pathname==="/"?"#fff":"#000",u=f=>f.length>12?f.slice(0,11)+"...":f;return B.jsxs("div",{className:"user-block-container",onMouseEnter:()=>t(!0),onMouseLeave:()=>t(!1),children:[B.jsxs("div",{className:"user-block",children:[B.jsx("img",{src:r.photoURL,alt:r.displayName,className:"user-block-image"}),B.jsx("h3",{style:{color:o},className:"user-block-name",children:u(r.displayName)})]}),e&&B.jsx("div",{className:"dropdown-menu",children:B.jsx("div",{className:"dropdown-content",children:B.jsx("button",{className:"dropdown-button",onClick:uP,children:"Logout"})})})]})}function fP(){const e=Ui().pathname==="/",{user:t}=V.useContext(Jg),n=e?"#fff":"#000",a=e?"rgba(255, 255, 255, .1) solid 1px":"rgba(0, 0, 0, .1) solid 1px",o=e?"transparent":"#fff";return B.jsx("div",{className:"header-container",style:{borderBottom:a,backgroundColor:o},children:B.jsxs("div",{className:"header-content",children:[B.jsx("a",{href:"/",className:"header-logo",style:{color:n},children:"Hytte Leie"}),B.jsxs("div",{className:"header-dock",children:[B.jsx("a",{style:{color:n},href:"/hytter",children:"Hytter"}),B.jsx("a",{style:{color:n},href:"/omoss",children:"Om oss"}),t?B.jsx(B.Fragment,{children:B.jsx(cP,{props:t},1)}):B.jsxs(B.Fragment,{children:[B.jsx("a",{style:{color:n},href:"/register",children:"Registrer"}),B.jsx("a",{style:{color:n},href:"/login",children:"Logg inn"})]})]})]})})}const hP="/assets/notfound-Bxuhigpu.png";function dP(){return B.jsx("div",{className:"nf-page",children:B.jsxs("div",{className:"nf-content",children:[B.jsx("img",{src:hP,alt:"404 not found."}),B.jsx("h3",{children:"Feilmelding 404 - Siden ble ikke funnet"}),B.jsxs("p",{children:["Denne hytta fant vi ikke dessverre... Har du lyst til  se p de andre ",B.jsx("a",{href:"/hytter",children:"hyttene vre"}),"?"]})]})})}function pP(){return B.jsx("div",{className:"about-page-container",children:B.jsxs("div",{className:"about-page-content",children:[B.jsx("h3",{children:"Om oss"}),B.jsxs("p",{children:["Hytte Leie er et personlig prosjekt til ",B.jsx("a",{href:"https://wesseldalen.eu",target:"_blank",children:"Wessel van Dalen"}),", for  vise frem ferdighetene sine med React TypeScript, Firebase og Firestore."]}),B.jsx("p",{children:"Hos Hytte Leie kan du opprette en konto, utforske alle tilgjengelige hytter og leie dem for nsket periode. Ta en pause fra hverdagen, slapp av i naturen og finn roen i vakre omgivelser."}),B.jsxs("p",{children:["Hvis du har noen sprsml, kan du alltid sende en e-post til ",B.jsx("a",{href:"mailto:wesselvandalen@gmail.com",children:"wesselvandalen@gmail.com"})]})]})})}const xD=r=>{switch(r.toLowerCase()){case"skog":return"#80cc91";case"fjell":return"#c8d2d0";case"avsides":return"#de9370";case"familie":return"#d6de93";case"innsj":return"#6dd7c9";case"romantisk":return"#e5b4e7";case"luksus":return"#ccaf80";case"enkel":return"#a7b0a4";default:return"#e7e7e8"}};function mP({cabin:r}){return B.jsxs("a",{className:"cabin-container",href:`/hytter/${r.id}`,children:[B.jsx("img",{src:r.images[0],alt:r.title}),B.jsxs("div",{className:"cabin-info",children:[B.jsxs("div",{className:"title-tags-container",children:[B.jsx("h3",{className:"cabin-title",children:r.title}),B.jsx("div",{className:"cabin-tags",children:r.categories.map((e,t)=>B.jsx("p",{style:{backgroundColor:xD(e)},children:e},t))})]}),B.jsxs("div",{className:"cabin-location",children:[B.jsx("svg",{width:"100%",height:"100%",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:B.jsx("path",{d:"M9 18L2 22V6L9 2M9 18L16 22M9 18V2M16 22L22 18V2L16 6M16 22V6M16 6L9 2",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}),B.jsx("p",{children:r.location})]}),B.jsx("p",{className:"cabin-description",children:r.description}),B.jsx("div",{className:"cabin-amenities",children:r.amenities.map((e,t)=>B.jsx("p",{children:e},t))}),B.jsxs("p",{className:"cabin-max-guests",children:["Maks. antall gjester: ",r.maxGuests]})]}),B.jsxs("p",{className:"cabin-price",children:["Pris per natt: ",r.pricePerNight," kr"]})]})}const gP="/assets/logo-B7rzZeaL.png";function MD(){return B.jsx("div",{className:"footer-container",children:B.jsx("div",{className:"footer-content",children:B.jsxs("div",{className:"footer-part footer-bottom",children:[B.jsxs("div",{className:"footer-row",children:[B.jsx("a",{href:"/",children:B.jsx("img",{src:gP,alt:"Hyttte Leie logo",className:"footer-logo"})}),B.jsxs("p",{children:["Hytte Leie  ",new Date().getFullYear()]}),B.jsx("p",{children:"Alle rettigheter reservert."})]}),B.jsx("div",{className:"footer-column",children:B.jsxs("div",{className:"footer-row",children:[B.jsx("h3",{children:"Sider"}),B.jsxs("div",{className:"footer-column-2",children:[B.jsxs("div",{className:"footer-row",children:[B.jsx("a",{href:"/",children:"Hjem"}),B.jsx("a",{href:"/hytter",children:"Hytter"}),B.jsx("a",{href:"/omoss",children:"Om oss"})]}),B.jsxs("div",{className:"footer-row",children:[B.jsx("a",{href:"/register",children:"Registrer"}),B.jsx("a",{href:"/login",children:"Logg inn"})]})]})]})})]})})})}function vP({maxGuests:r,setMaxGuests:e,location:t,setLocation:n}){return B.jsx("div",{className:"filter-box",children:B.jsxs("div",{className:"filter-box-content",children:[B.jsxs("div",{className:"filter",children:[B.jsx("svg",{width:"100%",height:"100%",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:B.jsx("path",{d:"M22 21V19C22 17.1362 20.7252 15.5701 19 15.126M15.5 3.29076C16.9659 3.88415 18 5.32131 18 7C18 8.67869 16.9659 10.1159 15.5 10.7092M17 21C17 19.1362 17 18.2044 16.6955 17.4693C16.2895 16.4892 15.5108 15.7105 14.5307 15.3045C13.7956 15 12.8638 15 11 15H8C6.13623 15 5.20435 15 4.46927 15.3045C3.48915 15.7105 2.71046 16.4892 2.30448 17.4693C2 18.2044 2 19.1362 2 21M13.5 7C13.5 9.20914 11.7091 11 9.5 11C7.29086 11 5.5 9.20914 5.5 7C5.5 4.79086 7.29086 3 9.5 3C11.7091 3 13.5 4.79086 13.5 7Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}),"Maks. antall gjester",B.jsx("input",{type:"number",value:r??"",onChange:a=>e(a.target.value?parseInt(a.target.value):null)})]}),B.jsx("p",{children:"|"}),B.jsxs("div",{className:"filter",children:[B.jsx("svg",{width:"100%",height:"100%",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:B.jsx("path",{d:"M9 18L2 22V6L9 2M9 18L16 22M9 18V2M16 22L22 18V2L16 6M16 22V6M16 6L9 2",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}),"Sk etter sted",B.jsx("input",{type:"text",value:t,onChange:a=>n(a.target.value)})]})]})})}function yP(){const[r,e]=V.useState(Os),[t,n]=V.useState(null),[a,o]=V.useState("");V.useEffect(()=>{u()},[t]),V.useEffect(()=>{f()},[a]);const u=()=>{if(t===0||t===null){e(r);return}const p=V1(t);e(p)},f=()=>{if(a===""||a===null){e(r);return}const p=uT(a);e(p)};return B.jsxs("div",{className:"cabins-page-container",children:[B.jsxs("div",{className:"cabins-page-content",children:[B.jsx("h3",{className:"cp-title",children:"Fantastiske hytter, rimelige priser"}),B.jsx("p",{className:"cp-description",children:"Unn deg en pause  naturen er bare et klikk unna."}),B.jsx(vP,{maxGuests:t,setMaxGuests:n,location:a,setLocation:o}),B.jsx("div",{className:"cabins-list",children:r.map(p=>B.jsx(mP,{cabin:p},p.id))})]}),B.jsx(MD,{})]})}function OD(r){var e,t,n="";if(typeof r=="string"||typeof r=="number")n+=r;else if(typeof r=="object")if(Array.isArray(r)){var a=r.length;for(e=0;e<a;e++)r[e]&&(t=OD(r[e]))&&(n&&(n+=" "),n+=t)}else for(t in r)r[t]&&(n&&(n+=" "),n+=t);return n}function sn(){for(var r,e,t=0,n="",a=arguments.length;t<a;t++)(r=arguments[t])&&(e=OD(r))&&(n&&(n+=" "),n+=e);return n}const ND=6048e5,_P=864e5,Id=6e4,xd=36e5,EP=1e3,ab=Symbol.for("constructDateFrom");function at(r,e){return typeof r=="function"?r(e):r&&typeof r=="object"&&ab in r?r[ab](e):r instanceof Date?new r.constructor(e):new Date(e)}function ve(r,e){return at(e||r,r)}function dr(r,e,t){const n=ve(r,t==null?void 0:t.in);return isNaN(e)?at((t==null?void 0:t.in)||r,NaN):(e&&n.setDate(n.getDate()+e),n)}function pr(r,e,t){const n=ve(r,t==null?void 0:t.in);if(isNaN(e))return at(r,NaN);if(!e)return n;const a=n.getDate(),o=at(r,n.getTime());o.setMonth(n.getMonth()+e+1,0);const u=o.getDate();return a>=u?o:(n.setFullYear(o.getFullYear(),o.getMonth(),a),n)}function PD(r,e,t){return at(r,+ve(r)+e)}function wP(r,e,t){return PD(r,e*xd)}let bP={};function Qs(){return bP}function Vi(r,e){var f,p,m,v;const t=Qs(),n=(e==null?void 0:e.weekStartsOn)??((p=(f=e==null?void 0:e.locale)==null?void 0:f.options)==null?void 0:p.weekStartsOn)??t.weekStartsOn??((v=(m=t.locale)==null?void 0:m.options)==null?void 0:v.weekStartsOn)??0,a=ve(r,e==null?void 0:e.in),o=a.getDay(),u=(o<n?7:0)+o-n;return a.setDate(a.getDate()-u),a.setHours(0,0,0,0),a}function ol(r,e){return Vi(r,{...e,weekStartsOn:1})}function LD(r,e){const t=ve(r,e==null?void 0:e.in),n=t.getFullYear(),a=at(t,0);a.setFullYear(n+1,0,4),a.setHours(0,0,0,0);const o=ol(a),u=at(t,0);u.setFullYear(n,0,4),u.setHours(0,0,0,0);const f=ol(u);return t.getTime()>=o.getTime()?n+1:t.getTime()>=f.getTime()?n:n-1}function Jh(r){const e=ve(r),t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),+r-+t}function ji(r,...e){const t=at.bind(null,e.find(n=>typeof n=="object"));return e.map(t)}function js(r,e){const t=ve(r,e==null?void 0:e.in);return t.setHours(0,0,0,0),t}function ll(r,e,t){const[n,a]=ji(t==null?void 0:t.in,r,e),o=js(n),u=js(a),f=+o-Jh(o),p=+u-Jh(u);return Math.round((f-p)/_P)}function TP(r,e){const t=LD(r,e),n=at(r,0);return n.setFullYear(t,0,4),n.setHours(0,0,0,0),ol(n)}function jg(r,e,t){const n=ve(r,t==null?void 0:t.in);return n.setTime(n.getTime()+e*Id),n}function Wv(r,e,t){return pr(r,e*3,t)}function SP(r,e,t){return PD(r,e*1e3)}function ed(r,e,t){return dr(r,e*7,t)}function Ri(r,e,t){return pr(r,e*12,t)}function sb(r,e){let t,n=e==null?void 0:e.in;return r.forEach(a=>{!n&&typeof a=="object"&&(n=at.bind(null,a));const o=ve(a,n);(!t||t<o||isNaN(+o))&&(t=o)}),at(n,t||NaN)}function ob(r,e){let t,n=e==null?void 0:e.in;return r.forEach(a=>{!n&&typeof a=="object"&&(n=at.bind(null,a));const o=ve(a,n);(!t||t>o||isNaN(+o))&&(t=o)}),at(n,t||NaN)}function DP(r,e,t){const[n,a]=ji(t==null?void 0:t.in,r,e);return+js(n)==+js(a)}function Ci(r){return r instanceof Date||typeof r=="object"&&Object.prototype.toString.call(r)==="[object Date]"}function td(r){return!(!Ci(r)&&typeof r!="number"||isNaN(+ve(r)))}function nd(r,e,t){const[n,a]=ji(t==null?void 0:t.in,r,e),o=n.getFullYear()-a.getFullYear(),u=n.getMonth()-a.getMonth();return o*12+u}function Is(r,e){const t=ve(r,e==null?void 0:e.in);return Math.trunc(t.getMonth()/3)+1}function rd(r,e,t){const[n,a]=ji(t==null?void 0:t.in,r,e),o=n.getFullYear()-a.getFullYear(),u=Is(n)-Is(a);return o*4+u}function id(r,e,t){const[n,a]=ji(t==null?void 0:t.in,r,e);return n.getFullYear()-a.getFullYear()}function AP(r,e,t){const[n,a]=ji(t==null?void 0:t.in,r,e),o=lb(n,a),u=Math.abs(ll(n,a));n.setDate(n.getDate()-o*u);const f=+(lb(n,a)===-o),p=o*(u-f);return p===0?0:p}function lb(r,e){const t=r.getFullYear()-e.getFullYear()||r.getMonth()-e.getMonth()||r.getDate()-e.getDate()||r.getHours()-e.getHours()||r.getMinutes()-e.getMinutes()||r.getSeconds()-e.getSeconds()||r.getMilliseconds()-e.getMilliseconds();return t<0?-1:t>0?1:t}function VD(r,e){const t=ve(r,e==null?void 0:e.in);return t.setHours(23,59,59,999),t}function UD(r,e){const t=ve(r,e==null?void 0:e.in),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(23,59,59,999),t}function Hg(r,e){const t=ve(r,e==null?void 0:e.in),n=t.getMonth(),a=n-n%3;return t.setMonth(a,1),t.setHours(0,0,0,0),t}function BD(r,e){const t=ve(r,e==null?void 0:e.in);return t.setDate(1),t.setHours(0,0,0,0),t}function jD(r,e){const t=ve(r,e==null?void 0:e.in),n=t.getFullYear();return t.setFullYear(n+1,0,0),t.setHours(23,59,59,999),t}function Md(r,e){const t=ve(r,e==null?void 0:e.in);return t.setFullYear(t.getFullYear(),0,1),t.setHours(0,0,0,0),t}function RP(r,e){var f,p;const t=Qs(),n=t.weekStartsOn??((p=(f=t.locale)==null?void 0:f.options)==null?void 0:p.weekStartsOn)??0,a=ve(r,e==null?void 0:e.in),o=a.getDay(),u=(o<n?-7:0)+6-(o-n);return a.setDate(a.getDate()+u),a.setHours(23,59,59,999),a}const CP={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},kP=(r,e,t)=>{let n;const a=CP[r];return typeof a=="string"?n=a:e===1?n=a.one:n=a.other.replace("{{count}}",e.toString()),t!=null&&t.addSuffix?t.comparison&&t.comparison>0?"in "+n:n+" ago":n};function ig(r){return(e={})=>{const t=e.width?String(e.width):r.defaultWidth;return r.formats[t]||r.formats[r.defaultWidth]}}const IP={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},xP={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},MP={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},OP={date:ig({formats:IP,defaultWidth:"full"}),time:ig({formats:xP,defaultWidth:"full"}),dateTime:ig({formats:MP,defaultWidth:"full"})},NP={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},PP=(r,e,t,n)=>NP[r];function Lu(r){return(e,t)=>{const n=t!=null&&t.context?String(t.context):"standalone";let a;if(n==="formatting"&&r.formattingValues){const u=r.defaultFormattingWidth||r.defaultWidth,f=t!=null&&t.width?String(t.width):u;a=r.formattingValues[f]||r.formattingValues[u]}else{const u=r.defaultWidth,f=t!=null&&t.width?String(t.width):r.defaultWidth;a=r.values[f]||r.values[u]}const o=r.argumentCallback?r.argumentCallback(e):e;return a[o]}}const LP={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},VP={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},UP={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},BP={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},jP={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},HP={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},FP=(r,e)=>{const t=Number(r),n=t%100;if(n>20||n<10)switch(n%10){case 1:return t+"st";case 2:return t+"nd";case 3:return t+"rd"}return t+"th"},zP={ordinalNumber:FP,era:Lu({values:LP,defaultWidth:"wide"}),quarter:Lu({values:VP,defaultWidth:"wide",argumentCallback:r=>r-1}),month:Lu({values:UP,defaultWidth:"wide"}),day:Lu({values:BP,defaultWidth:"wide"}),dayPeriod:Lu({values:jP,defaultWidth:"wide",formattingValues:HP,defaultFormattingWidth:"wide"})};function Vu(r){return(e,t={})=>{const n=t.width,a=n&&r.matchPatterns[n]||r.matchPatterns[r.defaultMatchWidth],o=e.match(a);if(!o)return null;const u=o[0],f=n&&r.parsePatterns[n]||r.parsePatterns[r.defaultParseWidth],p=Array.isArray(f)?qP(f,_=>_.test(u)):YP(f,_=>_.test(u));let m;m=r.valueCallback?r.valueCallback(p):p,m=t.valueCallback?t.valueCallback(m):m;const v=e.slice(u.length);return{value:m,rest:v}}}function YP(r,e){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t)&&e(r[t]))return t}function qP(r,e){for(let t=0;t<r.length;t++)if(e(r[t]))return t}function GP(r){return(e,t={})=>{const n=e.match(r.matchPattern);if(!n)return null;const a=n[0],o=e.match(r.parsePattern);if(!o)return null;let u=r.valueCallback?r.valueCallback(o[0]):o[0];u=t.valueCallback?t.valueCallback(u):u;const f=e.slice(a.length);return{value:u,rest:f}}}const QP=/^(\d+)(th|st|nd|rd)?/i,KP=/\d+/i,WP={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},XP={any:[/^b/i,/^(a|c)/i]},$P={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},ZP={any:[/1/i,/2/i,/3/i,/4/i]},JP={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},eL={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},tL={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},nL={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},rL={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},iL={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},aL={ordinalNumber:GP({matchPattern:QP,parsePattern:KP,valueCallback:r=>parseInt(r,10)}),era:Vu({matchPatterns:WP,defaultMatchWidth:"wide",parsePatterns:XP,defaultParseWidth:"any"}),quarter:Vu({matchPatterns:$P,defaultMatchWidth:"wide",parsePatterns:ZP,defaultParseWidth:"any",valueCallback:r=>r+1}),month:Vu({matchPatterns:JP,defaultMatchWidth:"wide",parsePatterns:eL,defaultParseWidth:"any"}),day:Vu({matchPatterns:tL,defaultMatchWidth:"wide",parsePatterns:nL,defaultParseWidth:"any"}),dayPeriod:Vu({matchPatterns:rL,defaultMatchWidth:"any",parsePatterns:iL,defaultParseWidth:"any"})},HD={code:"en-US",formatDistance:kP,formatLong:OP,formatRelative:PP,localize:zP,match:aL,options:{weekStartsOn:0,firstWeekContainsDate:1}};function sL(r,e){const t=ve(r,e==null?void 0:e.in);return ll(t,Md(t))+1}function Xv(r,e){const t=ve(r,e==null?void 0:e.in),n=+ol(t)-+TP(t);return Math.round(n/ND)+1}function $v(r,e){var v,_,b,S;const t=ve(r,e==null?void 0:e.in),n=t.getFullYear(),a=Qs(),o=(e==null?void 0:e.firstWeekContainsDate)??((_=(v=e==null?void 0:e.locale)==null?void 0:v.options)==null?void 0:_.firstWeekContainsDate)??a.firstWeekContainsDate??((S=(b=a.locale)==null?void 0:b.options)==null?void 0:S.firstWeekContainsDate)??1,u=at((e==null?void 0:e.in)||r,0);u.setFullYear(n+1,0,o),u.setHours(0,0,0,0);const f=Vi(u,e),p=at((e==null?void 0:e.in)||r,0);p.setFullYear(n,0,o),p.setHours(0,0,0,0);const m=Vi(p,e);return+t>=+f?n+1:+t>=+m?n:n-1}function oL(r,e){var f,p,m,v;const t=Qs(),n=(e==null?void 0:e.firstWeekContainsDate)??((p=(f=e==null?void 0:e.locale)==null?void 0:f.options)==null?void 0:p.firstWeekContainsDate)??t.firstWeekContainsDate??((v=(m=t.locale)==null?void 0:m.options)==null?void 0:v.firstWeekContainsDate)??1,a=$v(r,e),o=at((e==null?void 0:e.in)||r,0);return o.setFullYear(a,0,n),o.setHours(0,0,0,0),Vi(o,e)}function FD(r,e){const t=ve(r,e==null?void 0:e.in),n=+Vi(t,e)-+oL(t,e);return Math.round(n/ND)+1}function it(r,e){const t=r<0?"-":"",n=Math.abs(r).toString().padStart(e,"0");return t+n}const va={y(r,e){const t=r.getFullYear(),n=t>0?t:1-t;return it(e==="yy"?n%100:n,e.length)},M(r,e){const t=r.getMonth();return e==="M"?String(t+1):it(t+1,2)},d(r,e){return it(r.getDate(),e.length)},a(r,e){const t=r.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return t.toUpperCase();case"aaa":return t;case"aaaaa":return t[0];case"aaaa":default:return t==="am"?"a.m.":"p.m."}},h(r,e){return it(r.getHours()%12||12,e.length)},H(r,e){return it(r.getHours(),e.length)},m(r,e){return it(r.getMinutes(),e.length)},s(r,e){return it(r.getSeconds(),e.length)},S(r,e){const t=e.length,n=r.getMilliseconds(),a=Math.trunc(n*Math.pow(10,t-3));return it(a,e.length)}},Ho={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},ub={G:function(r,e,t){const n=r.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return t.era(n,{width:"abbreviated"});case"GGGGG":return t.era(n,{width:"narrow"});case"GGGG":default:return t.era(n,{width:"wide"})}},y:function(r,e,t){if(e==="yo"){const n=r.getFullYear(),a=n>0?n:1-n;return t.ordinalNumber(a,{unit:"year"})}return va.y(r,e)},Y:function(r,e,t,n){const a=$v(r,n),o=a>0?a:1-a;if(e==="YY"){const u=o%100;return it(u,2)}return e==="Yo"?t.ordinalNumber(o,{unit:"year"}):it(o,e.length)},R:function(r,e){const t=LD(r);return it(t,e.length)},u:function(r,e){const t=r.getFullYear();return it(t,e.length)},Q:function(r,e,t){const n=Math.ceil((r.getMonth()+1)/3);switch(e){case"Q":return String(n);case"QQ":return it(n,2);case"Qo":return t.ordinalNumber(n,{unit:"quarter"});case"QQQ":return t.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return t.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return t.quarter(n,{width:"wide",context:"formatting"})}},q:function(r,e,t){const n=Math.ceil((r.getMonth()+1)/3);switch(e){case"q":return String(n);case"qq":return it(n,2);case"qo":return t.ordinalNumber(n,{unit:"quarter"});case"qqq":return t.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return t.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return t.quarter(n,{width:"wide",context:"standalone"})}},M:function(r,e,t){const n=r.getMonth();switch(e){case"M":case"MM":return va.M(r,e);case"Mo":return t.ordinalNumber(n+1,{unit:"month"});case"MMM":return t.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return t.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return t.month(n,{width:"wide",context:"formatting"})}},L:function(r,e,t){const n=r.getMonth();switch(e){case"L":return String(n+1);case"LL":return it(n+1,2);case"Lo":return t.ordinalNumber(n+1,{unit:"month"});case"LLL":return t.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return t.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return t.month(n,{width:"wide",context:"standalone"})}},w:function(r,e,t,n){const a=FD(r,n);return e==="wo"?t.ordinalNumber(a,{unit:"week"}):it(a,e.length)},I:function(r,e,t){const n=Xv(r);return e==="Io"?t.ordinalNumber(n,{unit:"week"}):it(n,e.length)},d:function(r,e,t){return e==="do"?t.ordinalNumber(r.getDate(),{unit:"date"}):va.d(r,e)},D:function(r,e,t){const n=sL(r);return e==="Do"?t.ordinalNumber(n,{unit:"dayOfYear"}):it(n,e.length)},E:function(r,e,t){const n=r.getDay();switch(e){case"E":case"EE":case"EEE":return t.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return t.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return t.day(n,{width:"short",context:"formatting"});case"EEEE":default:return t.day(n,{width:"wide",context:"formatting"})}},e:function(r,e,t,n){const a=r.getDay(),o=(a-n.weekStartsOn+8)%7||7;switch(e){case"e":return String(o);case"ee":return it(o,2);case"eo":return t.ordinalNumber(o,{unit:"day"});case"eee":return t.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return t.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return t.day(a,{width:"short",context:"formatting"});case"eeee":default:return t.day(a,{width:"wide",context:"formatting"})}},c:function(r,e,t,n){const a=r.getDay(),o=(a-n.weekStartsOn+8)%7||7;switch(e){case"c":return String(o);case"cc":return it(o,e.length);case"co":return t.ordinalNumber(o,{unit:"day"});case"ccc":return t.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return t.day(a,{width:"narrow",context:"standalone"});case"cccccc":return t.day(a,{width:"short",context:"standalone"});case"cccc":default:return t.day(a,{width:"wide",context:"standalone"})}},i:function(r,e,t){const n=r.getDay(),a=n===0?7:n;switch(e){case"i":return String(a);case"ii":return it(a,e.length);case"io":return t.ordinalNumber(a,{unit:"day"});case"iii":return t.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return t.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return t.day(n,{width:"short",context:"formatting"});case"iiii":default:return t.day(n,{width:"wide",context:"formatting"})}},a:function(r,e,t){const a=r.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return t.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return t.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return t.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return t.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(r,e,t){const n=r.getHours();let a;switch(n===12?a=Ho.noon:n===0?a=Ho.midnight:a=n/12>=1?"pm":"am",e){case"b":case"bb":return t.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return t.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return t.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return t.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(r,e,t){const n=r.getHours();let a;switch(n>=17?a=Ho.evening:n>=12?a=Ho.afternoon:n>=4?a=Ho.morning:a=Ho.night,e){case"B":case"BB":case"BBB":return t.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return t.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return t.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(r,e,t){if(e==="ho"){let n=r.getHours()%12;return n===0&&(n=12),t.ordinalNumber(n,{unit:"hour"})}return va.h(r,e)},H:function(r,e,t){return e==="Ho"?t.ordinalNumber(r.getHours(),{unit:"hour"}):va.H(r,e)},K:function(r,e,t){const n=r.getHours()%12;return e==="Ko"?t.ordinalNumber(n,{unit:"hour"}):it(n,e.length)},k:function(r,e,t){let n=r.getHours();return n===0&&(n=24),e==="ko"?t.ordinalNumber(n,{unit:"hour"}):it(n,e.length)},m:function(r,e,t){return e==="mo"?t.ordinalNumber(r.getMinutes(),{unit:"minute"}):va.m(r,e)},s:function(r,e,t){return e==="so"?t.ordinalNumber(r.getSeconds(),{unit:"second"}):va.s(r,e)},S:function(r,e){return va.S(r,e)},X:function(r,e,t){const n=r.getTimezoneOffset();if(n===0)return"Z";switch(e){case"X":return fb(n);case"XXXX":case"XX":return As(n);case"XXXXX":case"XXX":default:return As(n,":")}},x:function(r,e,t){const n=r.getTimezoneOffset();switch(e){case"x":return fb(n);case"xxxx":case"xx":return As(n);case"xxxxx":case"xxx":default:return As(n,":")}},O:function(r,e,t){const n=r.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+cb(n,":");case"OOOO":default:return"GMT"+As(n,":")}},z:function(r,e,t){const n=r.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+cb(n,":");case"zzzz":default:return"GMT"+As(n,":")}},t:function(r,e,t){const n=Math.trunc(+r/1e3);return it(n,e.length)},T:function(r,e,t){return it(+r,e.length)}};function cb(r,e=""){const t=r>0?"-":"+",n=Math.abs(r),a=Math.trunc(n/60),o=n%60;return o===0?t+String(a):t+String(a)+e+it(o,2)}function fb(r,e){return r%60===0?(r>0?"-":"+")+it(Math.abs(r)/60,2):As(r,e)}function As(r,e=""){const t=r>0?"-":"+",n=Math.abs(r),a=it(Math.trunc(n/60),2),o=it(n%60,2);return t+a+e+o}const hb=(r,e)=>{switch(r){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},zD=(r,e)=>{switch(r){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},lL=(r,e)=>{const t=r.match(/(P+)(p+)?/)||[],n=t[1],a=t[2];if(!a)return hb(r,e);let o;switch(n){case"P":o=e.dateTime({width:"short"});break;case"PP":o=e.dateTime({width:"medium"});break;case"PPP":o=e.dateTime({width:"long"});break;case"PPPP":default:o=e.dateTime({width:"full"});break}return o.replace("{{date}}",hb(n,e)).replace("{{time}}",zD(a,e))},Fg={p:zD,P:lL},uL=/^D+$/,cL=/^Y+$/,fL=["D","DD","YY","YYYY"];function hL(r){return uL.test(r)}function dL(r){return cL.test(r)}function pL(r,e,t){const n=mL(r,e,t);if(console.warn(n),fL.includes(r))throw new RangeError(n)}function mL(r,e,t){const n=r[0]==="Y"?"years":"days of the month";return`Use \`${r.toLowerCase()}\` instead of \`${r}\` (in \`${e}\`) for formatting ${n} to the input \`${t}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const gL=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,vL=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,yL=/^'([^]*?)'?$/,_L=/''/g,EL=/[a-zA-Z]/;function db(r,e,t){var v,_,b,S,C,N,I,j;const n=Qs(),a=(t==null?void 0:t.locale)??n.locale??HD,o=(t==null?void 0:t.firstWeekContainsDate)??((_=(v=t==null?void 0:t.locale)==null?void 0:v.options)==null?void 0:_.firstWeekContainsDate)??n.firstWeekContainsDate??((S=(b=n.locale)==null?void 0:b.options)==null?void 0:S.firstWeekContainsDate)??1,u=(t==null?void 0:t.weekStartsOn)??((N=(C=t==null?void 0:t.locale)==null?void 0:C.options)==null?void 0:N.weekStartsOn)??n.weekStartsOn??((j=(I=n.locale)==null?void 0:I.options)==null?void 0:j.weekStartsOn)??0,f=ve(r,t==null?void 0:t.in);if(!td(f))throw new RangeError("Invalid time value");let p=e.match(vL).map(K=>{const z=K[0];if(z==="p"||z==="P"){const re=Fg[z];return re(K,a.formatLong)}return K}).join("").match(gL).map(K=>{if(K==="''")return{isToken:!1,value:"'"};const z=K[0];if(z==="'")return{isToken:!1,value:wL(K)};if(ub[z])return{isToken:!0,value:K};if(z.match(EL))throw new RangeError("Format string contains an unescaped latin alphabet character `"+z+"`");return{isToken:!1,value:K}});a.localize.preprocessor&&(p=a.localize.preprocessor(f,p));const m={firstWeekContainsDate:o,weekStartsOn:u,locale:a};return p.map(K=>{if(!K.isToken)return K.value;const z=K.value;(!(t!=null&&t.useAdditionalWeekYearTokens)&&dL(z)||!(t!=null&&t.useAdditionalDayOfYearTokens)&&hL(z))&&pL(z,e,String(r));const re=ub[z[0]];return re(f,z,a.localize,m)}).join("")}function wL(r){const e=r.match(yL);return e?e[1].replace(_L,"'"):r}function pb(r,e){return ve(r,e==null?void 0:e.in).getDate()}function bL(r,e){return ve(r,e==null?void 0:e.in).getDay()}function TL(r,e){const t=ve(r,e==null?void 0:e.in),n=t.getFullYear(),a=t.getMonth(),o=at(t,0);return o.setFullYear(n,a+1,0),o.setHours(0,0,0,0),o.getDate()}function SL(){return Object.assign({},Qs())}function ki(r,e){return ve(r,e==null?void 0:e.in).getHours()}function DL(r,e){const t=ve(r,e==null?void 0:e.in).getDay();return t===0?7:t}function Ii(r,e){return ve(r,e==null?void 0:e.in).getMinutes()}function En(r,e){return ve(r,e==null?void 0:e.in).getMonth()}function ka(r){return ve(r).getSeconds()}function zg(r){return+ve(r)}function Le(r,e){return ve(r,e==null?void 0:e.in).getFullYear()}function Va(r,e){return+ve(r)>+ve(e)}function Hs(r,e){return+ve(r)<+ve(e)}function AL(r,e){return+ve(r)==+ve(e)}function RL(r,e){const t=CL(e)?new e(0):at(e,0);return t.setFullYear(r.getFullYear(),r.getMonth(),r.getDate()),t.setHours(r.getHours(),r.getMinutes(),r.getSeconds(),r.getMilliseconds()),t}function CL(r){var e;return typeof r=="function"&&((e=r.prototype)==null?void 0:e.constructor)===r}const kL=10;class YD{constructor(){pe(this,"subPriority",0)}validate(e,t){return!0}}class IL extends YD{constructor(e,t,n,a,o){super(),this.value=e,this.validateValue=t,this.setValue=n,this.priority=a,o&&(this.subPriority=o)}validate(e,t){return this.validateValue(e,this.value,t)}set(e,t,n){return this.setValue(e,t,this.value,n)}}class xL extends YD{constructor(t,n){super();pe(this,"priority",kL);pe(this,"subPriority",-1);this.context=t||(a=>at(n,a))}set(t,n){return n.timestampIsSet?t:at(t,RL(t,this.context))}}class $e{run(e,t,n,a){const o=this.parse(e,t,n,a);return o?{setter:new IL(o.value,this.validate,this.set,this.priority,this.subPriority),rest:o.rest}:null}validate(e,t,n){return!0}}class ML extends $e{constructor(){super(...arguments);pe(this,"priority",140);pe(this,"incompatibleTokens",["R","u","t","T"])}parse(t,n,a){switch(n){case"G":case"GG":case"GGG":return a.era(t,{width:"abbreviated"})||a.era(t,{width:"narrow"});case"GGGGG":return a.era(t,{width:"narrow"});case"GGGG":default:return a.era(t,{width:"wide"})||a.era(t,{width:"abbreviated"})||a.era(t,{width:"narrow"})}}set(t,n,a){return n.era=a,t.setFullYear(a,0,1),t.setHours(0,0,0,0),t}}const kt={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},Lr={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function It(r,e){return r&&{value:e(r.value),rest:r.rest}}function vt(r,e){const t=e.match(r);return t?{value:parseInt(t[0],10),rest:e.slice(t[0].length)}:null}function Vr(r,e){const t=e.match(r);if(!t)return null;if(t[0]==="Z")return{value:0,rest:e.slice(1)};const n=t[1]==="+"?1:-1,a=t[2]?parseInt(t[2],10):0,o=t[3]?parseInt(t[3],10):0,u=t[5]?parseInt(t[5],10):0;return{value:n*(a*xd+o*Id+u*EP),rest:e.slice(t[0].length)}}function qD(r){return vt(kt.anyDigitsSigned,r)}function St(r,e){switch(r){case 1:return vt(kt.singleDigit,e);case 2:return vt(kt.twoDigits,e);case 3:return vt(kt.threeDigits,e);case 4:return vt(kt.fourDigits,e);default:return vt(new RegExp("^\\d{1,"+r+"}"),e)}}function ad(r,e){switch(r){case 1:return vt(kt.singleDigitSigned,e);case 2:return vt(kt.twoDigitsSigned,e);case 3:return vt(kt.threeDigitsSigned,e);case 4:return vt(kt.fourDigitsSigned,e);default:return vt(new RegExp("^-?\\d{1,"+r+"}"),e)}}function Zv(r){switch(r){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function GD(r,e){const t=e>0,n=t?e:1-e;let a;if(n<=50)a=r||100;else{const o=n+50,u=Math.trunc(o/100)*100,f=r>=o%100;a=r+u-(f?100:0)}return t?a:1-a}function QD(r){return r%400===0||r%4===0&&r%100!==0}class OL extends $e{constructor(){super(...arguments);pe(this,"priority",130);pe(this,"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"])}parse(t,n,a){const o=u=>({year:u,isTwoDigitYear:n==="yy"});switch(n){case"y":return It(St(4,t),o);case"yo":return It(a.ordinalNumber(t,{unit:"year"}),o);default:return It(St(n.length,t),o)}}validate(t,n){return n.isTwoDigitYear||n.year>0}set(t,n,a){const o=t.getFullYear();if(a.isTwoDigitYear){const f=GD(a.year,o);return t.setFullYear(f,0,1),t.setHours(0,0,0,0),t}const u=!("era"in n)||n.era===1?a.year:1-a.year;return t.setFullYear(u,0,1),t.setHours(0,0,0,0),t}}class NL extends $e{constructor(){super(...arguments);pe(this,"priority",130);pe(this,"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"])}parse(t,n,a){const o=u=>({year:u,isTwoDigitYear:n==="YY"});switch(n){case"Y":return It(St(4,t),o);case"Yo":return It(a.ordinalNumber(t,{unit:"year"}),o);default:return It(St(n.length,t),o)}}validate(t,n){return n.isTwoDigitYear||n.year>0}set(t,n,a,o){const u=$v(t,o);if(a.isTwoDigitYear){const p=GD(a.year,u);return t.setFullYear(p,0,o.firstWeekContainsDate),t.setHours(0,0,0,0),Vi(t,o)}const f=!("era"in n)||n.era===1?a.year:1-a.year;return t.setFullYear(f,0,o.firstWeekContainsDate),t.setHours(0,0,0,0),Vi(t,o)}}class PL extends $e{constructor(){super(...arguments);pe(this,"priority",130);pe(this,"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"])}parse(t,n){return ad(n==="R"?4:n.length,t)}set(t,n,a){const o=at(t,0);return o.setFullYear(a,0,4),o.setHours(0,0,0,0),ol(o)}}class LL extends $e{constructor(){super(...arguments);pe(this,"priority",130);pe(this,"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"])}parse(t,n){return ad(n==="u"?4:n.length,t)}set(t,n,a){return t.setFullYear(a,0,1),t.setHours(0,0,0,0),t}}class VL extends $e{constructor(){super(...arguments);pe(this,"priority",120);pe(this,"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"])}parse(t,n,a){switch(n){case"Q":case"QQ":return St(n.length,t);case"Qo":return a.ordinalNumber(t,{unit:"quarter"});case"QQQ":return a.quarter(t,{width:"abbreviated",context:"formatting"})||a.quarter(t,{width:"narrow",context:"formatting"});case"QQQQQ":return a.quarter(t,{width:"narrow",context:"formatting"});case"QQQQ":default:return a.quarter(t,{width:"wide",context:"formatting"})||a.quarter(t,{width:"abbreviated",context:"formatting"})||a.quarter(t,{width:"narrow",context:"formatting"})}}validate(t,n){return n>=1&&n<=4}set(t,n,a){return t.setMonth((a-1)*3,1),t.setHours(0,0,0,0),t}}class UL extends $e{constructor(){super(...arguments);pe(this,"priority",120);pe(this,"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"])}parse(t,n,a){switch(n){case"q":case"qq":return St(n.length,t);case"qo":return a.ordinalNumber(t,{unit:"quarter"});case"qqq":return a.quarter(t,{width:"abbreviated",context:"standalone"})||a.quarter(t,{width:"narrow",context:"standalone"});case"qqqqq":return a.quarter(t,{width:"narrow",context:"standalone"});case"qqqq":default:return a.quarter(t,{width:"wide",context:"standalone"})||a.quarter(t,{width:"abbreviated",context:"standalone"})||a.quarter(t,{width:"narrow",context:"standalone"})}}validate(t,n){return n>=1&&n<=4}set(t,n,a){return t.setMonth((a-1)*3,1),t.setHours(0,0,0,0),t}}class BL extends $e{constructor(){super(...arguments);pe(this,"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]);pe(this,"priority",110)}parse(t,n,a){const o=u=>u-1;switch(n){case"M":return It(vt(kt.month,t),o);case"MM":return It(St(2,t),o);case"Mo":return It(a.ordinalNumber(t,{unit:"month"}),o);case"MMM":return a.month(t,{width:"abbreviated",context:"formatting"})||a.month(t,{width:"narrow",context:"formatting"});case"MMMMM":return a.month(t,{width:"narrow",context:"formatting"});case"MMMM":default:return a.month(t,{width:"wide",context:"formatting"})||a.month(t,{width:"abbreviated",context:"formatting"})||a.month(t,{width:"narrow",context:"formatting"})}}validate(t,n){return n>=0&&n<=11}set(t,n,a){return t.setMonth(a,1),t.setHours(0,0,0,0),t}}class jL extends $e{constructor(){super(...arguments);pe(this,"priority",110);pe(this,"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"])}parse(t,n,a){const o=u=>u-1;switch(n){case"L":return It(vt(kt.month,t),o);case"LL":return It(St(2,t),o);case"Lo":return It(a.ordinalNumber(t,{unit:"month"}),o);case"LLL":return a.month(t,{width:"abbreviated",context:"standalone"})||a.month(t,{width:"narrow",context:"standalone"});case"LLLLL":return a.month(t,{width:"narrow",context:"standalone"});case"LLLL":default:return a.month(t,{width:"wide",context:"standalone"})||a.month(t,{width:"abbreviated",context:"standalone"})||a.month(t,{width:"narrow",context:"standalone"})}}validate(t,n){return n>=0&&n<=11}set(t,n,a){return t.setMonth(a,1),t.setHours(0,0,0,0),t}}function HL(r,e,t){const n=ve(r,t==null?void 0:t.in),a=FD(n,t)-e;return n.setDate(n.getDate()-a*7),ve(n,t==null?void 0:t.in)}class FL extends $e{constructor(){super(...arguments);pe(this,"priority",100);pe(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"])}parse(t,n,a){switch(n){case"w":return vt(kt.week,t);case"wo":return a.ordinalNumber(t,{unit:"week"});default:return St(n.length,t)}}validate(t,n){return n>=1&&n<=53}set(t,n,a,o){return Vi(HL(t,a,o),o)}}function zL(r,e,t){const n=ve(r,t==null?void 0:t.in),a=Xv(n,t)-e;return n.setDate(n.getDate()-a*7),n}class YL extends $e{constructor(){super(...arguments);pe(this,"priority",100);pe(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"])}parse(t,n,a){switch(n){case"I":return vt(kt.week,t);case"Io":return a.ordinalNumber(t,{unit:"week"});default:return St(n.length,t)}}validate(t,n){return n>=1&&n<=53}set(t,n,a){return ol(zL(t,a))}}const qL=[31,28,31,30,31,30,31,31,30,31,30,31],GL=[31,29,31,30,31,30,31,31,30,31,30,31];class QL extends $e{constructor(){super(...arguments);pe(this,"priority",90);pe(this,"subPriority",1);pe(this,"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"])}parse(t,n,a){switch(n){case"d":return vt(kt.date,t);case"do":return a.ordinalNumber(t,{unit:"date"});default:return St(n.length,t)}}validate(t,n){const a=t.getFullYear(),o=QD(a),u=t.getMonth();return o?n>=1&&n<=GL[u]:n>=1&&n<=qL[u]}set(t,n,a){return t.setDate(a),t.setHours(0,0,0,0),t}}class KL extends $e{constructor(){super(...arguments);pe(this,"priority",90);pe(this,"subpriority",1);pe(this,"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"])}parse(t,n,a){switch(n){case"D":case"DD":return vt(kt.dayOfYear,t);case"Do":return a.ordinalNumber(t,{unit:"date"});default:return St(n.length,t)}}validate(t,n){const a=t.getFullYear();return QD(a)?n>=1&&n<=366:n>=1&&n<=365}set(t,n,a){return t.setMonth(0,a),t.setHours(0,0,0,0),t}}function Jv(r,e,t){var _,b,S,C;const n=Qs(),a=(t==null?void 0:t.weekStartsOn)??((b=(_=t==null?void 0:t.locale)==null?void 0:_.options)==null?void 0:b.weekStartsOn)??n.weekStartsOn??((C=(S=n.locale)==null?void 0:S.options)==null?void 0:C.weekStartsOn)??0,o=ve(r,t==null?void 0:t.in),u=o.getDay(),p=(e%7+7)%7,m=7-a,v=e<0||e>6?e-(u+m)%7:(p+m)%7-(u+m)%7;return dr(o,v,t)}class WL extends $e{constructor(){super(...arguments);pe(this,"priority",90);pe(this,"incompatibleTokens",["D","i","e","c","t","T"])}parse(t,n,a){switch(n){case"E":case"EE":case"EEE":return a.day(t,{width:"abbreviated",context:"formatting"})||a.day(t,{width:"short",context:"formatting"})||a.day(t,{width:"narrow",context:"formatting"});case"EEEEE":return a.day(t,{width:"narrow",context:"formatting"});case"EEEEEE":return a.day(t,{width:"short",context:"formatting"})||a.day(t,{width:"narrow",context:"formatting"});case"EEEE":default:return a.day(t,{width:"wide",context:"formatting"})||a.day(t,{width:"abbreviated",context:"formatting"})||a.day(t,{width:"short",context:"formatting"})||a.day(t,{width:"narrow",context:"formatting"})}}validate(t,n){return n>=0&&n<=6}set(t,n,a,o){return t=Jv(t,a,o),t.setHours(0,0,0,0),t}}class XL extends $e{constructor(){super(...arguments);pe(this,"priority",90);pe(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"])}parse(t,n,a,o){const u=f=>{const p=Math.floor((f-1)/7)*7;return(f+o.weekStartsOn+6)%7+p};switch(n){case"e":case"ee":return It(St(n.length,t),u);case"eo":return It(a.ordinalNumber(t,{unit:"day"}),u);case"eee":return a.day(t,{width:"abbreviated",context:"formatting"})||a.day(t,{width:"short",context:"formatting"})||a.day(t,{width:"narrow",context:"formatting"});case"eeeee":return a.day(t,{width:"narrow",context:"formatting"});case"eeeeee":return a.day(t,{width:"short",context:"formatting"})||a.day(t,{width:"narrow",context:"formatting"});case"eeee":default:return a.day(t,{width:"wide",context:"formatting"})||a.day(t,{width:"abbreviated",context:"formatting"})||a.day(t,{width:"short",context:"formatting"})||a.day(t,{width:"narrow",context:"formatting"})}}validate(t,n){return n>=0&&n<=6}set(t,n,a,o){return t=Jv(t,a,o),t.setHours(0,0,0,0),t}}class $L extends $e{constructor(){super(...arguments);pe(this,"priority",90);pe(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"])}parse(t,n,a,o){const u=f=>{const p=Math.floor((f-1)/7)*7;return(f+o.weekStartsOn+6)%7+p};switch(n){case"c":case"cc":return It(St(n.length,t),u);case"co":return It(a.ordinalNumber(t,{unit:"day"}),u);case"ccc":return a.day(t,{width:"abbreviated",context:"standalone"})||a.day(t,{width:"short",context:"standalone"})||a.day(t,{width:"narrow",context:"standalone"});case"ccccc":return a.day(t,{width:"narrow",context:"standalone"});case"cccccc":return a.day(t,{width:"short",context:"standalone"})||a.day(t,{width:"narrow",context:"standalone"});case"cccc":default:return a.day(t,{width:"wide",context:"standalone"})||a.day(t,{width:"abbreviated",context:"standalone"})||a.day(t,{width:"short",context:"standalone"})||a.day(t,{width:"narrow",context:"standalone"})}}validate(t,n){return n>=0&&n<=6}set(t,n,a,o){return t=Jv(t,a,o),t.setHours(0,0,0,0),t}}function ZL(r,e,t){const n=ve(r,t==null?void 0:t.in),a=DL(n,t),o=e-a;return dr(n,o,t)}class JL extends $e{constructor(){super(...arguments);pe(this,"priority",90);pe(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"])}parse(t,n,a){const o=u=>u===0?7:u;switch(n){case"i":case"ii":return St(n.length,t);case"io":return a.ordinalNumber(t,{unit:"day"});case"iii":return It(a.day(t,{width:"abbreviated",context:"formatting"})||a.day(t,{width:"short",context:"formatting"})||a.day(t,{width:"narrow",context:"formatting"}),o);case"iiiii":return It(a.day(t,{width:"narrow",context:"formatting"}),o);case"iiiiii":return It(a.day(t,{width:"short",context:"formatting"})||a.day(t,{width:"narrow",context:"formatting"}),o);case"iiii":default:return It(a.day(t,{width:"wide",context:"formatting"})||a.day(t,{width:"abbreviated",context:"formatting"})||a.day(t,{width:"short",context:"formatting"})||a.day(t,{width:"narrow",context:"formatting"}),o)}}validate(t,n){return n>=1&&n<=7}set(t,n,a){return t=ZL(t,a),t.setHours(0,0,0,0),t}}class eV extends $e{constructor(){super(...arguments);pe(this,"priority",80);pe(this,"incompatibleTokens",["b","B","H","k","t","T"])}parse(t,n,a){switch(n){case"a":case"aa":case"aaa":return a.dayPeriod(t,{width:"abbreviated",context:"formatting"})||a.dayPeriod(t,{width:"narrow",context:"formatting"});case"aaaaa":return a.dayPeriod(t,{width:"narrow",context:"formatting"});case"aaaa":default:return a.dayPeriod(t,{width:"wide",context:"formatting"})||a.dayPeriod(t,{width:"abbreviated",context:"formatting"})||a.dayPeriod(t,{width:"narrow",context:"formatting"})}}set(t,n,a){return t.setHours(Zv(a),0,0,0),t}}class tV extends $e{constructor(){super(...arguments);pe(this,"priority",80);pe(this,"incompatibleTokens",["a","B","H","k","t","T"])}parse(t,n,a){switch(n){case"b":case"bb":case"bbb":return a.dayPeriod(t,{width:"abbreviated",context:"formatting"})||a.dayPeriod(t,{width:"narrow",context:"formatting"});case"bbbbb":return a.dayPeriod(t,{width:"narrow",context:"formatting"});case"bbbb":default:return a.dayPeriod(t,{width:"wide",context:"formatting"})||a.dayPeriod(t,{width:"abbreviated",context:"formatting"})||a.dayPeriod(t,{width:"narrow",context:"formatting"})}}set(t,n,a){return t.setHours(Zv(a),0,0,0),t}}class nV extends $e{constructor(){super(...arguments);pe(this,"priority",80);pe(this,"incompatibleTokens",["a","b","t","T"])}parse(t,n,a){switch(n){case"B":case"BB":case"BBB":return a.dayPeriod(t,{width:"abbreviated",context:"formatting"})||a.dayPeriod(t,{width:"narrow",context:"formatting"});case"BBBBB":return a.dayPeriod(t,{width:"narrow",context:"formatting"});case"BBBB":default:return a.dayPeriod(t,{width:"wide",context:"formatting"})||a.dayPeriod(t,{width:"abbreviated",context:"formatting"})||a.dayPeriod(t,{width:"narrow",context:"formatting"})}}set(t,n,a){return t.setHours(Zv(a),0,0,0),t}}class rV extends $e{constructor(){super(...arguments);pe(this,"priority",70);pe(this,"incompatibleTokens",["H","K","k","t","T"])}parse(t,n,a){switch(n){case"h":return vt(kt.hour12h,t);case"ho":return a.ordinalNumber(t,{unit:"hour"});default:return St(n.length,t)}}validate(t,n){return n>=1&&n<=12}set(t,n,a){const o=t.getHours()>=12;return o&&a<12?t.setHours(a+12,0,0,0):!o&&a===12?t.setHours(0,0,0,0):t.setHours(a,0,0,0),t}}class iV extends $e{constructor(){super(...arguments);pe(this,"priority",70);pe(this,"incompatibleTokens",["a","b","h","K","k","t","T"])}parse(t,n,a){switch(n){case"H":return vt(kt.hour23h,t);case"Ho":return a.ordinalNumber(t,{unit:"hour"});default:return St(n.length,t)}}validate(t,n){return n>=0&&n<=23}set(t,n,a){return t.setHours(a,0,0,0),t}}class aV extends $e{constructor(){super(...arguments);pe(this,"priority",70);pe(this,"incompatibleTokens",["h","H","k","t","T"])}parse(t,n,a){switch(n){case"K":return vt(kt.hour11h,t);case"Ko":return a.ordinalNumber(t,{unit:"hour"});default:return St(n.length,t)}}validate(t,n){return n>=0&&n<=11}set(t,n,a){return t.getHours()>=12&&a<12?t.setHours(a+12,0,0,0):t.setHours(a,0,0,0),t}}class sV extends $e{constructor(){super(...arguments);pe(this,"priority",70);pe(this,"incompatibleTokens",["a","b","h","H","K","t","T"])}parse(t,n,a){switch(n){case"k":return vt(kt.hour24h,t);case"ko":return a.ordinalNumber(t,{unit:"hour"});default:return St(n.length,t)}}validate(t,n){return n>=1&&n<=24}set(t,n,a){const o=a<=24?a%24:a;return t.setHours(o,0,0,0),t}}class oV extends $e{constructor(){super(...arguments);pe(this,"priority",60);pe(this,"incompatibleTokens",["t","T"])}parse(t,n,a){switch(n){case"m":return vt(kt.minute,t);case"mo":return a.ordinalNumber(t,{unit:"minute"});default:return St(n.length,t)}}validate(t,n){return n>=0&&n<=59}set(t,n,a){return t.setMinutes(a,0,0),t}}class lV extends $e{constructor(){super(...arguments);pe(this,"priority",50);pe(this,"incompatibleTokens",["t","T"])}parse(t,n,a){switch(n){case"s":return vt(kt.second,t);case"so":return a.ordinalNumber(t,{unit:"second"});default:return St(n.length,t)}}validate(t,n){return n>=0&&n<=59}set(t,n,a){return t.setSeconds(a,0),t}}class uV extends $e{constructor(){super(...arguments);pe(this,"priority",30);pe(this,"incompatibleTokens",["t","T"])}parse(t,n){const a=o=>Math.trunc(o*Math.pow(10,-n.length+3));return It(St(n.length,t),a)}set(t,n,a){return t.setMilliseconds(a),t}}class cV extends $e{constructor(){super(...arguments);pe(this,"priority",10);pe(this,"incompatibleTokens",["t","T","x"])}parse(t,n){switch(n){case"X":return Vr(Lr.basicOptionalMinutes,t);case"XX":return Vr(Lr.basic,t);case"XXXX":return Vr(Lr.basicOptionalSeconds,t);case"XXXXX":return Vr(Lr.extendedOptionalSeconds,t);case"XXX":default:return Vr(Lr.extended,t)}}set(t,n,a){return n.timestampIsSet?t:at(t,t.getTime()-Jh(t)-a)}}class fV extends $e{constructor(){super(...arguments);pe(this,"priority",10);pe(this,"incompatibleTokens",["t","T","X"])}parse(t,n){switch(n){case"x":return Vr(Lr.basicOptionalMinutes,t);case"xx":return Vr(Lr.basic,t);case"xxxx":return Vr(Lr.basicOptionalSeconds,t);case"xxxxx":return Vr(Lr.extendedOptionalSeconds,t);case"xxx":default:return Vr(Lr.extended,t)}}set(t,n,a){return n.timestampIsSet?t:at(t,t.getTime()-Jh(t)-a)}}class hV extends $e{constructor(){super(...arguments);pe(this,"priority",40);pe(this,"incompatibleTokens","*")}parse(t){return qD(t)}set(t,n,a){return[at(t,a*1e3),{timestampIsSet:!0}]}}class dV extends $e{constructor(){super(...arguments);pe(this,"priority",20);pe(this,"incompatibleTokens","*")}parse(t){return qD(t)}set(t,n,a){return[at(t,a),{timestampIsSet:!0}]}}const pV={G:new ML,y:new OL,Y:new NL,R:new PL,u:new LL,Q:new VL,q:new UL,M:new BL,L:new jL,w:new FL,I:new YL,d:new QL,D:new KL,E:new WL,e:new XL,c:new $L,i:new JL,a:new eV,b:new tV,B:new nV,h:new rV,H:new iV,K:new aV,k:new sV,m:new oV,s:new lV,S:new uV,X:new cV,x:new fV,t:new hV,T:new dV},mV=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,gV=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,vV=/^'([^]*?)'?$/,yV=/''/g,_V=/\S/,EV=/[a-zA-Z]/;function wV(r,e,t,n){var I,j,K,z,re,ie,fe,x;const a=()=>at((n==null?void 0:n.in)||t,NaN),o=SL(),u=(n==null?void 0:n.locale)??o.locale??HD,f=(n==null?void 0:n.firstWeekContainsDate)??((j=(I=n==null?void 0:n.locale)==null?void 0:I.options)==null?void 0:j.firstWeekContainsDate)??o.firstWeekContainsDate??((z=(K=o.locale)==null?void 0:K.options)==null?void 0:z.firstWeekContainsDate)??1,p=(n==null?void 0:n.weekStartsOn)??((ie=(re=n==null?void 0:n.locale)==null?void 0:re.options)==null?void 0:ie.weekStartsOn)??o.weekStartsOn??((x=(fe=o.locale)==null?void 0:fe.options)==null?void 0:x.weekStartsOn)??0;if(!e)return r?a():ve(t,n==null?void 0:n.in);const m={firstWeekContainsDate:f,weekStartsOn:p,locale:u},v=[new xL(n==null?void 0:n.in,t)],_=e.match(gV).map(D=>{const R=D[0];if(R in Fg){const M=Fg[R];return M(D,u.formatLong)}return D}).join("").match(mV),b=[];for(let D of _){const R=D[0],M=pV[R];if(M){const{incompatibleTokens:P}=M;if(Array.isArray(P)){const k=b.find(Re=>P.includes(Re.token)||Re.token===R);if(k)throw new RangeError(`The format string mustn't contain \`${k.fullToken}\` and \`${D}\` at the same time`)}else if(M.incompatibleTokens==="*"&&b.length>0)throw new RangeError(`The format string mustn't contain \`${D}\` and any other token at the same time`);b.push({token:R,fullToken:D});const U=M.run(r,D,u.match,m);if(!U)return a();v.push(U.setter),r=U.rest}else{if(R.match(EV))throw new RangeError("Format string contains an unescaped latin alphabet character `"+R+"`");if(D==="''"?D="'":R==="'"&&(D=bV(D)),r.indexOf(D)===0)r=r.slice(D.length);else return a()}}if(r.length>0&&_V.test(r))return a();const S=v.map(D=>D.priority).sort((D,R)=>R-D).filter((D,R,M)=>M.indexOf(D)===R).map(D=>v.filter(R=>R.priority===D).sort((R,M)=>M.subPriority-R.subPriority)).map(D=>D[0]);let C=ve(t,n==null?void 0:n.in);if(isNaN(+C))return a();const N={};for(const D of S){if(!D.validate(C,m))return a();const R=D.set(C,N,m);Array.isArray(R)?(C=R[0],Object.assign(N,R[1])):C=R}return C}function bV(r){return r.match(vV)[1].replace(yV,"'")}function TV(r,e,t){const[n,a]=ji(t==null?void 0:t.in,r,e);return n.getFullYear()===a.getFullYear()&&n.getMonth()===a.getMonth()}function SV(r,e,t){const[n,a]=ji(t==null?void 0:t.in,r,e);return+Hg(n)==+Hg(a)}function DV(r,e,t){const[n,a]=ji(t==null?void 0:t.in,r,e);return n.getFullYear()===a.getFullYear()}function cc(r,e,t){const n=+ve(r,t==null?void 0:t.in),[a,o]=[+ve(e.start,t==null?void 0:t.in),+ve(e.end,t==null?void 0:t.in)].sort((u,f)=>u-f);return n>=a&&n<=o}function AV(r,e,t){return dr(r,-1,t)}function RV(r,e){const t=()=>at(e==null?void 0:e.in,NaN),a=xV(r);let o;if(a.date){const m=MV(a.date,2);o=OV(m.restDateString,m.year)}if(!o||isNaN(+o))return t();const u=+o;let f=0,p;if(a.time&&(f=NV(a.time),isNaN(f)))return t();if(a.timezone){if(p=PV(a.timezone),isNaN(p))return t()}else{const m=new Date(u+f),v=ve(0,e==null?void 0:e.in);return v.setFullYear(m.getUTCFullYear(),m.getUTCMonth(),m.getUTCDate()),v.setHours(m.getUTCHours(),m.getUTCMinutes(),m.getUTCSeconds(),m.getUTCMilliseconds()),v}return ve(u+f+p,e==null?void 0:e.in)}const lh={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},CV=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,kV=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,IV=/^([+-])(\d{2})(?::?(\d{2}))?$/;function xV(r){const e={},t=r.split(lh.dateTimeDelimiter);let n;if(t.length>2)return e;if(/:/.test(t[0])?n=t[0]:(e.date=t[0],n=t[1],lh.timeZoneDelimiter.test(e.date)&&(e.date=r.split(lh.timeZoneDelimiter)[0],n=r.substr(e.date.length,r.length))),n){const a=lh.timezone.exec(n);a?(e.time=n.replace(a[1],""),e.timezone=a[1]):e.time=n}return e}function MV(r,e){const t=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),n=r.match(t);if(!n)return{year:NaN,restDateString:""};const a=n[1]?parseInt(n[1]):null,o=n[2]?parseInt(n[2]):null;return{year:o===null?a:o*100,restDateString:r.slice((n[1]||n[2]).length)}}function OV(r,e){if(e===null)return new Date(NaN);const t=r.match(CV);if(!t)return new Date(NaN);const n=!!t[4],a=Uu(t[1]),o=Uu(t[2])-1,u=Uu(t[3]),f=Uu(t[4]),p=Uu(t[5])-1;if(n)return jV(e,f,p)?LV(e,f,p):new Date(NaN);{const m=new Date(0);return!UV(e,o,u)||!BV(e,a)?new Date(NaN):(m.setUTCFullYear(e,o,Math.max(a,u)),m)}}function Uu(r){return r?parseInt(r):1}function NV(r){const e=r.match(kV);if(!e)return NaN;const t=ag(e[1]),n=ag(e[2]),a=ag(e[3]);return HV(t,n,a)?t*xd+n*Id+a*1e3:NaN}function ag(r){return r&&parseFloat(r.replace(",","."))||0}function PV(r){if(r==="Z")return 0;const e=r.match(IV);if(!e)return 0;const t=e[1]==="+"?-1:1,n=parseInt(e[2]),a=e[3]&&parseInt(e[3])||0;return FV(n,a)?t*(n*xd+a*Id):NaN}function LV(r,e,t){const n=new Date(0);n.setUTCFullYear(r,0,4);const a=n.getUTCDay()||7,o=(e-1)*7+t+1-a;return n.setUTCDate(n.getUTCDate()+o),n}const VV=[31,null,31,30,31,30,31,31,30,31,30,31];function KD(r){return r%400===0||r%4===0&&r%100!==0}function UV(r,e,t){return e>=0&&e<=11&&t>=1&&t<=(VV[e]||(KD(r)?29:28))}function BV(r,e){return e>=1&&e<=(KD(r)?366:365)}function jV(r,e,t){return e>=1&&e<=53&&t>=0&&t<=6}function HV(r,e,t){return r===24?e===0&&t===0:t>=0&&t<60&&e>=0&&e<60&&r>=0&&r<25}function FV(r,e){return e>=0&&e<=59}function $n(r,e,t){const n=ve(r,t==null?void 0:t.in),a=n.getFullYear(),o=n.getDate(),u=at(r,0);u.setFullYear(a,e,15),u.setHours(0,0,0,0);const f=TL(u);return n.setMonth(e,Math.min(o,f)),n}function Ah(r,e,t){const n=ve(r,t==null?void 0:t.in);return n.setHours(e),n}function Rh(r,e,t){const n=ve(r,t==null?void 0:t.in);return n.setMinutes(e),n}function Go(r,e,t){const n=ve(r,t==null?void 0:t.in),a=Math.trunc(n.getMonth()/3)+1,o=e-a;return $n(n,n.getMonth()+o*3)}function Ch(r,e,t){const n=ve(r,t==null?void 0:t.in);return n.setSeconds(e),n}function Or(r,e,t){const n=ve(r,t==null?void 0:t.in);return isNaN(+n)?at(r,NaN):(n.setFullYear(e),n)}function xs(r,e,t){return pr(r,-e,t)}function WD(r,e,t){return Wv(r,-1,t)}function mb(r,e,t){return ed(r,-1,t)}function ul(r,e,t){return Ri(r,-e,t)}function Od(){return typeof window<"u"}function Tl(r){return XD(r)?(r.nodeName||"").toLowerCase():"#document"}function Ln(r){var e;return(r==null||(e=r.ownerDocument)==null?void 0:e.defaultView)||window}function Wr(r){var e;return(e=(XD(r)?r.ownerDocument:r.document)||window.document)==null?void 0:e.documentElement}function XD(r){return Od()?r instanceof Node||r instanceof Ln(r).Node:!1}function wn(r){return Od()?r instanceof Element||r instanceof Ln(r).Element:!1}function Gr(r){return Od()?r instanceof HTMLElement||r instanceof Ln(r).HTMLElement:!1}function gb(r){return!Od()||typeof ShadowRoot>"u"?!1:r instanceof ShadowRoot||r instanceof Ln(r).ShadowRoot}function Ac(r){const{overflow:e,overflowX:t,overflowY:n,display:a}=rr(r);return/auto|scroll|overlay|hidden|clip/.test(e+n+t)&&!["inline","contents"].includes(a)}function zV(r){return["table","td","th"].includes(Tl(r))}function Nd(r){return[":popover-open",":modal"].some(e=>{try{return r.matches(e)}catch{return!1}})}function ey(r){const e=ty(),t=wn(r)?rr(r):r;return["transform","translate","scale","rotate","perspective"].some(n=>t[n]?t[n]!=="none":!1)||(t.containerType?t.containerType!=="normal":!1)||!e&&(t.backdropFilter?t.backdropFilter!=="none":!1)||!e&&(t.filter?t.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(n=>(t.willChange||"").includes(n))||["paint","layout","strict","content"].some(n=>(t.contain||"").includes(n))}function YV(r){let e=Ua(r);for(;Gr(e)&&!cl(e);){if(ey(e))return e;if(Nd(e))return null;e=Ua(e)}return null}function ty(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function cl(r){return["html","body","#document"].includes(Tl(r))}function rr(r){return Ln(r).getComputedStyle(r)}function Pd(r){return wn(r)?{scrollLeft:r.scrollLeft,scrollTop:r.scrollTop}:{scrollLeft:r.scrollX,scrollTop:r.scrollY}}function Ua(r){if(Tl(r)==="html")return r;const e=r.assignedSlot||r.parentNode||gb(r)&&r.host||Wr(r);return gb(e)?e.host:e}function $D(r){const e=Ua(r);return cl(e)?r.ownerDocument?r.ownerDocument.body:r.body:Gr(e)&&Ac(e)?e:$D(e)}function fc(r,e,t){var n;e===void 0&&(e=[]),t===void 0&&(t=!0);const a=$D(r),o=a===((n=r.ownerDocument)==null?void 0:n.body),u=Ln(a);if(o){const f=Yg(u);return e.concat(u,u.visualViewport||[],Ac(a)?a:[],f&&t?fc(f):[])}return e.concat(a,fc(a,[],t))}function Yg(r){return r.parent&&Object.getPrototypeOf(r.parent)?r.frameElement:null}const fl=Math.min,Ms=Math.max,sd=Math.round,uh=Math.floor,Fr=r=>({x:r,y:r}),qV={left:"right",right:"left",bottom:"top",top:"bottom"},GV={start:"end",end:"start"};function QV(r,e,t){return Ms(r,fl(e,t))}function Ld(r,e){return typeof r=="function"?r(e):r}function hl(r){return r.split("-")[0]}function Rc(r){return r.split("-")[1]}function KV(r){return r==="x"?"y":"x"}function ny(r){return r==="y"?"height":"width"}function hc(r){return["top","bottom"].includes(hl(r))?"y":"x"}function ry(r){return KV(hc(r))}function WV(r,e,t){t===void 0&&(t=!1);const n=Rc(r),a=ry(r),o=ny(a);let u=a==="x"?n===(t?"end":"start")?"right":"left":n==="start"?"bottom":"top";return e.reference[o]>e.floating[o]&&(u=od(u)),[u,od(u)]}function XV(r){const e=od(r);return[qg(r),e,qg(e)]}function qg(r){return r.replace(/start|end/g,e=>GV[e])}function $V(r,e,t){const n=["left","right"],a=["right","left"],o=["top","bottom"],u=["bottom","top"];switch(r){case"top":case"bottom":return t?e?a:n:e?n:a;case"left":case"right":return e?o:u;default:return[]}}function ZV(r,e,t,n){const a=Rc(r);let o=$V(hl(r),t==="start",n);return a&&(o=o.map(u=>u+"-"+a),e&&(o=o.concat(o.map(qg)))),o}function od(r){return r.replace(/left|right|bottom|top/g,e=>qV[e])}function JV(r){return{top:0,right:0,bottom:0,left:0,...r}}function ZD(r){return typeof r!="number"?JV(r):{top:r,right:r,bottom:r,left:r}}function ld(r){const{x:e,y:t,width:n,height:a}=r;return{width:n,height:a,top:t,left:e,right:e+n,bottom:t+a,x:e,y:t}}function vb(r,e,t){let{reference:n,floating:a}=r;const o=hc(e),u=ry(e),f=ny(u),p=hl(e),m=o==="y",v=n.x+n.width/2-a.width/2,_=n.y+n.height/2-a.height/2,b=n[f]/2-a[f]/2;let S;switch(p){case"top":S={x:v,y:n.y-a.height};break;case"bottom":S={x:v,y:n.y+n.height};break;case"right":S={x:n.x+n.width,y:_};break;case"left":S={x:n.x-a.width,y:_};break;default:S={x:n.x,y:n.y}}switch(Rc(e)){case"start":S[u]-=b*(t&&m?-1:1);break;case"end":S[u]+=b*(t&&m?-1:1);break}return S}const e4=async(r,e,t)=>{const{placement:n="bottom",strategy:a="absolute",middleware:o=[],platform:u}=t,f=o.filter(Boolean),p=await(u.isRTL==null?void 0:u.isRTL(e));let m=await u.getElementRects({reference:r,floating:e,strategy:a}),{x:v,y:_}=vb(m,n,p),b=n,S={},C=0;for(let N=0;N<f.length;N++){const{name:I,fn:j}=f[N],{x:K,y:z,data:re,reset:ie}=await j({x:v,y:_,initialPlacement:n,placement:b,strategy:a,middlewareData:S,rects:m,platform:u,elements:{reference:r,floating:e}});v=K??v,_=z??_,S={...S,[I]:{...S[I],...re}},ie&&C<=50&&(C++,typeof ie=="object"&&(ie.placement&&(b=ie.placement),ie.rects&&(m=ie.rects===!0?await u.getElementRects({reference:r,floating:e,strategy:a}):ie.rects),{x:v,y:_}=vb(m,b,p)),N=-1)}return{x:v,y:_,placement:b,strategy:a,middlewareData:S}};async function t4(r,e){var t;e===void 0&&(e={});const{x:n,y:a,platform:o,rects:u,elements:f,strategy:p}=r,{boundary:m="clippingAncestors",rootBoundary:v="viewport",elementContext:_="floating",altBoundary:b=!1,padding:S=0}=Ld(e,r),C=ZD(S),I=f[b?_==="floating"?"reference":"floating":_],j=ld(await o.getClippingRect({element:(t=await(o.isElement==null?void 0:o.isElement(I)))==null||t?I:I.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(f.floating)),boundary:m,rootBoundary:v,strategy:p})),K=_==="floating"?{x:n,y:a,width:u.floating.width,height:u.floating.height}:u.reference,z=await(o.getOffsetParent==null?void 0:o.getOffsetParent(f.floating)),re=await(o.isElement==null?void 0:o.isElement(z))?await(o.getScale==null?void 0:o.getScale(z))||{x:1,y:1}:{x:1,y:1},ie=ld(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:f,rect:K,offsetParent:z,strategy:p}):K);return{top:(j.top-ie.top+C.top)/re.y,bottom:(ie.bottom-j.bottom+C.bottom)/re.y,left:(j.left-ie.left+C.left)/re.x,right:(ie.right-j.right+C.right)/re.x}}const n4=r=>({name:"arrow",options:r,async fn(e){const{x:t,y:n,placement:a,rects:o,platform:u,elements:f,middlewareData:p}=e,{element:m,padding:v=0}=Ld(r,e)||{};if(m==null)return{};const _=ZD(v),b={x:t,y:n},S=ry(a),C=ny(S),N=await u.getDimensions(m),I=S==="y",j=I?"top":"left",K=I?"bottom":"right",z=I?"clientHeight":"clientWidth",re=o.reference[C]+o.reference[S]-b[S]-o.floating[C],ie=b[S]-o.reference[S],fe=await(u.getOffsetParent==null?void 0:u.getOffsetParent(m));let x=fe?fe[z]:0;(!x||!await(u.isElement==null?void 0:u.isElement(fe)))&&(x=f.floating[z]||o.floating[C]);const D=re/2-ie/2,R=x/2-N[C]/2-1,M=fl(_[j],R),P=fl(_[K],R),U=M,k=x-N[C]-P,Re=x/2-N[C]/2+D,Ee=QV(U,Re,k),Y=!p.arrow&&Rc(a)!=null&&Re!==Ee&&o.reference[C]/2-(Re<U?M:P)-N[C]/2<0,ne=Y?Re<U?Re-U:Re-k:0;return{[S]:b[S]+ne,data:{[S]:Ee,centerOffset:Re-Ee-ne,...Y&&{alignmentOffset:ne}},reset:Y}}}),r4=function(r){return r===void 0&&(r={}),{name:"flip",options:r,async fn(e){var t,n;const{placement:a,middlewareData:o,rects:u,initialPlacement:f,platform:p,elements:m}=e,{mainAxis:v=!0,crossAxis:_=!0,fallbackPlacements:b,fallbackStrategy:S="bestFit",fallbackAxisSideDirection:C="none",flipAlignment:N=!0,...I}=Ld(r,e);if((t=o.arrow)!=null&&t.alignmentOffset)return{};const j=hl(a),K=hc(f),z=hl(f)===f,re=await(p.isRTL==null?void 0:p.isRTL(m.floating)),ie=b||(z||!N?[od(f)]:XV(f)),fe=C!=="none";!b&&fe&&ie.push(...ZV(f,N,C,re));const x=[f,...ie],D=await t4(e,I),R=[];let M=((n=o.flip)==null?void 0:n.overflows)||[];if(v&&R.push(D[j]),_){const Re=WV(a,u,re);R.push(D[Re[0]],D[Re[1]])}if(M=[...M,{placement:a,overflows:R}],!R.every(Re=>Re<=0)){var P,U;const Re=(((P=o.flip)==null?void 0:P.index)||0)+1,Ee=x[Re];if(Ee)return{data:{index:Re,overflows:M},reset:{placement:Ee}};let Y=(U=M.filter(ne=>ne.overflows[0]<=0).sort((ne,le)=>ne.overflows[1]-le.overflows[1])[0])==null?void 0:U.placement;if(!Y)switch(S){case"bestFit":{var k;const ne=(k=M.filter(le=>{if(fe){const we=hc(le.placement);return we===K||we==="y"}return!0}).map(le=>[le.placement,le.overflows.filter(we=>we>0).reduce((we,L)=>we+L,0)]).sort((le,we)=>le[1]-we[1])[0])==null?void 0:k[0];ne&&(Y=ne);break}case"initialPlacement":Y=f;break}if(a!==Y)return{reset:{placement:Y}}}return{}}}};async function i4(r,e){const{placement:t,platform:n,elements:a}=r,o=await(n.isRTL==null?void 0:n.isRTL(a.floating)),u=hl(t),f=Rc(t),p=hc(t)==="y",m=["left","top"].includes(u)?-1:1,v=o&&p?-1:1,_=Ld(e,r);let{mainAxis:b,crossAxis:S,alignmentAxis:C}=typeof _=="number"?{mainAxis:_,crossAxis:0,alignmentAxis:null}:{mainAxis:_.mainAxis||0,crossAxis:_.crossAxis||0,alignmentAxis:_.alignmentAxis};return f&&typeof C=="number"&&(S=f==="end"?C*-1:C),p?{x:S*v,y:b*m}:{x:b*m,y:S*v}}const a4=function(r){return r===void 0&&(r=0),{name:"offset",options:r,async fn(e){var t,n;const{x:a,y:o,placement:u,middlewareData:f}=e,p=await i4(e,r);return u===((t=f.offset)==null?void 0:t.placement)&&(n=f.arrow)!=null&&n.alignmentOffset?{}:{x:a+p.x,y:o+p.y,data:{...p,placement:u}}}}};function JD(r){const e=rr(r);let t=parseFloat(e.width)||0,n=parseFloat(e.height)||0;const a=Gr(r),o=a?r.offsetWidth:t,u=a?r.offsetHeight:n,f=sd(t)!==o||sd(n)!==u;return f&&(t=o,n=u),{width:t,height:n,$:f}}function iy(r){return wn(r)?r:r.contextElement}function $o(r){const e=iy(r);if(!Gr(e))return Fr(1);const t=e.getBoundingClientRect(),{width:n,height:a,$:o}=JD(e);let u=(o?sd(t.width):t.width)/n,f=(o?sd(t.height):t.height)/a;return(!u||!Number.isFinite(u))&&(u=1),(!f||!Number.isFinite(f))&&(f=1),{x:u,y:f}}const s4=Fr(0);function eA(r){const e=Ln(r);return!ty()||!e.visualViewport?s4:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function o4(r,e,t){return e===void 0&&(e=!1),!t||e&&t!==Ln(r)?!1:e}function Fs(r,e,t,n){e===void 0&&(e=!1),t===void 0&&(t=!1);const a=r.getBoundingClientRect(),o=iy(r);let u=Fr(1);e&&(n?wn(n)&&(u=$o(n)):u=$o(r));const f=o4(o,t,n)?eA(o):Fr(0);let p=(a.left+f.x)/u.x,m=(a.top+f.y)/u.y,v=a.width/u.x,_=a.height/u.y;if(o){const b=Ln(o),S=n&&wn(n)?Ln(n):n;let C=b,N=Yg(C);for(;N&&n&&S!==C;){const I=$o(N),j=N.getBoundingClientRect(),K=rr(N),z=j.left+(N.clientLeft+parseFloat(K.paddingLeft))*I.x,re=j.top+(N.clientTop+parseFloat(K.paddingTop))*I.y;p*=I.x,m*=I.y,v*=I.x,_*=I.y,p+=z,m+=re,C=Ln(N),N=Yg(C)}}return ld({width:v,height:_,x:p,y:m})}function ay(r,e){const t=Pd(r).scrollLeft;return e?e.left+t:Fs(Wr(r)).left+t}function tA(r,e,t){t===void 0&&(t=!1);const n=r.getBoundingClientRect(),a=n.left+e.scrollLeft-(t?0:ay(r,n)),o=n.top+e.scrollTop;return{x:a,y:o}}function l4(r){let{elements:e,rect:t,offsetParent:n,strategy:a}=r;const o=a==="fixed",u=Wr(n),f=e?Nd(e.floating):!1;if(n===u||f&&o)return t;let p={scrollLeft:0,scrollTop:0},m=Fr(1);const v=Fr(0),_=Gr(n);if((_||!_&&!o)&&((Tl(n)!=="body"||Ac(u))&&(p=Pd(n)),Gr(n))){const S=Fs(n);m=$o(n),v.x=S.x+n.clientLeft,v.y=S.y+n.clientTop}const b=u&&!_&&!o?tA(u,p,!0):Fr(0);return{width:t.width*m.x,height:t.height*m.y,x:t.x*m.x-p.scrollLeft*m.x+v.x+b.x,y:t.y*m.y-p.scrollTop*m.y+v.y+b.y}}function u4(r){return Array.from(r.getClientRects())}function c4(r){const e=Wr(r),t=Pd(r),n=r.ownerDocument.body,a=Ms(e.scrollWidth,e.clientWidth,n.scrollWidth,n.clientWidth),o=Ms(e.scrollHeight,e.clientHeight,n.scrollHeight,n.clientHeight);let u=-t.scrollLeft+ay(r);const f=-t.scrollTop;return rr(n).direction==="rtl"&&(u+=Ms(e.clientWidth,n.clientWidth)-a),{width:a,height:o,x:u,y:f}}function f4(r,e){const t=Ln(r),n=Wr(r),a=t.visualViewport;let o=n.clientWidth,u=n.clientHeight,f=0,p=0;if(a){o=a.width,u=a.height;const m=ty();(!m||m&&e==="fixed")&&(f=a.offsetLeft,p=a.offsetTop)}return{width:o,height:u,x:f,y:p}}function h4(r,e){const t=Fs(r,!0,e==="fixed"),n=t.top+r.clientTop,a=t.left+r.clientLeft,o=Gr(r)?$o(r):Fr(1),u=r.clientWidth*o.x,f=r.clientHeight*o.y,p=a*o.x,m=n*o.y;return{width:u,height:f,x:p,y:m}}function yb(r,e,t){let n;if(e==="viewport")n=f4(r,t);else if(e==="document")n=c4(Wr(r));else if(wn(e))n=h4(e,t);else{const a=eA(r);n={x:e.x-a.x,y:e.y-a.y,width:e.width,height:e.height}}return ld(n)}function nA(r,e){const t=Ua(r);return t===e||!wn(t)||cl(t)?!1:rr(t).position==="fixed"||nA(t,e)}function d4(r,e){const t=e.get(r);if(t)return t;let n=fc(r,[],!1).filter(f=>wn(f)&&Tl(f)!=="body"),a=null;const o=rr(r).position==="fixed";let u=o?Ua(r):r;for(;wn(u)&&!cl(u);){const f=rr(u),p=ey(u);!p&&f.position==="fixed"&&(a=null),(o?!p&&!a:!p&&f.position==="static"&&!!a&&["absolute","fixed"].includes(a.position)||Ac(u)&&!p&&nA(r,u))?n=n.filter(v=>v!==u):a=f,u=Ua(u)}return e.set(r,n),n}function p4(r){let{element:e,boundary:t,rootBoundary:n,strategy:a}=r;const u=[...t==="clippingAncestors"?Nd(e)?[]:d4(e,this._c):[].concat(t),n],f=u[0],p=u.reduce((m,v)=>{const _=yb(e,v,a);return m.top=Ms(_.top,m.top),m.right=fl(_.right,m.right),m.bottom=fl(_.bottom,m.bottom),m.left=Ms(_.left,m.left),m},yb(e,f,a));return{width:p.right-p.left,height:p.bottom-p.top,x:p.left,y:p.top}}function m4(r){const{width:e,height:t}=JD(r);return{width:e,height:t}}function g4(r,e,t){const n=Gr(e),a=Wr(e),o=t==="fixed",u=Fs(r,!0,o,e);let f={scrollLeft:0,scrollTop:0};const p=Fr(0);if(n||!n&&!o)if((Tl(e)!=="body"||Ac(a))&&(f=Pd(e)),n){const b=Fs(e,!0,o,e);p.x=b.x+e.clientLeft,p.y=b.y+e.clientTop}else a&&(p.x=ay(a));const m=a&&!n&&!o?tA(a,f):Fr(0),v=u.left+f.scrollLeft-p.x-m.x,_=u.top+f.scrollTop-p.y-m.y;return{x:v,y:_,width:u.width,height:u.height}}function sg(r){return rr(r).position==="static"}function _b(r,e){if(!Gr(r)||rr(r).position==="fixed")return null;if(e)return e(r);let t=r.offsetParent;return Wr(r)===t&&(t=t.ownerDocument.body),t}function rA(r,e){const t=Ln(r);if(Nd(r))return t;if(!Gr(r)){let a=Ua(r);for(;a&&!cl(a);){if(wn(a)&&!sg(a))return a;a=Ua(a)}return t}let n=_b(r,e);for(;n&&zV(n)&&sg(n);)n=_b(n,e);return n&&cl(n)&&sg(n)&&!ey(n)?t:n||YV(r)||t}const v4=async function(r){const e=this.getOffsetParent||rA,t=this.getDimensions,n=await t(r.floating);return{reference:g4(r.reference,await e(r.floating),r.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function y4(r){return rr(r).direction==="rtl"}const _4={convertOffsetParentRelativeRectToViewportRelativeRect:l4,getDocumentElement:Wr,getClippingRect:p4,getOffsetParent:rA,getElementRects:v4,getClientRects:u4,getDimensions:m4,getScale:$o,isElement:wn,isRTL:y4};function iA(r,e){return r.x===e.x&&r.y===e.y&&r.width===e.width&&r.height===e.height}function E4(r,e){let t=null,n;const a=Wr(r);function o(){var f;clearTimeout(n),(f=t)==null||f.disconnect(),t=null}function u(f,p){f===void 0&&(f=!1),p===void 0&&(p=1),o();const m=r.getBoundingClientRect(),{left:v,top:_,width:b,height:S}=m;if(f||e(),!b||!S)return;const C=uh(_),N=uh(a.clientWidth-(v+b)),I=uh(a.clientHeight-(_+S)),j=uh(v),z={rootMargin:-C+"px "+-N+"px "+-I+"px "+-j+"px",threshold:Ms(0,fl(1,p))||1};let re=!0;function ie(fe){const x=fe[0].intersectionRatio;if(x!==p){if(!re)return u();x?u(!1,x):n=setTimeout(()=>{u(!1,1e-7)},1e3)}x===1&&!iA(m,r.getBoundingClientRect())&&u(),re=!1}try{t=new IntersectionObserver(ie,{...z,root:a.ownerDocument})}catch{t=new IntersectionObserver(ie,z)}t.observe(r)}return u(!0),o}function w4(r,e,t,n){n===void 0&&(n={});const{ancestorScroll:a=!0,ancestorResize:o=!0,elementResize:u=typeof ResizeObserver=="function",layoutShift:f=typeof IntersectionObserver=="function",animationFrame:p=!1}=n,m=iy(r),v=a||o?[...m?fc(m):[],...fc(e)]:[];v.forEach(j=>{a&&j.addEventListener("scroll",t,{passive:!0}),o&&j.addEventListener("resize",t)});const _=m&&f?E4(m,t):null;let b=-1,S=null;u&&(S=new ResizeObserver(j=>{let[K]=j;K&&K.target===m&&S&&(S.unobserve(e),cancelAnimationFrame(b),b=requestAnimationFrame(()=>{var z;(z=S)==null||z.observe(e)})),t()}),m&&!p&&S.observe(m),S.observe(e));let C,N=p?Fs(r):null;p&&I();function I(){const j=Fs(r);N&&!iA(N,j)&&t(),N=j,C=requestAnimationFrame(I)}return t(),()=>{var j;v.forEach(K=>{a&&K.removeEventListener("scroll",t),o&&K.removeEventListener("resize",t)}),_==null||_(),(j=S)==null||j.disconnect(),S=null,p&&cancelAnimationFrame(C)}}const b4=a4,T4=r4,Eb=n4,S4=(r,e,t)=>{const n=new Map,a={platform:_4,...t},o={...a.platform,_c:n};return e4(r,e,{...a,platform:o})};var kh=typeof document<"u"?V.useLayoutEffect:V.useEffect;function ud(r,e){if(r===e)return!0;if(typeof r!=typeof e)return!1;if(typeof r=="function"&&r.toString()===e.toString())return!0;let t,n,a;if(r&&e&&typeof r=="object"){if(Array.isArray(r)){if(t=r.length,t!==e.length)return!1;for(n=t;n--!==0;)if(!ud(r[n],e[n]))return!1;return!0}if(a=Object.keys(r),t=a.length,t!==Object.keys(e).length)return!1;for(n=t;n--!==0;)if(!{}.hasOwnProperty.call(e,a[n]))return!1;for(n=t;n--!==0;){const o=a[n];if(!(o==="_owner"&&r.$$typeof)&&!ud(r[o],e[o]))return!1}return!0}return r!==r&&e!==e}function aA(r){return typeof window>"u"?1:(r.ownerDocument.defaultView||window).devicePixelRatio||1}function wb(r,e){const t=aA(r);return Math.round(e*t)/t}function og(r){const e=V.useRef(r);return kh(()=>{e.current=r}),e}function D4(r){r===void 0&&(r={});const{placement:e="bottom",strategy:t="absolute",middleware:n=[],platform:a,elements:{reference:o,floating:u}={},transform:f=!0,whileElementsMounted:p,open:m}=r,[v,_]=V.useState({x:0,y:0,strategy:t,placement:e,middlewareData:{},isPositioned:!1}),[b,S]=V.useState(n);ud(b,n)||S(n);const[C,N]=V.useState(null),[I,j]=V.useState(null),K=V.useCallback(le=>{le!==fe.current&&(fe.current=le,N(le))},[]),z=V.useCallback(le=>{le!==x.current&&(x.current=le,j(le))},[]),re=o||C,ie=u||I,fe=V.useRef(null),x=V.useRef(null),D=V.useRef(v),R=p!=null,M=og(p),P=og(a),U=og(m),k=V.useCallback(()=>{if(!fe.current||!x.current)return;const le={placement:e,strategy:t,middleware:b};P.current&&(le.platform=P.current),S4(fe.current,x.current,le).then(we=>{const L={...we,isPositioned:U.current!==!1};Re.current&&!ud(D.current,L)&&(D.current=L,lT.flushSync(()=>{_(L)}))})},[b,e,t,P,U]);kh(()=>{m===!1&&D.current.isPositioned&&(D.current.isPositioned=!1,_(le=>({...le,isPositioned:!1})))},[m]);const Re=V.useRef(!1);kh(()=>(Re.current=!0,()=>{Re.current=!1}),[]),kh(()=>{if(re&&(fe.current=re),ie&&(x.current=ie),re&&ie){if(M.current)return M.current(re,ie,k);k()}},[re,ie,k,M,R]);const Ee=V.useMemo(()=>({reference:fe,floating:x,setReference:K,setFloating:z}),[K,z]),Y=V.useMemo(()=>({reference:re,floating:ie}),[re,ie]),ne=V.useMemo(()=>{const le={position:t,left:0,top:0};if(!Y.floating)return le;const we=wb(Y.floating,v.x),L=wb(Y.floating,v.y);return f?{...le,transform:"translate("+we+"px, "+L+"px)",...aA(Y.floating)>=1.5&&{willChange:"transform"}}:{position:t,left:we,top:L}},[t,f,Y.floating,v.x,v.y]);return V.useMemo(()=>({...v,update:k,refs:Ee,elements:Y,floatingStyles:ne}),[v,k,Ee,Y,ne])}const A4=r=>{function e(t){return{}.hasOwnProperty.call(t,"current")}return{name:"arrow",options:r,fn(t){const{element:n,padding:a}=typeof r=="function"?r(t):r;return n&&e(n)?n.current!=null?Eb({element:n.current,padding:a}).fn(t):{}:n?Eb({element:n,padding:a}).fn(t):{}}}},R4=(r,e)=>({...b4(r),options:[r,e]}),C4=(r,e)=>({...T4(r),options:[r,e]}),k4=(r,e)=>({...A4(r),options:[r,e]}),sA={...QR},I4=sA.useInsertionEffect,x4=I4||(r=>r());function M4(r){const e=V.useRef(()=>{});return x4(()=>{e.current=r}),V.useCallback(function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return e.current==null?void 0:e.current(...n)},[])}var cd=typeof document<"u"?V.useLayoutEffect:V.useEffect;let bb=!1,O4=0;const Tb=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+O4++;function N4(){const[r,e]=V.useState(()=>bb?Tb():void 0);return cd(()=>{r==null&&e(Tb())},[]),V.useEffect(()=>{bb=!0},[]),r}const P4=sA.useId,oA=P4||N4,L4=V.forwardRef(function(e,t){const{context:{placement:n,elements:{floating:a},middlewareData:{arrow:o,shift:u}},width:f=14,height:p=7,tipRadius:m=0,strokeWidth:v=0,staticOffset:_,stroke:b,d:S,style:{transform:C,...N}={},...I}=e,j=oA(),[K,z]=V.useState(!1);if(cd(()=>{if(!a)return;rr(a).direction==="rtl"&&z(!0)},[a]),!a)return null;const[re,ie]=n.split("-"),fe=re==="top"||re==="bottom";let x=_;(fe&&u!=null&&u.x||!fe&&u!=null&&u.y)&&(x=null);const D=v*2,R=D/2,M=f/2*(m/-8+1),P=p/2*m/4,U=!!S,k=x&&ie==="end"?"bottom":"top";let Re=x&&ie==="end"?"right":"left";x&&K&&(Re=ie==="end"?"left":"right");const Ee=(o==null?void 0:o.x)!=null?x||o.x:"",Y=(o==null?void 0:o.y)!=null?x||o.y:"",ne=S||"M0,0"+(" H"+f)+(" L"+(f-M)+","+(p-P))+(" Q"+f/2+","+p+" "+M+","+(p-P))+" Z",le={top:U?"rotate(180deg)":"",left:U?"rotate(90deg)":"rotate(-90deg)",bottom:U?"":"rotate(180deg)",right:U?"rotate(-90deg)":"rotate(90deg)"}[re];return B.jsxs("svg",{...I,"aria-hidden":!0,ref:t,width:U?f:f+D,height:f,viewBox:"0 0 "+f+" "+(p>f?p:f),style:{position:"absolute",pointerEvents:"none",[Re]:Ee,[k]:Y,[re]:fe||U?"100%":"calc(100% - "+D/2+"px)",transform:[le,C].filter(we=>!!we).join(" "),...N},children:[D>0&&B.jsx("path",{clipPath:"url(#"+j+")",fill:"none",stroke:b,strokeWidth:D+(S?0:1),d:ne}),B.jsx("path",{stroke:D&&!S?I.fill:"none",d:ne}),B.jsx("clipPath",{id:j,children:B.jsx("rect",{x:-R,y:R*(U?-1:1),width:f+D,height:f})})]})});function V4(){const r=new Map;return{emit(e,t){var n;(n=r.get(e))==null||n.forEach(a=>a(t))},on(e,t){r.has(e)||r.set(e,new Set),r.get(e).add(t)},off(e,t){var n;(n=r.get(e))==null||n.delete(t)}}}const U4=V.createContext(null),B4=V.createContext(null),j4=()=>{var r;return((r=V.useContext(U4))==null?void 0:r.id)||null},H4=()=>V.useContext(B4);function F4(r){const{open:e=!1,onOpenChange:t,elements:n}=r,a=oA(),o=V.useRef({}),[u]=V.useState(()=>V4()),f=j4()!=null,[p,m]=V.useState(n.reference),v=M4((S,C,N)=>{o.current.openEvent=S?C:void 0,u.emit("openchange",{open:S,event:C,reason:N,nested:f}),t==null||t(S,C,N)}),_=V.useMemo(()=>({setPositionReference:m}),[]),b=V.useMemo(()=>({reference:p||n.reference||null,floating:n.floating||null,domReference:n.reference}),[p,n.reference,n.floating]);return V.useMemo(()=>({dataRef:o,open:e,onOpenChange:v,elements:b,events:u,floatingId:a,refs:_}),[e,v,b,u,a,_])}function z4(r){r===void 0&&(r={});const{nodeId:e}=r,t=F4({...r,elements:{reference:null,floating:null,...r.elements}}),n=r.rootContext||t,a=n.elements,[o,u]=V.useState(null),[f,p]=V.useState(null),v=(a==null?void 0:a.domReference)||o,_=V.useRef(null),b=H4();cd(()=>{v&&(_.current=v)},[v]);const S=D4({...r,elements:{...a,...f&&{reference:f}}}),C=V.useCallback(z=>{const re=wn(z)?{getBoundingClientRect:()=>z.getBoundingClientRect(),getClientRects:()=>z.getClientRects(),contextElement:z}:z;p(re),S.refs.setReference(re)},[S.refs]),N=V.useCallback(z=>{(wn(z)||z===null)&&(_.current=z,u(z)),(wn(S.refs.reference.current)||S.refs.reference.current===null||z!==null&&!wn(z))&&S.refs.setReference(z)},[S.refs]),I=V.useMemo(()=>({...S.refs,setReference:N,setPositionReference:C,domReference:_}),[S.refs,N,C]),j=V.useMemo(()=>({...S.elements,domReference:v}),[S.elements,v]),K=V.useMemo(()=>({...S,...n,refs:I,elements:j,nodeId:e}),[S,I,j,e,n]);return cd(()=>{n.dataRef.current.floatingContext=K;const z=b==null?void 0:b.nodesRef.current.find(re=>re.id===e);z&&(z.context=K)}),V.useMemo(()=>({...S,context:K,refs:I,elements:j}),[S,I,j,K])}/*!
  react-datepicker v8.3.0
  https://github.com/Hacker0x01/react-datepicker
  Released under the MIT License.
*/var Gg=function(e,t){return Gg=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(n[o]=a[o])},Gg(e,t)};function $t(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");Gg(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var Ke=function(){return Ke=Object.assign||function(t){for(var n,a=1,o=arguments.length;a<o;a++){n=arguments[a];for(var u in n)Object.prototype.hasOwnProperty.call(n,u)&&(t[u]=n[u])}return t},Ke.apply(this,arguments)};function Ur(r,e,t){if(t||arguments.length===2)for(var n=0,a=e.length,o;n<a;n++)(o||!(n in e))&&(o||(o=Array.prototype.slice.call(e,0,n)),o[n]=e[n]);return r.concat(o||Array.prototype.slice.call(e))}var Y4=function(r){var e=r.showTimeSelectOnly,t=e===void 0?!1:e,n=r.showTime,a=n===void 0?!1:n,o=r.className,u=r.children,f=t?"Choose Time":"Choose Date".concat(a?" and Time":"");return J.createElement("div",{className:o,role:"dialog","aria-label":f,"aria-modal":"true"},u)},q4=function(r,e){var t=V.useRef(null),n=V.useRef(r);n.current=r;var a=V.useCallback(function(o){var u,f=o.composed&&o.composedPath&&o.composedPath().find(function(p){return p instanceof Node})||o.target;t.current&&!t.current.contains(f)&&(e&&f instanceof HTMLElement&&f.classList.contains(e)||(u=n.current)===null||u===void 0||u.call(n,o))},[e]);return V.useEffect(function(){return document.addEventListener("mousedown",a),function(){document.removeEventListener("mousedown",a)}},[a]),t},Vd=function(r){var e=r.children,t=r.onClickOutside,n=r.className,a=r.containerRef,o=r.style,u=r.ignoreClass,f=q4(t,u);return J.createElement("div",{className:n,style:o,ref:function(p){f.current=p,a&&(a.current=p)}},e)},de;(function(r){r.ArrowUp="ArrowUp",r.ArrowDown="ArrowDown",r.ArrowLeft="ArrowLeft",r.ArrowRight="ArrowRight",r.PageUp="PageUp",r.PageDown="PageDown",r.Home="Home",r.End="End",r.Enter="Enter",r.Space=" ",r.Tab="Tab",r.Escape="Escape",r.Backspace="Backspace",r.X="x"})(de||(de={}));function lA(){var r=typeof window<"u"?window:globalThis;return r}var Cc=12;function Je(r){if(r==null)return new Date;var e=typeof r=="string"?RV(r):ve(r);return Ud(e)?e:new Date}function lg(r,e,t,n,a){a===void 0&&(a=Je());for(var o=dl(t)||dl(sy()),u=Array.isArray(e)?e:[e],f=0,p=u;f<p.length;f++){var m=p[f],v=wV(r,m,a,{locale:o});if(Ud(v)&&(!n||r===mt(v,m,t)))return v}return null}function Ud(r,e){return td(r)&&!Hs(r,new Date("1/1/1800"))}function mt(r,e,t){if(t==="en")return db(r,e,{useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0});var n=t?dl(t):void 0;return t&&!n&&console.warn('A locale object was not found for the provided string ["'.concat(t,'"].')),n=n||dl(sy()),db(r,e,{locale:n,useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0})}function Xn(r,e){var t=e.dateFormat,n=e.locale,a=Array.isArray(t)&&t.length>0?t[0]:t;return r&&mt(r,a,n)||""}function G4(r,e,t){if(!r)return"";var n=Xn(r,t),a=e?Xn(e,t):"";return"".concat(n," - ").concat(a)}function Q4(r,e){if(!(r!=null&&r.length))return"";var t=r[0]?Xn(r[0],e):"";if(r.length===1)return t;if(r.length===2&&r[1]){var n=Xn(r[1],e);return"".concat(t,", ").concat(n)}var a=r.length-1;return"".concat(t," (+").concat(a,")")}function ug(r,e){var t=e.hour,n=t===void 0?0:t,a=e.minute,o=a===void 0?0:a,u=e.second,f=u===void 0?0:u;return Ah(Rh(Ch(r,f),o),n)}function K4(r){return Xv(r)}function W4(r,e){return mt(r,"ddd",e)}function Ih(r){return js(r)}function Ia(r,e,t){var n=dl(e||sy());return Vi(r,{locale:n,weekStartsOn:t})}function xi(r){return BD(r)}function qu(r){return Md(r)}function Sb(r){return Hg(r)}function Db(){return js(Je())}function Ab(r){return VD(r)}function X4(r){return RP(r)}function $4(r){return UD(r)}function Nr(r,e){return r&&e?DV(r,e):!r&&!e}function _n(r,e){return r&&e?TV(r,e):!r&&!e}function fd(r,e){return r&&e?SV(r,e):!r&&!e}function Qe(r,e){return r&&e?DP(r,e):!r&&!e}function ks(r,e){return r&&e?AL(r,e):!r&&!e}function Gu(r,e,t){var n,a=js(e),o=VD(t);try{n=cc(r,{start:a,end:o})}catch{n=!1}return n}function sy(){var r=lA();return r.__localeId__}function dl(r){if(typeof r=="string"){var e=lA();return e.__localeData__?e.__localeData__[r]:void 0}else return r}function Z4(r,e,t){return e(mt(r,"EEEE",t))}function J4(r,e){return mt(r,"EEEEEE",e)}function eU(r,e){return mt(r,"EEE",e)}function oy(r,e){return mt($n(Je(),r),"LLLL",e)}function uA(r,e){return mt($n(Je(),r),"LLL",e)}function tU(r,e){return mt(Go(Je(),r),"QQQ",e)}function Zn(r,e){var t=e===void 0?{}:e,n=t.minDate,a=t.maxDate,o=t.excludeDates,u=t.excludeDateIntervals,f=t.includeDates,p=t.includeDateIntervals,m=t.filterDate;return kc(r,{minDate:n,maxDate:a})||o&&o.some(function(v){return v instanceof Date?Qe(r,v):Qe(r,v.date)})||u&&u.some(function(v){var _=v.start,b=v.end;return cc(r,{start:_,end:b})})||f&&!f.some(function(v){return Qe(r,v)})||p&&!p.some(function(v){var _=v.start,b=v.end;return cc(r,{start:_,end:b})})||m&&!m(Je(r))||!1}function ly(r,e){var t=e===void 0?{}:e,n=t.excludeDates,a=t.excludeDateIntervals;return a&&a.length>0?a.some(function(o){var u=o.start,f=o.end;return cc(r,{start:u,end:f})}):n&&n.some(function(o){var u;return o instanceof Date?Qe(r,o):Qe(r,(u=o.date)!==null&&u!==void 0?u:new Date)})||!1}function cA(r,e){var t=e===void 0?{}:e,n=t.minDate,a=t.maxDate,o=t.excludeDates,u=t.includeDates,f=t.filterDate;return kc(r,{minDate:n?BD(n):void 0,maxDate:a?UD(a):void 0})||(o==null?void 0:o.some(function(p){return _n(r,p instanceof Date?p:p.date)}))||u&&!u.some(function(p){return _n(r,p)})||f&&!f(Je(r))||!1}function ch(r,e,t,n){var a=Le(r),o=En(r),u=Le(e),f=En(e),p=Le(n);return a===u&&a===p?o<=t&&t<=f:a<u?p===a&&o<=t||p===u&&f>=t||p<u&&p>a:!1}function nU(r,e){var t=e===void 0?{}:e,n=t.minDate,a=t.maxDate,o=t.excludeDates,u=t.includeDates;return kc(r,{minDate:n,maxDate:a})||o&&o.some(function(f){return _n(f instanceof Date?f:f.date,r)})||u&&!u.some(function(f){return _n(f,r)})||!1}function fh(r,e){var t=e===void 0?{}:e,n=t.minDate,a=t.maxDate,o=t.excludeDates,u=t.includeDates,f=t.filterDate;return kc(r,{minDate:n,maxDate:a})||(o==null?void 0:o.some(function(p){return fd(r,p instanceof Date?p:p.date)}))||u&&!u.some(function(p){return fd(r,p)})||f&&!f(Je(r))||!1}function hh(r,e,t){if(!e||!t||!td(e)||!td(t))return!1;var n=Le(e),a=Le(t);return n<=r&&a>=r}function xh(r,e){var t=e===void 0?{}:e,n=t.minDate,a=t.maxDate,o=t.excludeDates,u=t.includeDates,f=t.filterDate,p=new Date(r,0,1);return kc(p,{minDate:n?Md(n):void 0,maxDate:a?jD(a):void 0})||(o==null?void 0:o.some(function(m){return Nr(p,m instanceof Date?m:m.date)}))||u&&!u.some(function(m){return Nr(p,m)})||f&&!f(Je(p))||!1}function dh(r,e,t,n){var a=Le(r),o=Is(r),u=Le(e),f=Is(e),p=Le(n);return a===u&&a===p?o<=t&&t<=f:a<u?p===a&&o<=t||p===u&&f>=t||p<u&&p>a:!1}function kc(r,e){var t,n=e===void 0?{}:e,a=n.minDate,o=n.maxDate;return(t=a&&ll(r,a)<0||o&&ll(r,o)>0)!==null&&t!==void 0?t:!1}function Rb(r,e){return e.some(function(t){return ki(t)===ki(r)&&Ii(t)===Ii(r)&&ka(t)===ka(r)})}function Cb(r,e){var t=e===void 0?{}:e,n=t.excludeTimes,a=t.includeTimes,o=t.filterTime;return n&&Rb(r,n)||a&&!Rb(r,a)||o&&!o(r)||!1}function kb(r,e){var t=e.minTime,n=e.maxTime;if(!t||!n)throw new Error("Both minTime and maxTime props required");var a=Je();a=Ah(a,ki(r)),a=Rh(a,Ii(r)),a=Ch(a,ka(r));var o=Je();o=Ah(o,ki(t)),o=Rh(o,Ii(t)),o=Ch(o,ka(t));var u=Je();u=Ah(u,ki(n)),u=Rh(u,Ii(n)),u=Ch(u,ka(n));var f;try{f=!cc(a,{start:o,end:u})}catch{f=!1}return f}function Ib(r,e){var t=e===void 0?{}:e,n=t.minDate,a=t.includeDates,o=xs(r,1);return n&&nd(n,o)>0||a&&a.every(function(u){return nd(u,o)>0})||!1}function xb(r,e){var t=e===void 0?{}:e,n=t.maxDate,a=t.includeDates,o=pr(r,1);return n&&nd(o,n)>0||a&&a.every(function(u){return nd(o,u)>0})||!1}function rU(r,e){var t=e===void 0?{}:e,n=t.minDate,a=t.includeDates,o=Md(r),u=WD(o);return n&&rd(n,u)>0||a&&a.every(function(f){return rd(f,u)>0})||!1}function iU(r,e){var t=e===void 0?{}:e,n=t.maxDate,a=t.includeDates,o=jD(r),u=Wv(o,1);return n&&rd(u,n)>0||a&&a.every(function(f){return rd(u,f)>0})||!1}function Mb(r,e){var t=e===void 0?{}:e,n=t.minDate,a=t.includeDates,o=ul(r,1);return n&&id(n,o)>0||a&&a.every(function(u){return id(u,o)>0})||!1}function aU(r,e){var t=e===void 0?{}:e,n=t.minDate,a=t.yearItemNumber,o=a===void 0?Cc:a,u=qu(ul(r,o)),f=Ta(u,o).endPeriod,p=n&&Le(n);return p&&p>f||!1}function Ob(r,e){var t=e===void 0?{}:e,n=t.maxDate,a=t.includeDates,o=Ri(r,1);return n&&id(o,n)>0||a&&a.every(function(u){return id(o,u)>0})||!1}function sU(r,e){var t=e===void 0?{}:e,n=t.maxDate,a=t.yearItemNumber,o=a===void 0?Cc:a,u=Ri(r,o),f=Ta(u,o).startPeriod,p=n&&Le(n);return p&&p<f||!1}function fA(r){var e=r.minDate,t=r.includeDates;if(t&&e){var n=t.filter(function(a){return ll(a,e)>=0});return ob(n)}else return t?ob(t):e}function hA(r){var e=r.maxDate,t=r.includeDates;if(t&&e){var n=t.filter(function(a){return ll(a,e)<=0});return sb(n)}else return t?sb(t):e}function Nb(r,e){var t;r===void 0&&(r=[]),e===void 0&&(e="react-datepicker__day--highlighted");for(var n=new Map,a=0,o=r.length;a<o;a++){var u=r[a];if(Ci(u)){var f=mt(u,"MM.dd.yyyy"),p=n.get(f)||[];p.includes(e)||(p.push(e),n.set(f,p))}else if(typeof u=="object"){var m=Object.keys(u),v=(t=m[0])!==null&&t!==void 0?t:"",_=u[v];if(typeof v=="string"&&Array.isArray(_))for(var b=0,S=_.length;b<S;b++){var C=_[b];if(C){var f=mt(C,"MM.dd.yyyy"),p=n.get(f)||[];p.includes(v)||(p.push(v),n.set(f,p))}}}}return n}function oU(r,e){return r.length!==e.length?!1:r.every(function(t,n){return t===e[n]})}function lU(r,e){r===void 0&&(r=[]),e===void 0&&(e="react-datepicker__day--holidays");var t=new Map;return r.forEach(function(n){var a=n.date,o=n.holidayName;if(Ci(a)){var u=mt(a,"MM.dd.yyyy"),f=t.get(u)||{className:"",holidayNames:[]};if(!("className"in f&&f.className===e&&oU(f.holidayNames,[o]))){f.className=e;var p=f.holidayNames;f.holidayNames=p?Ur(Ur([],p,!0),[o],!1):[o],t.set(u,f)}}}),t}function uU(r,e,t,n,a){for(var o=a.length,u=[],f=0;f<o;f++){var p=r,m=a[f];m&&(p=wP(p,ki(m)),p=jg(p,Ii(m)),p=SP(p,ka(m)));var v=jg(r,(t+1)*n);Va(p,e)&&Hs(p,v)&&m!=null&&u.push(m)}return u}function Pb(r){return r<10?"0".concat(r):"".concat(r)}function Ta(r,e){e===void 0&&(e=Cc);var t=Math.ceil(Le(r)/e)*e,n=t-(e-1);return{startPeriod:n,endPeriod:t}}function cU(r){var e=new Date(r.getFullYear(),r.getMonth(),r.getDate()),t=new Date(r.getFullYear(),r.getMonth(),r.getDate(),24);return Math.round((+t-+e)/36e5)}function Lb(r){var e=r.getSeconds(),t=r.getMilliseconds();return ve(r.getTime()-e*1e3-t)}function fU(r,e){return Lb(r).getTime()===Lb(e).getTime()}function Vb(r){if(!Ci(r))throw new Error("Invalid date");var e=new Date(r);return e.setHours(0,0,0,0),e}function Ub(r,e){if(!Ci(r)||!Ci(e))throw new Error("Invalid date received");var t=Vb(r),n=Vb(e);return Hs(t,n)}function dA(r){return r.key===de.Space}var hU=function(r){$t(e,r);function e(t){var n=r.call(this,t)||this;return n.inputRef=J.createRef(),n.onTimeChange=function(a){var o,u;n.setState({time:a});var f=n.props.date,p=f instanceof Date&&!isNaN(+f),m=p?f:new Date;if(a!=null&&a.includes(":")){var v=a.split(":"),_=v[0],b=v[1];m.setHours(Number(_)),m.setMinutes(Number(b))}(u=(o=n.props).onChange)===null||u===void 0||u.call(o,m)},n.renderTimeInput=function(){var a=n.state.time,o=n.props,u=o.date,f=o.timeString,p=o.customTimeInput;return p?V.cloneElement(p,{date:u,value:a,onChange:n.onTimeChange}):J.createElement("input",{type:"time",className:"react-datepicker-time__input",placeholder:"Time",name:"time-input",ref:n.inputRef,onClick:function(){var m;(m=n.inputRef.current)===null||m===void 0||m.focus()},required:!0,value:a,onChange:function(m){n.onTimeChange(m.target.value||f)}})},n.state={time:n.props.timeString},n}return e.getDerivedStateFromProps=function(t,n){return t.timeString!==n.time?{time:t.timeString}:null},e.prototype.render=function(){return J.createElement("div",{className:"react-datepicker__input-time-container"},J.createElement("div",{className:"react-datepicker-time__caption"},this.props.timeInputLabel),J.createElement("div",{className:"react-datepicker-time__input-container"},J.createElement("div",{className:"react-datepicker-time__input"},this.renderTimeInput())))},e}(V.Component),dU=function(r){$t(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.dayEl=V.createRef(),t.handleClick=function(n){!t.isDisabled()&&t.props.onClick&&t.props.onClick(n)},t.handleMouseEnter=function(n){!t.isDisabled()&&t.props.onMouseEnter&&t.props.onMouseEnter(n)},t.handleOnKeyDown=function(n){var a,o,u=n.key;u===de.Space&&(n.preventDefault(),n.key=de.Enter),(o=(a=t.props).handleOnKeyDown)===null||o===void 0||o.call(a,n)},t.isSameDay=function(n){return Qe(t.props.day,n)},t.isKeyboardSelected=function(){var n;if(t.props.disabledKeyboardNavigation)return!1;var a=t.props.selectsMultiple?(n=t.props.selectedDates)===null||n===void 0?void 0:n.some(function(u){return t.isSameDayOrWeek(u)}):t.isSameDayOrWeek(t.props.selected),o=t.props.preSelection&&t.isDisabled(t.props.preSelection);return!a&&t.isSameDayOrWeek(t.props.preSelection)&&!o},t.isDisabled=function(n){return n===void 0&&(n=t.props.day),Zn(n,{minDate:t.props.minDate,maxDate:t.props.maxDate,excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals,includeDateIntervals:t.props.includeDateIntervals,includeDates:t.props.includeDates,filterDate:t.props.filterDate})},t.isExcluded=function(){return ly(t.props.day,{excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals})},t.isStartOfWeek=function(){return Qe(t.props.day,Ia(t.props.day,t.props.locale,t.props.calendarStartDay))},t.isSameWeek=function(n){return t.props.showWeekPicker&&Qe(n,Ia(t.props.day,t.props.locale,t.props.calendarStartDay))},t.isSameDayOrWeek=function(n){return t.isSameDay(n)||t.isSameWeek(n)},t.getHighLightedClass=function(){var n=t.props,a=n.day,o=n.highlightDates;if(!o)return!1;var u=mt(a,"MM.dd.yyyy");return o.get(u)},t.getHolidaysClass=function(){var n,a=t.props,o=a.day,u=a.holidays;if(!u)return[void 0];var f=mt(o,"MM.dd.yyyy");return u.has(f)?[(n=u.get(f))===null||n===void 0?void 0:n.className]:[void 0]},t.isInRange=function(){var n=t.props,a=n.day,o=n.startDate,u=n.endDate;return!o||!u?!1:Gu(a,o,u)},t.isInSelectingRange=function(){var n,a=t.props,o=a.day,u=a.selectsStart,f=a.selectsEnd,p=a.selectsRange,m=a.selectsDisabledDaysInRange,v=a.startDate,_=a.endDate,b=(n=t.props.selectingDate)!==null&&n!==void 0?n:t.props.preSelection;return!(u||f||p)||!b||!m&&t.isDisabled()?!1:u&&_&&(Hs(b,_)||ks(b,_))?Gu(o,b,_):f&&v&&!_&&(Va(b,v)||ks(b,v))||p&&v&&!_&&(Va(b,v)||ks(b,v))?Gu(o,v,b):!1},t.isSelectingRangeStart=function(){var n;if(!t.isInSelectingRange())return!1;var a=t.props,o=a.day,u=a.startDate,f=a.selectsStart,p=(n=t.props.selectingDate)!==null&&n!==void 0?n:t.props.preSelection;return f?Qe(o,p):Qe(o,u)},t.isSelectingRangeEnd=function(){var n;if(!t.isInSelectingRange())return!1;var a=t.props,o=a.day,u=a.endDate,f=a.selectsEnd,p=a.selectsRange,m=(n=t.props.selectingDate)!==null&&n!==void 0?n:t.props.preSelection;return f||p?Qe(o,m):Qe(o,u)},t.isRangeStart=function(){var n=t.props,a=n.day,o=n.startDate,u=n.endDate;return!o||!u?!1:Qe(o,a)},t.isRangeEnd=function(){var n=t.props,a=n.day,o=n.startDate,u=n.endDate;return!o||!u?!1:Qe(u,a)},t.isWeekend=function(){var n=bL(t.props.day);return n===0||n===6},t.isAfterMonth=function(){return t.props.month!==void 0&&(t.props.month+1)%12===En(t.props.day)},t.isBeforeMonth=function(){return t.props.month!==void 0&&(En(t.props.day)+1)%12===t.props.month},t.isCurrentDay=function(){return t.isSameDay(Je())},t.isSelected=function(){var n;return t.props.selectsMultiple?(n=t.props.selectedDates)===null||n===void 0?void 0:n.some(function(a){return t.isSameDayOrWeek(a)}):t.isSameDayOrWeek(t.props.selected)},t.getClassNames=function(n){var a=t.props.dayClassName?t.props.dayClassName(n):void 0;return sn("react-datepicker__day",a,"react-datepicker__day--"+W4(t.props.day),{"react-datepicker__day--disabled":t.isDisabled(),"react-datepicker__day--excluded":t.isExcluded(),"react-datepicker__day--selected":t.isSelected(),"react-datepicker__day--keyboard-selected":t.isKeyboardSelected(),"react-datepicker__day--range-start":t.isRangeStart(),"react-datepicker__day--range-end":t.isRangeEnd(),"react-datepicker__day--in-range":t.isInRange(),"react-datepicker__day--in-selecting-range":t.isInSelectingRange(),"react-datepicker__day--selecting-range-start":t.isSelectingRangeStart(),"react-datepicker__day--selecting-range-end":t.isSelectingRangeEnd(),"react-datepicker__day--today":t.isCurrentDay(),"react-datepicker__day--weekend":t.isWeekend(),"react-datepicker__day--outside-month":t.isAfterMonth()||t.isBeforeMonth()},t.getHighLightedClass(),t.getHolidaysClass())},t.getAriaLabel=function(){var n=t.props,a=n.day,o=n.ariaLabelPrefixWhenEnabled,u=o===void 0?"Choose":o,f=n.ariaLabelPrefixWhenDisabled,p=f===void 0?"Not available":f,m=t.isDisabled()||t.isExcluded()?p:u;return"".concat(m," ").concat(mt(a,"PPPP",t.props.locale))},t.getTitle=function(){var n=t.props,a=n.day,o=n.holidays,u=o===void 0?new Map:o,f=n.excludeDates,p=mt(a,"MM.dd.yyyy"),m=[];return u.has(p)&&m.push.apply(m,u.get(p).holidayNames),t.isExcluded()&&m.push(f==null?void 0:f.filter(function(v){return v instanceof Date?Qe(v,a):Qe(v==null?void 0:v.date,a)}).map(function(v){if(!(v instanceof Date))return v==null?void 0:v.message})),m.join(", ")},t.getTabIndex=function(){var n=t.props.selected,a=t.props.preSelection,o=!(t.props.showWeekPicker&&(t.props.showWeekNumber||!t.isStartOfWeek()))&&(t.isKeyboardSelected()||t.isSameDay(n)&&Qe(a,n))?0:-1;return o},t.handleFocusDay=function(){var n;t.shouldFocusDay()&&((n=t.dayEl.current)===null||n===void 0||n.focus({preventScroll:!0}))},t.renderDayContents=function(){return t.props.monthShowsDuplicateDaysEnd&&t.isAfterMonth()||t.props.monthShowsDuplicateDaysStart&&t.isBeforeMonth()?null:t.props.renderDayContents?t.props.renderDayContents(pb(t.props.day),t.props.day):pb(t.props.day)},t.render=function(){return J.createElement("div",{ref:t.dayEl,className:t.getClassNames(t.props.day),onKeyDown:t.handleOnKeyDown,onClick:t.handleClick,onMouseEnter:t.props.usePointerEvent?void 0:t.handleMouseEnter,onPointerEnter:t.props.usePointerEvent?t.handleMouseEnter:void 0,tabIndex:t.getTabIndex(),"aria-label":t.getAriaLabel(),role:"option",title:t.getTitle(),"aria-disabled":t.isDisabled(),"aria-current":t.isCurrentDay()?"date":void 0,"aria-selected":t.isSelected()||t.isInRange()},t.renderDayContents(),t.getTitle()!==""&&J.createElement("span",{className:"overlay"},t.getTitle()))},t}return e.prototype.componentDidMount=function(){this.handleFocusDay()},e.prototype.componentDidUpdate=function(){this.handleFocusDay()},e.prototype.shouldFocusDay=function(){var t=!1;return this.getTabIndex()===0&&this.isSameDay(this.props.preSelection)&&((!document.activeElement||document.activeElement===document.body)&&(t=!0),this.props.inline&&!this.props.shouldFocusDayInline&&(t=!1),this.isDayActiveElement()&&(t=!0),this.isDuplicateDay()&&(t=!1)),t},e.prototype.isDayActiveElement=function(){var t,n,a;return((n=(t=this.props.containerRef)===null||t===void 0?void 0:t.current)===null||n===void 0?void 0:n.contains(document.activeElement))&&((a=document.activeElement)===null||a===void 0?void 0:a.classList.contains("react-datepicker__day"))},e.prototype.isDuplicateDay=function(){return this.props.monthShowsDuplicateDaysEnd&&this.isAfterMonth()||this.props.monthShowsDuplicateDaysStart&&this.isBeforeMonth()},e}(V.Component),pU=function(r){$t(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.weekNumberEl=V.createRef(),t.handleClick=function(n){t.props.onClick&&t.props.onClick(n)},t.handleOnKeyDown=function(n){var a,o,u=n.key;u===de.Space&&(n.preventDefault(),n.key=de.Enter),(o=(a=t.props).handleOnKeyDown)===null||o===void 0||o.call(a,n)},t.isKeyboardSelected=function(){return!t.props.disabledKeyboardNavigation&&!Qe(t.props.date,t.props.selected)&&Qe(t.props.date,t.props.preSelection)},t.getTabIndex=function(){return t.props.showWeekPicker&&t.props.showWeekNumber&&(t.isKeyboardSelected()||Qe(t.props.date,t.props.selected)&&Qe(t.props.preSelection,t.props.selected))?0:-1},t.handleFocusWeekNumber=function(n){var a=!1;t.getTabIndex()===0&&!(n!=null&&n.isInputFocused)&&Qe(t.props.date,t.props.preSelection)&&((!document.activeElement||document.activeElement===document.body)&&(a=!0),t.props.inline&&!t.props.shouldFocusDayInline&&(a=!1),t.props.containerRef&&t.props.containerRef.current&&t.props.containerRef.current.contains(document.activeElement)&&document.activeElement&&document.activeElement.classList.contains("react-datepicker__week-number")&&(a=!0)),a&&t.weekNumberEl.current&&t.weekNumberEl.current.focus({preventScroll:!0})},t}return Object.defineProperty(e,"defaultProps",{get:function(){return{ariaLabelPrefix:"week "}},enumerable:!1,configurable:!0}),e.prototype.componentDidMount=function(){this.handleFocusWeekNumber()},e.prototype.componentDidUpdate=function(t){this.handleFocusWeekNumber(t)},e.prototype.render=function(){var t=this.props,n=t.weekNumber,a=t.isWeekDisabled,o=t.ariaLabelPrefix,u=o===void 0?e.defaultProps.ariaLabelPrefix:o,f=t.onClick,p={"react-datepicker__week-number":!0,"react-datepicker__week-number--clickable":!!f&&!a,"react-datepicker__week-number--selected":!!f&&Qe(this.props.date,this.props.selected)};return J.createElement("div",{ref:this.weekNumberEl,className:sn(p),"aria-label":"".concat(u," ").concat(this.props.weekNumber),onClick:this.handleClick,onKeyDown:this.handleOnKeyDown,tabIndex:this.getTabIndex()},n)},e}(V.Component),mU=function(r){$t(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.isDisabled=function(n){return Zn(n,{minDate:t.props.minDate,maxDate:t.props.maxDate,excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals,includeDateIntervals:t.props.includeDateIntervals,includeDates:t.props.includeDates,filterDate:t.props.filterDate})},t.handleDayClick=function(n,a){t.props.onDayClick&&t.props.onDayClick(n,a)},t.handleDayMouseEnter=function(n){t.props.onDayMouseEnter&&t.props.onDayMouseEnter(n)},t.handleWeekClick=function(n,a,o){for(var u,f,p,m=new Date(n),v=0;v<7;v++){var _=new Date(n);_.setDate(_.getDate()+v);var b=!t.isDisabled(_);if(b){m=_;break}}typeof t.props.onWeekSelect=="function"&&t.props.onWeekSelect(m,a,o),t.props.showWeekPicker&&t.handleDayClick(m,o),((u=t.props.shouldCloseOnSelect)!==null&&u!==void 0?u:e.defaultProps.shouldCloseOnSelect)&&((p=(f=t.props).setOpen)===null||p===void 0||p.call(f,!1))},t.formatWeekNumber=function(n){return t.props.formatWeekNumber?t.props.formatWeekNumber(n):K4(n)},t.isWeekDisabled=function(){for(var n=t.startOfWeek(),a=dr(n,6),o=new Date(n);o<=a;){if(!t.isDisabled(o))return!1;o=dr(o,1)}return!0},t.renderDays=function(){var n=t.startOfWeek(),a=[],o=t.formatWeekNumber(n);if(t.props.showWeekNumber){var u=t.props.onWeekSelect||t.props.showWeekPicker?t.handleWeekClick.bind(t,n,o):void 0;a.push(J.createElement(pU,Ke({key:"W"},e.defaultProps,t.props,{weekNumber:o,isWeekDisabled:t.isWeekDisabled(),date:n,onClick:u})))}return a.concat([0,1,2,3,4,5,6].map(function(f){var p=dr(n,f);return J.createElement(dU,Ke({},e.defaultProps,t.props,{ariaLabelPrefixWhenEnabled:t.props.chooseDayAriaLabelPrefix,ariaLabelPrefixWhenDisabled:t.props.disabledDayAriaLabelPrefix,key:p.valueOf(),day:p,onClick:t.handleDayClick.bind(t,p),onMouseEnter:t.handleDayMouseEnter.bind(t,p)}))}))},t.startOfWeek=function(){return Ia(t.props.day,t.props.locale,t.props.calendarStartDay)},t.isKeyboardSelected=function(){return!t.props.disabledKeyboardNavigation&&!Qe(t.startOfWeek(),t.props.selected)&&Qe(t.startOfWeek(),t.props.preSelection)},t}return Object.defineProperty(e,"defaultProps",{get:function(){return{shouldCloseOnSelect:!0}},enumerable:!1,configurable:!0}),e.prototype.render=function(){var t={"react-datepicker__week":!0,"react-datepicker__week--selected":Qe(this.startOfWeek(),this.props.selected),"react-datepicker__week--keyboard-selected":this.isKeyboardSelected()};return J.createElement("div",{className:sn(t)},this.renderDays())},e}(V.Component),Bu,gU=6,Zo={TWO_COLUMNS:"two_columns",THREE_COLUMNS:"three_columns",FOUR_COLUMNS:"four_columns"},cg=(Bu={},Bu[Zo.TWO_COLUMNS]={grid:[[0,1],[2,3],[4,5],[6,7],[8,9],[10,11]],verticalNavigationOffset:2},Bu[Zo.THREE_COLUMNS]={grid:[[0,1,2],[3,4,5],[6,7,8],[9,10,11]],verticalNavigationOffset:3},Bu[Zo.FOUR_COLUMNS]={grid:[[0,1,2,3],[4,5,6,7],[8,9,10,11]],verticalNavigationOffset:4},Bu),ph=1;function Bb(r,e){return r?Zo.FOUR_COLUMNS:e?Zo.TWO_COLUMNS:Zo.THREE_COLUMNS}var vU=function(r){$t(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.MONTH_REFS=Ur([],Array(12),!0).map(function(){return V.createRef()}),t.QUARTER_REFS=Ur([],Array(4),!0).map(function(){return V.createRef()}),t.isDisabled=function(n){return Zn(n,{minDate:t.props.minDate,maxDate:t.props.maxDate,excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals,includeDateIntervals:t.props.includeDateIntervals,includeDates:t.props.includeDates,filterDate:t.props.filterDate})},t.isExcluded=function(n){return ly(n,{excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals})},t.handleDayClick=function(n,a){var o,u;(u=(o=t.props).onDayClick)===null||u===void 0||u.call(o,n,a,t.props.orderInDisplay)},t.handleDayMouseEnter=function(n){var a,o;(o=(a=t.props).onDayMouseEnter)===null||o===void 0||o.call(a,n)},t.handleMouseLeave=function(){var n,a;(a=(n=t.props).onMouseLeave)===null||a===void 0||a.call(n)},t.isRangeStartMonth=function(n){var a=t.props,o=a.day,u=a.startDate,f=a.endDate;return!u||!f?!1:_n($n(o,n),u)},t.isRangeStartQuarter=function(n){var a=t.props,o=a.day,u=a.startDate,f=a.endDate;return!u||!f?!1:fd(Go(o,n),u)},t.isRangeEndMonth=function(n){var a=t.props,o=a.day,u=a.startDate,f=a.endDate;return!u||!f?!1:_n($n(o,n),f)},t.isRangeEndQuarter=function(n){var a=t.props,o=a.day,u=a.startDate,f=a.endDate;return!u||!f?!1:fd(Go(o,n),f)},t.isInSelectingRangeMonth=function(n){var a,o=t.props,u=o.day,f=o.selectsStart,p=o.selectsEnd,m=o.selectsRange,v=o.startDate,_=o.endDate,b=(a=t.props.selectingDate)!==null&&a!==void 0?a:t.props.preSelection;return!(f||p||m)||!b?!1:f&&_?ch(b,_,n,u):p&&v||m&&v&&!_?ch(v,b,n,u):!1},t.isSelectingMonthRangeStart=function(n){var a;if(!t.isInSelectingRangeMonth(n))return!1;var o=t.props,u=o.day,f=o.startDate,p=o.selectsStart,m=$n(u,n),v=(a=t.props.selectingDate)!==null&&a!==void 0?a:t.props.preSelection;return p?_n(m,v):_n(m,f)},t.isSelectingMonthRangeEnd=function(n){var a;if(!t.isInSelectingRangeMonth(n))return!1;var o=t.props,u=o.day,f=o.endDate,p=o.selectsEnd,m=o.selectsRange,v=$n(u,n),_=(a=t.props.selectingDate)!==null&&a!==void 0?a:t.props.preSelection;return p||m?_n(v,_):_n(v,f)},t.isInSelectingRangeQuarter=function(n){var a,o=t.props,u=o.day,f=o.selectsStart,p=o.selectsEnd,m=o.selectsRange,v=o.startDate,_=o.endDate,b=(a=t.props.selectingDate)!==null&&a!==void 0?a:t.props.preSelection;return!(f||p||m)||!b?!1:f&&_?dh(b,_,n,u):p&&v||m&&v&&!_?dh(v,b,n,u):!1},t.isWeekInMonth=function(n){var a=t.props.day,o=dr(n,6);return _n(n,a)||_n(o,a)},t.isCurrentMonth=function(n,a){return Le(n)===Le(Je())&&a===En(Je())},t.isCurrentQuarter=function(n,a){return Le(n)===Le(Je())&&a===Is(Je())},t.isSelectedMonth=function(n,a,o){return En(o)===a&&Le(n)===Le(o)},t.isSelectMonthInList=function(n,a,o){return o.some(function(u){return t.isSelectedMonth(n,a,u)})},t.isSelectedQuarter=function(n,a,o){return Is(n)===a&&Le(n)===Le(o)},t.renderWeeks=function(){for(var n=[],a=t.props.fixedHeight,o=0,u=!1,f=Ia(xi(t.props.day),t.props.locale,t.props.calendarStartDay),p=function(C){return t.props.showWeekPicker?Ia(C,t.props.locale,t.props.calendarStartDay):t.props.preSelection},m=function(C){return t.props.showWeekPicker?Ia(C,t.props.locale,t.props.calendarStartDay):t.props.selected},v=t.props.selected?m(t.props.selected):void 0,_=t.props.preSelection?p(t.props.preSelection):void 0;n.push(J.createElement(mU,Ke({},t.props,{ariaLabelPrefix:t.props.weekAriaLabelPrefix,key:o,day:f,month:En(t.props.day),onDayClick:t.handleDayClick,onDayMouseEnter:t.handleDayMouseEnter,selected:v,preSelection:_,showWeekNumber:t.props.showWeekNumbers}))),!u;){o++,f=ed(f,1);var b=a&&o>=gU,S=!a&&!t.isWeekInMonth(f);if(b||S)if(t.props.peekNextMonth)u=!0;else break}return n},t.onMonthClick=function(n,a){var o=t.isMonthDisabledForLabelDate(a),u=o.isDisabled,f=o.labelDate;u||t.handleDayClick(xi(f),n)},t.onMonthMouseEnter=function(n){var a=t.isMonthDisabledForLabelDate(n),o=a.isDisabled,u=a.labelDate;o||t.handleDayMouseEnter(xi(u))},t.handleMonthNavigation=function(n,a){var o,u,f,p;(u=(o=t.props).setPreSelection)===null||u===void 0||u.call(o,a),(p=(f=t.MONTH_REFS[n])===null||f===void 0?void 0:f.current)===null||p===void 0||p.focus()},t.handleKeyboardNavigation=function(n,a,o){var u,f=t.props,p=f.selected,m=f.preSelection,v=f.setPreSelection,_=f.minDate,b=f.maxDate,S=f.showFourColumnMonthYearPicker,C=f.showTwoColumnMonthYearPicker;if(m){var N=Bb(S,C),I=t.getVerticalOffset(N),j=(u=cg[N])===null||u===void 0?void 0:u.grid,K=function(x,D,R){var M,P,U=D,k=R;switch(x){case de.ArrowRight:U=pr(D,ph),k=R===11?0:R+ph;break;case de.ArrowLeft:U=xs(D,ph),k=R===0?11:R-ph;break;case de.ArrowUp:U=xs(D,I),k=!((M=j==null?void 0:j[0])===null||M===void 0)&&M.includes(R)?R+12-I:R-I;break;case de.ArrowDown:U=pr(D,I),k=!((P=j==null?void 0:j[j.length-1])===null||P===void 0)&&P.includes(R)?R-12+I:R+I;break}return{newCalculatedDate:U,newCalculatedMonth:k}},z=function(x,D,R){for(var M=40,P=x,U=!1,k=0,Re=K(P,D,R),Ee=Re.newCalculatedDate,Y=Re.newCalculatedMonth;!U;){if(k>=M){Ee=D,Y=R;break}if(_&&Ee<_){P=de.ArrowRight;var ne=K(P,Ee,Y);Ee=ne.newCalculatedDate,Y=ne.newCalculatedMonth}if(b&&Ee>b){P=de.ArrowLeft;var ne=K(P,Ee,Y);Ee=ne.newCalculatedDate,Y=ne.newCalculatedMonth}if(nU(Ee,t.props)){var ne=K(P,Ee,Y);Ee=ne.newCalculatedDate,Y=ne.newCalculatedMonth}else U=!0;k++}return{newCalculatedDate:Ee,newCalculatedMonth:Y}};if(a===de.Enter){t.isMonthDisabled(o)||(t.onMonthClick(n,o),v==null||v(p));return}var re=z(a,m,o),ie=re.newCalculatedDate,fe=re.newCalculatedMonth;switch(a){case de.ArrowRight:case de.ArrowLeft:case de.ArrowUp:case de.ArrowDown:t.handleMonthNavigation(fe,ie);break}}},t.getVerticalOffset=function(n){var a,o;return(o=(a=cg[n])===null||a===void 0?void 0:a.verticalNavigationOffset)!==null&&o!==void 0?o:0},t.onMonthKeyDown=function(n,a){var o=t.props,u=o.disabledKeyboardNavigation,f=o.handleOnMonthKeyDown,p=n.key;p!==de.Tab&&n.preventDefault(),u||t.handleKeyboardNavigation(n,p,a),f&&f(n)},t.onQuarterClick=function(n,a){var o=Go(t.props.day,a);fh(o,t.props)||t.handleDayClick(Sb(o),n)},t.onQuarterMouseEnter=function(n){var a=Go(t.props.day,n);fh(a,t.props)||t.handleDayMouseEnter(Sb(a))},t.handleQuarterNavigation=function(n,a){var o,u,f,p;t.isDisabled(a)||t.isExcluded(a)||((u=(o=t.props).setPreSelection)===null||u===void 0||u.call(o,a),(p=(f=t.QUARTER_REFS[n-1])===null||f===void 0?void 0:f.current)===null||p===void 0||p.focus())},t.onQuarterKeyDown=function(n,a){var o,u,f=n.key;if(!t.props.disabledKeyboardNavigation)switch(f){case de.Enter:t.onQuarterClick(n,a),(u=(o=t.props).setPreSelection)===null||u===void 0||u.call(o,t.props.selected);break;case de.ArrowRight:if(!t.props.preSelection)break;t.handleQuarterNavigation(a===4?1:a+1,Wv(t.props.preSelection,1));break;case de.ArrowLeft:if(!t.props.preSelection)break;t.handleQuarterNavigation(a===1?4:a-1,WD(t.props.preSelection));break}},t.isMonthDisabledForLabelDate=function(n){var a,o=t.props,u=o.day,f=o.minDate,p=o.maxDate,m=o.excludeDates,v=o.includeDates,_=$n(u,n);return{isDisabled:(a=(f||p||m||v)&&cA(_,t.props))!==null&&a!==void 0?a:!1,labelDate:_}},t.isMonthDisabled=function(n){var a=t.isMonthDisabledForLabelDate(n).isDisabled;return a},t.getMonthClassNames=function(n){var a=t.props,o=a.day,u=a.startDate,f=a.endDate,p=a.preSelection,m=a.monthClassName,v=m?m($n(o,n)):void 0,_=t.getSelection();return sn("react-datepicker__month-text","react-datepicker__month-".concat(n),v,{"react-datepicker__month-text--disabled":t.isMonthDisabled(n),"react-datepicker__month-text--selected":_?t.isSelectMonthInList(o,n,_):void 0,"react-datepicker__month-text--keyboard-selected":!t.props.disabledKeyboardNavigation&&p&&t.isSelectedMonth(o,n,p)&&!t.isMonthDisabled(n),"react-datepicker__month-text--in-selecting-range":t.isInSelectingRangeMonth(n),"react-datepicker__month-text--in-range":u&&f?ch(u,f,n,o):void 0,"react-datepicker__month-text--range-start":t.isRangeStartMonth(n),"react-datepicker__month-text--range-end":t.isRangeEndMonth(n),"react-datepicker__month-text--selecting-range-start":t.isSelectingMonthRangeStart(n),"react-datepicker__month-text--selecting-range-end":t.isSelectingMonthRangeEnd(n),"react-datepicker__month-text--today":t.isCurrentMonth(o,n)})},t.getTabIndex=function(n){if(t.props.preSelection==null)return"-1";var a=En(t.props.preSelection),o=t.isMonthDisabledForLabelDate(a).isDisabled,u=n===a&&!(o||t.props.disabledKeyboardNavigation)?"0":"-1";return u},t.getQuarterTabIndex=function(n){if(t.props.preSelection==null)return"-1";var a=Is(t.props.preSelection),o=fh(t.props.day,t.props),u=n===a&&!(o||t.props.disabledKeyboardNavigation)?"0":"-1";return u},t.getAriaLabel=function(n){var a=t.props,o=a.chooseDayAriaLabelPrefix,u=o===void 0?"Choose":o,f=a.disabledDayAriaLabelPrefix,p=f===void 0?"Not available":f,m=a.day,v=a.locale,_=$n(m,n),b=t.isDisabled(_)||t.isExcluded(_)?p:u;return"".concat(b," ").concat(mt(_,"MMMM yyyy",v))},t.getQuarterClassNames=function(n){var a=t.props,o=a.day,u=a.startDate,f=a.endDate,p=a.selected,m=a.minDate,v=a.maxDate,_=a.excludeDates,b=a.includeDates,S=a.filterDate,C=a.preSelection,N=a.disabledKeyboardNavigation,I=(m||v||_||b||S)&&fh(Go(o,n),t.props);return sn("react-datepicker__quarter-text","react-datepicker__quarter-".concat(n),{"react-datepicker__quarter-text--disabled":I,"react-datepicker__quarter-text--selected":p?t.isSelectedQuarter(o,n,p):void 0,"react-datepicker__quarter-text--keyboard-selected":!N&&C&&t.isSelectedQuarter(o,n,C)&&!I,"react-datepicker__quarter-text--in-selecting-range":t.isInSelectingRangeQuarter(n),"react-datepicker__quarter-text--in-range":u&&f?dh(u,f,n,o):void 0,"react-datepicker__quarter-text--range-start":t.isRangeStartQuarter(n),"react-datepicker__quarter-text--range-end":t.isRangeEndQuarter(n),"react-datepicker__quarter-text--today":t.isCurrentQuarter(o,n)})},t.getMonthContent=function(n){var a=t.props,o=a.showFullMonthYearPicker,u=a.renderMonthContent,f=a.locale,p=a.day,m=uA(n,f),v=oy(n,f);return u?u(n,m,v,p):o?v:m},t.getQuarterContent=function(n){var a,o=t.props,u=o.renderQuarterContent,f=o.locale,p=tU(n,f);return(a=u==null?void 0:u(n,p))!==null&&a!==void 0?a:p},t.renderMonths=function(){var n,a=t.props,o=a.showTwoColumnMonthYearPicker,u=a.showFourColumnMonthYearPicker,f=a.day,p=a.selected,m=(n=cg[Bb(u,o)])===null||n===void 0?void 0:n.grid;return m==null?void 0:m.map(function(v,_){return J.createElement("div",{className:"react-datepicker__month-wrapper",key:_},v.map(function(b,S){return J.createElement("div",{ref:t.MONTH_REFS[b],key:S,onClick:function(C){t.onMonthClick(C,b)},onKeyDown:function(C){dA(C)&&(C.preventDefault(),C.key=de.Enter),t.onMonthKeyDown(C,b)},onMouseEnter:t.props.usePointerEvent?void 0:function(){return t.onMonthMouseEnter(b)},onPointerEnter:t.props.usePointerEvent?function(){return t.onMonthMouseEnter(b)}:void 0,tabIndex:Number(t.getTabIndex(b)),className:t.getMonthClassNames(b),"aria-disabled":t.isMonthDisabled(b),role:"option","aria-label":t.getAriaLabel(b),"aria-current":t.isCurrentMonth(f,b)?"date":void 0,"aria-selected":p?t.isSelectedMonth(f,b,p):void 0},t.getMonthContent(b))}))})},t.renderQuarters=function(){var n=t.props,a=n.day,o=n.selected,u=[1,2,3,4];return J.createElement("div",{className:"react-datepicker__quarter-wrapper"},u.map(function(f,p){return J.createElement("div",{key:p,ref:t.QUARTER_REFS[p],role:"option",onClick:function(m){t.onQuarterClick(m,f)},onKeyDown:function(m){t.onQuarterKeyDown(m,f)},onMouseEnter:t.props.usePointerEvent?void 0:function(){return t.onQuarterMouseEnter(f)},onPointerEnter:t.props.usePointerEvent?function(){return t.onQuarterMouseEnter(f)}:void 0,className:t.getQuarterClassNames(f),"aria-selected":o?t.isSelectedQuarter(a,f,o):void 0,tabIndex:Number(t.getQuarterTabIndex(f)),"aria-current":t.isCurrentQuarter(a,f)?"date":void 0},t.getQuarterContent(f))}))},t.getClassNames=function(){var n=t.props,a=n.selectingDate,o=n.selectsStart,u=n.selectsEnd,f=n.showMonthYearPicker,p=n.showQuarterYearPicker,m=n.showWeekPicker;return sn("react-datepicker__month",{"react-datepicker__month--selecting-range":a&&(o||u)},{"react-datepicker__monthPicker":f},{"react-datepicker__quarterPicker":p},{"react-datepicker__weekPicker":m})},t}return e.prototype.getSelection=function(){var t=this.props,n=t.selected,a=t.selectedDates,o=t.selectsMultiple;if(o)return a;if(n)return[n]},e.prototype.render=function(){var t=this.props,n=t.showMonthYearPicker,a=t.showQuarterYearPicker,o=t.day,u=t.ariaLabelPrefix,f=u===void 0?"Month ":u,p=f?f.trim()+" ":"";return J.createElement("div",{className:this.getClassNames(),onMouseLeave:this.props.usePointerEvent?void 0:this.handleMouseLeave,onPointerLeave:this.props.usePointerEvent?this.handleMouseLeave:void 0,"aria-label":"".concat(p).concat(mt(o,"MMMM, yyyy",this.props.locale)),role:"listbox"},n?this.renderMonths():a?this.renderQuarters():this.renderWeeks())},e}(V.Component),yU=function(r){$t(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.isSelectedMonth=function(n){return t.props.month===n},t.renderOptions=function(){return t.props.monthNames.map(function(n,a){return J.createElement("div",{className:t.isSelectedMonth(a)?"react-datepicker__month-option react-datepicker__month-option--selected_month":"react-datepicker__month-option",key:n,onClick:t.onChange.bind(t,a),"aria-selected":t.isSelectedMonth(a)?"true":void 0},t.isSelectedMonth(a)?J.createElement("span",{className:"react-datepicker__month-option--selected"},""):"",n)})},t.onChange=function(n){return t.props.onChange(n)},t.handleClickOutside=function(){return t.props.onCancel()},t}return e.prototype.render=function(){return J.createElement(Vd,{className:"react-datepicker__month-dropdown",onClickOutside:this.handleClickOutside},this.renderOptions())},e}(V.Component),_U=function(r){$t(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.state={dropdownVisible:!1},t.renderSelectOptions=function(n){return n.map(function(a,o){return J.createElement("option",{key:a,value:o},a)})},t.renderSelectMode=function(n){return J.createElement("select",{value:t.props.month,className:"react-datepicker__month-select",onChange:function(a){return t.onChange(parseInt(a.target.value))}},t.renderSelectOptions(n))},t.renderReadView=function(n,a){return J.createElement("div",{key:"read",style:{visibility:n?"visible":"hidden"},className:"react-datepicker__month-read-view",onClick:t.toggleDropdown},J.createElement("span",{className:"react-datepicker__month-read-view--down-arrow"}),J.createElement("span",{className:"react-datepicker__month-read-view--selected-month"},a[t.props.month]))},t.renderDropdown=function(n){return J.createElement(yU,Ke({key:"dropdown"},t.props,{monthNames:n,onChange:t.onChange,onCancel:t.toggleDropdown}))},t.renderScrollMode=function(n){var a=t.state.dropdownVisible,o=[t.renderReadView(!a,n)];return a&&o.unshift(t.renderDropdown(n)),o},t.onChange=function(n){t.toggleDropdown(),n!==t.props.month&&t.props.onChange(n)},t.toggleDropdown=function(){return t.setState({dropdownVisible:!t.state.dropdownVisible})},t}return e.prototype.render=function(){var t=this,n=[0,1,2,3,4,5,6,7,8,9,10,11].map(this.props.useShortMonthInDropdown?function(o){return uA(o,t.props.locale)}:function(o){return oy(o,t.props.locale)}),a;switch(this.props.dropdownMode){case"scroll":a=this.renderScrollMode(n);break;case"select":a=this.renderSelectMode(n);break}return J.createElement("div",{className:"react-datepicker__month-dropdown-container react-datepicker__month-dropdown-container--".concat(this.props.dropdownMode)},a)},e}(V.Component);function EU(r,e){for(var t=[],n=xi(r),a=xi(e);!Va(n,a);)t.push(Je(n)),n=pr(n,1);return t}var wU=function(r){$t(e,r);function e(t){var n=r.call(this,t)||this;return n.renderOptions=function(){return n.state.monthYearsList.map(function(a){var o=zg(a),u=Nr(n.props.date,a)&&_n(n.props.date,a);return J.createElement("div",{className:u?"react-datepicker__month-year-option--selected_month-year":"react-datepicker__month-year-option",key:o,onClick:n.onChange.bind(n,o),"aria-selected":u?"true":void 0},u?J.createElement("span",{className:"react-datepicker__month-year-option--selected"},""):"",mt(a,n.props.dateFormat,n.props.locale))})},n.onChange=function(a){return n.props.onChange(a)},n.handleClickOutside=function(){n.props.onCancel()},n.state={monthYearsList:EU(n.props.minDate,n.props.maxDate)},n}return e.prototype.render=function(){var t=sn({"react-datepicker__month-year-dropdown":!0,"react-datepicker__month-year-dropdown--scrollable":this.props.scrollableMonthYearDropdown});return J.createElement(Vd,{className:t,onClickOutside:this.handleClickOutside},this.renderOptions())},e}(V.Component),bU=function(r){$t(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.state={dropdownVisible:!1},t.renderSelectOptions=function(){for(var n=xi(t.props.minDate),a=xi(t.props.maxDate),o=[];!Va(n,a);){var u=zg(n);o.push(J.createElement("option",{key:u,value:u},mt(n,t.props.dateFormat,t.props.locale))),n=pr(n,1)}return o},t.onSelectChange=function(n){t.onChange(parseInt(n.target.value))},t.renderSelectMode=function(){return J.createElement("select",{value:zg(xi(t.props.date)),className:"react-datepicker__month-year-select",onChange:t.onSelectChange},t.renderSelectOptions())},t.renderReadView=function(n){var a=mt(t.props.date,t.props.dateFormat,t.props.locale);return J.createElement("div",{key:"read",style:{visibility:n?"visible":"hidden"},className:"react-datepicker__month-year-read-view",onClick:t.toggleDropdown},J.createElement("span",{className:"react-datepicker__month-year-read-view--down-arrow"}),J.createElement("span",{className:"react-datepicker__month-year-read-view--selected-month-year"},a))},t.renderDropdown=function(){return J.createElement(wU,Ke({key:"dropdown"},t.props,{onChange:t.onChange,onCancel:t.toggleDropdown}))},t.renderScrollMode=function(){var n=t.state.dropdownVisible,a=[t.renderReadView(!n)];return n&&a.unshift(t.renderDropdown()),a},t.onChange=function(n){t.toggleDropdown();var a=Je(n);Nr(t.props.date,a)&&_n(t.props.date,a)||t.props.onChange(a)},t.toggleDropdown=function(){return t.setState({dropdownVisible:!t.state.dropdownVisible})},t}return e.prototype.render=function(){var t;switch(this.props.dropdownMode){case"scroll":t=this.renderScrollMode();break;case"select":t=this.renderSelectMode();break}return J.createElement("div",{className:"react-datepicker__month-year-dropdown-container react-datepicker__month-year-dropdown-container--".concat(this.props.dropdownMode)},t)},e}(V.Component),TU=function(r){$t(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.state={height:null},t.scrollToTheSelectedTime=function(){requestAnimationFrame(function(){var n,a,o;t.list&&(t.list.scrollTop=(o=t.centerLi&&e.calcCenterPosition(t.props.monthRef?t.props.monthRef.clientHeight-((a=(n=t.header)===null||n===void 0?void 0:n.clientHeight)!==null&&a!==void 0?a:0):t.list.clientHeight,t.centerLi))!==null&&o!==void 0?o:0)})},t.handleClick=function(n){var a,o;(t.props.minTime||t.props.maxTime)&&kb(n,t.props)||(t.props.excludeTimes||t.props.includeTimes||t.props.filterTime)&&Cb(n,t.props)||(o=(a=t.props).onChange)===null||o===void 0||o.call(a,n)},t.isSelectedTime=function(n){return t.props.selected&&fU(t.props.selected,n)},t.isDisabledTime=function(n){return(t.props.minTime||t.props.maxTime)&&kb(n,t.props)||(t.props.excludeTimes||t.props.includeTimes||t.props.filterTime)&&Cb(n,t.props)},t.liClasses=function(n){var a,o=["react-datepicker__time-list-item",t.props.timeClassName?t.props.timeClassName(n):void 0];return t.isSelectedTime(n)&&o.push("react-datepicker__time-list-item--selected"),t.isDisabledTime(n)&&o.push("react-datepicker__time-list-item--disabled"),t.props.injectTimes&&(ki(n)*3600+Ii(n)*60+ka(n))%(((a=t.props.intervals)!==null&&a!==void 0?a:e.defaultProps.intervals)*60)!==0&&o.push("react-datepicker__time-list-item--injected"),o.join(" ")},t.handleOnKeyDown=function(n,a){var o,u;n.key===de.Space&&(n.preventDefault(),n.key=de.Enter),(n.key===de.ArrowUp||n.key===de.ArrowLeft)&&n.target instanceof HTMLElement&&n.target.previousSibling&&(n.preventDefault(),n.target.previousSibling instanceof HTMLElement&&n.target.previousSibling.focus()),(n.key===de.ArrowDown||n.key===de.ArrowRight)&&n.target instanceof HTMLElement&&n.target.nextSibling&&(n.preventDefault(),n.target.nextSibling instanceof HTMLElement&&n.target.nextSibling.focus()),n.key===de.Enter&&t.handleClick(a),(u=(o=t.props).handleOnKeyDown)===null||u===void 0||u.call(o,n)},t.renderTimes=function(){for(var n,a=[],o=typeof t.props.format=="string"?t.props.format:"p",u=(n=t.props.intervals)!==null&&n!==void 0?n:e.defaultProps.intervals,f=t.props.selected||t.props.openToDate||Je(),p=Ih(f),m=t.props.injectTimes&&t.props.injectTimes.sort(function(I,j){return I.getTime()-j.getTime()}),v=60*cU(f),_=v/u,b=0;b<_;b++){var S=jg(p,b*u);if(a.push(S),m){var C=uU(p,S,b,u,m);a=a.concat(C)}}var N=a.reduce(function(I,j){return j.getTime()<=f.getTime()?j:I},a[0]);return a.map(function(I){return J.createElement("li",{key:I.valueOf(),onClick:t.handleClick.bind(t,I),className:t.liClasses(I),ref:function(j){I===N&&(t.centerLi=j)},onKeyDown:function(j){t.handleOnKeyDown(j,I)},tabIndex:I===N?0:-1,role:"option","aria-selected":t.isSelectedTime(I)?"true":void 0,"aria-disabled":t.isDisabledTime(I)?"true":void 0},mt(I,o,t.props.locale))})},t.renderTimeCaption=function(){return t.props.showTimeCaption===!1?J.createElement(J.Fragment,null):J.createElement("div",{className:"react-datepicker__header react-datepicker__header--time ".concat(t.props.showTimeSelectOnly?"react-datepicker__header--time--only":""),ref:function(n){t.header=n}},J.createElement("div",{className:"react-datepicker-time__header"},t.props.timeCaption))},t}return Object.defineProperty(e,"defaultProps",{get:function(){return{intervals:30,todayButton:null,timeCaption:"Time",showTimeCaption:!0}},enumerable:!1,configurable:!0}),e.prototype.componentDidMount=function(){this.scrollToTheSelectedTime(),this.observeDatePickerHeightChanges()},e.prototype.componentWillUnmount=function(){var t;(t=this.resizeObserver)===null||t===void 0||t.disconnect()},e.prototype.observeDatePickerHeightChanges=function(){var t=this,n=this.props.monthRef;this.updateContainerHeight(),n&&(this.resizeObserver=new ResizeObserver(function(){t.updateContainerHeight()}),this.resizeObserver.observe(n))},e.prototype.updateContainerHeight=function(){this.props.monthRef&&this.header&&this.setState({height:this.props.monthRef.clientHeight-this.header.clientHeight})},e.prototype.render=function(){var t=this,n,a=this.state.height;return J.createElement("div",{className:"react-datepicker__time-container ".concat(((n=this.props.todayButton)!==null&&n!==void 0?n:e.defaultProps.todayButton)?"react-datepicker__time-container--with-today-button":"")},this.renderTimeCaption(),J.createElement("div",{className:"react-datepicker__time"},J.createElement("div",{className:"react-datepicker__time-box"},J.createElement("ul",{className:"react-datepicker__time-list",ref:function(o){t.list=o},style:a?{height:a}:{},role:"listbox","aria-label":this.props.timeCaption},this.renderTimes()))))},e.calcCenterPosition=function(t,n){return n.offsetTop-(t/2-n.clientHeight/2)},e}(V.Component),jb=3,SU=function(r){$t(e,r);function e(t){var n=r.call(this,t)||this;return n.YEAR_REFS=Ur([],Array(n.props.yearItemNumber),!0).map(function(){return V.createRef()}),n.isDisabled=function(a){return Zn(a,{minDate:n.props.minDate,maxDate:n.props.maxDate,excludeDates:n.props.excludeDates,includeDates:n.props.includeDates,filterDate:n.props.filterDate})},n.isExcluded=function(a){return ly(a,{excludeDates:n.props.excludeDates})},n.selectingDate=function(){var a;return(a=n.props.selectingDate)!==null&&a!==void 0?a:n.props.preSelection},n.updateFocusOnPaginate=function(a){var o=function(){var u,f;(f=(u=n.YEAR_REFS[a])===null||u===void 0?void 0:u.current)===null||f===void 0||f.focus()};window.requestAnimationFrame(o)},n.handleYearClick=function(a,o){n.props.onDayClick&&n.props.onDayClick(a,o)},n.handleYearNavigation=function(a,o){var u,f,p,m,v=n.props,_=v.date,b=v.yearItemNumber;if(!(_===void 0||b===void 0)){var S=Ta(_,b).startPeriod;n.isDisabled(o)||n.isExcluded(o)||((f=(u=n.props).setPreSelection)===null||f===void 0||f.call(u,o),a-S<0?n.updateFocusOnPaginate(b-(S-a)):a-S>=b?n.updateFocusOnPaginate(Math.abs(b-(a-S))):(m=(p=n.YEAR_REFS[a-S])===null||p===void 0?void 0:p.current)===null||m===void 0||m.focus())}},n.isSameDay=function(a,o){return Qe(a,o)},n.isCurrentYear=function(a){return a===Le(Je())},n.isRangeStart=function(a){return n.props.startDate&&n.props.endDate&&Nr(Or(Je(),a),n.props.startDate)},n.isRangeEnd=function(a){return n.props.startDate&&n.props.endDate&&Nr(Or(Je(),a),n.props.endDate)},n.isInRange=function(a){return hh(a,n.props.startDate,n.props.endDate)},n.isInSelectingRange=function(a){var o=n.props,u=o.selectsStart,f=o.selectsEnd,p=o.selectsRange,m=o.startDate,v=o.endDate;return!(u||f||p)||!n.selectingDate()?!1:u&&v?hh(a,n.selectingDate(),v):f&&m||p&&m&&!v?hh(a,m,n.selectingDate()):!1},n.isSelectingRangeStart=function(a){var o;if(!n.isInSelectingRange(a))return!1;var u=n.props,f=u.startDate,p=u.selectsStart,m=Or(Je(),a);return p?Nr(m,(o=n.selectingDate())!==null&&o!==void 0?o:null):Nr(m,f??null)},n.isSelectingRangeEnd=function(a){var o;if(!n.isInSelectingRange(a))return!1;var u=n.props,f=u.endDate,p=u.selectsEnd,m=u.selectsRange,v=Or(Je(),a);return p||m?Nr(v,(o=n.selectingDate())!==null&&o!==void 0?o:null):Nr(v,f??null)},n.isKeyboardSelected=function(a){if(!(n.props.date===void 0||n.props.selected==null||n.props.preSelection==null)){var o=n.props,u=o.minDate,f=o.maxDate,p=o.excludeDates,m=o.includeDates,v=o.filterDate,_=qu(Or(n.props.date,a)),b=(u||f||p||m||v)&&xh(a,n.props);return!n.props.disabledKeyboardNavigation&&!n.props.inline&&!Qe(_,qu(n.props.selected))&&Qe(_,qu(n.props.preSelection))&&!b}},n.isSelectedYear=function(a){var o=n.props,u=o.selectsMultiple,f=o.selected,p=o.selectedDates;return u?p==null?void 0:p.some(function(m){return a===Le(m)}):!f||a===Le(f)},n.onYearClick=function(a,o){var u=n.props.date;u!==void 0&&n.handleYearClick(qu(Or(u,o)),a)},n.onYearKeyDown=function(a,o){var u,f,p=a.key,m=n.props,v=m.date,_=m.yearItemNumber,b=m.handleOnKeyDown;if(p!==de.Tab&&a.preventDefault(),!n.props.disabledKeyboardNavigation)switch(p){case de.Enter:if(n.props.selected==null)break;n.onYearClick(a,o),(f=(u=n.props).setPreSelection)===null||f===void 0||f.call(u,n.props.selected);break;case de.ArrowRight:if(n.props.preSelection==null)break;n.handleYearNavigation(o+1,Ri(n.props.preSelection,1));break;case de.ArrowLeft:if(n.props.preSelection==null)break;n.handleYearNavigation(o-1,ul(n.props.preSelection,1));break;case de.ArrowUp:{if(v===void 0||_===void 0||n.props.preSelection==null)break;var S=Ta(v,_).startPeriod,C=jb,N=o-C;if(N<S){var I=_%C;o>=S&&o<S+I?C=I:C+=I,N=o-C}n.handleYearNavigation(N,ul(n.props.preSelection,C));break}case de.ArrowDown:{if(v===void 0||_===void 0||n.props.preSelection==null)break;var j=Ta(v,_).endPeriod,C=jb,N=o+C;if(N>j){var I=_%C;o<=j&&o>j-I?C=I:C+=I,N=o+C}n.handleYearNavigation(N,Ri(n.props.preSelection,C));break}}b&&b(a)},n.getYearClassNames=function(a){var o=n.props,u=o.date,f=o.minDate,p=o.maxDate,m=o.excludeDates,v=o.includeDates,_=o.filterDate,b=o.yearClassName;return sn("react-datepicker__year-text","react-datepicker__year-".concat(a),u?b==null?void 0:b(Or(u,a)):void 0,{"react-datepicker__year-text--selected":n.isSelectedYear(a),"react-datepicker__year-text--disabled":(f||p||m||v||_)&&xh(a,n.props),"react-datepicker__year-text--keyboard-selected":n.isKeyboardSelected(a),"react-datepicker__year-text--range-start":n.isRangeStart(a),"react-datepicker__year-text--range-end":n.isRangeEnd(a),"react-datepicker__year-text--in-range":n.isInRange(a),"react-datepicker__year-text--in-selecting-range":n.isInSelectingRange(a),"react-datepicker__year-text--selecting-range-start":n.isSelectingRangeStart(a),"react-datepicker__year-text--selecting-range-end":n.isSelectingRangeEnd(a),"react-datepicker__year-text--today":n.isCurrentYear(a)})},n.getYearTabIndex=function(a){if(n.props.disabledKeyboardNavigation||n.props.preSelection==null)return"-1";var o=Le(n.props.preSelection),u=xh(a,n.props);return a===o&&!u?"0":"-1"},n.getYearContent=function(a){return n.props.renderYearContent?n.props.renderYearContent(a):a},n}return e.prototype.render=function(){var t=this,n=[],a=this.props,o=a.date,u=a.yearItemNumber,f=a.onYearMouseEnter,p=a.onYearMouseLeave;if(o===void 0)return null;for(var m=Ta(o,u),v=m.startPeriod,_=m.endPeriod,b=function(N){n.push(J.createElement("div",{ref:S.YEAR_REFS[N-v],onClick:function(I){t.onYearClick(I,N)},onKeyDown:function(I){dA(I)&&(I.preventDefault(),I.key=de.Enter),t.onYearKeyDown(I,N)},tabIndex:Number(S.getYearTabIndex(N)),className:S.getYearClassNames(N),onMouseEnter:S.props.usePointerEvent?void 0:function(I){return f(I,N)},onPointerEnter:S.props.usePointerEvent?function(I){return f(I,N)}:void 0,onMouseLeave:S.props.usePointerEvent?void 0:function(I){return p(I,N)},onPointerLeave:S.props.usePointerEvent?function(I){return p(I,N)}:void 0,key:N,"aria-current":S.isCurrentYear(N)?"date":void 0},S.getYearContent(N)))},S=this,C=v;C<=_;C++)b(C);return J.createElement("div",{className:"react-datepicker__year"},J.createElement("div",{className:"react-datepicker__year-wrapper",onMouseLeave:this.props.usePointerEvent?void 0:this.props.clearSelectingDate,onPointerLeave:this.props.usePointerEvent?this.props.clearSelectingDate:void 0},n))},e}(V.Component);function DU(r,e,t,n){for(var a=[],o=0;o<2*e+1;o++){var u=r+e-o,f=!0;t&&(f=Le(t)<=u),n&&f&&(f=Le(n)>=u),f&&a.push(u)}return a}var AU=function(r){$t(e,r);function e(t){var n=r.call(this,t)||this;n.renderOptions=function(){var f=n.props.year,p=n.state.yearsList.map(function(_){return J.createElement("div",{className:f===_?"react-datepicker__year-option react-datepicker__year-option--selected_year":"react-datepicker__year-option",key:_,onClick:n.onChange.bind(n,_),"aria-selected":f===_?"true":void 0},f===_?J.createElement("span",{className:"react-datepicker__year-option--selected"},""):"",_)}),m=n.props.minDate?Le(n.props.minDate):null,v=n.props.maxDate?Le(n.props.maxDate):null;return(!v||!n.state.yearsList.find(function(_){return _===v}))&&p.unshift(J.createElement("div",{className:"react-datepicker__year-option",key:"upcoming",onClick:n.incrementYears},J.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-upcoming"}))),(!m||!n.state.yearsList.find(function(_){return _===m}))&&p.push(J.createElement("div",{className:"react-datepicker__year-option",key:"previous",onClick:n.decrementYears},J.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-previous"}))),p},n.onChange=function(f){n.props.onChange(f)},n.handleClickOutside=function(){n.props.onCancel()},n.shiftYears=function(f){var p=n.state.yearsList.map(function(m){return m+f});n.setState({yearsList:p})},n.incrementYears=function(){return n.shiftYears(1)},n.decrementYears=function(){return n.shiftYears(-1)};var a=t.yearDropdownItemNumber,o=t.scrollableYearDropdown,u=a||(o?10:5);return n.state={yearsList:DU(n.props.year,u,n.props.minDate,n.props.maxDate)},n.dropdownRef=V.createRef(),n}return e.prototype.componentDidMount=function(){var t=this.dropdownRef.current;if(t){var n=t.children?Array.from(t.children):null,a=n?n.find(function(o){return o.ariaSelected}):null;t.scrollTop=a&&a instanceof HTMLElement?a.offsetTop+(a.clientHeight-t.clientHeight)/2:(t.scrollHeight-t.clientHeight)/2}},e.prototype.render=function(){var t=sn({"react-datepicker__year-dropdown":!0,"react-datepicker__year-dropdown--scrollable":this.props.scrollableYearDropdown});return J.createElement(Vd,{className:t,containerRef:this.dropdownRef,onClickOutside:this.handleClickOutside},this.renderOptions())},e}(V.Component),RU=function(r){$t(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.state={dropdownVisible:!1},t.renderSelectOptions=function(){for(var n=t.props.minDate?Le(t.props.minDate):1900,a=t.props.maxDate?Le(t.props.maxDate):2100,o=[],u=n;u<=a;u++)o.push(J.createElement("option",{key:u,value:u},u));return o},t.onSelectChange=function(n){t.onChange(parseInt(n.target.value))},t.renderSelectMode=function(){return J.createElement("select",{value:t.props.year,className:"react-datepicker__year-select",onChange:t.onSelectChange},t.renderSelectOptions())},t.renderReadView=function(n){return J.createElement("div",{key:"read",style:{visibility:n?"visible":"hidden"},className:"react-datepicker__year-read-view",onClick:function(a){return t.toggleDropdown(a)}},J.createElement("span",{className:"react-datepicker__year-read-view--down-arrow"}),J.createElement("span",{className:"react-datepicker__year-read-view--selected-year"},t.props.year))},t.renderDropdown=function(){return J.createElement(AU,Ke({key:"dropdown"},t.props,{onChange:t.onChange,onCancel:t.toggleDropdown}))},t.renderScrollMode=function(){var n=t.state.dropdownVisible,a=[t.renderReadView(!n)];return n&&a.unshift(t.renderDropdown()),a},t.onChange=function(n){t.toggleDropdown(),n!==t.props.year&&t.props.onChange(n)},t.toggleDropdown=function(n){t.setState({dropdownVisible:!t.state.dropdownVisible},function(){t.props.adjustDateOnChange&&t.handleYearChange(t.props.date,n)})},t.handleYearChange=function(n,a){var o;(o=t.onSelect)===null||o===void 0||o.call(t,n,a),t.setOpen()},t.onSelect=function(n,a){var o,u;(u=(o=t.props).onSelect)===null||u===void 0||u.call(o,n,a)},t.setOpen=function(){var n,a;(a=(n=t.props).setOpen)===null||a===void 0||a.call(n,!0)},t}return e.prototype.render=function(){var t;switch(this.props.dropdownMode){case"scroll":t=this.renderScrollMode();break;case"select":t=this.renderSelectMode();break}return J.createElement("div",{className:"react-datepicker__year-dropdown-container react-datepicker__year-dropdown-container--".concat(this.props.dropdownMode)},t)},e}(V.Component),CU=["react-datepicker__year-select","react-datepicker__month-select","react-datepicker__month-year-select"],kU=function(r){var e=(r.className||"").split(/\s+/);return CU.some(function(t){return e.indexOf(t)>=0})},IU=function(r){$t(e,r);function e(t){var n=r.call(this,t)||this;return n.monthContainer=void 0,n.handleClickOutside=function(a){n.props.onClickOutside(a)},n.setClickOutsideRef=function(){return n.containerRef.current},n.handleDropdownFocus=function(a){var o,u;kU(a.target)&&((u=(o=n.props).onDropdownFocus)===null||u===void 0||u.call(o,a))},n.getDateInView=function(){var a=n.props,o=a.preSelection,u=a.selected,f=a.openToDate,p=fA(n.props),m=hA(n.props),v=Je(),_=f||u||o;return _||(p&&Hs(v,p)?p:m&&Va(v,m)?m:v)},n.increaseMonth=function(){n.setState(function(a){var o=a.date;return{date:pr(o,1)}},function(){return n.handleMonthChange(n.state.date)})},n.decreaseMonth=function(){n.setState(function(a){var o=a.date;return{date:xs(o,1)}},function(){return n.handleMonthChange(n.state.date)})},n.handleDayClick=function(a,o,u){n.props.onSelect(a,o,u),n.props.setPreSelection&&n.props.setPreSelection(a)},n.handleDayMouseEnter=function(a){n.setState({selectingDate:a}),n.props.onDayMouseEnter&&n.props.onDayMouseEnter(a)},n.handleMonthMouseLeave=function(){n.setState({selectingDate:void 0}),n.props.onMonthMouseLeave&&n.props.onMonthMouseLeave()},n.handleYearMouseEnter=function(a,o){n.setState({selectingDate:Or(Je(),o)}),n.props.onYearMouseEnter&&n.props.onYearMouseEnter(a,o)},n.handleYearMouseLeave=function(a,o){n.props.onYearMouseLeave&&n.props.onYearMouseLeave(a,o)},n.handleYearChange=function(a){var o,u,f,p;(u=(o=n.props).onYearChange)===null||u===void 0||u.call(o,a),n.setState({isRenderAriaLiveMessage:!0}),n.props.adjustDateOnChange&&(n.props.onSelect(a),(p=(f=n.props).setOpen)===null||p===void 0||p.call(f,!0)),n.props.setPreSelection&&n.props.setPreSelection(a)},n.getEnabledPreSelectionDateForMonth=function(a){if(!Zn(a,n.props))return a;for(var o=xi(a),u=$4(a),f=AP(u,o),p=null,m=0;m<=f;m++){var v=dr(o,m);if(!Zn(v,n.props)){p=v;break}}return p},n.handleMonthChange=function(a){var o,u,f,p=(o=n.getEnabledPreSelectionDateForMonth(a))!==null&&o!==void 0?o:a;n.handleCustomMonthChange(p),n.props.adjustDateOnChange&&(n.props.onSelect(p),(f=(u=n.props).setOpen)===null||f===void 0||f.call(u,!0)),n.props.setPreSelection&&n.props.setPreSelection(p)},n.handleCustomMonthChange=function(a){var o,u;(u=(o=n.props).onMonthChange)===null||u===void 0||u.call(o,a),n.setState({isRenderAriaLiveMessage:!0})},n.handleMonthYearChange=function(a){n.handleYearChange(a),n.handleMonthChange(a)},n.changeYear=function(a){n.setState(function(o){var u=o.date;return{date:Or(u,Number(a))}},function(){return n.handleYearChange(n.state.date)})},n.changeMonth=function(a){n.setState(function(o){var u=o.date;return{date:$n(u,Number(a))}},function(){return n.handleMonthChange(n.state.date)})},n.changeMonthYear=function(a){n.setState(function(o){var u=o.date;return{date:Or($n(u,En(a)),Le(a))}},function(){return n.handleMonthYearChange(n.state.date)})},n.header=function(a){a===void 0&&(a=n.state.date);var o=Ia(a,n.props.locale,n.props.calendarStartDay),u=[];return n.props.showWeekNumbers&&u.push(J.createElement("div",{key:"W",className:"react-datepicker__day-name"},n.props.weekLabel||"#")),u.concat([0,1,2,3,4,5,6].map(function(f){var p=dr(o,f),m=n.formatWeekday(p,n.props.locale),v=n.props.weekDayClassName?n.props.weekDayClassName(p):void 0;return J.createElement("div",{key:f,"aria-label":mt(p,"EEEE",n.props.locale),className:sn("react-datepicker__day-name",v)},m)}))},n.formatWeekday=function(a,o){return n.props.formatWeekDay?Z4(a,n.props.formatWeekDay,o):n.props.useWeekdaysShort?eU(a,o):J4(a,o)},n.decreaseYear=function(){n.setState(function(a){var o,u=a.date;return{date:ul(u,n.props.showYearPicker?(o=n.props.yearItemNumber)!==null&&o!==void 0?o:e.defaultProps.yearItemNumber:1)}},function(){return n.handleYearChange(n.state.date)})},n.clearSelectingDate=function(){n.setState({selectingDate:void 0})},n.renderPreviousButton=function(){var a,o,u;if(!n.props.renderCustomHeader){var f=(a=n.props.monthsShown)!==null&&a!==void 0?a:e.defaultProps.monthsShown,p=n.props.showPreviousMonths?f-1:0,m=(o=n.props.monthSelectedIn)!==null&&o!==void 0?o:p,v=xs(n.state.date,m),_;switch(!0){case n.props.showMonthYearPicker:_=Mb(n.state.date,n.props);break;case n.props.showYearPicker:_=aU(n.state.date,n.props);break;case n.props.showQuarterYearPicker:_=rU(n.state.date,n.props);break;default:_=Ib(v,n.props);break}if(!(!((u=n.props.forceShowMonthNavigation)!==null&&u!==void 0?u:e.defaultProps.forceShowMonthNavigation)&&!n.props.showDisabledMonthNavigation&&_||n.props.showTimeSelectOnly)){var b=["react-datepicker__navigation-icon","react-datepicker__navigation-icon--previous"],S=["react-datepicker__navigation","react-datepicker__navigation--previous"],C=n.decreaseMonth;(n.props.showMonthYearPicker||n.props.showQuarterYearPicker||n.props.showYearPicker)&&(C=n.decreaseYear),_&&n.props.showDisabledMonthNavigation&&(S.push("react-datepicker__navigation--previous--disabled"),C=void 0);var N=n.props.showMonthYearPicker||n.props.showQuarterYearPicker||n.props.showYearPicker,I=n.props,j=I.previousMonthButtonLabel,K=j===void 0?e.defaultProps.previousMonthButtonLabel:j,z=I.previousYearButtonLabel,re=z===void 0?e.defaultProps.previousYearButtonLabel:z,ie=n.props,fe=ie.previousMonthAriaLabel,x=fe===void 0?typeof K=="string"?K:"Previous Month":fe,D=ie.previousYearAriaLabel,R=D===void 0?typeof re=="string"?re:"Previous Year":D;return J.createElement("button",{type:"button",className:S.join(" "),onClick:C,onKeyDown:n.props.handleOnKeyDown,"aria-label":N?R:x},J.createElement("span",{className:b.join(" ")},N?re:K))}}},n.increaseYear=function(){n.setState(function(a){var o,u=a.date;return{date:Ri(u,n.props.showYearPicker?(o=n.props.yearItemNumber)!==null&&o!==void 0?o:e.defaultProps.yearItemNumber:1)}},function(){return n.handleYearChange(n.state.date)})},n.renderNextButton=function(){var a;if(!n.props.renderCustomHeader){var o;switch(!0){case n.props.showMonthYearPicker:o=Ob(n.state.date,n.props);break;case n.props.showYearPicker:o=sU(n.state.date,n.props);break;case n.props.showQuarterYearPicker:o=iU(n.state.date,n.props);break;default:o=xb(n.state.date,n.props);break}if(!(!((a=n.props.forceShowMonthNavigation)!==null&&a!==void 0?a:e.defaultProps.forceShowMonthNavigation)&&!n.props.showDisabledMonthNavigation&&o||n.props.showTimeSelectOnly)){var u=["react-datepicker__navigation","react-datepicker__navigation--next"],f=["react-datepicker__navigation-icon","react-datepicker__navigation-icon--next"];n.props.showTimeSelect&&u.push("react-datepicker__navigation--next--with-time"),n.props.todayButton&&u.push("react-datepicker__navigation--next--with-today-button");var p=n.increaseMonth;(n.props.showMonthYearPicker||n.props.showQuarterYearPicker||n.props.showYearPicker)&&(p=n.increaseYear),o&&n.props.showDisabledMonthNavigation&&(u.push("react-datepicker__navigation--next--disabled"),p=void 0);var m=n.props.showMonthYearPicker||n.props.showQuarterYearPicker||n.props.showYearPicker,v=n.props,_=v.nextMonthButtonLabel,b=_===void 0?e.defaultProps.nextMonthButtonLabel:_,S=v.nextYearButtonLabel,C=S===void 0?e.defaultProps.nextYearButtonLabel:S,N=n.props,I=N.nextMonthAriaLabel,j=I===void 0?typeof b=="string"?b:"Next Month":I,K=N.nextYearAriaLabel,z=K===void 0?typeof C=="string"?C:"Next Year":K;return J.createElement("button",{type:"button",className:u.join(" "),onClick:p,onKeyDown:n.props.handleOnKeyDown,"aria-label":m?z:j},J.createElement("span",{className:f.join(" ")},m?C:b))}}},n.renderCurrentMonth=function(a){a===void 0&&(a=n.state.date);var o=["react-datepicker__current-month"];return n.props.showYearDropdown&&o.push("react-datepicker__current-month--hasYearDropdown"),n.props.showMonthDropdown&&o.push("react-datepicker__current-month--hasMonthDropdown"),n.props.showMonthYearDropdown&&o.push("react-datepicker__current-month--hasMonthYearDropdown"),J.createElement("h2",{className:o.join(" ")},mt(a,n.props.dateFormat,n.props.locale))},n.renderYearDropdown=function(a){if(a===void 0&&(a=!1),!(!n.props.showYearDropdown||a))return J.createElement(RU,Ke({},e.defaultProps,n.props,{date:n.state.date,onChange:n.changeYear,year:Le(n.state.date)}))},n.renderMonthDropdown=function(a){if(a===void 0&&(a=!1),!(!n.props.showMonthDropdown||a))return J.createElement(_U,Ke({},e.defaultProps,n.props,{month:En(n.state.date),onChange:n.changeMonth}))},n.renderMonthYearDropdown=function(a){if(a===void 0&&(a=!1),!(!n.props.showMonthYearDropdown||a))return J.createElement(bU,Ke({},e.defaultProps,n.props,{date:n.state.date,onChange:n.changeMonthYear}))},n.handleTodayButtonClick=function(a){n.props.onSelect(Db(),a),n.props.setPreSelection&&n.props.setPreSelection(Db())},n.renderTodayButton=function(){if(!(!n.props.todayButton||n.props.showTimeSelectOnly))return J.createElement("div",{className:"react-datepicker__today-button",onClick:n.handleTodayButtonClick},n.props.todayButton)},n.renderDefaultHeader=function(a){var o=a.monthDate,u=a.i;return J.createElement("div",{className:"react-datepicker__header ".concat(n.props.showTimeSelect?"react-datepicker__header--has-time-select":"")},n.renderCurrentMonth(o),J.createElement("div",{className:"react-datepicker__header__dropdown react-datepicker__header__dropdown--".concat(n.props.dropdownMode),onFocus:n.handleDropdownFocus},n.renderMonthDropdown(u!==0),n.renderMonthYearDropdown(u!==0),n.renderYearDropdown(u!==0)),J.createElement("div",{className:"react-datepicker__day-names"},n.header(o)))},n.renderCustomHeader=function(a){var o,u,f=a.monthDate,p=a.i;if(n.props.showTimeSelect&&!n.state.monthContainer||n.props.showTimeSelectOnly)return null;var m=Ib(n.state.date,n.props),v=xb(n.state.date,n.props),_=Mb(n.state.date,n.props),b=Ob(n.state.date,n.props),S=!n.props.showMonthYearPicker&&!n.props.showQuarterYearPicker&&!n.props.showYearPicker;return J.createElement("div",{className:"react-datepicker__header react-datepicker__header--custom",onFocus:n.props.onDropdownFocus},(u=(o=n.props).renderCustomHeader)===null||u===void 0?void 0:u.call(o,Ke(Ke({},n.state),{customHeaderCount:p,monthDate:f,changeMonth:n.changeMonth,changeYear:n.changeYear,decreaseMonth:n.decreaseMonth,increaseMonth:n.increaseMonth,decreaseYear:n.decreaseYear,increaseYear:n.increaseYear,prevMonthButtonDisabled:m,nextMonthButtonDisabled:v,prevYearButtonDisabled:_,nextYearButtonDisabled:b})),S&&J.createElement("div",{className:"react-datepicker__day-names"},n.header(f)))},n.renderYearHeader=function(a){var o=a.monthDate,u=n.props,f=u.showYearPicker,p=u.yearItemNumber,m=p===void 0?e.defaultProps.yearItemNumber:p,v=Ta(o,m),_=v.startPeriod,b=v.endPeriod;return J.createElement("div",{className:"react-datepicker__header react-datepicker-year-header"},f?"".concat(_," - ").concat(b):Le(o))},n.renderHeader=function(a){var o=a.monthDate,u=a.i,f=u===void 0?0:u,p={monthDate:o,i:f};switch(!0){case n.props.renderCustomHeader!==void 0:return n.renderCustomHeader(p);case(n.props.showMonthYearPicker||n.props.showQuarterYearPicker||n.props.showYearPicker):return n.renderYearHeader(p);default:return n.renderDefaultHeader(p)}},n.renderMonths=function(){var a,o;if(!(n.props.showTimeSelectOnly||n.props.showYearPicker)){for(var u=[],f=(a=n.props.monthsShown)!==null&&a!==void 0?a:e.defaultProps.monthsShown,p=n.props.showPreviousMonths?f-1:0,m=n.props.showMonthYearPicker||n.props.showQuarterYearPicker?Ri(n.state.date,p):xs(n.state.date,p),v=(o=n.props.monthSelectedIn)!==null&&o!==void 0?o:p,_=0;_<f;++_){var b=_-v+p,S=n.props.showMonthYearPicker||n.props.showQuarterYearPicker?Ri(m,b):pr(m,b),C="month-".concat(_),N=_<f-1,I=_>0;u.push(J.createElement("div",{key:C,ref:function(j){n.monthContainer=j??void 0},className:"react-datepicker__month-container"},n.renderHeader({monthDate:S,i:_}),J.createElement(vU,Ke({},e.defaultProps,n.props,{containerRef:n.containerRef,ariaLabelPrefix:n.props.monthAriaLabelPrefix,day:S,onDayClick:n.handleDayClick,handleOnKeyDown:n.props.handleOnDayKeyDown,handleOnMonthKeyDown:n.props.handleOnKeyDown,onDayMouseEnter:n.handleDayMouseEnter,onMouseLeave:n.handleMonthMouseLeave,orderInDisplay:_,selectingDate:n.state.selectingDate,monthShowsDuplicateDaysEnd:N,monthShowsDuplicateDaysStart:I}))))}return u}},n.renderYears=function(){if(!n.props.showTimeSelectOnly&&n.props.showYearPicker)return J.createElement("div",{className:"react-datepicker__year--container"},n.renderHeader({monthDate:n.state.date}),J.createElement(SU,Ke({},e.defaultProps,n.props,{selectingDate:n.state.selectingDate,date:n.state.date,onDayClick:n.handleDayClick,clearSelectingDate:n.clearSelectingDate,onYearMouseEnter:n.handleYearMouseEnter,onYearMouseLeave:n.handleYearMouseLeave})))},n.renderTimeSection=function(){if(n.props.showTimeSelect&&(n.state.monthContainer||n.props.showTimeSelectOnly))return J.createElement(TU,Ke({},e.defaultProps,n.props,{onChange:n.props.onTimeChange,format:n.props.timeFormat,intervals:n.props.timeIntervals,monthRef:n.state.monthContainer}))},n.renderInputTimeSection=function(){var a=n.props.selected?new Date(n.props.selected):void 0,o=a&&Ud(a)&&!!n.props.selected,u=o?"".concat(Pb(a.getHours()),":").concat(Pb(a.getMinutes())):"";if(n.props.showTimeInput)return J.createElement(hU,Ke({},e.defaultProps,n.props,{date:a,timeString:u,onChange:n.props.onTimeChange}))},n.renderAriaLiveRegion=function(){var a,o=Ta(n.state.date,(a=n.props.yearItemNumber)!==null&&a!==void 0?a:e.defaultProps.yearItemNumber),u=o.startPeriod,f=o.endPeriod,p;return n.props.showYearPicker?p="".concat(u," - ").concat(f):n.props.showMonthYearPicker||n.props.showQuarterYearPicker?p=Le(n.state.date):p="".concat(oy(En(n.state.date),n.props.locale)," ").concat(Le(n.state.date)),J.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},n.state.isRenderAriaLiveMessage&&p)},n.renderChildren=function(){if(n.props.children)return J.createElement("div",{className:"react-datepicker__children-container"},n.props.children)},n.containerRef=V.createRef(),n.state={date:n.getDateInView(),selectingDate:void 0,monthContainer:void 0,isRenderAriaLiveMessage:!1},n}return Object.defineProperty(e,"defaultProps",{get:function(){return{monthsShown:1,forceShowMonthNavigation:!1,timeCaption:"Time",previousYearButtonLabel:"Previous Year",nextYearButtonLabel:"Next Year",previousMonthButtonLabel:"Previous Month",nextMonthButtonLabel:"Next Month",yearItemNumber:Cc}},enumerable:!1,configurable:!0}),e.prototype.componentDidMount=function(){var t=this;this.props.showTimeSelect&&(this.assignMonthContainer=function(){t.setState({monthContainer:t.monthContainer})}())},e.prototype.componentDidUpdate=function(t){var n=this;if(this.props.preSelection&&(!Qe(this.props.preSelection,t.preSelection)||this.props.monthSelectedIn!==t.monthSelectedIn)){var a=!_n(this.state.date,this.props.preSelection);this.setState({date:this.props.preSelection},function(){return a&&n.handleCustomMonthChange(n.state.date)})}else this.props.openToDate&&!Qe(this.props.openToDate,t.openToDate)&&this.setState({date:this.props.openToDate})},e.prototype.render=function(){var t=this.props.container||Y4;return J.createElement(Vd,{onClickOutside:this.handleClickOutside,style:{display:"contents"},ignoreClass:this.props.outsideClickIgnoreClass},J.createElement("div",{style:{display:"contents"},ref:this.containerRef},J.createElement(t,{className:sn("react-datepicker",this.props.className,{"react-datepicker--time-only":this.props.showTimeSelectOnly}),showTime:this.props.showTimeSelect||this.props.showTimeInput,showTimeSelectOnly:this.props.showTimeSelectOnly},this.renderAriaLiveRegion(),this.renderPreviousButton(),this.renderNextButton(),this.renderMonths(),this.renderYears(),this.renderTodayButton(),this.renderTimeSection(),this.renderInputTimeSection(),this.renderChildren())))},e}(V.Component),xU=function(r){var e=r.icon,t=r.className,n=t===void 0?"":t,a=r.onClick,o="react-datepicker__calendar-icon";if(typeof e=="string")return J.createElement("i",{className:"".concat(o," ").concat(e," ").concat(n),"aria-hidden":"true",onClick:a});if(J.isValidElement(e)){var u=e;return J.cloneElement(u,{className:"".concat(u.props.className||""," ").concat(o," ").concat(n),onClick:function(f){typeof u.props.onClick=="function"&&u.props.onClick(f),typeof a=="function"&&a(f)}})}return J.createElement("svg",{className:"".concat(o," ").concat(n),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",onClick:a},J.createElement("path",{d:"M96 32V64H48C21.5 64 0 85.5 0 112v48H448V112c0-26.5-21.5-48-48-48H352V32c0-17.7-14.3-32-32-32s-32 14.3-32 32V64H160V32c0-17.7-14.3-32-32-32S96 14.3 96 32zM448 192H0V464c0 26.5 21.5 48 48 48H400c26.5 0 48-21.5 48-48V192z"}))},pA=function(r){$t(e,r);function e(t){var n=r.call(this,t)||this;return n.portalRoot=null,n.el=document.createElement("div"),n}return e.prototype.componentDidMount=function(){this.portalRoot=(this.props.portalHost||document).getElementById(this.props.portalId),this.portalRoot||(this.portalRoot=document.createElement("div"),this.portalRoot.setAttribute("id",this.props.portalId),(this.props.portalHost||document.body).appendChild(this.portalRoot)),this.portalRoot.appendChild(this.el)},e.prototype.componentWillUnmount=function(){this.portalRoot&&this.portalRoot.removeChild(this.el)},e.prototype.render=function(){return D1.createPortal(this.props.children,this.el)},e}(V.Component),MU="[tabindex], a, button, input, select, textarea",OU=function(r){return(r instanceof HTMLAnchorElement||!r.disabled)&&r.tabIndex!==-1},mA=function(r){$t(e,r);function e(t){var n=r.call(this,t)||this;return n.getTabChildren=function(){var a;return Array.prototype.slice.call((a=n.tabLoopRef.current)===null||a===void 0?void 0:a.querySelectorAll(MU),1,-1).filter(OU)},n.handleFocusStart=function(){var a=n.getTabChildren();a&&a.length>1&&a[a.length-1].focus()},n.handleFocusEnd=function(){var a=n.getTabChildren();a&&a.length>1&&a[0].focus()},n.tabLoopRef=V.createRef(),n}return e.prototype.render=function(){var t;return((t=this.props.enableTabLoop)!==null&&t!==void 0?t:e.defaultProps.enableTabLoop)?J.createElement("div",{className:"react-datepicker__tab-loop",ref:this.tabLoopRef},J.createElement("div",{className:"react-datepicker__tab-loop__start",tabIndex:0,onFocus:this.handleFocusStart}),this.props.children,J.createElement("div",{className:"react-datepicker__tab-loop__end",tabIndex:0,onFocus:this.handleFocusEnd})):this.props.children},e.defaultProps={enableTabLoop:!0},e}(V.Component);function NU(r){var e=function(t){var n,a=typeof t.hidePopper=="boolean"?t.hidePopper:!0,o=V.useRef(null),u=z4(Ke({open:!a,whileElementsMounted:w4,placement:t.popperPlacement,middleware:Ur([C4({padding:15}),R4(10),k4({element:o})],(n=t.popperModifiers)!==null&&n!==void 0?n:[],!0)},t.popperProps)),f=Ke(Ke({},t),{hidePopper:a,popperProps:Ke(Ke({},u),{arrowRef:o})});return J.createElement(r,Ke({},f))};return e}var PU=function(r){$t(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e,"defaultProps",{get:function(){return{hidePopper:!0}},enumerable:!1,configurable:!0}),e.prototype.render=function(){var t=this.props,n=t.className,a=t.wrapperClassName,o=t.hidePopper,u=o===void 0?e.defaultProps.hidePopper:o,f=t.popperComponent,p=t.targetComponent,m=t.enableTabLoop,v=t.popperOnKeyDown,_=t.portalId,b=t.portalHost,S=t.popperProps,C=t.showArrow,N=void 0;if(!u){var I=sn("react-datepicker-popper",n);N=J.createElement(mA,{enableTabLoop:m},J.createElement("div",{ref:S.refs.setFloating,style:S.floatingStyles,className:I,"data-placement":S.placement,onKeyDown:v},f,C&&J.createElement(L4,{ref:S.arrowRef,context:S.context,fill:"currentColor",strokeWidth:1,height:8,width:16,style:{transform:"translateY(-1px)"},className:"react-datepicker__triangle"})))}this.props.popperContainer&&(N=V.createElement(this.props.popperContainer,{},N)),_&&!u&&(N=J.createElement(pA,{portalId:_,portalHost:b},N));var j=sn("react-datepicker-wrapper",a);return J.createElement(J.Fragment,null,J.createElement("div",{ref:S.refs.setReference,className:j},p),N)},e}(V.Component),LU=NU(PU),Hb="react-datepicker-ignore-onclickoutside";function VU(r,e){return r&&e?En(r)!==En(e)||Le(r)!==Le(e):r!==e}var fg="Date input not valid.",Fb=function(r){$t(e,r);function e(t){var n=r.call(this,t)||this;return n.calendar=null,n.input=null,n.getPreSelection=function(){return n.props.openToDate?n.props.openToDate:n.props.selectsEnd&&n.props.startDate?n.props.startDate:n.props.selectsStart&&n.props.endDate?n.props.endDate:Je()},n.modifyHolidays=function(){var a;return(a=n.props.holidays)===null||a===void 0?void 0:a.reduce(function(o,u){var f=new Date(u.date);return Ud(f)?Ur(Ur([],o,!0),[Ke(Ke({},u),{date:f})],!1):o},[])},n.calcInitialState=function(){var a,o=n.getPreSelection(),u=fA(n.props),f=hA(n.props),p=u&&Hs(o,Ih(u))?u:f&&Va(o,Ab(f))?f:o;return{open:n.props.startOpen||!1,preventFocus:!1,inputValue:null,preSelection:(a=n.props.selectsRange?n.props.startDate:n.props.selected)!==null&&a!==void 0?a:p,highlightDates:Nb(n.props.highlightDates),focused:!1,shouldFocusDayInline:!1,isRenderAriaLiveMessage:!1,wasHidden:!1}},n.resetHiddenStatus=function(){n.setState(Ke(Ke({},n.state),{wasHidden:!1}))},n.setHiddenStatus=function(){n.setState(Ke(Ke({},n.state),{wasHidden:!0}))},n.setHiddenStateOnVisibilityHidden=function(){document.visibilityState==="hidden"&&n.setHiddenStatus()},n.clearPreventFocusTimeout=function(){n.preventFocusTimeout&&clearTimeout(n.preventFocusTimeout)},n.setFocus=function(){var a,o;(o=(a=n.input)===null||a===void 0?void 0:a.focus)===null||o===void 0||o.call(a,{preventScroll:!0})},n.setBlur=function(){var a,o;(o=(a=n.input)===null||a===void 0?void 0:a.blur)===null||o===void 0||o.call(a),n.cancelFocusInput()},n.deferBlur=function(){requestAnimationFrame(function(){n.setBlur()})},n.setOpen=function(a,o){o===void 0&&(o=!1),n.setState({open:a,preSelection:a&&n.state.open?n.state.preSelection:n.calcInitialState().preSelection,lastPreSelectChange:hg},function(){a||n.setState(function(u){return{focused:o?u.focused:!1}},function(){!o&&n.deferBlur(),n.setState({inputValue:null})})})},n.inputOk=function(){return Ci(n.state.preSelection)},n.isCalendarOpen=function(){return n.props.open===void 0?n.state.open&&!n.props.disabled&&!n.props.readOnly:n.props.open},n.handleFocus=function(a){var o,u,f=n.state.wasHidden,p=f?n.state.open:!0;f&&n.resetHiddenStatus(),n.state.preventFocus||((u=(o=n.props).onFocus)===null||u===void 0||u.call(o,a),p&&!n.props.preventOpenOnFocus&&!n.props.readOnly&&n.setOpen(!0)),n.setState({focused:!0})},n.sendFocusBackToInput=function(){n.preventFocusTimeout&&n.clearPreventFocusTimeout(),n.setState({preventFocus:!0},function(){n.preventFocusTimeout=setTimeout(function(){n.setFocus(),n.setState({preventFocus:!1})})})},n.cancelFocusInput=function(){clearTimeout(n.inputFocusTimeout),n.inputFocusTimeout=void 0},n.deferFocusInput=function(){n.cancelFocusInput(),n.inputFocusTimeout=setTimeout(function(){return n.setFocus()},1)},n.handleDropdownFocus=function(){n.cancelFocusInput()},n.handleBlur=function(a){var o,u;(!n.state.open||n.props.withPortal||n.props.showTimeInput)&&((u=(o=n.props).onBlur)===null||u===void 0||u.call(o,a)),n.state.open&&n.props.open===!1&&n.setOpen(!1),n.setState({focused:!1})},n.handleCalendarClickOutside=function(a){var o,u;n.props.inline||n.setOpen(!1),(u=(o=n.props).onClickOutside)===null||u===void 0||u.call(o,a),n.props.withPortal&&a.preventDefault()},n.handleChange=function(){for(var a,o,u,f,p,m=[],v=0;v<arguments.length;v++)m[v]=arguments[v];var _=m[0];if(!(n.props.onChangeRaw&&(n.props.onChangeRaw.apply(n,m),!_||typeof _.isDefaultPrevented!="function"||_.isDefaultPrevented()))){n.setState({inputValue:(_==null?void 0:_.target)instanceof HTMLInputElement?_.target.value:null,lastPreSelectChange:UU});var b=n.props,S=b.selectsRange,C=b.startDate,N=b.endDate,I=(a=n.props.dateFormat)!==null&&a!==void 0?a:e.defaultProps.dateFormat,j=(o=n.props.strictParsing)!==null&&o!==void 0?o:e.defaultProps.strictParsing,K=(_==null?void 0:_.target)instanceof HTMLInputElement?_.target.value:"";if(S){var z=K.split("-",2).map(function(P){return P.trim()}),re=z[0],ie=z[1],fe=lg(re??"",I,n.props.locale,j),x=lg(ie??"",I,n.props.locale,j),D=(C==null?void 0:C.getTime())!==(fe==null?void 0:fe.getTime()),R=(N==null?void 0:N.getTime())!==(x==null?void 0:x.getTime());if(!D&&!R||fe&&Zn(fe,n.props)||x&&Zn(x,n.props))return;(f=(u=n.props).onChange)===null||f===void 0||f.call(u,[fe,x],_)}else{var M=lg(K,I,n.props.locale,j,(p=n.props.selected)!==null&&p!==void 0?p:void 0);(M||!K)&&n.setSelected(M,_,!0)}}},n.handleSelect=function(a,o,u){if(n.props.shouldCloseOnSelect&&!n.props.showTimeSelect&&n.sendFocusBackToInput(),n.props.onChangeRaw&&n.props.onChangeRaw(o),n.setSelected(a,o,!1,u),n.props.showDateSelect&&n.setState({isRenderAriaLiveMessage:!0}),!n.props.shouldCloseOnSelect||n.props.showTimeSelect)n.setPreSelection(a);else if(!n.props.inline){n.props.selectsRange||n.setOpen(!1);var f=n.props,p=f.startDate,m=f.endDate;p&&!m&&(n.props.swapRange||!Ub(a,p))&&n.setOpen(!1)}},n.setSelected=function(a,o,u,f){var p,m,v=a;if(n.props.showYearPicker){if(v!==null&&xh(Le(v),n.props))return}else if(n.props.showMonthYearPicker){if(v!==null&&cA(v,n.props))return}else if(v!==null&&Zn(v,n.props))return;var _=n.props,b=_.onChange,S=_.selectsRange,C=_.startDate,N=_.endDate,I=_.selectsMultiple,j=_.selectedDates,K=_.minTime,z=_.swapRange;if(!ks(n.props.selected,v)||n.props.allowSameDay||S||I)if(v!==null&&(n.props.selected&&(!u||!n.props.showTimeSelect&&!n.props.showTimeSelectOnly&&!n.props.showTimeInput)&&(v=ug(v,{hour:ki(n.props.selected),minute:Ii(n.props.selected),second:ka(n.props.selected)})),!u&&(n.props.showTimeSelect||n.props.showTimeSelectOnly)&&K&&(v=ug(v,{hour:K.getHours(),minute:K.getMinutes(),second:K.getSeconds()})),n.props.inline||n.setState({preSelection:v}),n.props.focusSelectedMonth||n.setState({monthSelectedIn:f})),S){var re=!C&&!N,ie=C&&!N,fe=C&&N;re?b==null||b([v,null],o):ie&&(v===null?b==null||b([null,null],o):Ub(v,C)?z?b==null||b([v,C],o):b==null||b([v,null],o):b==null||b([C,v],o)),fe&&(b==null||b([v,null],o))}else if(I){if(v!==null)if(!(j!=null&&j.length))b==null||b([v],o);else{var x=j.some(function(R){return Qe(R,v)});if(x){var D=j.filter(function(R){return!Qe(R,v)});b==null||b(D,o)}else b==null||b(Ur(Ur([],j,!0),[v],!1),o)}}else b==null||b(v,o);u||((m=(p=n.props).onSelect)===null||m===void 0||m.call(p,v,o),n.setState({inputValue:null}))},n.setPreSelection=function(a){var o=Ci(n.props.minDate),u=Ci(n.props.maxDate),f=!0;if(a){var p=Ih(a);if(o&&u)f=Gu(a,n.props.minDate,n.props.maxDate);else if(o){var m=Ih(n.props.minDate);f=Va(a,m)||ks(p,m)}else if(u){var v=Ab(n.props.maxDate);f=Hs(a,v)||ks(p,v)}}f&&n.setState({preSelection:a})},n.toggleCalendar=function(){n.setOpen(!n.state.open)},n.handleTimeChange=function(a){var o,u;if(!(n.props.selectsRange||n.props.selectsMultiple)){var f=n.props.selected?n.props.selected:n.getPreSelection(),p=n.props.selected?a:ug(f,{hour:ki(a),minute:Ii(a)});n.setState({preSelection:p}),(u=(o=n.props).onChange)===null||u===void 0||u.call(o,p),n.props.shouldCloseOnSelect&&!n.props.showTimeInput&&(n.sendFocusBackToInput(),n.setOpen(!1)),n.props.showTimeInput&&n.setOpen(!0),(n.props.showTimeSelectOnly||n.props.showTimeSelect)&&n.setState({isRenderAriaLiveMessage:!0}),n.setState({inputValue:null})}},n.onInputClick=function(){var a,o;!n.props.disabled&&!n.props.readOnly&&n.setOpen(!0),(o=(a=n.props).onInputClick)===null||o===void 0||o.call(a)},n.onInputKeyDown=function(a){var o,u,f,p,m,v;(u=(o=n.props).onKeyDown)===null||u===void 0||u.call(o,a);var _=a.key;if(!n.state.open&&!n.props.inline&&!n.props.preventOpenOnFocus){(_===de.ArrowDown||_===de.ArrowUp||_===de.Enter)&&((f=n.onInputClick)===null||f===void 0||f.call(n));return}if(n.state.open){if(_===de.ArrowDown||_===de.ArrowUp){a.preventDefault();var b=n.props.showTimeSelectOnly?".react-datepicker__time-list-item[tabindex='0']":n.props.showWeekPicker&&n.props.showWeekNumbers?'.react-datepicker__week-number[tabindex="0"]':n.props.showFullMonthYearPicker||n.props.showMonthYearPicker?'.react-datepicker__month-text[tabindex="0"]':'.react-datepicker__day[tabindex="0"]',S=((p=n.calendar)===null||p===void 0?void 0:p.containerRef.current)instanceof Element&&n.calendar.containerRef.current.querySelector(b);S instanceof HTMLElement&&S.focus({preventScroll:!0});return}var C=Je(n.state.preSelection);_===de.Enter?(a.preventDefault(),a.target.blur(),n.inputOk()&&n.state.lastPreSelectChange===hg?(n.handleSelect(C,a),!n.props.shouldCloseOnSelect&&n.setPreSelection(C)):n.setOpen(!1)):_===de.Escape?(a.preventDefault(),a.target.blur(),n.sendFocusBackToInput(),n.setOpen(!1)):_===de.Tab&&n.setOpen(!1),n.inputOk()||(v=(m=n.props).onInputError)===null||v===void 0||v.call(m,{code:1,msg:fg})}},n.onPortalKeyDown=function(a){var o=a.key;o===de.Escape&&(a.preventDefault(),n.setState({preventFocus:!0},function(){n.setOpen(!1),setTimeout(function(){n.setFocus(),n.setState({preventFocus:!1})})}))},n.onDayKeyDown=function(a){var o,u,f,p,m,v,_=n.props,b=_.minDate,S=_.maxDate,C=_.disabledKeyboardNavigation,N=_.showWeekPicker,I=_.shouldCloseOnSelect,j=_.locale,K=_.calendarStartDay,z=_.adjustDateOnChange,re=_.inline;if((u=(o=n.props).onKeyDown)===null||u===void 0||u.call(o,a),!C){var ie=a.key,fe=a.shiftKey,x=Je(n.state.preSelection),D=function(Ee,Y){var ne=Y;switch(Ee){case de.ArrowRight:ne=N?ed(Y,1):dr(Y,1);break;case de.ArrowLeft:ne=N?mb(Y):AV(Y);break;case de.ArrowUp:ne=mb(Y);break;case de.ArrowDown:ne=ed(Y,1);break;case de.PageUp:ne=fe?ul(Y,1):xs(Y,1);break;case de.PageDown:ne=fe?Ri(Y,1):pr(Y,1);break;case de.Home:ne=Ia(Y,j,K);break;case de.End:ne=X4(Y);break}return ne},R=function(Ee,Y){for(var ne=40,le=Ee,we=!1,L=0,te=D(Ee,Y);!we;){if(L>=ne){te=Y;break}b&&te<b&&(le=de.ArrowRight,te=Zn(b,n.props)?D(le,te):b),S&&te>S&&(le=de.ArrowLeft,te=Zn(S,n.props)?D(le,te):S),Zn(te,n.props)?((le===de.PageUp||le===de.Home)&&(le=de.ArrowRight),(le===de.PageDown||le===de.End)&&(le=de.ArrowLeft),te=D(le,te)):we=!0,L++}return te};if(ie===de.Enter){a.preventDefault(),n.handleSelect(x,a),!I&&n.setPreSelection(x);return}else if(ie===de.Escape){a.preventDefault(),n.setOpen(!1),n.inputOk()||(p=(f=n.props).onInputError)===null||p===void 0||p.call(f,{code:1,msg:fg});return}var M=null;switch(ie){case de.ArrowLeft:case de.ArrowRight:case de.ArrowUp:case de.ArrowDown:case de.PageUp:case de.PageDown:case de.Home:case de.End:M=R(ie,x);break}if(!M){(v=(m=n.props).onInputError)===null||v===void 0||v.call(m,{code:1,msg:fg});return}if(a.preventDefault(),n.setState({lastPreSelectChange:hg}),z&&n.setSelected(M),n.setPreSelection(M),re){var P=En(x),U=En(M),k=Le(x),Re=Le(M);P!==U||k!==Re?n.setState({shouldFocusDayInline:!0}):n.setState({shouldFocusDayInline:!1})}}},n.onPopperKeyDown=function(a){var o=a.key;o===de.Escape&&(a.preventDefault(),n.sendFocusBackToInput())},n.onClearClick=function(a){a&&a.preventDefault&&a.preventDefault(),n.sendFocusBackToInput();var o=n.props,u=o.selectsRange,f=o.onChange;u?f==null||f([null,null],a):f==null||f(null,a),n.setState({inputValue:null})},n.clear=function(){n.onClearClick()},n.onScroll=function(a){typeof n.props.closeOnScroll=="boolean"&&n.props.closeOnScroll?(a.target===document||a.target===document.documentElement||a.target===document.body)&&n.setOpen(!1):typeof n.props.closeOnScroll=="function"&&n.props.closeOnScroll(a)&&n.setOpen(!1)},n.renderCalendar=function(){var a,o;return!n.props.inline&&!n.isCalendarOpen()?null:J.createElement(IU,Ke({showMonthYearDropdown:void 0,ref:function(u){n.calendar=u}},n.props,n.state,{setOpen:n.setOpen,dateFormat:(a=n.props.dateFormatCalendar)!==null&&a!==void 0?a:e.defaultProps.dateFormatCalendar,onSelect:n.handleSelect,onClickOutside:n.handleCalendarClickOutside,holidays:lU(n.modifyHolidays()),outsideClickIgnoreClass:Hb,onDropdownFocus:n.handleDropdownFocus,onTimeChange:n.handleTimeChange,className:n.props.calendarClassName,container:n.props.calendarContainer,handleOnKeyDown:n.props.onKeyDown,handleOnDayKeyDown:n.onDayKeyDown,setPreSelection:n.setPreSelection,dropdownMode:(o=n.props.dropdownMode)!==null&&o!==void 0?o:e.defaultProps.dropdownMode}),n.props.children)},n.renderAriaLiveRegion=function(){var a=n.props,o=a.dateFormat,u=o===void 0?e.defaultProps.dateFormat:o,f=a.locale,p=n.props.showTimeInput||n.props.showTimeSelect,m=p?"PPPPp":"PPPP",v;return n.props.selectsRange?v="Selected start date: ".concat(Xn(n.props.startDate,{dateFormat:m,locale:f}),". ").concat(n.props.endDate?"End date: "+Xn(n.props.endDate,{dateFormat:m,locale:f}):""):n.props.showTimeSelectOnly?v="Selected time: ".concat(Xn(n.props.selected,{dateFormat:u,locale:f})):n.props.showYearPicker?v="Selected year: ".concat(Xn(n.props.selected,{dateFormat:"yyyy",locale:f})):n.props.showMonthYearPicker?v="Selected month: ".concat(Xn(n.props.selected,{dateFormat:"MMMM yyyy",locale:f})):n.props.showQuarterYearPicker?v="Selected quarter: ".concat(Xn(n.props.selected,{dateFormat:"yyyy, QQQ",locale:f})):v="Selected date: ".concat(Xn(n.props.selected,{dateFormat:m,locale:f})),J.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},v)},n.renderDateInput=function(){var a,o,u,f=sn(n.props.className,(a={},a[Hb]=n.state.open,a)),p=n.props.customInput||J.createElement("input",{type:"text"}),m=n.props.customInputRef||"ref",v=n.props,_=v.dateFormat,b=_===void 0?e.defaultProps.dateFormat:_,S=v.locale,C=typeof n.props.value=="string"?n.props.value:typeof n.state.inputValue=="string"?n.state.inputValue:n.props.selectsRange?G4(n.props.startDate,n.props.endDate,{dateFormat:b,locale:S}):n.props.selectsMultiple?Q4((u=n.props.selectedDates)!==null&&u!==void 0?u:[],{dateFormat:b,locale:S}):Xn(n.props.selected,{dateFormat:b,locale:S});return V.cloneElement(p,(o={},o[m]=function(N){n.input=N},o.value=C,o.onBlur=n.handleBlur,o.onChange=n.handleChange,o.onClick=n.onInputClick,o.onFocus=n.handleFocus,o.onKeyDown=n.onInputKeyDown,o.id=n.props.id,o.name=n.props.name,o.form=n.props.form,o.autoFocus=n.props.autoFocus,o.placeholder=n.props.placeholderText,o.disabled=n.props.disabled,o.autoComplete=n.props.autoComplete,o.className=sn(p.props.className,f),o.title=n.props.title,o.readOnly=n.props.readOnly,o.required=n.props.required,o.tabIndex=n.props.tabIndex,o["aria-describedby"]=n.props.ariaDescribedBy,o["aria-invalid"]=n.props.ariaInvalid,o["aria-labelledby"]=n.props.ariaLabelledBy,o["aria-required"]=n.props.ariaRequired,o))},n.renderClearButton=function(){var a=n.props,o=a.isClearable,u=a.disabled,f=a.selected,p=a.startDate,m=a.endDate,v=a.clearButtonTitle,_=a.clearButtonClassName,b=_===void 0?"":_,S=a.ariaLabelClose,C=S===void 0?"Close":S,N=a.selectedDates;return o&&(f!=null||p!=null||m!=null||N!=null&&N.length)?J.createElement("button",{type:"button",className:sn("react-datepicker__close-icon",b,{"react-datepicker__close-icon--disabled":u}),disabled:u,"aria-label":C,onClick:n.onClearClick,title:v,tabIndex:-1}):null},n.state=n.calcInitialState(),n.preventFocusTimeout=void 0,n}return Object.defineProperty(e,"defaultProps",{get:function(){return{allowSameDay:!1,dateFormat:"MM/dd/yyyy",dateFormatCalendar:"LLLL yyyy",disabled:!1,disabledKeyboardNavigation:!1,dropdownMode:"scroll",preventOpenOnFocus:!1,monthsShown:1,readOnly:!1,withPortal:!1,selectsDisabledDaysInRange:!1,shouldCloseOnSelect:!0,showTimeSelect:!1,showTimeInput:!1,showPreviousMonths:!1,showMonthYearPicker:!1,showFullMonthYearPicker:!1,showTwoColumnMonthYearPicker:!1,showFourColumnMonthYearPicker:!1,showYearPicker:!1,showQuarterYearPicker:!1,showWeekPicker:!1,strictParsing:!1,swapRange:!1,timeIntervals:30,timeCaption:"Time",previousMonthAriaLabel:"Previous Month",previousMonthButtonLabel:"Previous Month",nextMonthAriaLabel:"Next Month",nextMonthButtonLabel:"Next Month",previousYearAriaLabel:"Previous Year",previousYearButtonLabel:"Previous Year",nextYearAriaLabel:"Next Year",nextYearButtonLabel:"Next Year",timeInputLabel:"Time",enableTabLoop:!0,yearItemNumber:Cc,focusSelectedMonth:!1,showPopperArrow:!0,excludeScrollbar:!0,customTimeInput:null,calendarStartDay:void 0,toggleCalendarOnIconClick:!1,usePointerEvent:!1}},enumerable:!1,configurable:!0}),e.prototype.componentDidMount=function(){window.addEventListener("scroll",this.onScroll,!0),document.addEventListener("visibilitychange",this.setHiddenStateOnVisibilityHidden)},e.prototype.componentDidUpdate=function(t,n){var a,o,u,f;t.inline&&VU(t.selected,this.props.selected)&&this.setPreSelection(this.props.selected),this.state.monthSelectedIn!==void 0&&t.monthsShown!==this.props.monthsShown&&this.setState({monthSelectedIn:0}),t.highlightDates!==this.props.highlightDates&&this.setState({highlightDates:Nb(this.props.highlightDates)}),!n.focused&&!ks(t.selected,this.props.selected)&&this.setState({inputValue:null}),n.open!==this.state.open&&(n.open===!1&&this.state.open===!0&&((o=(a=this.props).onCalendarOpen)===null||o===void 0||o.call(a)),n.open===!0&&this.state.open===!1&&((f=(u=this.props).onCalendarClose)===null||f===void 0||f.call(u)))},e.prototype.componentWillUnmount=function(){this.clearPreventFocusTimeout(),window.removeEventListener("scroll",this.onScroll,!0),document.removeEventListener("visibilitychange",this.setHiddenStateOnVisibilityHidden)},e.prototype.renderInputContainer=function(){var t=this.props,n=t.showIcon,a=t.icon,o=t.calendarIconClassname,u=t.calendarIconClassName,f=t.toggleCalendarOnIconClick,p=this.state.open;return o&&console.warn("calendarIconClassname props is deprecated. should use calendarIconClassName props."),J.createElement("div",{className:"react-datepicker__input-container".concat(n?" react-datepicker__view-calendar-icon":"")},n&&J.createElement(xU,Ke({icon:a,className:sn(u,!u&&o,p&&"react-datepicker-ignore-onclickoutside")},f?{onClick:this.toggleCalendar}:null)),this.state.isRenderAriaLiveMessage&&this.renderAriaLiveRegion(),this.renderDateInput(),this.renderClearButton())},e.prototype.render=function(){var t=this.renderCalendar();if(this.props.inline)return t;if(this.props.withPortal){var n=this.state.open?J.createElement(mA,{enableTabLoop:this.props.enableTabLoop},J.createElement("div",{className:"react-datepicker__portal",tabIndex:-1,onKeyDown:this.onPortalKeyDown},t)):null;return this.state.open&&this.props.portalId&&(n=J.createElement(pA,Ke({portalId:this.props.portalId},this.props),n)),J.createElement("div",null,this.renderInputContainer(),n)}return J.createElement(LU,Ke({},this.props,{className:this.props.popperClassName,hidePopper:!this.isCalendarOpen(),targetComponent:this.renderInputContainer(),popperComponent:t,popperOnKeyDown:this.onPopperKeyDown,showArrow:this.props.showPopperArrow}))},e}(V.Component),UU="input",hg="navigate";function BU({props:r}){const[e,t]=V.useState(new Date),[n,a]=V.useState(new Date),o=m=>{m&&t(m<new Date?new Date:m)},u=m=>{m&&a(m<new Date?new Date:m)},f=(m,v)=>Math.round(Math.abs((m.getTime()-v.getTime())/864e5)),p=()=>{const m=f(e,n);return r?m*Number(r):0};return B.jsxs(B.Fragment,{children:[B.jsxs("div",{className:"calender-container",children:[B.jsxs("div",{className:"calender-block",children:[B.jsx("h3",{children:"Velg en startdato"}),B.jsx(Fb,{selected:e,onChange:o})]}),B.jsxs("div",{className:"calender-block",children:[B.jsx("h3",{children:"Velg en sluttdato"}),B.jsx(Fb,{selected:n,onChange:u})]})]}),B.jsxs("p",{children:["Pris p hele ferien: ",p()," kr"]})]})}function jU(){const{cabinId:r}=IC(),[e,t]=V.useState(),{user:n}=V.useContext(Jg);V.useEffect(()=>{r&&a(r)},[]);const a=o=>t(U1(o));return e?B.jsxs("div",{className:"cabin-info-container",children:[B.jsxs("div",{className:"cabin-info-content",children:[B.jsxs("div",{className:"cabin-info-top",children:[B.jsx("img",{src:e.images[0],alt:e.title,className:"cabin-image"}),B.jsxs("div",{className:"cabin-info-top-right",children:[B.jsxs("div",{className:"cabin-info-top-title-tags",children:[B.jsx("h3",{children:e.title}),B.jsx("div",{className:"cabin-tags",children:e.categories.map((o,u)=>B.jsx("p",{style:{backgroundColor:xD(o)},children:o},u))})]}),B.jsxs("div",{className:"cabin-location",children:[B.jsx("svg",{width:"100%",height:"100%",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:B.jsx("path",{d:"M9 18L2 22V6L9 2M9 18L16 22M9 18V2M16 22L22 18V2L16 6M16 22V6M16 6L9 2",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}),B.jsx("p",{children:e.location})]}),B.jsx("p",{className:"cabin-description",children:e.description}),B.jsx("h4",{children:"Fasiliteter"}),B.jsx("div",{className:"cabin-amenities",children:e.amenities.map((o,u)=>B.jsx("p",{children:o},u))}),B.jsxs("p",{className:"cabin-info-max-guests",children:["Maks. antall gjester: ",e.maxGuests]}),B.jsxs("p",{className:"cabin-info-price",children:["Pris per natt: ",e.pricePerNight," kr"]})]})]}),B.jsx("div",{className:"cabin-calender",children:B.jsxs("div",{className:"cabin-content",children:[B.jsx("h3",{className:"cabin-calender-title",children:"Lyst til  leie denne hytta?"}),n?B.jsx(BU,{props:e.pricePerNight}):B.jsx("p",{children:"Du m vre plogget for  kunne bruke kalenderen."})]})})]}),B.jsx(MD,{})]}):B.jsxs("p",{className:"no-cabin-found",children:["Det finnes ingen hytte med id ",r]})}const gA="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEgAAABJCAMAAACpb5DQAAAA7VBMVEVHcExChfRChfRChfTsRDRChfTrQzU2qFI0qFbrQzU5pGvwZio8lLY0qFPrQzVChfTrQzU0qFM/jNfrQzU0qFLrQzU0qFPrQzUzqFM0qFOVsTVChfTrQzXrQzVChfTrQzU0qFP4ugc0qFTrQzXrQzXrQzU0qFP7vAU0qFPrQzX7vAU0qFNChfTrQzX7vAX7vAX7vAVChfQ0qFP1uAn7vAX8vQT7vAV9rzbydiH7vAVChfRChfRChfRChfQ0qFPrQzVChfT7vAX+vAQ7lqf1jhfJtxg+jsxQq0igsyn4pw03oHfvXipAieQ1pWDtSzFLx1luAAAAPnRSTlMA8DP66mT27bJECQUFyNpLHPQSy0RXmGk4JhufDil/qeGyhruXN/z4dYI6akJ469iOxlNNDmvF/Pyd3rshTVS2SDwAAAMpSURBVFjDrZd7W6JAFMbHJO6wIjdRURIlzNw2u+5Wo1R229rv/3EWUZPLDAw8vn/C42/Oec9lEAC8hAZnDl1VpkLJan9sjrqgvLqjaV+m53HRlDrUbaEUxp66Sci3qL5OHJcwGlJzvGjVbBBx8jGRVLM4qsa4ELOSyxVwOHVOJmqcF1R3Ss2J5dr4tPrzMlJx6dnuvJxkdPVstSSHMoW9cGgd7U/ZvCg0p5vjMx2KlAPGmGPdoalzI47TUyOM4+ioEaVd0451XYMbyt/1wlS+gTCa7nOZ3m1M5VwOGCK6TUfUVgB2n87hcJnBoIe4TSGYlDzCvctUjJ7m7EEOxwEXt2mOCapIOAqe/+2BA05+BsH73xhoLFQD/QpCve/Sc7vVOO2zINLtJj1qVI0DLo7XoOB5nd64ImedWaTIKLlRkXN5HewUplc5oFXNdnqm7Kqgq+M4KDhClb55UKhmzKJIV6jDftQKdQiOEpzjExToob4oUgecJUBnbWRExaBzkPA6uL6sCPoDCLwmAdVA0uvfoCKovi/QYn+gPXlU31fV6vvqoxpRZxP1EdGskXR2evp5BOj+MKteLTVryX20ZFqE6+c0GWUvuSHfIBwQgnpJrx9iO/txeQMhdCwiDn+X9Po+dossX0MO9MhCOk1adMdv77XH4C3iQEjkkthZpCz6vo9u4FZssxj0kAyodrq9R5avcKeBWMRpnqe6qLn5GnmLc6AyKZnYOrPQ7huYFJNPEnupTq8dbErJpkBQ8fkSnEVn64XGpEme0cb600lz1lZHMmBG0gwZlKixLwtcQGEvSVmSwmoZlNgyGPj1gnYo0kyBKNTEirF4a8KuPXj6RJRsowFEipGMyUxrtbSZb0gO9DaPPz7TPbQ7jkWTwp96iqJ4HvS82OOPF4TTeJty9PW0WfqHmXpY5Ugbo3qIcSpLWqXXQQ64xcKS6XUwi6JteGVA3gC3cETeZ8g5TN5AAo3YKEkr2FkDhyicQbtwja7mqUAKS3T9haOZGxWDGGecLF/ChKVIg5ZY5h8B3/JZR0m0g6c4rK81QWmJluYbrOQwDOM4EmtMNAuf0n83dnJkDvHj1wAAAABJRU5ErkJggg==";function HU(){const[r,e]=V.useState(""),[t,n]=V.useState(""),[a,o]=V.useState(!1);function u(m){if(m.preventDefault(),!a){window.alert("Du m akseptere vilkrene.");return}sP(r,t).then(()=>{window.location.assign("/")}).catch(v=>{console.warn(v)})}const f=async m=>{if(m.preventDefault(),!a){window.alert("Du m akseptere vilkrene.");return}try{await lP()}catch(v){console.warn(v)}},p=()=>o(!a);return B.jsx("div",{className:"auth-page-container",children:B.jsxs("div",{className:"auth-page-content",children:[B.jsxs("div",{className:"auth-top",children:[B.jsxs("div",{className:"auth-title",children:[B.jsx("svg",{width:"100%",height:"100%",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:B.jsx("path",{d:"M20 21C20 19.6044 20 18.9067 19.8278 18.3389C19.44 17.0605 18.4395 16.06 17.1611 15.6722C16.5933 15.5 15.8956 15.5 14.5 15.5H9.5C8.10444 15.5 7.40665 15.5 6.83886 15.6722C5.56045 16.06 4.56004 17.0605 4.17224 18.3389C4 18.9067 4 19.6044 4 21M16.5 7.5C16.5 9.98528 14.4853 12 12 12C9.51472 12 7.5 9.98528 7.5 7.5C7.5 5.01472 9.51472 3 12 3C14.4853 3 16.5 5.01472 16.5 7.5Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}),B.jsx("h3",{children:"Registrer deg"})]}),B.jsx("p",{children:"Opprett konto og kom deg ut i naturen."})]}),B.jsxs("form",{className:"auth-form",onSubmit:u,children:[B.jsx("input",{className:"input-text",type:"email",name:"email",placeholder:"E-post",required:!0,onChange:m=>e(m.target.value)}),B.jsx("input",{type:"password",className:"input-text",name:"password",placeholder:"Passord",required:!0,onChange:m=>n(m.target.value)}),B.jsxs("div",{className:"terms-container",children:[B.jsx("input",{type:"checkbox",className:"input-checkbox",onChange:p}),B.jsxs("span",{children:["Ved  registrere deg bekrefter du at du har lest og akseptert ",B.jsx("a",{className:"terms-a",href:"/vilkr",target:"_blank",children:"vre vilkr og betingelser"}),"."]})]}),B.jsx("button",{className:"auth-button",type:"submit",children:"Registrer deg"})]}),B.jsx("p",{className:"or-line",children:"ELLER"}),B.jsx("div",{className:"providers-container",children:B.jsxs("button",{onClick:f,children:[B.jsx("img",{src:gA,alt:"Google ikon"}),"Registrer deg med Google"]})})]})})}function FU(){const[r,e]=V.useState(""),[t,n]=V.useState("");async function a(u){u.preventDefault();try{await aP(r,t),window.location.assign("/")}catch(f){console.warn(f)}}async function o(u){u.preventDefault();try{await oP(),window.location.assign("/")}catch(f){console.warn(f)}}return B.jsx("div",{className:"auth-page-container",children:B.jsxs("div",{className:"auth-page-content",children:[B.jsxs("div",{className:"auth-top",children:[B.jsxs("div",{className:"auth-title",children:[B.jsx("svg",{width:"100%",height:"100%",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:B.jsx("path",{d:"M20 21C20 19.6044 20 18.9067 19.8278 18.3389C19.44 17.0605 18.4395 16.06 17.1611 15.6722C16.5933 15.5 15.8956 15.5 14.5 15.5H9.5C8.10444 15.5 7.40665 15.5 6.83886 15.6722C5.56045 16.06 4.56004 17.0605 4.17224 18.3389C4 18.9067 4 19.6044 4 21M16.5 7.5C16.5 9.98528 14.4853 12 12 12C9.51472 12 7.5 9.98528 7.5 7.5C7.5 5.01472 9.51472 3 12 3C14.4853 3 16.5 5.01472 16.5 7.5Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}),B.jsx("h3",{children:"Logg inn"})]}),B.jsx("p",{children:"Velkommen tilbake! Klar for et nytt eventyr i naturen?"})]}),B.jsxs("form",{className:"auth-form",onSubmit:a,children:[B.jsx("input",{className:"input-text",type:"email",name:"email",placeholder:"E-post",required:!0,onChange:u=>e(u.target.value)}),B.jsx("input",{type:"password",className:"input-text",name:"password",placeholder:"Passord",required:!0,onChange:u=>n(u.target.value)}),B.jsx("button",{className:"auth-button",type:"submit",children:"Logg p"})]}),B.jsx("p",{className:"or-line",children:"ELLER"}),B.jsx("div",{className:"providers-container",children:B.jsxs("button",{onClick:o,children:[B.jsx("img",{src:gA,alt:"Google ikon"}),"Logg p med Google"]})})]})})}function zU(){return B.jsx(m1,{children:B.jsx("div",{className:"app-container",children:B.jsx("div",{className:"app-wrapper",children:B.jsxs("div",{className:"app-innhold",children:[B.jsx(fP,{}),B.jsx("div",{className:"main-content",children:B.jsxs(qC,{children:[B.jsx(ya,{path:"/",element:B.jsx(j1,{})}),B.jsx(ya,{path:"/omoss",element:B.jsx(pP,{})}),B.jsx(ya,{path:"/hytter",element:B.jsx(yP,{})}),B.jsx(ya,{path:"/hytter/:cabinId",element:B.jsx(jU,{})}),B.jsx(ya,{path:"/register",element:B.jsx(HU,{})}),B.jsx(ya,{path:"/login",element:B.jsx(FU,{})}),B.jsx(ya,{path:"*",element:B.jsx(dP,{})})]})})]})})})})}const YU=({children:r})=>{const[e,t]=V.useState(null);return V.useEffect(()=>{const n=bl.onAuthStateChanged(async a=>{if(a){const o=Hv(Kv,"users",a.uid);(await Qv(o)).exists()?t(a):console.warn("Brukeren finnes ikke.")}else t(null)});return()=>n()},[]),B.jsx(Jg.Provider,{value:{user:e},children:r})};JR.createRoot(document.getElementById("root")).render(B.jsx(V.StrictMode,{children:B.jsx(YU,{children:B.jsx(zU,{})})}));
